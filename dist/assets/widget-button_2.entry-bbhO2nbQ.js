const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/selphi-antispoof-camera_7.entry--P1x792F.js","assets/index-CnKKXoxi.js","assets/store-88a4e8c3-BR2RF-gK.js","assets/translations-d180e65d-Bu5TNlG5.js","assets/workflow.store-a1a1bec6-BlC0WLyn.js","assets/browser-6b4c8cad-DKsL9QIc.js","assets/_commonjsHelpers-1789f0cf-Cpj98o6Y.js","assets/index-jk1bhg_G.js","assets/selphi-browser-error.entry-DrvUl3yf.js","assets/selphi-camera.entry-DKK0oSbV.js","assets/widget-animation.entry-B-G4wqvQ.js","assets/arrow-next-icon_33.entry-MaKxvpME.js","assets/choose-document-5d44cc5e-CoUQv-o8.js","assets/tip-widget-41d24bce-Cwot2VO3.js"])))=>i.map(i=>d[i]);
import{_ as __vitePreload,r as registerInstance$1,h as h$5,c as createEvent$1,H as Host$1,g as getElement$1}from"./index-CnKKXoxi.js";import{M as MethodSendDto,i as EventType,h as TrackingSteps,A as AssetsType,Q as QrConnectionStatus,s as state,L as LicenseComponents,o as onChange$1,W as WorkflowEventType,g as TrackingStatus,j as TrackingReason,k as WidgetType,a as Widgets,l as EventDto,C as ConnectionTypeMessageDto}from"./store-88a4e8c3-BR2RF-gK.js";import{g as getDefaultExportFromCjs,c as commonjsGlobal$1,i as i18n}from"./translations-d180e65d-Bu5TNlG5.js";import{w as workflowState,n as nextStep,u as updateOutputs,g as getOutputs,a as goToFinish,v as v4$2,o as onChange,E as ERRORS,M as MESSAGES,b as MOBILE,r as reset}from"./workflow.store-a1a1bec6-BlC0WLyn.js";import{u as useDeviceInfo}from"./browser-6b4c8cad-DKsL9QIc.js";import{ac as bootstrapLazy$1,ad as ERROR_DATA$1,p as ExpectedSides,$ as ImageFormat$3,D as DocumentType,U as BarcodeSide,_ as AnonymizationMode,i as CameraType$1,R as ResultStatus}from"./index-jk1bhg_G.js";var browser={},canPromise,hasRequiredCanPromise;function requireCanPromise(){return hasRequiredCanPromise||(hasRequiredCanPromise=1,canPromise=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),canPromise}var qrcode$1={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;let A;const c=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return utils$1.getSymbolSize=function(p){if(!p)throw new Error('"version" cannot be null or undefined');if(p<1||p>40)throw new Error('"version" should be in range from 1 to 40');return p*4+17},utils$1.getSymbolTotalCodewords=function(p){return c[p]},utils$1.getBCHDigit=function(u){let p=0;for(;u!==0;)p++,u>>>=1;return p},utils$1.setToSJISFunction=function(p){if(typeof p!="function")throw new Error('"toSJISFunc" is not a valid function.');A=p},utils$1.isKanjiModeEnabled=function(){return typeof A<"u"},utils$1.toSJIS=function(p){return A(p)},utils$1}var errorCorrectionLevel={},hasRequiredErrorCorrectionLevel;function requireErrorCorrectionLevel(){return hasRequiredErrorCorrectionLevel||(hasRequiredErrorCorrectionLevel=1,function(A){A.L={bit:1},A.M={bit:0},A.Q={bit:3},A.H={bit:2};function c(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"l":case"low":return A.L;case"m":case"medium":return A.M;case"q":case"quartile":return A.Q;case"h":case"high":return A.H;default:throw new Error("Unknown EC Level: "+u)}}A.isValid=function(p){return p&&typeof p.bit<"u"&&p.bit>=0&&p.bit<4},A.from=function(p,I){if(A.isValid(p))return p;try{return c(p)}catch{return I}}}(errorCorrectionLevel)),errorCorrectionLevel}var bitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return bitBuffer;hasRequiredBitBuffer=1;function A(){this.buffer=[],this.length=0}return A.prototype={get:function(c){const u=Math.floor(c/8);return(this.buffer[u]>>>7-c%8&1)===1},put:function(c,u){for(let p=0;p<u;p++)this.putBit((c>>>u-p-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(c){const u=Math.floor(this.length/8);this.buffer.length<=u&&this.buffer.push(0),c&&(this.buffer[u]|=128>>>this.length%8),this.length++}},bitBuffer=A,bitBuffer}var bitMatrix,hasRequiredBitMatrix;function requireBitMatrix(){if(hasRequiredBitMatrix)return bitMatrix;hasRequiredBitMatrix=1;function A(c){if(!c||c<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=c,this.data=new Uint8Array(c*c),this.reservedBit=new Uint8Array(c*c)}return A.prototype.set=function(c,u,p,I){const m=c*this.size+u;this.data[m]=p,I&&(this.reservedBit[m]=!0)},A.prototype.get=function(c,u){return this.data[c*this.size+u]},A.prototype.xor=function(c,u,p){this.data[c*this.size+u]^=p},A.prototype.isReserved=function(c,u){return this.reservedBit[c*this.size+u]},bitMatrix=A,bitMatrix}var alignmentPattern={},hasRequiredAlignmentPattern;function requireAlignmentPattern(){return hasRequiredAlignmentPattern||(hasRequiredAlignmentPattern=1,function(A){const c=requireUtils$1().getSymbolSize;A.getRowColCoords=function(p){if(p===1)return[];const I=Math.floor(p/7)+2,m=c(p),R=m===145?26:Math.ceil((m-13)/(2*I-2))*2,S=[m-7];for(let N=1;N<I-1;N++)S[N]=S[N-1]-R;return S.push(6),S.reverse()},A.getPositions=function(p){const I=[],m=A.getRowColCoords(p),R=m.length;for(let S=0;S<R;S++)for(let N=0;N<R;N++)S===0&&N===0||S===0&&N===R-1||S===R-1&&N===0||I.push([m[S],m[N]]);return I}}(alignmentPattern)),alignmentPattern}var finderPattern={},hasRequiredFinderPattern;function requireFinderPattern(){if(hasRequiredFinderPattern)return finderPattern;hasRequiredFinderPattern=1;const A=requireUtils$1().getSymbolSize,c=7;return finderPattern.getPositions=function(p){const I=A(p);return[[0,0],[I-c,0],[0,I-c]]},finderPattern}var maskPattern={},hasRequiredMaskPattern;function requireMaskPattern(){return hasRequiredMaskPattern||(hasRequiredMaskPattern=1,function(A){A.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const c={N1:3,N2:3,N3:40,N4:10};A.isValid=function(I){return I!=null&&I!==""&&!isNaN(I)&&I>=0&&I<=7},A.from=function(I){return A.isValid(I)?parseInt(I,10):void 0},A.getPenaltyN1=function(I){const m=I.size;let R=0,S=0,N=0,B=null,D=null;for(let k=0;k<m;k++){S=N=0,B=D=null;for(let O=0;O<m;O++){let P=I.get(k,O);P===B?S++:(S>=5&&(R+=c.N1+(S-5)),B=P,S=1),P=I.get(O,k),P===D?N++:(N>=5&&(R+=c.N1+(N-5)),D=P,N=1)}S>=5&&(R+=c.N1+(S-5)),N>=5&&(R+=c.N1+(N-5))}return R},A.getPenaltyN2=function(I){const m=I.size;let R=0;for(let S=0;S<m-1;S++)for(let N=0;N<m-1;N++){const B=I.get(S,N)+I.get(S,N+1)+I.get(S+1,N)+I.get(S+1,N+1);(B===4||B===0)&&R++}return R*c.N2},A.getPenaltyN3=function(I){const m=I.size;let R=0,S=0,N=0;for(let B=0;B<m;B++){S=N=0;for(let D=0;D<m;D++)S=S<<1&2047|I.get(B,D),D>=10&&(S===1488||S===93)&&R++,N=N<<1&2047|I.get(D,B),D>=10&&(N===1488||N===93)&&R++}return R*c.N3},A.getPenaltyN4=function(I){let m=0;const R=I.data.length;for(let N=0;N<R;N++)m+=I.data[N];return Math.abs(Math.ceil(m*100/R/5)-10)*c.N4};function u(p,I,m){switch(p){case A.Patterns.PATTERN000:return(I+m)%2===0;case A.Patterns.PATTERN001:return I%2===0;case A.Patterns.PATTERN010:return m%3===0;case A.Patterns.PATTERN011:return(I+m)%3===0;case A.Patterns.PATTERN100:return(Math.floor(I/2)+Math.floor(m/3))%2===0;case A.Patterns.PATTERN101:return I*m%2+I*m%3===0;case A.Patterns.PATTERN110:return(I*m%2+I*m%3)%2===0;case A.Patterns.PATTERN111:return(I*m%3+(I+m)%2)%2===0;default:throw new Error("bad maskPattern:"+p)}}A.applyMask=function(I,m){const R=m.size;for(let S=0;S<R;S++)for(let N=0;N<R;N++)m.isReserved(N,S)||m.xor(N,S,u(I,N,S))},A.getBestMask=function(I,m){const R=Object.keys(A.Patterns).length;let S=0,N=1/0;for(let B=0;B<R;B++){m(B),A.applyMask(B,I);const D=A.getPenaltyN1(I)+A.getPenaltyN2(I)+A.getPenaltyN3(I)+A.getPenaltyN4(I);A.applyMask(B,I),D<N&&(N=D,S=B)}return S}}(maskPattern)),maskPattern}var errorCorrectionCode={},hasRequiredErrorCorrectionCode;function requireErrorCorrectionCode(){if(hasRequiredErrorCorrectionCode)return errorCorrectionCode;hasRequiredErrorCorrectionCode=1;const A=requireErrorCorrectionLevel(),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],u=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return errorCorrectionCode.getBlocksCount=function(I,m){switch(m){case A.L:return c[(I-1)*4+0];case A.M:return c[(I-1)*4+1];case A.Q:return c[(I-1)*4+2];case A.H:return c[(I-1)*4+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function(I,m){switch(m){case A.L:return u[(I-1)*4+0];case A.M:return u[(I-1)*4+1];case A.Q:return u[(I-1)*4+2];case A.H:return u[(I-1)*4+3];default:return}},errorCorrectionCode}var polynomial={},galoisField={},hasRequiredGaloisField;function requireGaloisField(){if(hasRequiredGaloisField)return galoisField;hasRequiredGaloisField=1;const A=new Uint8Array(512),c=new Uint8Array(256);return function(){let p=1;for(let I=0;I<255;I++)A[I]=p,c[p]=I,p<<=1,p&256&&(p^=285);for(let I=255;I<512;I++)A[I]=A[I-255]}(),galoisField.log=function(p){if(p<1)throw new Error("log("+p+")");return c[p]},galoisField.exp=function(p){return A[p]},galoisField.mul=function(p,I){return p===0||I===0?0:A[c[p]+c[I]]},galoisField}var hasRequiredPolynomial;function requirePolynomial(){return hasRequiredPolynomial||(hasRequiredPolynomial=1,function(A){const c=requireGaloisField();A.mul=function(p,I){const m=new Uint8Array(p.length+I.length-1);for(let R=0;R<p.length;R++)for(let S=0;S<I.length;S++)m[R+S]^=c.mul(p[R],I[S]);return m},A.mod=function(p,I){let m=new Uint8Array(p);for(;m.length-I.length>=0;){const R=m[0];for(let N=0;N<I.length;N++)m[N]^=c.mul(I[N],R);let S=0;for(;S<m.length&&m[S]===0;)S++;m=m.slice(S)}return m},A.generateECPolynomial=function(p){let I=new Uint8Array([1]);for(let m=0;m<p;m++)I=A.mul(I,new Uint8Array([1,c.exp(m)]));return I}}(polynomial)),polynomial}var reedSolomonEncoder,hasRequiredReedSolomonEncoder;function requireReedSolomonEncoder(){if(hasRequiredReedSolomonEncoder)return reedSolomonEncoder;hasRequiredReedSolomonEncoder=1;const A=requirePolynomial();function c(u){this.genPoly=void 0,this.degree=u,this.degree&&this.initialize(this.degree)}return c.prototype.initialize=function(p){this.degree=p,this.genPoly=A.generateECPolynomial(this.degree)},c.prototype.encode=function(p){if(!this.genPoly)throw new Error("Encoder not initialized");const I=new Uint8Array(p.length+this.degree);I.set(p);const m=A.mod(I,this.genPoly),R=this.degree-m.length;if(R>0){const S=new Uint8Array(this.degree);return S.set(m,R),S}return m},reedSolomonEncoder=c,reedSolomonEncoder}var version$1={},mode={},versionCheck={},hasRequiredVersionCheck;function requireVersionCheck(){return hasRequiredVersionCheck||(hasRequiredVersionCheck=1,versionCheck.isValid=function(c){return!isNaN(c)&&c>=1&&c<=40}),versionCheck}var regex={},hasRequiredRegex;function requireRegex(){if(hasRequiredRegex)return regex;hasRequiredRegex=1;const A="[0-9]+",c="[A-Z $%*+\\-./:]+";let u="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";u=u.replace(/u/g,"\\u");const p="(?:(?![A-Z0-9 $%*+\\-./:]|"+u+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(u,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(p,"g"),regex.NUMERIC=new RegExp(A,"g"),regex.ALPHANUMERIC=new RegExp(c,"g");const I=new RegExp("^"+u+"$"),m=new RegExp("^"+A+"$"),R=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return regex.testKanji=function(N){return I.test(N)},regex.testNumeric=function(N){return m.test(N)},regex.testAlphanumeric=function(N){return R.test(N)},regex}var hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,function(A){const c=requireVersionCheck(),u=requireRegex();A.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},A.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},A.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},A.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},A.MIXED={bit:-1},A.getCharCountIndicator=function(m,R){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!c.isValid(R))throw new Error("Invalid version: "+R);return R>=1&&R<10?m.ccBits[0]:R<27?m.ccBits[1]:m.ccBits[2]},A.getBestModeForData=function(m){return u.testNumeric(m)?A.NUMERIC:u.testAlphanumeric(m)?A.ALPHANUMERIC:u.testKanji(m)?A.KANJI:A.BYTE},A.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},A.isValid=function(m){return m&&m.bit&&m.ccBits};function p(I){if(typeof I!="string")throw new Error("Param is not a string");switch(I.toLowerCase()){case"numeric":return A.NUMERIC;case"alphanumeric":return A.ALPHANUMERIC;case"kanji":return A.KANJI;case"byte":return A.BYTE;default:throw new Error("Unknown mode: "+I)}}A.from=function(m,R){if(A.isValid(m))return m;try{return p(m)}catch{return R}}}(mode)),mode}var hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,function(A){const c=requireUtils$1(),u=requireErrorCorrectionCode(),p=requireErrorCorrectionLevel(),I=requireMode(),m=requireVersionCheck(),R=7973,S=c.getBCHDigit(R);function N(O,P,x){for(let H=1;H<=40;H++)if(P<=A.getCapacity(H,x,O))return H}function B(O,P){return I.getCharCountIndicator(O,P)+4}function D(O,P){let x=0;return O.forEach(function(H){const Ae=B(H.mode,P);x+=Ae+H.getBitsLength()}),x}function k(O,P){for(let x=1;x<=40;x++)if(D(O,x)<=A.getCapacity(x,P,I.MIXED))return x}A.from=function(P,x){return m.isValid(P)?parseInt(P,10):x},A.getCapacity=function(P,x,H){if(!m.isValid(P))throw new Error("Invalid QR Code version");typeof H>"u"&&(H=I.BYTE);const Ae=c.getSymbolTotalCodewords(P),q=u.getTotalCodewordsCount(P,x),Z=(Ae-q)*8;if(H===I.MIXED)return Z;const te=Z-B(H,P);switch(H){case I.NUMERIC:return Math.floor(te/10*3);case I.ALPHANUMERIC:return Math.floor(te/11*2);case I.KANJI:return Math.floor(te/13);case I.BYTE:default:return Math.floor(te/8)}},A.getBestVersionForData=function(P,x){let H;const Ae=p.from(x,p.M);if(Array.isArray(P)){if(P.length>1)return k(P,Ae);if(P.length===0)return 1;H=P[0]}else H=P;return N(H.mode,H.getLength(),Ae)},A.getEncodedBits=function(P){if(!m.isValid(P)||P<7)throw new Error("Invalid QR Code version");let x=P<<12;for(;c.getBCHDigit(x)-S>=0;)x^=R<<c.getBCHDigit(x)-S;return P<<12|x}}(version$1)),version$1}var formatInfo={},hasRequiredFormatInfo;function requireFormatInfo(){if(hasRequiredFormatInfo)return formatInfo;hasRequiredFormatInfo=1;const A=requireUtils$1(),c=1335,u=21522,p=A.getBCHDigit(c);return formatInfo.getEncodedBits=function(m,R){const S=m.bit<<3|R;let N=S<<10;for(;A.getBCHDigit(N)-p>=0;)N^=c<<A.getBCHDigit(N)-p;return(S<<10|N)^u},formatInfo}var segments={},numericData,hasRequiredNumericData;function requireNumericData(){if(hasRequiredNumericData)return numericData;hasRequiredNumericData=1;const A=requireMode();function c(u){this.mode=A.NUMERIC,this.data=u.toString()}return c.getBitsLength=function(p){return 10*Math.floor(p/3)+(p%3?p%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(p){let I,m,R;for(I=0;I+3<=this.data.length;I+=3)m=this.data.substr(I,3),R=parseInt(m,10),p.put(R,10);const S=this.data.length-I;S>0&&(m=this.data.substr(I),R=parseInt(m,10),p.put(R,S*3+1))},numericData=c,numericData}var alphanumericData,hasRequiredAlphanumericData;function requireAlphanumericData(){if(hasRequiredAlphanumericData)return alphanumericData;hasRequiredAlphanumericData=1;const A=requireMode(),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(p){this.mode=A.ALPHANUMERIC,this.data=p}return u.getBitsLength=function(I){return 11*Math.floor(I/2)+6*(I%2)},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(I){let m;for(m=0;m+2<=this.data.length;m+=2){let R=c.indexOf(this.data[m])*45;R+=c.indexOf(this.data[m+1]),I.put(R,11)}this.data.length%2&&I.put(c.indexOf(this.data[m]),6)},alphanumericData=u,alphanumericData}var byteData,hasRequiredByteData;function requireByteData(){if(hasRequiredByteData)return byteData;hasRequiredByteData=1;const A=requireMode();function c(u){this.mode=A.BYTE,typeof u=="string"?this.data=new TextEncoder().encode(u):this.data=new Uint8Array(u)}return c.getBitsLength=function(p){return p*8},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(u){for(let p=0,I=this.data.length;p<I;p++)u.put(this.data[p],8)},byteData=c,byteData}var kanjiData,hasRequiredKanjiData;function requireKanjiData(){if(hasRequiredKanjiData)return kanjiData;hasRequiredKanjiData=1;const A=requireMode(),c=requireUtils$1();function u(p){this.mode=A.KANJI,this.data=p}return u.getBitsLength=function(I){return I*13},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(p){let I;for(I=0;I<this.data.length;I++){let m=c.toSJIS(this.data[I]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[I]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),p.put(m,13)}},kanjiData=u,kanjiData}var dijkstra={exports:{}},hasRequiredDijkstra;function requireDijkstra(){return hasRequiredDijkstra||(hasRequiredDijkstra=1,function(A){var c={single_source_shortest_paths:function(u,p,I){var m={},R={};R[p]=0;var S=c.PriorityQueue.make();S.push(p,0);for(var N,B,D,k,O,P,x,H,Ae;!S.empty();){N=S.pop(),B=N.value,k=N.cost,O=u[B]||{};for(D in O)O.hasOwnProperty(D)&&(P=O[D],x=k+P,H=R[D],Ae=typeof R[D]>"u",(Ae||H>x)&&(R[D]=x,S.push(D,x),m[D]=B))}if(typeof I<"u"&&typeof R[I]>"u"){var q=["Could not find a path from ",p," to ",I,"."].join("");throw new Error(q)}return m},extract_shortest_path_from_predecessor_list:function(u,p){for(var I=[],m=p;m;)I.push(m),u[m],m=u[m];return I.reverse(),I},find_path:function(u,p,I){var m=c.single_source_shortest_paths(u,p,I);return c.extract_shortest_path_from_predecessor_list(m,I)},PriorityQueue:{make:function(u){var p=c.PriorityQueue,I={},m;u=u||{};for(m in p)p.hasOwnProperty(m)&&(I[m]=p[m]);return I.queue=[],I.sorter=u.sorter||p.default_sorter,I},default_sorter:function(u,p){return u.cost-p.cost},push:function(u,p){var I={value:u,cost:p};this.queue.push(I),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};A.exports=c}(dijkstra)),dijkstra.exports}var hasRequiredSegments;function requireSegments(){return hasRequiredSegments||(hasRequiredSegments=1,function(A){const c=requireMode(),u=requireNumericData(),p=requireAlphanumericData(),I=requireByteData(),m=requireKanjiData(),R=requireRegex(),S=requireUtils$1(),N=requireDijkstra();function B(q){return unescape(encodeURIComponent(q)).length}function D(q,Z,te){const re=[];let Be;for(;(Be=q.exec(te))!==null;)re.push({data:Be[0],index:Be.index,mode:Z,length:Be[0].length});return re}function k(q){const Z=D(R.NUMERIC,c.NUMERIC,q),te=D(R.ALPHANUMERIC,c.ALPHANUMERIC,q);let re,Be;return S.isKanjiModeEnabled()?(re=D(R.BYTE,c.BYTE,q),Be=D(R.KANJI,c.KANJI,q)):(re=D(R.BYTE_KANJI,c.BYTE,q),Be=[]),Z.concat(te,re,Be).sort(function(pe,Ce){return pe.index-Ce.index}).map(function(pe){return{data:pe.data,mode:pe.mode,length:pe.length}})}function O(q,Z){switch(Z){case c.NUMERIC:return u.getBitsLength(q);case c.ALPHANUMERIC:return p.getBitsLength(q);case c.KANJI:return m.getBitsLength(q);case c.BYTE:return I.getBitsLength(q)}}function P(q){return q.reduce(function(Z,te){const re=Z.length-1>=0?Z[Z.length-1]:null;return re&&re.mode===te.mode?(Z[Z.length-1].data+=te.data,Z):(Z.push(te),Z)},[])}function x(q){const Z=[];for(let te=0;te<q.length;te++){const re=q[te];switch(re.mode){case c.NUMERIC:Z.push([re,{data:re.data,mode:c.ALPHANUMERIC,length:re.length},{data:re.data,mode:c.BYTE,length:re.length}]);break;case c.ALPHANUMERIC:Z.push([re,{data:re.data,mode:c.BYTE,length:re.length}]);break;case c.KANJI:Z.push([re,{data:re.data,mode:c.BYTE,length:B(re.data)}]);break;case c.BYTE:Z.push([{data:re.data,mode:c.BYTE,length:B(re.data)}])}}return Z}function H(q,Z){const te={},re={start:{}};let Be=["start"];for(let de=0;de<q.length;de++){const pe=q[de],Ce=[];for(let he=0;he<pe.length;he++){const Fe=pe[he],fe=""+de+he;Ce.push(fe),te[fe]={node:Fe,lastCount:0},re[fe]={};for(let Re=0;Re<Be.length;Re++){const De=Be[Re];te[De]&&te[De].node.mode===Fe.mode?(re[De][fe]=O(te[De].lastCount+Fe.length,Fe.mode)-O(te[De].lastCount,Fe.mode),te[De].lastCount+=Fe.length):(te[De]&&(te[De].lastCount=Fe.length),re[De][fe]=O(Fe.length,Fe.mode)+4+c.getCharCountIndicator(Fe.mode,Z))}}Be=Ce}for(let de=0;de<Be.length;de++)re[Be[de]].end=0;return{map:re,table:te}}function Ae(q,Z){let te;const re=c.getBestModeForData(q);if(te=c.from(Z,re),te!==c.BYTE&&te.bit<re.bit)throw new Error('"'+q+'" cannot be encoded with mode '+c.toString(te)+`.
 Suggested mode is: `+c.toString(re));switch(te===c.KANJI&&!S.isKanjiModeEnabled()&&(te=c.BYTE),te){case c.NUMERIC:return new u(q);case c.ALPHANUMERIC:return new p(q);case c.KANJI:return new m(q);case c.BYTE:return new I(q)}}A.fromArray=function(Z){return Z.reduce(function(te,re){return typeof re=="string"?te.push(Ae(re,null)):re.data&&te.push(Ae(re.data,re.mode)),te},[])},A.fromString=function(Z,te){const re=k(Z,S.isKanjiModeEnabled()),Be=x(re),de=H(Be,te),pe=N.find_path(de.map,"start","end"),Ce=[];for(let he=1;he<pe.length-1;he++)Ce.push(de.table[pe[he]].node);return A.fromArray(P(Ce))},A.rawSplit=function(Z){return A.fromArray(k(Z,S.isKanjiModeEnabled()))}}(segments)),segments}var hasRequiredQrcode;function requireQrcode(){if(hasRequiredQrcode)return qrcode$1;hasRequiredQrcode=1;const A=requireUtils$1(),c=requireErrorCorrectionLevel(),u=requireBitBuffer(),p=requireBitMatrix(),I=requireAlignmentPattern(),m=requireFinderPattern(),R=requireMaskPattern(),S=requireErrorCorrectionCode(),N=requireReedSolomonEncoder(),B=requireVersion(),D=requireFormatInfo(),k=requireMode(),O=requireSegments();function P(de,pe){const Ce=de.size,he=m.getPositions(pe);for(let Fe=0;Fe<he.length;Fe++){const fe=he[Fe][0],Re=he[Fe][1];for(let De=-1;De<=7;De++)if(!(fe+De<=-1||Ce<=fe+De))for(let Qe=-1;Qe<=7;Qe++)Re+Qe<=-1||Ce<=Re+Qe||(De>=0&&De<=6&&(Qe===0||Qe===6)||Qe>=0&&Qe<=6&&(De===0||De===6)||De>=2&&De<=4&&Qe>=2&&Qe<=4?de.set(fe+De,Re+Qe,!0,!0):de.set(fe+De,Re+Qe,!1,!0))}}function x(de){const pe=de.size;for(let Ce=8;Ce<pe-8;Ce++){const he=Ce%2===0;de.set(Ce,6,he,!0),de.set(6,Ce,he,!0)}}function H(de,pe){const Ce=I.getPositions(pe);for(let he=0;he<Ce.length;he++){const Fe=Ce[he][0],fe=Ce[he][1];for(let Re=-2;Re<=2;Re++)for(let De=-2;De<=2;De++)Re===-2||Re===2||De===-2||De===2||Re===0&&De===0?de.set(Fe+Re,fe+De,!0,!0):de.set(Fe+Re,fe+De,!1,!0)}}function Ae(de,pe){const Ce=de.size,he=B.getEncodedBits(pe);let Fe,fe,Re;for(let De=0;De<18;De++)Fe=Math.floor(De/3),fe=De%3+Ce-8-3,Re=(he>>De&1)===1,de.set(Fe,fe,Re,!0),de.set(fe,Fe,Re,!0)}function q(de,pe,Ce){const he=de.size,Fe=D.getEncodedBits(pe,Ce);let fe,Re;for(fe=0;fe<15;fe++)Re=(Fe>>fe&1)===1,fe<6?de.set(fe,8,Re,!0):fe<8?de.set(fe+1,8,Re,!0):de.set(he-15+fe,8,Re,!0),fe<8?de.set(8,he-fe-1,Re,!0):fe<9?de.set(8,15-fe-1+1,Re,!0):de.set(8,15-fe-1,Re,!0);de.set(he-8,8,1,!0)}function Z(de,pe){const Ce=de.size;let he=-1,Fe=Ce-1,fe=7,Re=0;for(let De=Ce-1;De>0;De-=2)for(De===6&&De--;;){for(let Qe=0;Qe<2;Qe++)if(!de.isReserved(Fe,De-Qe)){let Ci=!1;Re<pe.length&&(Ci=(pe[Re]>>>fe&1)===1),de.set(Fe,De-Qe,Ci),fe--,fe===-1&&(Re++,fe=7)}if(Fe+=he,Fe<0||Ce<=Fe){Fe-=he,he=-he;break}}}function te(de,pe,Ce){const he=new u;Ce.forEach(function(Qe){he.put(Qe.mode.bit,4),he.put(Qe.getLength(),k.getCharCountIndicator(Qe.mode,de)),Qe.write(he)});const Fe=A.getSymbolTotalCodewords(de),fe=S.getTotalCodewordsCount(de,pe),Re=(Fe-fe)*8;for(he.getLengthInBits()+4<=Re&&he.put(0,4);he.getLengthInBits()%8!==0;)he.putBit(0);const De=(Re-he.getLengthInBits())/8;for(let Qe=0;Qe<De;Qe++)he.put(Qe%2?17:236,8);return re(he,de,pe)}function re(de,pe,Ce){const he=A.getSymbolTotalCodewords(pe),Fe=S.getTotalCodewordsCount(pe,Ce),fe=he-Fe,Re=S.getBlocksCount(pe,Ce),De=he%Re,Qe=Re-De,Ci=Math.floor(he/Re),ii=Math.floor(fe/Re),He=ii+1,yt=Ci-ii,at=new N(yt);let Ht=0;const Yt=new Array(Re),Gi=new Array(Re);let nn=0;const ni=new Uint8Array(de.buffer);for(let Ue=0;Ue<Re;Ue++){const _e=Ue<Qe?ii:He;Yt[Ue]=ni.slice(Ht,Ht+_e),Gi[Ue]=at.encode(Yt[Ue]),Ht+=_e,nn=Math.max(nn,_e)}const rn=new Uint8Array(he);let On=0,Pn,li;for(Pn=0;Pn<nn;Pn++)for(li=0;li<Re;li++)Pn<Yt[li].length&&(rn[On++]=Yt[li][Pn]);for(Pn=0;Pn<yt;Pn++)for(li=0;li<Re;li++)rn[On++]=Gi[li][Pn];return rn}function Be(de,pe,Ce,he){let Fe;if(Array.isArray(de))Fe=O.fromArray(de);else if(typeof de=="string"){let Ci=pe;if(!Ci){const ii=O.rawSplit(de);Ci=B.getBestVersionForData(ii,Ce)}Fe=O.fromString(de,Ci||40)}else throw new Error("Invalid data");const fe=B.getBestVersionForData(Fe,Ce);if(!fe)throw new Error("The amount of data is too big to be stored in a QR Code");if(!pe)pe=fe;else if(pe<fe)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+fe+`.
`);const Re=te(pe,Ce,Fe),De=A.getSymbolSize(pe),Qe=new p(De);return P(Qe,pe),x(Qe),H(Qe,pe),q(Qe,Ce,0),pe>=7&&Ae(Qe,pe),Z(Qe,Re),isNaN(he)&&(he=R.getBestMask(Qe,q.bind(null,Qe,Ce))),R.applyMask(he,Qe),q(Qe,Ce,he),{modules:Qe,version:pe,errorCorrectionLevel:Ce,maskPattern:he,segments:Fe}}return qrcode$1.create=function(pe,Ce){if(typeof pe>"u"||pe==="")throw new Error("No input text");let he=c.M,Fe,fe;return typeof Ce<"u"&&(he=c.from(Ce.errorCorrectionLevel,c.M),Fe=B.from(Ce.version),fe=R.from(Ce.maskPattern),Ce.toSJISFunc&&A.setToSJISFunction(Ce.toSJISFunc)),Be(pe,Fe,he,fe)},qrcode$1}var canvas={},utils={},hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(A){function c(u){if(typeof u=="number"&&(u=u.toString()),typeof u!="string")throw new Error("Color should be defined as hex string");let p=u.slice().replace("#","").split("");if(p.length<3||p.length===5||p.length>8)throw new Error("Invalid hex color: "+u);(p.length===3||p.length===4)&&(p=Array.prototype.concat.apply([],p.map(function(m){return[m,m]}))),p.length===6&&p.push("F","F");const I=parseInt(p.join(""),16);return{r:I>>24&255,g:I>>16&255,b:I>>8&255,a:I&255,hex:"#"+p.slice(0,6).join("")}}A.getOptions=function(p){p||(p={}),p.color||(p.color={});const I=typeof p.margin>"u"||p.margin===null||p.margin<0?4:p.margin,m=p.width&&p.width>=21?p.width:void 0,R=p.scale||4;return{width:m,scale:m?4:R,margin:I,color:{dark:c(p.color.dark||"#000000ff"),light:c(p.color.light||"#ffffffff")},type:p.type,rendererOpts:p.rendererOpts||{}}},A.getScale=function(p,I){return I.width&&I.width>=p+I.margin*2?I.width/(p+I.margin*2):I.scale},A.getImageWidth=function(p,I){const m=A.getScale(p,I);return Math.floor((p+I.margin*2)*m)},A.qrToImageData=function(p,I,m){const R=I.modules.size,S=I.modules.data,N=A.getScale(R,m),B=Math.floor((R+m.margin*2)*N),D=m.margin*N,k=[m.color.light,m.color.dark];for(let O=0;O<B;O++)for(let P=0;P<B;P++){let x=(O*B+P)*4,H=m.color.light;if(O>=D&&P>=D&&O<B-D&&P<B-D){const Ae=Math.floor((O-D)/N),q=Math.floor((P-D)/N);H=k[S[Ae*R+q]?1:0]}p[x++]=H.r,p[x++]=H.g,p[x++]=H.b,p[x]=H.a}}}(utils)),utils}var hasRequiredCanvas;function requireCanvas(){return hasRequiredCanvas||(hasRequiredCanvas=1,function(A){const c=requireUtils();function u(I,m,R){I.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=R,m.width=R,m.style.height=R+"px",m.style.width=R+"px"}function p(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}A.render=function(m,R,S){let N=S,B=R;typeof N>"u"&&(!R||!R.getContext)&&(N=R,R=void 0),R||(B=p()),N=c.getOptions(N);const D=c.getImageWidth(m.modules.size,N),k=B.getContext("2d"),O=k.createImageData(D,D);return c.qrToImageData(O.data,m,N),u(k,B,D),k.putImageData(O,0,0),B},A.renderToDataURL=function(m,R,S){let N=S;typeof N>"u"&&(!R||!R.getContext)&&(N=R,R=void 0),N||(N={});const B=A.render(m,R,N),D=N.type||"image/png",k=N.rendererOpts||{};return B.toDataURL(D,k.quality)}}(canvas)),canvas}var svgTag={},hasRequiredSvgTag;function requireSvgTag(){if(hasRequiredSvgTag)return svgTag;hasRequiredSvgTag=1;const A=requireUtils();function c(I,m){const R=I.a/255,S=m+'="'+I.hex+'"';return R<1?S+" "+m+'-opacity="'+R.toFixed(2).slice(1)+'"':S}function u(I,m,R){let S=I+m;return typeof R<"u"&&(S+=" "+R),S}function p(I,m,R){let S="",N=0,B=!1,D=0;for(let k=0;k<I.length;k++){const O=Math.floor(k%m),P=Math.floor(k/m);!O&&!B&&(B=!0),I[k]?(D++,k>0&&O>0&&I[k-1]||(S+=B?u("M",O+R,.5+P+R):u("m",N,0),N=0,B=!1),O+1<m&&I[k+1]||(S+=u("h",D),D=0)):N++}return S}return svgTag.render=function(m,R,S){const N=A.getOptions(R),B=m.modules.size,D=m.modules.data,k=B+N.margin*2,O=N.color.light.a?"<path "+c(N.color.light,"fill")+' d="M0 0h'+k+"v"+k+'H0z"/>':"",P="<path "+c(N.color.dark,"stroke")+' d="'+p(D,B,N.margin)+'"/>',x='viewBox="0 0 '+k+" "+k+'"',Ae='<svg xmlns="http://www.w3.org/2000/svg" '+(N.width?'width="'+N.width+'" height="'+N.width+'" ':"")+x+' shape-rendering="crispEdges">'+O+P+`</svg>
`;return typeof S=="function"&&S(null,Ae),Ae},svgTag}var hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;const A=requireCanPromise(),c=requireQrcode(),u=requireCanvas(),p=requireSvgTag();function I(m,R,S,N,B){const D=[].slice.call(arguments,1),k=D.length,O=typeof D[k-1]=="function";if(!O&&!A())throw new Error("Callback required as last argument");if(O){if(k<2)throw new Error("Too few arguments provided");k===2?(B=S,S=R,R=N=void 0):k===3&&(R.getContext&&typeof B>"u"?(B=N,N=void 0):(B=N,N=S,S=R,R=void 0))}else{if(k<1)throw new Error("Too few arguments provided");return k===1?(S=R,R=N=void 0):k===2&&!R.getContext&&(N=S,S=R,R=void 0),new Promise(function(P,x){try{const H=c.create(S,N);P(m(H,R,N))}catch(H){x(H)}})}try{const P=c.create(S,N);B(null,m(P,R,N))}catch(P){B(P)}}return browser.create=c.create,browser.toCanvas=I.bind(null,u.render),browser.toDataURL=I.bind(null,u.renderToDataURL),browser.toString=I.bind(null,function(m,R,S){return p.render(m,S)}),browser}var browserExports=requireBrowser();const qrcode=getDefaultExportFromCjs(browserExports),NAMESPACE="selphi-widget",BUILD={experimentalSlotFixes:!1};var __defProp=Object.defineProperty,__export=(A,c)=>{for(var u in c)__defProp(A,u,{get:c[u],enumerable:!0})},EMPTY_OBJ={},SVG_NS="http://www.w3.org/2000/svg",HTML_NS="http://www.w3.org/1999/xhtml",isDef=A=>A!=null,isComplexType=A=>(A=typeof A,A==="object"||A==="function");function queryNonceMetaTagContent(A){var c,u,p;return(p=(u=(c=A.head)==null?void 0:c.querySelector('meta[name="csp-nonce"]'))==null?void 0:u.getAttribute("content"))!=null?p:void 0}var result_exports={};__export(result_exports,{err:()=>err,map:()=>map,ok:()=>ok,unwrap:()=>unwrap$1,unwrapErr:()=>unwrapErr});var ok=A=>({isOk:!0,isErr:!1,value:A}),err=A=>({isOk:!1,isErr:!0,value:A});function map(A,c){if(A.isOk){const u=c(A.value);return u instanceof Promise?u.then(p=>ok(p)):ok(u)}if(A.isErr){const u=A.value;return err(u)}throw"should never get here"}var unwrap$1=A=>{if(A.isOk)return A.value;throw A.value},unwrapErr=A=>{if(A.isErr)return A.value;throw A.value},createTime=(A,c="")=>()=>{},uniqueTime=(A,c)=>()=>{},HYDRATED_CSS="{visibility:hidden}.hydrated{visibility:inherit}",SLOT_FB_CSS="slot-fb{display:contents}slot-fb[hidden]{display:none}",h$4=(A,c,...u)=>{let p=null,I=null,m=null,R=!1,S=!1;const N=[],B=k=>{for(let O=0;O<k.length;O++)p=k[O],Array.isArray(p)?B(p):p!=null&&typeof p!="boolean"&&((R=typeof A!="function"&&!isComplexType(p))&&(p=String(p)),R&&S?N[N.length-1].$text$+=p:N.push(R?newVNode(null,p):p),S=R)};if(B(u),c){c.key&&(I=c.key),c.name&&(m=c.name);{const k=c.className||c.class;k&&(c.class=typeof k!="object"?k:Object.keys(k).filter(O=>k[O]).join(" "))}}if(typeof A=="function")return A(c===null?{}:c,N,vdomFnUtils);const D=newVNode(A,null);return D.$attrs$=c,N.length>0&&(D.$children$=N),D.$key$=I,D.$name$=m,D},newVNode=(A,c)=>{const u={$flags$:0,$tag$:A,$text$:c,$elm$:null,$children$:null};return u.$attrs$=null,u.$key$=null,u.$name$=null,u},Host={},isHost=A=>A&&A.$tag$===Host,vdomFnUtils={forEach:(A,c)=>A.map(convertToPublic).forEach(c),map:(A,c)=>A.map(convertToPublic).map(c).map(convertToPrivate)},convertToPublic=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),convertToPrivate=A=>{if(typeof A.vtag=="function"){const u={...A.vattrs};return A.vkey&&(u.key=A.vkey),A.vname&&(u.name=A.vname),h$4(A.vtag,u,...A.vchildren||[])}const c=newVNode(A.vtag,A.vtext);return c.$attrs$=A.vattrs,c.$children$=A.vchildren,c.$key$=A.vkey,c.$name$=A.vname,c},parsePropertyValue=(A,c)=>A!=null&&!isComplexType(A)?c&4?A==="false"?!1:A===""||!!A:c&2?parseFloat(A):c&1?String(A):A:A,getElement=A=>getHostRef(A).$hostElement$,createEvent=(A,c,u)=>{const p=getElement(A);return{emit:I=>emitEvent(p,c,{bubbles:!0,composed:!0,cancelable:!0,detail:I})}},emitEvent=(A,c,u)=>{const p=plt.ce(c,u);return A.dispatchEvent(p),p},rootAppliedStyles=new WeakMap,registerStyle=(A,c,u)=>{let p=styles.get(A);supportsConstructableStylesheets&&u?(p=p||new CSSStyleSheet,typeof p=="string"?p=c:p.replaceSync(c)):p=c,styles.set(A,p)},addStyle=(A,c,u)=>{var p;const I=getScopeId(c),m=styles.get(I);if(A=A.nodeType===11?A:doc,m)if(typeof m=="string"){A=A.head||A;let R=rootAppliedStyles.get(A),S;if(R||rootAppliedStyles.set(A,R=new Set),!R.has(I)){{S=doc.createElement("style"),S.innerHTML=m;const N=(p=plt.$nonce$)!=null?p:queryNonceMetaTagContent(doc);N!=null&&S.setAttribute("nonce",N),A.insertBefore(S,A.querySelector("link"))}c.$flags$&4&&(S.innerHTML+=SLOT_FB_CSS),R&&R.add(I)}}else A.adoptedStyleSheets.includes(m)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,m]);return I},attachStyles=A=>{const c=A.$cmpMeta$,u=A.$hostElement$,p=c.$flags$,I=createTime("attachStyles",c.$tagName$),m=addStyle(u.shadowRoot?u.shadowRoot:u.getRootNode(),c);p&10&&(u["s-sc"]=m,u.classList.add(m+"-h"),p&2&&u.classList.add(m+"-s")),I()},getScopeId=(A,c)=>"sc-"+A.$tagName$,setAccessor=(A,c,u,p,I,m)=>{if(u!==p){let R=isMemberInElement(A,c),S=c.toLowerCase();if(c==="class"){const N=A.classList,B=parseClassList(u),D=parseClassList(p);N.remove(...B.filter(k=>k&&!D.includes(k))),N.add(...D.filter(k=>k&&!B.includes(k)))}else if(c==="style"){for(const N in u)(!p||p[N]==null)&&(N.includes("-")?A.style.removeProperty(N):A.style[N]="");for(const N in p)(!u||p[N]!==u[N])&&(N.includes("-")?A.style.setProperty(N,p[N]):A.style[N]=p[N])}else if(c!=="key")if(c==="ref")p&&p(A);else if(!R&&c[0]==="o"&&c[1]==="n"){if(c[2]==="-"?c=c.slice(3):isMemberInElement(win,S)?c=S.slice(2):c=S[2]+c.slice(3),u||p){const N=c.endsWith(CAPTURE_EVENT_SUFFIX);c=c.replace(CAPTURE_EVENT_REGEX,""),u&&plt.rel(A,c,u,N),p&&plt.ael(A,c,p,N)}}else{const N=isComplexType(p);if((R||N&&p!==null)&&!I)try{if(A.tagName.includes("-"))A[c]=p;else{const B=p??"";c==="list"?R=!1:(u==null||A[c]!=B)&&(A[c]=B)}}catch{}p==null||p===!1?(p!==!1||A.getAttribute(c)==="")&&A.removeAttribute(c):(!R||m&4||I)&&!N&&(p=p===!0?"":p,A.setAttribute(c,p))}}},parseClassListRegex=/\s/,parseClassList=A=>A?A.split(parseClassListRegex):[],CAPTURE_EVENT_SUFFIX="Capture",CAPTURE_EVENT_REGEX=new RegExp(CAPTURE_EVENT_SUFFIX+"$"),updateElement=(A,c,u)=>{const p=c.$elm$.nodeType===11&&c.$elm$.host?c.$elm$.host:c.$elm$,I=A&&A.$attrs$||EMPTY_OBJ,m=c.$attrs$||EMPTY_OBJ;for(const R of sortedAttrNames(Object.keys(I)))R in m||setAccessor(p,R,I[R],void 0,u,c.$flags$);for(const R of sortedAttrNames(Object.keys(m)))setAccessor(p,R,I[R],m[R],u,c.$flags$)};function sortedAttrNames(A){return A.includes("ref")?[...A.filter(c=>c!=="ref"),"ref"]:A}var scopeId,contentRef,hostTagName,useNativeShadowDom=!1,checkSlotFallbackVisibility=!1,checkSlotRelocate=!1,isSvgMode=!1,createElm=(A,c,u,p)=>{var I,m,R,S;const N=c.$children$[u];let B=0,D,k,O;if(useNativeShadowDom||(checkSlotRelocate=!0,N.$tag$==="slot"&&(scopeId&&p.classList.add(scopeId+"-s"),N.$flags$|=N.$children$?2:1)),N.$text$!==null)D=N.$elm$=doc.createTextNode(N.$text$);else if(N.$flags$&1)D=N.$elm$=doc.createTextNode("");else{isSvgMode||(isSvgMode=N.$tag$==="svg"),D=N.$elm$=doc.createElementNS(isSvgMode?SVG_NS:HTML_NS,N.$flags$&2?"slot-fb":N.$tag$),isSvgMode&&N.$tag$==="foreignObject"&&(isSvgMode=!1),updateElement(null,N,isSvgMode),isDef(scopeId)&&D["s-si"]!==scopeId&&D.classList.add(D["s-si"]=scopeId);{const P=((I=c.$elm$)==null?void 0:I["s-rsc"])||((m=c.$elm$)==null?void 0:m["s-si"])||((R=c.$elm$)==null?void 0:R["s-sc"]);P&&(D["s-rsc"]=P,!D.classList.contains(P)&&D.classList.add(P))}if(N.$children$)for(B=0;B<N.$children$.length;++B)k=createElm(A,N,B,D),k&&D.appendChild(k);N.$tag$==="svg"?isSvgMode=!1:D.tagName==="foreignObject"&&(isSvgMode=!0)}return D["s-hn"]=hostTagName,N.$flags$&3&&(D["s-sr"]=!0,D["s-cr"]=contentRef,D["s-sn"]=N.$name$||"",D["s-rf"]=(S=N.$attrs$)==null?void 0:S.ref,O=A&&A.$children$&&A.$children$[u],O&&O.$tag$===N.$tag$&&A.$elm$&&putBackInOriginalLocation(A.$elm$,!1)),D},putBackInOriginalLocation=(A,c)=>{plt.$flags$|=1;const u=Array.from(A.childNodes);A["s-sr"]&&BUILD.experimentalSlotFixes;for(let p=u.length-1;p>=0;p--){const I=u[p];I["s-hn"]!==hostTagName&&I["s-ol"]&&(parentReferenceNode(I).insertBefore(I,referenceNode(I)),I["s-ol"].remove(),I["s-ol"]=void 0,I["s-sh"]=void 0,checkSlotRelocate=!0),c&&putBackInOriginalLocation(I,c)}plt.$flags$&=-2},addVnodes=(A,c,u,p,I,m)=>{let R=A["s-cr"]&&A["s-cr"].parentNode||A,S;for(R.shadowRoot&&R.tagName===hostTagName&&(R=R.shadowRoot);I<=m;++I)p[I]&&(S=createElm(null,u,I,A),S&&(p[I].$elm$=S,R.insertBefore(S,referenceNode(c))))},removeVnodes=(A,c,u)=>{for(let p=c;p<=u;++p){const I=A[p];if(I){const m=I.$elm$;nullifyVNodeRefs(I),m&&(checkSlotFallbackVisibility=!0,m["s-ol"]?m["s-ol"].remove():putBackInOriginalLocation(m,!0),m.remove())}}},updateChildren=(A,c,u,p,I=!1)=>{let m=0,R=0,S=0,N=0,B=c.length-1,D=c[0],k=c[B],O=p.length-1,P=p[0],x=p[O],H,Ae;for(;m<=B&&R<=O;)if(D==null)D=c[++m];else if(k==null)k=c[--B];else if(P==null)P=p[++R];else if(x==null)x=p[--O];else if(isSameVnode(D,P,I))patch(D,P,I),D=c[++m],P=p[++R];else if(isSameVnode(k,x,I))patch(k,x,I),k=c[--B],x=p[--O];else if(isSameVnode(D,x,I))(D.$tag$==="slot"||x.$tag$==="slot")&&putBackInOriginalLocation(D.$elm$.parentNode,!1),patch(D,x,I),A.insertBefore(D.$elm$,k.$elm$.nextSibling),D=c[++m],x=p[--O];else if(isSameVnode(k,P,I))(D.$tag$==="slot"||x.$tag$==="slot")&&putBackInOriginalLocation(k.$elm$.parentNode,!1),patch(k,P,I),A.insertBefore(k.$elm$,D.$elm$),k=c[--B],P=p[++R];else{for(S=-1,N=m;N<=B;++N)if(c[N]&&c[N].$key$!==null&&c[N].$key$===P.$key$){S=N;break}S>=0?(Ae=c[S],Ae.$tag$!==P.$tag$?H=createElm(c&&c[R],u,S,A):(patch(Ae,P,I),c[S]=void 0,H=Ae.$elm$),P=p[++R]):(H=createElm(c&&c[R],u,R,A),P=p[++R]),H&&parentReferenceNode(D.$elm$).insertBefore(H,referenceNode(D.$elm$))}m>B?addVnodes(A,p[O+1]==null?null:p[O+1].$elm$,u,p,R,O):R>O&&removeVnodes(c,m,B)},isSameVnode=(A,c,u=!1)=>A.$tag$===c.$tag$?A.$tag$==="slot"?A.$name$===c.$name$:u?!0:A.$key$===c.$key$:!1,referenceNode=A=>A&&A["s-ol"]||A,parentReferenceNode=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,patch=(A,c,u=!1)=>{const p=c.$elm$=A.$elm$,I=A.$children$,m=c.$children$,R=c.$tag$,S=c.$text$;let N;S===null?(isSvgMode=R==="svg"?!0:R==="foreignObject"?!1:isSvgMode,R==="slot"&&!useNativeShadowDom||updateElement(A,c,isSvgMode),I!==null&&m!==null?updateChildren(p,I,c,m,u):m!==null?(A.$text$!==null&&(p.textContent=""),addVnodes(p,null,c,m,0,m.length-1)):I!==null&&removeVnodes(I,0,I.length-1),isSvgMode&&R==="svg"&&(isSvgMode=!1)):(N=p["s-cr"])?N.parentNode.textContent=S:A.$text$!==S&&(p.data=S)},updateFallbackSlotVisibility=A=>{const c=A.childNodes;for(const u of c)if(u.nodeType===1){if(u["s-sr"]){const p=u["s-sn"];u.hidden=!1;for(const I of c)if(I!==u){if(I["s-hn"]!==u["s-hn"]||p!==""){if(I.nodeType===1&&(p===I.getAttribute("slot")||p===I["s-sn"])||I.nodeType===3&&p===I["s-sn"]){u.hidden=!0;break}}else if(I.nodeType===1||I.nodeType===3&&I.textContent.trim()!==""){u.hidden=!0;break}}}updateFallbackSlotVisibility(u)}},relocateNodes=[],markSlotContentForRelocation=A=>{let c,u,p;for(const I of A.childNodes){if(I["s-sr"]&&(c=I["s-cr"])&&c.parentNode){u=c.parentNode.childNodes;const m=I["s-sn"];for(p=u.length-1;p>=0;p--)if(c=u[p],!c["s-cn"]&&!c["s-nr"]&&c["s-hn"]!==I["s-hn"])if(isNodeLocatedInSlot(c,m)){let R=relocateNodes.find(S=>S.$nodeToRelocate$===c);checkSlotFallbackVisibility=!0,c["s-sn"]=c["s-sn"]||m,R?(R.$nodeToRelocate$["s-sh"]=I["s-hn"],R.$slotRefNode$=I):(c["s-sh"]=I["s-hn"],relocateNodes.push({$slotRefNode$:I,$nodeToRelocate$:c})),c["s-sr"]&&relocateNodes.map(S=>{isNodeLocatedInSlot(S.$nodeToRelocate$,c["s-sn"])&&(R=relocateNodes.find(N=>N.$nodeToRelocate$===c),R&&!S.$slotRefNode$&&(S.$slotRefNode$=R.$slotRefNode$))})}else relocateNodes.some(R=>R.$nodeToRelocate$===c)||relocateNodes.push({$nodeToRelocate$:c})}I.nodeType===1&&markSlotContentForRelocation(I)}},isNodeLocatedInSlot=(A,c)=>A.nodeType===1?A.getAttribute("slot")===null&&c===""||A.getAttribute("slot")===c:A["s-sn"]===c?!0:c==="",nullifyVNodeRefs=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(nullifyVNodeRefs)},renderVdom=(A,c,u=!1)=>{var p,I,m,R;const S=A.$hostElement$,N=A.$cmpMeta$,B=A.$vnode$||newVNode(null,null),D=isHost(c)?c:h$4(null,null,c);if(hostTagName=S.tagName,u&&D.$attrs$)for(const k of Object.keys(D.$attrs$))S.hasAttribute(k)&&!["key","ref","style","class"].includes(k)&&(D.$attrs$[k]=S[k]);D.$tag$=null,D.$flags$|=4,A.$vnode$=D,D.$elm$=B.$elm$=S.shadowRoot||S,scopeId=S["s-sc"],useNativeShadowDom=(N.$flags$&1)!==0,contentRef=S["s-cr"],checkSlotFallbackVisibility=!1,patch(B,D,u);{if(plt.$flags$|=1,checkSlotRelocate){markSlotContentForRelocation(D.$elm$);for(const k of relocateNodes){const O=k.$nodeToRelocate$;if(!O["s-ol"]){const P=doc.createTextNode("");P["s-nr"]=O,O.parentNode.insertBefore(O["s-ol"]=P,O)}}for(const k of relocateNodes){const O=k.$nodeToRelocate$,P=k.$slotRefNode$;if(P){const x=P.parentNode;let H=P.nextSibling;{let Ae=(p=O["s-ol"])==null?void 0:p.previousSibling;for(;Ae;){let q=(I=Ae["s-nr"])!=null?I:null;if(q&&q["s-sn"]===O["s-sn"]&&x===q.parentNode){for(q=q.nextSibling;q===O||q!=null&&q["s-sr"];)q=q==null?void 0:q.nextSibling;if(!q||!q["s-nr"]){H=q;break}}Ae=Ae.previousSibling}}(!H&&x!==O.parentNode||O.nextSibling!==H)&&O!==H&&(!O["s-hn"]&&O["s-ol"]&&(O["s-hn"]=O["s-ol"].parentNode.nodeName),x.insertBefore(O,H),O.nodeType===1&&(O.hidden=(m=O["s-ih"])!=null?m:!1)),O&&typeof P["s-rf"]=="function"&&P["s-rf"](O)}else O.nodeType===1&&(u&&(O["s-ih"]=(R=O.hidden)!=null?R:!1),O.hidden=!0)}}checkSlotFallbackVisibility&&updateFallbackSlotVisibility(D.$elm$),plt.$flags$&=-2,relocateNodes.length=0}contentRef=void 0},attachToAncestor=(A,c)=>{c&&!A.$onRenderResolve$&&c["s-p"]&&c["s-p"].push(new Promise(u=>A.$onRenderResolve$=u))},scheduleUpdate=(A,c)=>{if(A.$flags$|=16,A.$flags$&4){A.$flags$|=512;return}return attachToAncestor(A,A.$ancestorComponent$),writeTask(()=>dispatchHooks(A,c))},dispatchHooks=(A,c)=>{const u=createTime("scheduleUpdate",A.$cmpMeta$.$tagName$),p=A.$lazyInstance$;let I;return c&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([m,R])=>safeCall(p,m,R)),A.$queuedListeners$=void 0),I=safeCall(p,"componentWillLoad")),u(),enqueue(I,()=>updateComponent(A,p,c))},enqueue=(A,c)=>isPromisey(A)?A.then(c):c(),isPromisey=A=>A instanceof Promise||A&&A.then&&typeof A.then=="function",updateComponent=async(A,c,u)=>{var p;const I=A.$hostElement$,m=createTime("update",A.$cmpMeta$.$tagName$),R=I["s-rc"];u&&attachStyles(A);const S=createTime("render",A.$cmpMeta$.$tagName$);callRender(A,c,I,u),R&&(R.map(N=>N()),I["s-rc"]=void 0),S(),m();{const N=(p=I["s-p"])!=null?p:[],B=()=>postUpdateComponent(A);N.length===0?B():(Promise.all(N).then(B),A.$flags$|=4,N.length=0)}},renderingRef=null,callRender=(A,c,u,p)=>{try{renderingRef=c,c=c.render(),A.$flags$&=-17,A.$flags$|=2,renderVdom(A,c,p)}catch(I){consoleError(I,A.$hostElement$)}return renderingRef=null,null},getRenderingRef=()=>renderingRef,postUpdateComponent=A=>{const c=A.$cmpMeta$.$tagName$,u=A.$hostElement$,p=createTime("postUpdate",c),I=A.$lazyInstance$,m=A.$ancestorComponent$;safeCall(I,"componentDidRender"),A.$flags$&64?p():(A.$flags$|=64,addHydratedFlag(u),safeCall(I,"componentDidLoad"),p(),A.$onReadyResolve$(u),m||appDidLoad()),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),A.$flags$&512&&nextTick(()=>scheduleUpdate(A,!1)),A.$flags$&=-517},forceUpdate=A=>{{const c=getHostRef(A),u=c.$hostElement$.isConnected;return u&&(c.$flags$&18)===2&&scheduleUpdate(c,!1),u}},appDidLoad=A=>{addHydratedFlag(doc.documentElement),nextTick(()=>emitEvent(win,"appload",{detail:{namespace:NAMESPACE}}))},safeCall=(A,c,u)=>{if(A&&A[c])try{return A[c](u)}catch(p){consoleError(p)}},addHydratedFlag=A=>A.classList.add("hydrated"),getValue$1=(A,c)=>getHostRef(A).$instanceValues$.get(c),setValue=(A,c,u,p)=>{const I=getHostRef(A),m=I.$hostElement$,R=I.$instanceValues$.get(c),S=I.$flags$,N=I.$lazyInstance$;u=parsePropertyValue(u,p.$members$[c][0]);const B=Number.isNaN(R)&&Number.isNaN(u),D=u!==R&&!B;if((!(S&8)||R===void 0)&&D&&(I.$instanceValues$.set(c,u),N)){if(p.$watchers$&&S&128){const k=p.$watchers$[c];k&&k.map(O=>{try{N[O](u,R,c)}catch(P){consoleError(P,m)}})}(S&18)===2&&scheduleUpdate(I,!1)}},proxyComponent=(A,c,u)=>{var p;const I=A.prototype;if(c.$members$){A.watchers&&(c.$watchers$=A.watchers);const m=Object.entries(c.$members$);if(m.map(([R,[S]])=>{(S&31||u&2&&S&32)&&Object.defineProperty(I,R,{get(){return getValue$1(this,R)},set(N){setValue(this,R,N,c)},configurable:!0,enumerable:!0})}),u&1){const R=new Map;I.attributeChangedCallback=function(S,N,B){plt.jmp(()=>{var D;const k=R.get(S);if(this.hasOwnProperty(k))B=this[k],delete this[k];else{if(I.hasOwnProperty(k)&&typeof this[k]=="number"&&this[k]==B)return;if(k==null){const O=getHostRef(this),P=O==null?void 0:O.$flags$;if(P&&!(P&8)&&P&128&&B!==N){const x=O.$lazyInstance$,H=(D=c.$watchers$)==null?void 0:D[S];H==null||H.forEach(Ae=>{x[Ae]!=null&&x[Ae].call(x,B,N,S)})}return}}this[k]=B===null&&typeof this[k]=="boolean"?!1:B})},A.observedAttributes=Array.from(new Set([...Object.keys((p=c.$watchers$)!=null?p:{}),...m.filter(([S,N])=>N[0]&15).map(([S,N])=>{const B=N[1]||S;return R.set(B,S),B})]))}}return A},initializeComponent=async(A,c,u,p)=>{let I;if((c.$flags$&32)===0){if(c.$flags$|=32,u.$lazyBundleId$){if(I=loadModule(u),I.then){const B=uniqueTime();I=await I,B()}I.isProxied||(u.$watchers$=I.watchers,proxyComponent(I,u,2),I.isProxied=!0);const N=createTime("createInstance",u.$tagName$);c.$flags$|=8;try{new I(c)}catch(B){consoleError(B)}c.$flags$&=-9,c.$flags$|=128,N()}else I=A.constructor,customElements.whenDefined(u.$tagName$).then(()=>c.$flags$|=128);if(I.style){let N=I.style;const B=getScopeId(u);if(!styles.has(B)){const D=createTime("registerStyles",u.$tagName$);registerStyle(B,N,!!(u.$flags$&1)),D()}}}const m=c.$ancestorComponent$,R=()=>scheduleUpdate(c,!0);m&&m["s-rc"]?m["s-rc"].push(R):R()},fireConnectedCallback=A=>{},connectedCallback=A=>{if((plt.$flags$&1)===0){const c=getHostRef(A),u=c.$cmpMeta$,p=createTime("connectedCallback",u.$tagName$);if(c.$flags$&1)addHostEventListeners(A,c,u.$listeners$),c!=null&&c.$lazyInstance$||c!=null&&c.$onReadyPromise$&&c.$onReadyPromise$.then(()=>fireConnectedCallback());else{c.$flags$|=1,u.$flags$&12&&setContentReference(A);{let I=A;for(;I=I.parentNode||I.host;)if(I["s-p"]){attachToAncestor(c,c.$ancestorComponent$=I);break}}u.$members$&&Object.entries(u.$members$).map(([I,[m]])=>{if(m&31&&A.hasOwnProperty(I)){const R=A[I];delete A[I],A[I]=R}}),initializeComponent(A,c,u)}p()}},setContentReference=A=>{const c=A["s-cr"]=doc.createComment("");c["s-cn"]=!0,A.insertBefore(c,A.firstChild)},disconnectInstance=A=>{safeCall(A,"disconnectedCallback")},disconnectedCallback=async A=>{if((plt.$flags$&1)===0){const c=getHostRef(A);c.$rmListeners$&&(c.$rmListeners$.map(u=>u()),c.$rmListeners$=void 0),c!=null&&c.$lazyInstance$?disconnectInstance(c.$lazyInstance$):c!=null&&c.$onReadyPromise$&&c.$onReadyPromise$.then(()=>disconnectInstance(c.$lazyInstance$))}},bootstrapLazy=(A,c={})=>{var u;const p=createTime(),I=[],m=c.exclude||[],R=win.customElements,S=doc.head,N=S.querySelector("meta[charset]"),B=doc.createElement("style"),D=[];let k,O=!0;Object.assign(plt,c),plt.$resourcesUrl$=new URL(c.resourcesUrl||"./",doc.baseURI).href;let P=!1;if(A.map(x=>{x[1].map(H=>{var Ae;const q={$flags$:H[0],$tagName$:H[1],$members$:H[2],$listeners$:H[3]};q.$flags$&4&&(P=!0),q.$members$=H[2],q.$listeners$=H[3],q.$watchers$=(Ae=H[4])!=null?Ae:{};const Z=q.$tagName$,te=class extends HTMLElement{constructor(re){super(re),re=this,registerHost(re,q),q.$flags$&1&&re.attachShadow({mode:"open"})}connectedCallback(){k&&(clearTimeout(k),k=null),O?D.push(this):plt.jmp(()=>connectedCallback(this))}disconnectedCallback(){plt.jmp(()=>disconnectedCallback(this))}componentOnReady(){return getHostRef(this).$onReadyPromise$}};q.$lazyBundleId$=x[0],!m.includes(Z)&&!R.get(Z)&&(I.push(Z),R.define(Z,proxyComponent(te,q,1)))})}),I.length>0&&(P&&(B.textContent+=SLOT_FB_CSS),B.textContent+=I+HYDRATED_CSS,B.innerHTML.length)){B.setAttribute("data-styles","");const x=(u=plt.$nonce$)!=null?u:queryNonceMetaTagContent(doc);x!=null&&B.setAttribute("nonce",x),S.insertBefore(B,N?N.nextSibling:S.firstChild)}O=!1,D.length?D.map(x=>x.connectedCallback()):plt.jmp(()=>k=setTimeout(appDidLoad,30)),p()},Fragment=(A,c)=>c,addHostEventListeners=(A,c,u,p)=>{u&&u.map(([I,m,R])=>{const S=A,N=hostListenerProxy(c,R),B=hostListenerOpts(I);plt.ael(S,m,N,B),(c.$rmListeners$=c.$rmListeners$||[]).push(()=>plt.rel(S,m,N,B))})},hostListenerProxy=(A,c)=>u=>{try{A.$flags$&256?A.$lazyInstance$[c](u):(A.$queuedListeners$=A.$queuedListeners$||[]).push([c,u])}catch(p){consoleError(p)}},hostListenerOpts=A=>supportsListenerOptions?{passive:(A&1)!==0,capture:(A&2)!==0}:(A&2)!==0,hostRefs=new WeakMap,getHostRef=A=>hostRefs.get(A),registerInstance=(A,c)=>hostRefs.set(c.$lazyInstance$=A,c),registerHost=(A,c)=>{const u={$flags$:0,$hostElement$:A,$cmpMeta$:c,$instanceValues$:new Map};return u.$onReadyPromise$=new Promise(p=>u.$onReadyResolve$=p),A["s-p"]=[],A["s-rc"]=[],addHostEventListeners(A,u,c.$listeners$),hostRefs.set(A,u)},isMemberInElement=(A,c)=>c in A,consoleError=(A,c)=>(0,console.error)(A,c),cmpModules=new Map,loadModule=(A,c,u)=>{const p=A.$tagName$.replace(/-/g,"_"),I=A.$lazyBundleId$,m=cmpModules.get(I);if(m)return m[p];{const R=S=>(cmpModules.set(I,S),S[p]);switch(I){case"facephi-selphi":return __vitePreload(()=>Promise.resolve().then(()=>facephiSelphi_entry),void 0).then(R,consoleError);case"selphi-antispoof-camera_7":return __vitePreload(()=>import("./selphi-antispoof-camera_7.entry--P1x792F.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(R,consoleError);case"selphi-browser-error":return __vitePreload(()=>import("./selphi-browser-error.entry-DrvUl3yf.js"),__vite__mapDeps([8,1,2,3,4,5,6,7])).then(R,consoleError);case"selphi-camera":return __vitePreload(()=>import("./selphi-camera.entry-DKK0oSbV.js"),__vite__mapDeps([9,1,2,3,4,5,6,7])).then(R,consoleError);case"widget-pagination-layout":return __vitePreload(()=>Promise.resolve().then(()=>widgetPaginationLayout_entry),void 0).then(R,consoleError);case"widget-animation":return __vitePreload(()=>import("./widget-animation.entry-B-G4wqvQ.js"),__vite__mapDeps([10,1,2,3,4,5,6,7])).then(R,consoleError);case"widget-button_2":return __vitePreload(()=>Promise.resolve().then(()=>widgetButton_2_entry),void 0).then(R,consoleError);case"arrow-next-icon_33":return __vitePreload(()=>import("./arrow-next-icon_33.entry-MaKxvpME.js"),__vite__mapDeps([11,1,2,3,4,5,6,7])).then(R,consoleError)}}return __vitePreload(()=>import(`./${I}.entry.js`),[]).then(R=>(cmpModules.set(I,R),R[p]),consoleError)},styles=new Map,win=typeof window<"u"?window:{},doc=win.document||{head:{}},plt={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,c,u,p)=>A.addEventListener(c,u,p),rel:(A,c,u,p)=>A.removeEventListener(c,u,p),ce:(A,c)=>new CustomEvent(A,c)},supportsListenerOptions=(()=>{let A=!1;try{doc.addEventListener("e",null,Object.defineProperty({},"passive",{get(){A=!0}}))}catch{}return A})(),promiseResolve=A=>Promise.resolve(A),supportsConstructableStylesheets=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),queuePending=!1,queueDomReads=[],queueDomWrites=[],queueTask=(A,c)=>u=>{A.push(u),queuePending||(queuePending=!0,plt.$flags$&4?nextTick(flush):plt.raf(flush))},consume=A=>{for(let c=0;c<A.length;c++)try{A[c](performance.now())}catch(u){consoleError(u)}A.length=0},flush=()=>{consume(queueDomReads),consume(queueDomWrites),(queuePending=queueDomReads.length>0)&&plt.raf(flush)},nextTick=A=>promiseResolve().then(A),writeTask=queueTask(queueDomWrites);/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const version="6.8.0";var ExceptionType;(function(A){A.AndroidWebViewBehaviour="AndroidWebViewBehaviour",A.UnknownInternalError="UnknownInternalError",A.CameraHardwareError="CameraHardwareError",A.CameraPermissionDenied="CameraPermissionDenied",A.MicrophonePermissionDenied="MicrophonePermissionDenied",A.SettingsError="SettingsError",A.BrowserApiNotCompatible="BrowserApiNotCompatible",A.SpoofingDetected="SpoofingDetected",A.ActiveLivenessError="ActiveLivenessError",A.ErrorTimeout="ErrorTimeout",A.FaceNotFound="FaceNotFound",A.EyesNotFound="EyesNotFound",A.DarkLightError="DarkLightError",A.AngleExceeded="AngleExceeded",A.TooManyFaces="TooManyFaces",A.NotStabilizedSunGlasses="EyesNotFound",A.NotStabilizedNoColor="DarkLightError"})(ExceptionType||(ExceptionType={}));var Language;(function(A){A.ES="es",A.EN="en",A.PT="pt"})(Language||(Language={}));var ImageFormat$2;(function(A){A.PNG="image/png",A.JPEG="image/jpeg"})(ImageFormat$2||(ImageFormat$2={}));var TemplateFormat$1;(function(A){A[A.ByteArray=0]="ByteArray",A[A.Base64=1]="Base64"})(TemplateFormat$1||(TemplateFormat$1={}));var CameraRotation;(function(A){A[A.DEG0=0]="DEG0",A[A.DEG90=1]="DEG90",A[A.DEG180=2]="DEG180",A[A.DEG270=3]="DEG270"})(CameraRotation||(CameraRotation={}));var CameraType;(function(A){A[A.User=0]="User",A[A.Environment=1]="Environment"})(CameraType||(CameraType={}));var VideoRecordQuality;(function(A){A[A.Low=0]="Low",A[A.Medium=1]="Medium",A[A.High=2]="High"})(VideoRecordQuality||(VideoRecordQuality={}));const WidgetVersion=version,DefaultEngineLocation="https://d2j9q1dw42kqvj.cloudfront.net/selphi/0.5.0";var WIDGETVIEWS;(function(A){A.Loading_View="loading-view",A.Selphi_Antispoof_Camera="selphi-antispoof-camera",A.Selphi_Capture_View="selphi-capture-view",A.Preview_View="preview-view",A.Recording_View="recording-view",A.Tutorial_View="tutorial-view",A.Error_View="error-view"})(WIDGETVIEWS||(WIDGETVIEWS={}));var OperatingSystem;(function(A){A.Unknown="Unknown",A.WindowsPhone="Windows Phone",A.Android="Android",A.iOS="iOS"})(OperatingSystem||(OperatingSystem={}));var CAMERATYPE$1;(function(A){A[A.FRONT=0]="FRONT",A[A.BACK=1]="BACK"})(CAMERATYPE$1||(CAMERATYPE$1={}));const CAMERAWIDTH=1280,CAMERAHEIGHT=720,CROPFACTOR=1.5,TIMEOUT=30,ERRORTIMER=8,IMAGEQUALITY=.95,LOGIMAGES=0,LIVENESSMOVESTEPS=0,LIVENESSMOVEFAILEDATTEMPTS=2,LIVENESSMOVETIMEOUT=8,BROWSERLIST={Chrome:{id:1,icon:"ChromeBrowserIcon",name:"Chrome",version:"75.0.0",laptopRoute:"https://www.google.com/chrome/",iOSRoute:"https://apps.apple.com/es/app/google-chrome/id535886823",androidRoute:"https://play.google.com/store/search?q=chrome&c=apps&hl=es_419&gl=US"},Firefox:{id:2,icon:"FirefoxBrowserIcon",name:"Firefox",version:"79.0.0",laptopRoute:"https://www.mozilla.org/es-ES/firefox/new/",iOSRoute:"https://apps.apple.com/es/app/firefox-private-safe-browser/id989804926",androidRoute:"https://play.google.com/store/search?q=firefox&c=apps&hl=es_419&gl=US"},Edge:{id:3,icon:"EdgeBrowserIcon",name:"Edge",version:"79.0.0",laptopRoute:"https://www.microsoft.com/es-es/edge",iOSRoute:"https://apps.apple.com/es/app/microsoft-edge-chatea-con-gpt4/id1288723196",androidRoute:"https://play.google.com/store/search?q=edge&c=apps&hl=es_419&gl=US"},Safari:{id:4,icon:"SafariBrowserIcon",name:"Safari",version:"15.0.0",laptopRoute:"https://support.apple.com/es-es/HT201541#:~:text=Selecciona%20el%20men%C3%BA%20Apple%20%EF%A3%BF,clic%20en%20Actualizaci%C3%B3n%20de%20software.",iOSRoute:"https://support.apple.com/es-es/HT204204#:~:text=Actualizar%20el%20iPhone%20o%20iPad%20de%20forma%20inal%C3%A1mbrica&text=Enchufa%20el%20dispositivo%20a%20una,toca%20%E2%80%9CActualizaci%C3%B3n%20de%20software%E2%80%9D."}};var EVENT_TYPE;(function(A){A.ExtractionFinish="ExtractionFinish",A.WidgetLoaded="WidgetLoaded",A.UserCancel="UserCancel",A.TimeoutButtonClick="TimeoutButtonClick",A.TrackStatus="TrackStatus",A.ErrorTimeout="ErrorTimeout",A.Stabilizing="Stabilizing",A.ExceptionCaptured="ExceptionCaptured",A.ExtractionTimeout="ExtractionTimeout",A.ActiveLivenessError="ActiveLivenessError"})(EVENT_TYPE||(EVENT_TYPE={}));var TRACK_STATUS_TYPE;(function(A){A.CurrentState="currentState",A.TapButton="tapButton"})(TRACK_STATUS_TYPE||(TRACK_STATUS_TYPE={}));var TAP_BUTTON_TYPE;(function(A){A.tutorial="tutorial",A.exit="exit",A.startCapture="startCapture",A.repeatExtraction="repeatExtraction",A.finishExtraction="finishExtraction",A.retryExtraction="retryExtraction",A.switchCamera="switchCamera",A.back="back"})(TAP_BUTTON_TYPE||(TAP_BUTTON_TYPE={}));const WIDGET_CONFIG={advancedTracking:!0,androidWebViewBehaviour:!1,antispoof:!1,audible:"",disableTutorial:!1,disableExit:!1,faceTracking:!1,cameraHeight:CAMERAHEIGHT,cameraId:"",cameraRotation:CameraRotation.DEG0,cameraSwitch:!0,cameraType:CameraType.User,cameraWidth:CAMERAWIDTH,cropFactor:CROPFACTOR,debug:!1,debugException:"",engineLocation:"",errorTimer:ERRORTIMER,externalCamera:null,graphicResources:{loadingAnimation:"",tutorialAnimations:[],logo:""},imageFormat:ImageFormat$2.JPEG,imageQuality:IMAGEQUALITY,interactible:!0,language:Language.ES,livenessMoveFailedAttempts:LIVENESSMOVEFAILEDATTEMPTS,livenessMoveSteps:LIVENESSMOVESTEPS,livenessMoveTimeout:LIVENESSMOVETIMEOUT,logImages:LOGIMAGES,previewImage:!0,settingsStrictness:!0,showLog:!1,stabilization:!0,templateFormat:TemplateFormat$1.Base64,timeout:TIMEOUT,videoRecord:!1,videoRecordAudio:!1,videoRecordQuality:VideoRecordQuality.Medium},DIAGNOSTIC_TEXTS={StartExtractorTitle:"Place your face inside the circle. Press the button to start.",ExtractingTitle:"Remain still, with your face in the centre of the circle",LivenessTitle:"Liveness Test",RightEyeNotFound:"Keep your face facing forward",LeftEyeNotFound:"Keep your face facing forward",FaceTooFar:"Bring your face closer",FaceTooClose:"Turn your face away",KeepEyesVisible:"Keep your eyes visible",TooCloseToWindowSide:"Place your face in the centre and look straight into the camera.",QualityCheckFailed:"It seems that the image is not sharp. Try adjusting your face slightly",NotRated:"Remain still, with your face in the centre of the circle",ResultsMessageLow:"We recommend that you repeat the registration",ResultsMessageGood:"The register is good, but you can improve it",ResultsMessageExcellent:"The quality of the record is excellent. Congratulations!",AngleExceeded:"Keep your face facing the camera",TooManyFaces:"Multiple faces detected",FaceNotFound:"We do not detect your face",EyesNotFound:"We do not detect your eyes",NotStabilized:"Remain still, with your face in the centre of the circle",NotStabilizedTooFar:"Bring your face closer",NotStabilizedTooClose:"Turn your face away",NotStabilizedTooMovement:"Stay still in front of the camera",NotStabilizedNoFrontal:"Keep your face facing forward",NotStabilizedNoFrontalTooLeft:"Turn your face slightly to the right",NotStabilizedNoFrontalTooRight:"Turn your face slightly to the left",NotStabilizedNoFrontalTooDown:"Turn your face slightly up",NotStabilizedNoFrontalTooUp:"Turn your face slightly down",NotStabilizedLowQuality:"It seems that the image is not sharp. Try adjusting your face slightly",NotStabilizedLowFaceQuality:"It seems that the image is not sharp. Try adjusting your face slightly",NotStabilizedLowPatternQuality:"It seems that the image is not sharp. Try adjusting your face slightly",NotStabilizedInvalidResolution:"It seems that the image is not sharp. Try adjusting your face slightly",NotStabilizedMask:"Clear your face completely",NotStabilizedNoColor:"Find a brighter environment",NotStabilizedSunGlasses:"We do not detect your eyes",LivenessStart:"Keep your eyes at camera level and follow the instructions",LivenessComplete:"Look forward to continue the process",LivenessRight:"Turn your face to the right",LivenessLeft:"Turn your face to the left",LivenessUp:"Turn your face up",LivenessDown:"Turn your face down"},TUTORIAL_SLIDE_TEXTS=["Place your face in the centre and look straight into the camera.","Remove any object that covers your face.","Look for a well-lit environment, without shadows on your face."],TUTORIAL_SLIDE_ALTS=["A circle appears in the centre of the screen. A person shows his/her face. You can see his/her entire head inside the circle. When it is well positioned, the app takes a photo of it","A circle appears in the centre of the screen. Inside the circle there is a person with sunglasses whose hair covers part of his/her face. He/she takes off his/her glasses and he/she brushes his/her hair from his/her face. The app detects his/her entire face and takes a photo of it","A dark circle appears in the centre of the screen. Inside the circle, it is hard to appreciate a person's face. A light turns on and his/her face can be seen clearly. After this, the app takes a photo of it"],TUTORIAL_ACTIVE_LIVENESS={text:"Place your face in the center of the circle and follow the instructions.",alt:"A circle appears in the center of the screen. A person shows their face. An arrow appears indicating a turn in a direction. The person turns their head in the direction of the arrow"},ERROR_DATA={AndroidWebViewBehaviour:{title:"You are using WebView",detail:"We are going to open an external browser to improve user experience",icon:"ErrorBrowserIcon"},UnknownInternalError:{title:"There was a technical problem",detail:"We apologize. We are working to solve it. Try again later.",icon:"ErrorGenericIcon"},CameraHardwareError:{title:"Camera problem",detail:"We cannot access the camera. Please try with another device.",icon:"ErrorCameraIcon"},CameraPermissionDenied:{title:"Allow access to the camera",detail:"To capture the images we need you to activate this permission.",icon:"ErrorCameraIcon"},MicrophonePermissionDenied:{title:"Allow access to the camera and microphone",detail:"To capture the video with audio, we need you to activate this permissions.",icon:"ErrorCameraIcon"},BrowserApiNotCompatible:{title:"Your browser is not compatible",detail:"Please use a different browser to continue the process",icon:"ErrorBrowserIcon"},SettingsError:{title:"There is a configuration error",detail:"Check the console to locate the error",icon:"ErrorGenericIcon"},ErrorTimeout:{title:"Time exceeded",detail:"Keep your face inside the circle and looking straight ahead until the photo is taken.",icon:"ErrorTimeoutIcon"},ActiveLivenessError:{title:"Liveness Failed",detail:"We have not been able to verify the liveness.",icon:"ErrorFaceIcon"},FaceNotFound:{title:"We do not detect your face",detail:"Place your face inside the circle and press start to start the capture.",icon:"ErrorFaceIcon"},EyesNotFound:{title:"We do not detect your eyes",detail:"Remove any object that covers your eyes or causes reflections on them.",icon:"ErrorGlassesIcon"},DarkLightError:{title:"The photo is not clear",detail:"Find a well-lit place and avoid moving the camera.",icon:"ErrorLightningIcon"},AngleExceeded:{title:"Keep your face facing the camera",detail:"Place your face straight, without inclinations.",icon:"ErrorFaceAngleIcon"},TooManyFaces:{title:"Multiple faces detected",detail:"Only one face can appear at the time of capture.",icon:"ErrorManyFacesIcon"},SpoofingDetected:{title:"Spoofing detected",detail:"We have detected an attempt of video manipulation. The process has been cancelled.",icon:"ErrorForbiddenIcon"}},appendToMap=(A,c,u)=>{const p=A.get(c);p?p.includes(u)||p.push(u):A.set(c,[u])},debounce=(A,c)=>{let u;return(...p)=>{u&&clearTimeout(u),u=setTimeout(()=>{u=0,A(...p)},c)}},isConnected=A=>!("isConnected"in A)||A.isConnected,cleanupElements=debounce(A=>{for(let c of A.keys())A.set(c,A.get(c).filter(isConnected))},2e3),stencilSubscription=()=>{if(typeof getRenderingRef!="function")return{};const A=new Map;return{dispose:()=>A.clear(),get:c=>{const u=getRenderingRef();u&&appendToMap(A,c,u)},set:c=>{const u=A.get(c);u&&A.set(c,u.filter(forceUpdate)),cleanupElements(A)},reset:()=>{A.forEach(c=>c.forEach(forceUpdate)),cleanupElements(A)}}},unwrap=A=>typeof A=="function"?A():A,createObservableMap=(A,c=(u,p)=>u!==p)=>{const u=unwrap(A);let p=new Map(Object.entries(u??{}));const I={dispose:[],get:[],set:[],reset:[]},m=()=>{var x;p=new Map(Object.entries((x=unwrap(A))!==null&&x!==void 0?x:{})),I.reset.forEach(H=>H())},R=()=>{I.dispose.forEach(x=>x()),m()},S=x=>(I.get.forEach(H=>H(x)),p.get(x)),N=(x,H)=>{const Ae=p.get(x);c(H,Ae,x)&&(p.set(x,H),I.set.forEach(q=>q(x,H,Ae)))},B=typeof Proxy>"u"?{}:new Proxy(u,{get(x,H){return S(H)},ownKeys(x){return Array.from(p.keys())},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(x,H){return p.has(H)},set(x,H,Ae){return N(H,Ae),!0}}),D=(x,H)=>(I[x].push(H),()=>{removeFromArray(I[x],H)});return{state:B,get:S,set:N,on:D,onChange:(x,H)=>{const Ae=D("set",(Z,te)=>{Z===x&&H(te)}),q=D("reset",()=>H(unwrap(A)[x]));return()=>{Ae(),q()}},use:(...x)=>{const H=x.reduce((Ae,q)=>(q.set&&Ae.push(D("set",q.set)),q.get&&Ae.push(D("get",q.get)),q.reset&&Ae.push(D("reset",q.reset)),q.dispose&&Ae.push(D("dispose",q.dispose)),Ae),[]);return()=>H.forEach(Ae=>Ae())},dispose:R,reset:m,forceUpdate:x=>{const H=p.get(x);I.set.forEach(Ae=>Ae(x,H,H))}}},removeFromArray=(A,c)=>{const u=A.indexOf(c);u>=0&&(A[u]=A[A.length-1],A.length--)},createStore=(A,c)=>{const u=createObservableMap(A,c);return u.use(stencilSubscription()),u},ACTIVELIVENESS_STORE_VALUES={isEnabled:!1,diagnostic:null,expected:[],currentStep:0,currentAttempt:0,isSuccessful:!1},{state:activeLiveness_store,reset:reset_activeLiveness_store}=createStore(ACTIVELIVENESS_STORE_VALUES),{state:config_store,reset:reset_config_store}=createStore(WIDGET_CONFIG),{state:error_store,reset:reset_error_store}=createStore({type:"",message:""}),InternalStoreValues={languageLoaded:!1,customLanguage:null,cameraContainerBoundingRect:null,videoTagBoundingRect:null,userCameraLoaded:!1,previewViewObjectFit:"cover",videoAspectRatio:"higher-video",cameraIdUsed:null,widgetClosedByUserAction:!1},{state:internal_store,reset:reset_internal_store}=createStore(InternalStoreValues),VIEWASSET_STORE_VALUES={text:"",animation:null},{state:viewAsset_store,reset:reset_viewAsset_store}=createStore(VIEWASSET_STORE_VALUES);var LoggerLevel;(function(A){A[A.DEBUG=0]="DEBUG",A[A.INFO=1]="INFO",A[A.WARNING=2]="WARNING",A[A.ERROR=3]="ERROR"})(LoggerLevel||(LoggerLevel={}));var StyleLogs;(function(A){A.DEBUG="color: white; background-color: grey; border-radius: 8px; padding: 2px 4px",A.INFO="color: black; background-color: lightblue; border-radius: 8px; padding: 2px 4px",A.WARNING="color: black; background-color: yellow; border-radius: 8px; padding: 2px 4px",A.ERROR="color: white; background-color: red; border-radius: 8px; padding: 2px 4px",A.PRODUCT="color: white; background-color: blueviolet; border-radius: 8px; padding: 2px 4px"})(StyleLogs||(StyleLogs={}));class Logger{static printDebug(c,...u){if(LoggerLevel.DEBUG>=Logger.currentLoggingLevel){let p=`%cdebug%c %c${Logger.loggerTag} ${c}%c

`;const I=u.map(R=>typeof R=="object"&&R!==null?Logger.isDebug?R:JSON.stringify(R,null,2):R);p+=I.filter(R=>typeof R=="string").join(" ");const m=[StyleLogs.DEBUG,"color: inherit;",StyleLogs.PRODUCT,"color: inherit;"];Logger.isDebug?(console.groupCollapsed(p,...m,...I.filter(R=>typeof R=="object")),console.trace(),console.groupEnd()):console.debug(p,...m)}}static printInfo(c,...u){LoggerLevel.INFO>=Logger.currentLoggingLevel&&console.info(`%cinfo%c %c${Logger.loggerTag} ${c}%c

 ${u}`,StyleLogs.INFO,"color: inherit;",StyleLogs.PRODUCT,"color: inherit;")}static printWarning(c,...u){LoggerLevel.WARNING>=Logger.currentLoggingLevel&&console.warn(`%cwarn%c %c${Logger.loggerTag} ${c}%c

 ${u}`,StyleLogs.WARNING,"color: inherit;",StyleLogs.PRODUCT,"color: inherit;")}static printError(c,...u){LoggerLevel.ERROR>=Logger.currentLoggingLevel&&console.error(`%cerror%c %c${Logger.loggerTag} ${c}%c

 ${u}`,StyleLogs.ERROR,"color: inherit;",StyleLogs.PRODUCT,"color: inherit;")}static setLoggerLevel(c){Logger.currentLoggingLevel=c}static setLoggerTag(c){Logger.loggerTag=c}static setDebugMode(c){Logger.isDebug=c}}Logger.loggerTag="";Logger.currentLoggingLevel=LoggerLevel.WARNING;Logger.isDebug=!1;/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */var byteToHex$1=[];for(var i$1=0;i$1<256;++i$1)byteToHex$1.push((i$1+256).toString(16).slice(1));function unsafeStringify(A,c=0){return(byteToHex$1[A[c+0]]+byteToHex$1[A[c+1]]+byteToHex$1[A[c+2]]+byteToHex$1[A[c+3]]+"-"+byteToHex$1[A[c+4]]+byteToHex$1[A[c+5]]+"-"+byteToHex$1[A[c+6]]+byteToHex$1[A[c+7]]+"-"+byteToHex$1[A[c+8]]+byteToHex$1[A[c+9]]+"-"+byteToHex$1[A[c+10]]+byteToHex$1[A[c+11]]+byteToHex$1[A[c+12]]+byteToHex$1[A[c+13]]+byteToHex$1[A[c+14]]+byteToHex$1[A[c+15]]).toLowerCase()}var getRandomValues$1,rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}var randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const native={randomUUID};function v4$1(A,c,u){if(native.randomUUID&&!A)return native.randomUUID();A=A||{};var p=A.random||(A.rng||rng$1)();return p[6]=p[6]&15|64,p[8]=p[8]&63|128,unsafeStringify(p)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(A,c){for(var u=new Array(arguments.length-1),p=0,I=2,m=!0;I<arguments.length;)u[p++]=arguments[I++];return new Promise(function(S,N){u[p]=function(D){if(m)if(m=!1,D)N(D);else{for(var k=new Array(arguments.length-1),O=0;O<k.length;)k[O++]=arguments[O];S.apply(null,k)}};try{A.apply(c||null,u)}catch(B){m&&(m=!1,N(B))}})}var base64$1={};(function(A){var c=A;c.length=function(S){var N=S.length;if(!N)return 0;for(var B=0;--N%4>1&&S.charAt(N)==="=";)++B;return Math.ceil(S.length*3)/4-B};for(var u=new Array(64),p=new Array(123),I=0;I<64;)p[u[I]=I<26?I+65:I<52?I+71:I<62?I-4:I-59|43]=I++;c.encode=function(S,N,B){for(var D=null,k=[],O=0,P=0,x;N<B;){var H=S[N++];switch(P){case 0:k[O++]=u[H>>2],x=(H&3)<<4,P=1;break;case 1:k[O++]=u[x|H>>4],x=(H&15)<<2,P=2;break;case 2:k[O++]=u[x|H>>6],k[O++]=u[H&63],P=0;break}O>8191&&((D||(D=[])).push(String.fromCharCode.apply(String,k)),O=0)}return P&&(k[O++]=u[x],k[O++]=61,P===1&&(k[O++]=61)),D?(O&&D.push(String.fromCharCode.apply(String,k.slice(0,O))),D.join("")):String.fromCharCode.apply(String,k.slice(0,O))};var m="invalid encoding";c.decode=function(S,N,B){for(var D=B,k=0,O,P=0;P<S.length;){var x=S.charCodeAt(P++);if(x===61&&k>1)break;if((x=p[x])===void 0)throw Error(m);switch(k){case 0:O=x,k=1;break;case 1:N[B++]=O<<2|(x&48)>>4,O=x,k=2;break;case 2:N[B++]=(O&15)<<4|(x&60)>>2,O=x,k=3;break;case 3:N[B++]=(O&3)<<6|x,k=0;break}}if(k===1)throw Error(m);return B-D},c.test=function(S){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(S)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(c,u,p){return(this._listeners[c]||(this._listeners[c]=[])).push({fn:u,ctx:p||this}),this};EventEmitter.prototype.off=function(c,u){if(c===void 0)this._listeners={};else if(u===void 0)this._listeners[c]=[];else for(var p=this._listeners[c],I=0;I<p.length;)p[I].fn===u?p.splice(I,1):++I;return this};EventEmitter.prototype.emit=function(c){var u=this._listeners[c];if(u){for(var p=[],I=1;I<arguments.length;)p.push(arguments[I++]);for(I=0;I<u.length;)u[I].fn.apply(u[I++].ctx,p)}return this};var float=factory(factory);function factory(A){return typeof Float32Array<"u"?function(){var c=new Float32Array([-0]),u=new Uint8Array(c.buffer),p=u[3]===128;function I(N,B,D){c[0]=N,B[D]=u[0],B[D+1]=u[1],B[D+2]=u[2],B[D+3]=u[3]}function m(N,B,D){c[0]=N,B[D]=u[3],B[D+1]=u[2],B[D+2]=u[1],B[D+3]=u[0]}A.writeFloatLE=p?I:m,A.writeFloatBE=p?m:I;function R(N,B){return u[0]=N[B],u[1]=N[B+1],u[2]=N[B+2],u[3]=N[B+3],c[0]}function S(N,B){return u[3]=N[B],u[2]=N[B+1],u[1]=N[B+2],u[0]=N[B+3],c[0]}A.readFloatLE=p?R:S,A.readFloatBE=p?S:R}():function(){function c(p,I,m,R){var S=I<0?1:0;if(S&&(I=-I),I===0)p(1/I>0?0:2147483648,m,R);else if(isNaN(I))p(2143289344,m,R);else if(I>34028234663852886e22)p((S<<31|2139095040)>>>0,m,R);else if(I<11754943508222875e-54)p((S<<31|Math.round(I/1401298464324817e-60))>>>0,m,R);else{var N=Math.floor(Math.log(I)/Math.LN2),B=Math.round(I*Math.pow(2,-N)*8388608)&8388607;p((S<<31|N+127<<23|B)>>>0,m,R)}}A.writeFloatLE=c.bind(null,writeUintLE),A.writeFloatBE=c.bind(null,writeUintBE);function u(p,I,m){var R=p(I,m),S=(R>>31)*2+1,N=R>>>23&255,B=R&8388607;return N===255?B?NaN:S*(1/0):N===0?S*1401298464324817e-60*B:S*Math.pow(2,N-150)*(B+8388608)}A.readFloatLE=u.bind(null,readUintLE),A.readFloatBE=u.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var c=new Float64Array([-0]),u=new Uint8Array(c.buffer),p=u[7]===128;function I(N,B,D){c[0]=N,B[D]=u[0],B[D+1]=u[1],B[D+2]=u[2],B[D+3]=u[3],B[D+4]=u[4],B[D+5]=u[5],B[D+6]=u[6],B[D+7]=u[7]}function m(N,B,D){c[0]=N,B[D]=u[7],B[D+1]=u[6],B[D+2]=u[5],B[D+3]=u[4],B[D+4]=u[3],B[D+5]=u[2],B[D+6]=u[1],B[D+7]=u[0]}A.writeDoubleLE=p?I:m,A.writeDoubleBE=p?m:I;function R(N,B){return u[0]=N[B],u[1]=N[B+1],u[2]=N[B+2],u[3]=N[B+3],u[4]=N[B+4],u[5]=N[B+5],u[6]=N[B+6],u[7]=N[B+7],c[0]}function S(N,B){return u[7]=N[B],u[6]=N[B+1],u[5]=N[B+2],u[4]=N[B+3],u[3]=N[B+4],u[2]=N[B+5],u[1]=N[B+6],u[0]=N[B+7],c[0]}A.readDoubleLE=p?R:S,A.readDoubleBE=p?S:R}():function(){function c(p,I,m,R,S,N){var B=R<0?1:0;if(B&&(R=-R),R===0)p(0,S,N+I),p(1/R>0?0:2147483648,S,N+m);else if(isNaN(R))p(0,S,N+I),p(2146959360,S,N+m);else if(R>17976931348623157e292)p(0,S,N+I),p((B<<31|2146435072)>>>0,S,N+m);else{var D;if(R<22250738585072014e-324)D=R/5e-324,p(D>>>0,S,N+I),p((B<<31|D/4294967296)>>>0,S,N+m);else{var k=Math.floor(Math.log(R)/Math.LN2);k===1024&&(k=1023),D=R*Math.pow(2,-k),p(D*4503599627370496>>>0,S,N+I),p((B<<31|k+1023<<20|D*1048576&1048575)>>>0,S,N+m)}}}A.writeDoubleLE=c.bind(null,writeUintLE,0,4),A.writeDoubleBE=c.bind(null,writeUintBE,4,0);function u(p,I,m,R,S){var N=p(R,S+I),B=p(R,S+m),D=(B>>31)*2+1,k=B>>>20&2047,O=4294967296*(B&1048575)+N;return k===2047?O?NaN:D*(1/0):k===0?D*5e-324*O:D*Math.pow(2,k-1075)*(O+4503599627370496)}A.readDoubleLE=u.bind(null,readUintLE,0,4),A.readDoubleBE=u.bind(null,readUintBE,4,0)}(),A}function writeUintLE(A,c,u){c[u]=A&255,c[u+1]=A>>>8&255,c[u+2]=A>>>16&255,c[u+3]=A>>>24}function writeUintBE(A,c,u){c[u]=A>>>24,c[u+1]=A>>>16&255,c[u+2]=A>>>8&255,c[u+3]=A&255}function readUintLE(A,c){return(A[c]|A[c+1]<<8|A[c+2]<<16|A[c+3]<<24)>>>0}function readUintBE(A,c){return(A[c]<<24|A[c+1]<<16|A[c+2]<<8|A[c+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(A){}return null}var utf8$2={};(function(A){var c=A;c.length=function(p){for(var I=0,m=0,R=0;R<p.length;++R)m=p.charCodeAt(R),m<128?I+=1:m<2048?I+=2:(m&64512)===55296&&(p.charCodeAt(R+1)&64512)===56320?(++R,I+=4):I+=3;return I},c.read=function(p,I,m){var R=m-I;if(R<1)return"";for(var S=null,N=[],B=0,D;I<m;)D=p[I++],D<128?N[B++]=D:D>191&&D<224?N[B++]=(D&31)<<6|p[I++]&63:D>239&&D<365?(D=((D&7)<<18|(p[I++]&63)<<12|(p[I++]&63)<<6|p[I++]&63)-65536,N[B++]=55296+(D>>10),N[B++]=56320+(D&1023)):N[B++]=(D&15)<<12|(p[I++]&63)<<6|p[I++]&63,B>8191&&((S||(S=[])).push(String.fromCharCode.apply(String,N)),B=0);return S?(B&&S.push(String.fromCharCode.apply(String,N.slice(0,B))),S.join("")):String.fromCharCode.apply(String,N.slice(0,B))},c.write=function(p,I,m){for(var R=m,S,N,B=0;B<p.length;++B)S=p.charCodeAt(B),S<128?I[m++]=S:S<2048?(I[m++]=S>>6|192,I[m++]=S&63|128):(S&64512)===55296&&((N=p.charCodeAt(B+1))&64512)===56320?(S=65536+((S&1023)<<10)+(N&1023),++B,I[m++]=S>>18|240,I[m++]=S>>12&63|128,I[m++]=S>>6&63|128,I[m++]=S&63|128):(I[m++]=S>>12|224,I[m++]=S>>6&63|128,I[m++]=S&63|128);return m-R}})(utf8$2);var pool_1=pool;function pool(A,c,u){var p=u||8192,I=p>>>1,m=null,R=p;return function(N){if(N<1||N>I)return A(N);R+N>p&&(m=A(p),R=0);var B=c.call(m,R,R+=N);return R&7&&(R=(R|7)+1),B}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=c;var A=requireMinimal();function c(m,R){this.lo=m>>>0,this.hi=R>>>0}var u=c.zero=new c(0,0);u.toNumber=function(){return 0},u.zzEncode=u.zzDecode=function(){return this},u.length=function(){return 1};var p=c.zeroHash="\0\0\0\0\0\0\0\0";c.fromNumber=function(R){if(R===0)return u;var S=R<0;S&&(R=-R);var N=R>>>0,B=(R-N)/4294967296>>>0;return S&&(B=~B>>>0,N=~N>>>0,++N>4294967295&&(N=0,++B>4294967295&&(B=0))),new c(N,B)},c.from=function(R){if(typeof R=="number")return c.fromNumber(R);if(A.isString(R))if(A.Long)R=A.Long.fromString(R);else return c.fromNumber(parseInt(R,10));return R.low||R.high?new c(R.low>>>0,R.high>>>0):u},c.prototype.toNumber=function(R){if(!R&&this.hi>>>31){var S=~this.lo+1>>>0,N=~this.hi>>>0;return S||(N=N+1>>>0),-(S+N*4294967296)}return this.lo+this.hi*4294967296},c.prototype.toLong=function(R){return A.Long?new A.Long(this.lo|0,this.hi|0,!!R):{low:this.lo|0,high:this.hi|0,unsigned:!!R}};var I=String.prototype.charCodeAt;return c.fromHash=function(R){return R===p?u:new c((I.call(R,0)|I.call(R,1)<<8|I.call(R,2)<<16|I.call(R,3)<<24)>>>0,(I.call(R,4)|I.call(R,5)<<8|I.call(R,6)<<16|I.call(R,7)<<24)>>>0)},c.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},c.prototype.zzEncode=function(){var R=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^R)>>>0,this.lo=(this.lo<<1^R)>>>0,this},c.prototype.zzDecode=function(){var R=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^R)>>>0,this.hi=(this.hi>>>1^R)>>>0,this},c.prototype.length=function(){var R=this.lo,S=(this.lo>>>28|this.hi<<4)>>>0,N=this.hi>>>24;return N===0?S===0?R<16384?R<128?1:2:R<2097152?3:4:S<16384?S<128?5:6:S<2097152?7:8:N<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(A){var c=A;c.asPromise=aspromise,c.base64=base64$1,c.EventEmitter=eventemitter,c.float=float,c.inquire=inquire_1,c.utf8=utf8$2,c.pool=pool_1,c.LongBits=requireLongbits(),c.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),c.global=c.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,c.emptyArray=Object.freeze?Object.freeze([]):[],c.emptyObject=Object.freeze?Object.freeze({}):{},c.isInteger=Number.isInteger||function(m){return typeof m=="number"&&isFinite(m)&&Math.floor(m)===m},c.isString=function(m){return typeof m=="string"||m instanceof String},c.isObject=function(m){return m&&typeof m=="object"},c.isset=c.isSet=function(m,R){var S=m[R];return S!=null&&m.hasOwnProperty(R)?typeof S!="object"||(Array.isArray(S)?S.length:Object.keys(S).length)>0:!1},c.Buffer=function(){try{var I=c.inquire("buffer").Buffer;return I.prototype.utf8Write?I:null}catch{return null}}(),c._Buffer_from=null,c._Buffer_allocUnsafe=null,c.newBuffer=function(m){return typeof m=="number"?c.Buffer?c._Buffer_allocUnsafe(m):new c.Array(m):c.Buffer?c._Buffer_from(m):typeof Uint8Array>"u"?m:new Uint8Array(m)},c.Array=typeof Uint8Array<"u"?Uint8Array:Array,c.Long=c.global.dcodeIO&&c.global.dcodeIO.Long||c.global.Long||c.inquire("long"),c.key2Re=/^true|false|0|1$/,c.key32Re=/^-?(?:0|[1-9][0-9]*)$/,c.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,c.longToHash=function(m){return m?c.LongBits.from(m).toHash():c.LongBits.zeroHash},c.longFromHash=function(m,R){var S=c.LongBits.fromHash(m);return c.Long?c.Long.fromBits(S.lo,S.hi,R):S.toNumber(!!R)};function u(I,m,R){for(var S=Object.keys(m),N=0;N<S.length;++N)(I[S[N]]===void 0||!R)&&(I[S[N]]=m[S[N]]);return I}c.merge=u,c.lcFirst=function(m){return m.charAt(0).toLowerCase()+m.substring(1)};function p(I){function m(R,S){if(!(this instanceof m))return new m(R,S);Object.defineProperty(this,"message",{get:function(){return R}}),Error.captureStackTrace?Error.captureStackTrace(this,m):Object.defineProperty(this,"stack",{value:new Error().stack||""}),S&&u(this,S)}return m.prototype=Object.create(Error.prototype,{constructor:{value:m,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return I},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),m}c.newError=p,c.ProtocolError=p("ProtocolError"),c.oneOfGetter=function(m){for(var R={},S=0;S<m.length;++S)R[m[S]]=1;return function(){for(var N=Object.keys(this),B=N.length-1;B>-1;--B)if(R[N[B]]===1&&this[N[B]]!==void 0&&this[N[B]]!==null)return N[B]}},c.oneOfSetter=function(m){return function(R){for(var S=0;S<m.length;++S)m[S]!==R&&delete this[m[S]]}},c.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},c._configure=function(){var I=c.Buffer;if(!I){c._Buffer_from=c._Buffer_allocUnsafe=null;return}c._Buffer_from=I.from!==Uint8Array.from&&I.from||function(R,S){return new I(R,S)},c._Buffer_allocUnsafe=I.allocUnsafe||function(R){return new I(R)}}}(minimal)),minimal}var writer=Writer$1,util$7=requireMinimal(),BufferWriter$1,LongBits$1=util$7.LongBits,base64=util$7.base64,utf8$1=util$7.utf8;function Op(A,c,u){this.fn=A,this.len=c,this.next=void 0,this.val=u}function noop(){}function State$1(A){this.head=A.head,this.tail=A.tail,this.len=A.len,this.next=A.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function A(){return util$7.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function A(c){return new util$7.Array(c)};util$7.Array!==Array&&(Writer$1.alloc=util$7.pool(Writer$1.alloc,util$7.Array.prototype.subarray));Writer$1.prototype._push=function A(c,u,p){return this.tail=this.tail.next=new Op(c,u,p),this.len+=u,this};function writeByte(A,c,u){c[u]=A&255}function writeVarint32(A,c,u){for(;A>127;)c[u++]=A&127|128,A>>>=7;c[u]=A}function VarintOp(A,c){this.len=A,this.next=void 0,this.val=c}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function A(c){return this.len+=(this.tail=this.tail.next=new VarintOp((c=c>>>0)<128?1:c<16384?2:c<2097152?3:c<268435456?4:5,c)).len,this};Writer$1.prototype.int32=function A(c){return c<0?this._push(writeVarint64,10,LongBits$1.fromNumber(c)):this.uint32(c)};Writer$1.prototype.sint32=function A(c){return this.uint32((c<<1^c>>31)>>>0)};function writeVarint64(A,c,u){for(;A.hi;)c[u++]=A.lo&127|128,A.lo=(A.lo>>>7|A.hi<<25)>>>0,A.hi>>>=7;for(;A.lo>127;)c[u++]=A.lo&127|128,A.lo=A.lo>>>7;c[u++]=A.lo}Writer$1.prototype.uint64=function A(c){var u=LongBits$1.from(c);return this._push(writeVarint64,u.length(),u)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function A(c){var u=LongBits$1.from(c).zzEncode();return this._push(writeVarint64,u.length(),u)};Writer$1.prototype.bool=function A(c){return this._push(writeByte,1,c?1:0)};function writeFixed32(A,c,u){c[u]=A&255,c[u+1]=A>>>8&255,c[u+2]=A>>>16&255,c[u+3]=A>>>24}Writer$1.prototype.fixed32=function A(c){return this._push(writeFixed32,4,c>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function A(c){var u=LongBits$1.from(c);return this._push(writeFixed32,4,u.lo)._push(writeFixed32,4,u.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function A(c){return this._push(util$7.float.writeFloatLE,4,c)};Writer$1.prototype.double=function A(c){return this._push(util$7.float.writeDoubleLE,8,c)};var writeBytes=util$7.Array.prototype.set?function A(c,u,p){u.set(c,p)}:function A(c,u,p){for(var I=0;I<c.length;++I)u[p+I]=c[I]};Writer$1.prototype.bytes=function A(c){var u=c.length>>>0;if(!u)return this._push(writeByte,1,0);if(util$7.isString(c)){var p=Writer$1.alloc(u=base64.length(c));base64.decode(c,p,0),c=p}return this.uint32(u)._push(writeBytes,u,c)};Writer$1.prototype.string=function A(c){var u=utf8$1.length(c);return u?this.uint32(u)._push(utf8$1.write,u,c):this._push(writeByte,1,0)};Writer$1.prototype.fork=function A(){return this.states=new State$1(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function A(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function A(){var c=this.head,u=this.tail,p=this.len;return this.reset().uint32(p),p&&(this.tail.next=c.next,this.tail=u,this.len+=p),this};Writer$1.prototype.finish=function A(){for(var c=this.head.next,u=this.constructor.alloc(this.len),p=0;c;)c.fn(c.val,u,p),p+=c.len,c=c.next;return u};Writer$1._configure=function(A){BufferWriter$1=A,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$6=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$6._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$6.Buffer&&util$6.Buffer.prototype instanceof Uint8Array&&util$6.Buffer.prototype.set.name==="set"?function(c,u,p){u.set(c,p)}:function(c,u,p){if(c.copy)c.copy(u,p,0,c.length);else for(var I=0;I<c.length;)u[p++]=c[I++]}};BufferWriter.prototype.bytes=function A(c){util$6.isString(c)&&(c=util$6._Buffer_from(c,"base64"));var u=c.length>>>0;return this.uint32(u),u&&this._push(BufferWriter.writeBytesBuffer,u,c),this};function writeStringBuffer(A,c,u){A.length<40?util$6.utf8.write(A,c,u):c.utf8Write?c.utf8Write(A,u):c.write(A,u)}BufferWriter.prototype.string=function A(c){var u=util$6.Buffer.byteLength(c);return this.uint32(u),u&&this._push(writeStringBuffer,u,c),this};BufferWriter._configure();var reader=Reader$1,util$5=requireMinimal(),BufferReader$1,LongBits=util$5.LongBits,utf8=util$5.utf8;function indexOutOfRange(A,c){return RangeError("index out of range: "+A.pos+" + "+(c||1)+" > "+A.len)}function Reader$1(A){this.buf=A,this.pos=0,this.len=A.length}var create_array=typeof Uint8Array<"u"?function A(c){if(c instanceof Uint8Array||Array.isArray(c))return new Reader$1(c);throw Error("illegal buffer")}:function A(c){if(Array.isArray(c))return new Reader$1(c);throw Error("illegal buffer")},create=function A(){return util$5.Buffer?function(u){return(Reader$1.create=function(I){return util$5.Buffer.isBuffer(I)?new BufferReader$1(I):create_array(I)})(u)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$5.Array.prototype.subarray||util$5.Array.prototype.slice;Reader$1.prototype.uint32=function A(){var c=4294967295;return function(){if(c=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(c=(c|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return c;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return c}}();Reader$1.prototype.int32=function A(){return this.uint32()|0};Reader$1.prototype.sint32=function A(){var c=this.uint32();return c>>>1^-(c&1)|0};function readLongVarint(){var A=new LongBits(0,0),c=0;if(this.len-this.pos>4){for(;c<4;++c)if(A.lo=(A.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return A;if(A.lo=(A.lo|(this.buf[this.pos]&127)<<28)>>>0,A.hi=(A.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return A;c=0}else{for(;c<3;++c){if(this.pos>=this.len)throw indexOutOfRange(this);if(A.lo=(A.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return A}return A.lo=(A.lo|(this.buf[this.pos++]&127)<<c*7)>>>0,A}if(this.len-this.pos>4){for(;c<5;++c)if(A.hi=(A.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return A}else for(;c<5;++c){if(this.pos>=this.len)throw indexOutOfRange(this);if(A.hi=(A.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return A}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function A(){return this.uint32()!==0};function readFixed32_end(A,c){return(A[c-4]|A[c-3]<<8|A[c-2]<<16|A[c-1]<<24)>>>0}Reader$1.prototype.fixed32=function A(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function A(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function A(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var c=util$5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,c};Reader$1.prototype.double=function A(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var c=util$5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,c};Reader$1.prototype.bytes=function A(){var c=this.uint32(),u=this.pos,p=this.pos+c;if(p>this.len)throw indexOutOfRange(this,c);if(this.pos+=c,Array.isArray(this.buf))return this.buf.slice(u,p);if(u===p){var I=util$5.Buffer;return I?I.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,u,p)};Reader$1.prototype.string=function A(){var c=this.bytes();return utf8.read(c,0,c.length)};Reader$1.prototype.skip=function A(c){if(typeof c=="number"){if(this.pos+c>this.len)throw indexOutOfRange(this,c);this.pos+=c}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(A){switch(A){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(A=this.uint32()&7)!==4;)this.skipType(A);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+A+" at offset "+this.pos)}return this};Reader$1._configure=function(A){BufferReader$1=A,Reader$1.create=create(),BufferReader$1._configure();var c=util$5.Long?"toLong":"toNumber";util$5.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[c](!1)},uint64:function(){return readLongVarint.call(this)[c](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[c](!1)},fixed64:function(){return readFixed64.call(this)[c](!0)},sfixed64:function(){return readFixed64.call(this)[c](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$4=requireMinimal();function BufferReader(A){Reader.call(this,A)}BufferReader._configure=function(){util$4.Buffer&&(BufferReader.prototype._slice=util$4.Buffer.prototype.slice)};BufferReader.prototype.string=function A(){var c=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+c,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+c,this.len))};BufferReader._configure();var rpc={},service$1=Service$1,util$3=requireMinimal();(Service$1.prototype=Object.create(util$3.EventEmitter.prototype)).constructor=Service$1;function Service$1(A,c,u){if(typeof A!="function")throw TypeError("rpcImpl must be a function");util$3.EventEmitter.call(this),this.rpcImpl=A,this.requestDelimited=!!c,this.responseDelimited=!!u}Service$1.prototype.rpcCall=function A(c,u,p,I,m){if(!I)throw TypeError("request must be specified");var R=this;if(!m)return util$3.asPromise(A,R,c,u,p,I);if(!R.rpcImpl){setTimeout(function(){m(Error("already ended"))},0);return}try{return R.rpcImpl(c,u[R.requestDelimited?"encodeDelimited":"encode"](I).finish(),function(N,B){if(N)return R.emit("error",N,c),m(N);if(B===null){R.end(!0);return}if(!(B instanceof p))try{B=p[R.responseDelimited?"decodeDelimited":"decode"](B)}catch(D){return R.emit("error",D,c),m(D)}return R.emit("data",B,c),m(null,B)})}catch(S){R.emit("error",S,c),setTimeout(function(){m(S)},0);return}};Service$1.prototype.end=function A(c){return this.rpcImpl&&(c||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(A){var c=A;c.Service=service$1})(rpc);var roots={};(function(A){var c=A;c.build="minimal",c.Writer=writer,c.BufferWriter=writer_buffer,c.Reader=reader,c.BufferReader=reader_buffer,c.util=requireMinimal(),c.rpc=rpc,c.roots=roots,c.configure=u;function u(){c.util._configure(),c.Writer._configure(c.BufferWriter),c.Reader._configure(c.BufferReader)}u()})(indexMinimal);var util$2={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=A;function A(c,u){typeof c=="string"&&(u=c,c=void 0);var p=[];function I(R){if(typeof R!="string"){var S=m();if(A.verbose&&console.log("codegen: "+S),S="return "+S,R){for(var N=Object.keys(R),B=new Array(N.length+1),D=new Array(N.length),k=0;k<N.length;)B[k]=N[k],D[k]=R[N[k++]];return B[k]=S,Function.apply(null,B).apply(null,D)}return Function(S)()}for(var O=new Array(arguments.length-1),P=0;P<O.length;)O[P]=arguments[++P];if(P=0,R=R.replace(/%([%dfijs])/g,function(H,Ae){var q=O[P++];switch(Ae){case"d":case"f":return String(Number(q));case"i":return String(Math.floor(q));case"j":return JSON.stringify(q);case"s":return String(q)}return"%"}),P!==O.length)throw Error("parameter count mismatch");return p.push(R),I}function m(R){return"function "+(R||u||"")+"("+(c&&c.join(",")||"")+`){
  `+p.join(`
  `)+`
}`}return I.toString=m,I}return A.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=p;var A=aspromise,c=inquire_1,u=c("fs");function p(I,m,R){return typeof m=="function"?(R=m,m={}):m||(m={}),R?!m.xhr&&u&&u.readFile?u.readFile(I,function(N,B){return N&&typeof XMLHttpRequest<"u"?p.xhr(I,m,R):N?R(N):R(null,m.binary?B:B.toString("utf8"))}):p.xhr(I,m,R):A(p,this,I,m)}return p.xhr=function(m,R,S){var N=new XMLHttpRequest;N.onreadystatechange=function(){if(N.readyState===4){if(N.status!==0&&N.status!==200)return S(Error("status "+N.status));if(R.binary){var D=N.response;if(!D){D=[];for(var k=0;k<N.responseText.length;++k)D.push(N.responseText.charCodeAt(k)&255)}return S(null,typeof Uint8Array<"u"?new Uint8Array(D):D)}return S(null,N.responseText)}},R.binary&&("overrideMimeType"in N&&N.overrideMimeType("text/plain; charset=x-user-defined"),N.responseType="arraybuffer"),N.open("GET",m),N.send()},fetch_1}var path$1={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(A){var c=A,u=c.isAbsolute=function(m){return/^(?:\/|\w+:)/.test(m)},p=c.normalize=function(m){m=m.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var R=m.split("/"),S=u(m),N="";S&&(N=R.shift()+"/");for(var B=0;B<R.length;)R[B]===".."?B>0&&R[B-1]!==".."?R.splice(--B,2):S?R.splice(B,1):++B:R[B]==="."?R.splice(B,1):++B;return N+R.join("/")};c.resolve=function(m,R,S){return S||(R=p(R)),u(R)?R:(S||(m=p(m)),(m=m.replace(/(?:\/|^)[^/]+$/,"")).length?p(m+"/"+R):R)}}(path$1)),path$1}var types$1={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(A){var c=A,u=requireUtil(),p=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function I(m,R){var S=0,N={};for(R|=0;S<m.length;)N[p[S+R]]=m[S++];return N}c.basic=I([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),c.defaults=I([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",u.emptyArray,null]),c.long=I([0,0,0,1,1],7),c.mapKey=I([0,0,0,5,5,0,0,0,1,1,0,2],2),c.packed=I([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$1)),types$1}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=R;var A=requireObject();((R.prototype=Object.create(A.prototype)).constructor=R).className="Field";var c=require_enum(),u=requireTypes(),p=requireUtil(),I,m=/^required|optional|repeated$/;R.fromJSON=function(N,B){return new R(N,B.id,B.type,B.rule,B.extend,B.options,B.comment)};function R(S,N,B,D,k,O,P){if(p.isObject(D)?(P=k,O=D,D=k=void 0):p.isObject(k)&&(P=O,O=k,k=void 0),A.call(this,S,O),!p.isInteger(N)||N<0)throw TypeError("id must be a non-negative integer");if(!p.isString(B))throw TypeError("type must be a string");if(D!==void 0&&!m.test(D=D.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(k!==void 0&&!p.isString(k))throw TypeError("extend must be a string");D==="proto3_optional"&&(D="optional"),this.rule=D&&D!=="optional"?D:void 0,this.type=B,this.id=N,this.extend=k||void 0,this.required=D==="required",this.optional=!this.required,this.repeated=D==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=p.Long?u.long[B]!==void 0:!1,this.bytes=B==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=P}return Object.defineProperty(R.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),R.prototype.setOption=function(N,B,D){return N==="packed"&&(this._packed=null),A.prototype.setOption.call(this,N,B,D)},R.prototype.toJSON=function(N){var B=N?!!N.keepComments:!1;return p.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",B?this.comment:void 0])},R.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=u.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof I?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof c&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof c))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=p.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var N;p.base64.test(this.typeDefault)?p.base64.decode(this.typeDefault,N=p.newBuffer(p.base64.length(this.typeDefault)),0):p.utf8.write(this.typeDefault,N=p.newBuffer(p.utf8.length(this.typeDefault)),0),this.typeDefault=N}return this.map?this.defaultValue=p.emptyObject:this.repeated?this.defaultValue=p.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof I&&(this.parent.ctor.prototype[this.name]=this.defaultValue),A.prototype.resolve.call(this)},R.d=function(N,B,D,k){return typeof B=="function"?B=p.decorateType(B).name:B&&typeof B=="object"&&(B=p.decorateEnum(B).name),function(P,x){p.decorateType(P.constructor).add(new R(x,N,B,D,{default:k}))}},R._configure=function(N){I=N},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=p;var A=requireObject();((p.prototype=Object.create(A.prototype)).constructor=p).className="OneOf";var c=requireField(),u=requireUtil();function p(m,R,S,N){if(Array.isArray(R)||(S=R,R=void 0),A.call(this,m,S),!(R===void 0||Array.isArray(R)))throw TypeError("fieldNames must be an Array");this.oneof=R||[],this.fieldsArray=[],this.comment=N}p.fromJSON=function(R,S){return new p(R,S.oneof,S.options,S.comment)},p.prototype.toJSON=function(R){var S=R?!!R.keepComments:!1;return u.toObject(["options",this.options,"oneof",this.oneof,"comment",S?this.comment:void 0])};function I(m){if(m.parent)for(var R=0;R<m.fieldsArray.length;++R)m.fieldsArray[R].parent||m.parent.add(m.fieldsArray[R])}return p.prototype.add=function(R){if(!(R instanceof c))throw TypeError("field must be a Field");return R.parent&&R.parent!==this.parent&&R.parent.remove(R),this.oneof.push(R.name),this.fieldsArray.push(R),R.partOf=this,I(this),this},p.prototype.remove=function(R){if(!(R instanceof c))throw TypeError("field must be a Field");var S=this.fieldsArray.indexOf(R);if(S<0)throw Error(R+" is not a member of "+this);return this.fieldsArray.splice(S,1),S=this.oneof.indexOf(R.name),S>-1&&this.oneof.splice(S,1),R.partOf=null,this},p.prototype.onAdd=function(R){A.prototype.onAdd.call(this,R);for(var S=this,N=0;N<this.oneof.length;++N){var B=R.get(this.oneof[N]);B&&!B.partOf&&(B.partOf=S,S.fieldsArray.push(B))}I(this)},p.prototype.onRemove=function(R){for(var S=0,N;S<this.fieldsArray.length;++S)(N=this.fieldsArray[S]).parent&&N.parent.remove(N);A.prototype.onRemove.call(this,R)},p.d=function(){for(var R=new Array(arguments.length),S=0;S<arguments.length;)R[S]=arguments[S++];return function(B,D){u.decorateType(B.constructor).add(new p(D,R)),Object.defineProperty(B,D,{get:u.oneOfGetter(R),set:u.oneOfSetter(R)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=N;var A=requireObject();((N.prototype=Object.create(A.prototype)).constructor=N).className="Namespace";var c=requireField(),u=requireUtil(),p=requireOneof(),I,m,R;N.fromJSON=function(k,O){return new N(k,O.options).addJSON(O.nested)};function S(D,k){if(D&&D.length){for(var O={},P=0;P<D.length;++P)O[D[P].name]=D[P].toJSON(k);return O}}N.arrayToJSON=S,N.isReservedId=function(k,O){if(k){for(var P=0;P<k.length;++P)if(typeof k[P]!="string"&&k[P][0]<=O&&k[P][1]>O)return!0}return!1},N.isReservedName=function(k,O){if(k){for(var P=0;P<k.length;++P)if(k[P]===O)return!0}return!1};function N(D,k){A.call(this,D,k),this.nested=void 0,this._nestedArray=null}function B(D){return D._nestedArray=null,D}return Object.defineProperty(N.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),N.prototype.toJSON=function(k){return u.toObject(["options",this.options,"nested",S(this.nestedArray,k)])},N.prototype.addJSON=function(k){var O=this;if(k)for(var P=Object.keys(k),x=0,H;x<P.length;++x)H=k[P[x]],O.add((H.fields!==void 0?I.fromJSON:H.values!==void 0?R.fromJSON:H.methods!==void 0?m.fromJSON:H.id!==void 0?c.fromJSON:N.fromJSON)(P[x],H));return this},N.prototype.get=function(k){return this.nested&&this.nested[k]||null},N.prototype.getEnum=function(k){if(this.nested&&this.nested[k]instanceof R)return this.nested[k].values;throw Error("no such enum: "+k)},N.prototype.add=function(k){if(!(k instanceof c&&k.extend!==void 0||k instanceof I||k instanceof p||k instanceof R||k instanceof m||k instanceof N))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var O=this.get(k.name);if(O)if(O instanceof N&&k instanceof N&&!(O instanceof I||O instanceof m)){for(var P=O.nestedArray,x=0;x<P.length;++x)k.add(P[x]);this.remove(O),this.nested||(this.nested={}),k.setOptions(O.options,!0)}else throw Error("duplicate name '"+k.name+"' in "+this)}return this.nested[k.name]=k,k.onAdd(this),B(this)},N.prototype.remove=function(k){if(!(k instanceof A))throw TypeError("object must be a ReflectionObject");if(k.parent!==this)throw Error(k+" is not a member of "+this);return delete this.nested[k.name],Object.keys(this.nested).length||(this.nested=void 0),k.onRemove(this),B(this)},N.prototype.define=function(k,O){if(u.isString(k))k=k.split(".");else if(!Array.isArray(k))throw TypeError("illegal path");if(k&&k.length&&k[0]==="")throw Error("path must be relative");for(var P=this;k.length>0;){var x=k.shift();if(P.nested&&P.nested[x]){if(P=P.nested[x],!(P instanceof N))throw Error("path conflicts with non-namespace objects")}else P.add(P=new N(x))}return O&&P.addJSON(O),P},N.prototype.resolveAll=function(){for(var k=this.nestedArray,O=0;O<k.length;)k[O]instanceof N?k[O++].resolveAll():k[O++].resolve();return this.resolve()},N.prototype.lookup=function(k,O,P){if(typeof O=="boolean"?(P=O,O=void 0):O&&!Array.isArray(O)&&(O=[O]),u.isString(k)&&k.length){if(k===".")return this.root;k=k.split(".")}else if(!k.length)return this;if(k[0]==="")return this.root.lookup(k.slice(1),O);var x=this.get(k[0]);if(x){if(k.length===1){if(!O||O.indexOf(x.constructor)>-1)return x}else if(x instanceof N&&(x=x.lookup(k.slice(1),O,!0)))return x}else for(var H=0;H<this.nestedArray.length;++H)if(this._nestedArray[H]instanceof N&&(x=this._nestedArray[H].lookup(k,O,!0)))return x;return this.parent===null||P?null:this.parent.lookup(k,O)},N.prototype.lookupType=function(k){var O=this.lookup(k,[I]);if(!O)throw Error("no such type: "+k);return O},N.prototype.lookupEnum=function(k){var O=this.lookup(k,[R]);if(!O)throw Error("no such Enum '"+k+"' in "+this);return O},N.prototype.lookupTypeOrEnum=function(k){var O=this.lookup(k,[I,R]);if(!O)throw Error("no such Type or Enum '"+k+"' in "+this);return O},N.prototype.lookupService=function(k){var O=this.lookup(k,[m]);if(!O)throw Error("no such Service '"+k+"' in "+this);return O},N._configure=function(D,k,O){I=D,m=k,R=O},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=p;var A=requireField();((p.prototype=Object.create(A.prototype)).constructor=p).className="MapField";var c=requireTypes(),u=requireUtil();function p(I,m,R,S,N,B){if(A.call(this,I,m,S,void 0,void 0,N,B),!u.isString(R))throw TypeError("keyType must be a string");this.keyType=R,this.resolvedKeyType=null,this.map=!0}return p.fromJSON=function(m,R){return new p(m,R.id,R.keyType,R.type,R.options,R.comment)},p.prototype.toJSON=function(m){var R=m?!!m.keepComments:!1;return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",R?this.comment:void 0])},p.prototype.resolve=function(){if(this.resolved)return this;if(c.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return A.prototype.resolve.call(this)},p.d=function(m,R,S){return typeof S=="function"?S=u.decorateType(S).name:S&&typeof S=="object"&&(S=u.decorateEnum(S).name),function(B,D){u.decorateType(B.constructor).add(new p(D,m,R,S))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=u;var A=requireObject();((u.prototype=Object.create(A.prototype)).constructor=u).className="Method";var c=requireUtil();function u(p,I,m,R,S,N,B,D,k){if(c.isObject(S)?(B=S,S=N=void 0):c.isObject(N)&&(B=N,N=void 0),!(I===void 0||c.isString(I)))throw TypeError("type must be a string");if(!c.isString(m))throw TypeError("requestType must be a string");if(!c.isString(R))throw TypeError("responseType must be a string");A.call(this,p,B),this.type=I||"rpc",this.requestType=m,this.requestStream=S?!0:void 0,this.responseType=R,this.responseStream=N?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=D,this.parsedOptions=k}return u.fromJSON=function(I,m){return new u(I,m.type,m.requestType,m.responseType,m.requestStream,m.responseStream,m.options,m.comment,m.parsedOptions)},u.prototype.toJSON=function(I){var m=I?!!I.keepComments:!1;return c.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",m?this.comment:void 0,"parsedOptions",this.parsedOptions])},u.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),A.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=I;var A=requireNamespace();((I.prototype=Object.create(A.prototype)).constructor=I).className="Service";var c=requireMethod(),u=requireUtil(),p=rpc;function I(R,S){A.call(this,R,S),this.methods={},this._methodsArray=null}I.fromJSON=function(S,N){var B=new I(S,N.options);if(N.methods)for(var D=Object.keys(N.methods),k=0;k<D.length;++k)B.add(c.fromJSON(D[k],N.methods[D[k]]));return N.nested&&B.addJSON(N.nested),B.comment=N.comment,B},I.prototype.toJSON=function(S){var N=A.prototype.toJSON.call(this,S),B=S?!!S.keepComments:!1;return u.toObject(["options",N&&N.options||void 0,"methods",A.arrayToJSON(this.methodsArray,S)||{},"nested",N&&N.nested||void 0,"comment",B?this.comment:void 0])},Object.defineProperty(I.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=u.toArray(this.methods))}});function m(R){return R._methodsArray=null,R}return I.prototype.get=function(S){return this.methods[S]||A.prototype.get.call(this,S)},I.prototype.resolveAll=function(){for(var S=this.methodsArray,N=0;N<S.length;++N)S[N].resolve();return A.prototype.resolve.call(this)},I.prototype.add=function(S){if(this.get(S.name))throw Error("duplicate name '"+S.name+"' in "+this);return S instanceof c?(this.methods[S.name]=S,S.parent=this,m(this)):A.prototype.add.call(this,S)},I.prototype.remove=function(S){if(S instanceof c){if(this.methods[S.name]!==S)throw Error(S+" is not a member of "+this);return delete this.methods[S.name],S.parent=null,m(this)}return A.prototype.remove.call(this,S)},I.prototype.create=function(S,N,B){for(var D=new p.Service(S,N,B),k=0,O;k<this.methodsArray.length;++k){var P=u.lcFirst((O=this._methodsArray[k]).resolve().name).replace(/[^$\w_]/g,"");D[P]=u.codegen(["r","c"],u.isReserved(P)?P+"_":P)("return this.rpcCall(m,q,s,r,c)")({m:O,q:O.resolvedRequestType.ctor,s:O.resolvedResponseType.ctor})}return D},service}var message=Message,util$1=requireMinimal();function Message(A){if(A)for(var c=Object.keys(A),u=0;u<c.length;++u)this[c[u]]=A[c[u]]}Message.create=function A(c){return this.$type.create(c)};Message.encode=function A(c,u){return this.$type.encode(c,u)};Message.encodeDelimited=function A(c,u){return this.$type.encodeDelimited(c,u)};Message.decode=function A(c){return this.$type.decode(c)};Message.decodeDelimited=function A(c){return this.$type.decodeDelimited(c)};Message.verify=function A(c){return this.$type.verify(c)};Message.fromObject=function A(c){return this.$type.fromObject(c)};Message.toObject=function A(c,u){return this.$type.toObject(c,u)};Message.prototype.toJSON=function A(){return this.$type.toObject(this,util$1.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=I;var A=require_enum(),c=requireTypes(),u=requireUtil();function p(m){return"missing required '"+m.name+"'"}function I(m){var R=u.codegen(["r","l"],m.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(m.fieldsArray.filter(function(O){return O.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");m.group&&R("if((t&7)===4)")("break"),R("switch(t>>>3){");for(var S=0;S<m.fieldsArray.length;++S){var N=m._fieldsArray[S].resolve(),B=N.resolvedType instanceof A?"int32":N.type,D="m"+u.safeProp(N.name);R("case %i: {",N.id),N.map?(R("if(%s===util.emptyObject)",D)("%s={}",D)("var c2 = r.uint32()+r.pos"),c.defaults[N.keyType]!==void 0?R("k=%j",c.defaults[N.keyType]):R("k=null"),c.defaults[B]!==void 0?R("value=%j",c.defaults[B]):R("value=null"),R("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",N.keyType)("case 2:"),c.basic[B]===void 0?R("value=types[%i].decode(r,r.uint32())",S):R("value=r.%s()",B),R("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),c.long[N.keyType]!==void 0?R('%s[typeof k==="object"?util.longToHash(k):k]=value',D):R("%s[k]=value",D)):N.repeated?(R("if(!(%s&&%s.length))",D,D)("%s=[]",D),c.packed[B]!==void 0&&R("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",D,B)("}else"),c.basic[B]===void 0?R(N.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",D,S):R("%s.push(r.%s())",D,B)):c.basic[B]===void 0?R(N.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",D,S):R("%s=r.%s()",D,B),R("break")("}")}for(R("default:")("r.skipType(t&7)")("break")("}")("}"),S=0;S<m._fieldsArray.length;++S){var k=m._fieldsArray[S];k.required&&R("if(!m.hasOwnProperty(%j))",k.name)("throw util.ProtocolError(%j,{instance:m})",p(k))}return R("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=m;var A=require_enum(),c=requireUtil();function u(R,S){return R.name+": "+S+(R.repeated&&S!=="array"?"[]":R.map&&S!=="object"?"{k:"+R.keyType+"}":"")+" expected"}function p(R,S,N,B){if(S.resolvedType)if(S.resolvedType instanceof A){R("switch(%s){",B)("default:")("return%j",u(S,"enum value"));for(var D=Object.keys(S.resolvedType.values),k=0;k<D.length;++k)R("case %i:",S.resolvedType.values[D[k]]);R("break")("}")}else R("{")("var e=types[%i].verify(%s);",N,B)("if(e)")("return%j+e",S.name+".")("}");else switch(S.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":R("if(!util.isInteger(%s))",B)("return%j",u(S,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":R("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",B,B,B,B)("return%j",u(S,"integer|Long"));break;case"float":case"double":R('if(typeof %s!=="number")',B)("return%j",u(S,"number"));break;case"bool":R('if(typeof %s!=="boolean")',B)("return%j",u(S,"boolean"));break;case"string":R("if(!util.isString(%s))",B)("return%j",u(S,"string"));break;case"bytes":R('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',B,B,B)("return%j",u(S,"buffer"));break}return R}function I(R,S,N){switch(S.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":R("if(!util.key32Re.test(%s))",N)("return%j",u(S,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":R("if(!util.key64Re.test(%s))",N)("return%j",u(S,"integer|Long key"));break;case"bool":R("if(!util.key2Re.test(%s))",N)("return%j",u(S,"boolean key"));break}return R}function m(R){var S=c.codegen(["m"],R.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),N=R.oneofsArray,B={};N.length&&S("var p={}");for(var D=0;D<R.fieldsArray.length;++D){var k=R._fieldsArray[D].resolve(),O="m"+c.safeProp(k.name);if(k.optional&&S("if(%s!=null&&m.hasOwnProperty(%j)){",O,k.name),k.map)S("if(!util.isObject(%s))",O)("return%j",u(k,"object"))("var k=Object.keys(%s)",O)("for(var i=0;i<k.length;++i){"),I(S,k,"k[i]"),p(S,k,D,O+"[k[i]]")("}");else if(k.repeated)S("if(!Array.isArray(%s))",O)("return%j",u(k,"array"))("for(var i=0;i<%s.length;++i){",O),p(S,k,D,O+"[i]")("}");else{if(k.partOf){var P=c.safeProp(k.partOf.name);B[k.partOf.name]===1&&S("if(p%s===1)",P)("return%j",k.partOf.name+": multiple values"),B[k.partOf.name]=1,S("p%s=1",P)}p(S,k,D,O)}k.optional&&S("}")}return S("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(A){var c=A,u=require_enum(),p=requireUtil();function I(R,S,N,B){var D=!1;if(S.resolvedType)if(S.resolvedType instanceof u){R("switch(d%s){",B);for(var k=S.resolvedType.values,O=Object.keys(k),P=0;P<O.length;++P)k[O[P]]===S.typeDefault&&!D&&(R("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',B,B,B),S.repeated||R("break"),D=!0),R("case%j:",O[P])("case %i:",k[O[P]])("m%s=%j",B,k[O[P]])("break");R("}")}else R('if(typeof d%s!=="object")',B)("throw TypeError(%j)",S.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",B,N,B);else{var x=!1;switch(S.type){case"double":case"float":R("m%s=Number(d%s)",B,B);break;case"uint32":case"fixed32":R("m%s=d%s>>>0",B,B);break;case"int32":case"sint32":case"sfixed32":R("m%s=d%s|0",B,B);break;case"uint64":x=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":R("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",B,B,x)('else if(typeof d%s==="string")',B)("m%s=parseInt(d%s,10)",B,B)('else if(typeof d%s==="number")',B)("m%s=d%s",B,B)('else if(typeof d%s==="object")',B)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",B,B,B,x?"true":"");break;case"bytes":R('if(typeof d%s==="string")',B)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",B,B,B)("else if(d%s.length >= 0)",B)("m%s=d%s",B,B);break;case"string":R("m%s=String(d%s)",B,B);break;case"bool":R("m%s=Boolean(d%s)",B,B);break}}return R}c.fromObject=function(S){var N=S.fieldsArray,B=p.codegen(["d"],S.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!N.length)return B("return new this.ctor");B("var m=new this.ctor");for(var D=0;D<N.length;++D){var k=N[D].resolve(),O=p.safeProp(k.name);k.map?(B("if(d%s){",O)('if(typeof d%s!=="object")',O)("throw TypeError(%j)",k.fullName+": object expected")("m%s={}",O)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",O),I(B,k,D,O+"[ks[i]]")("}")("}")):k.repeated?(B("if(d%s){",O)("if(!Array.isArray(d%s))",O)("throw TypeError(%j)",k.fullName+": array expected")("m%s=[]",O)("for(var i=0;i<d%s.length;++i){",O),I(B,k,D,O+"[i]")("}")("}")):(k.resolvedType instanceof u||B("if(d%s!=null){",O),I(B,k,D,O),k.resolvedType instanceof u||B("}"))}return B("return m")};function m(R,S,N,B){if(S.resolvedType)S.resolvedType instanceof u?R("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",B,N,B,B,N,B,B):R("d%s=types[%i].toObject(m%s,o)",B,N,B);else{var D=!1;switch(S.type){case"double":case"float":R("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",B,B,B,B);break;case"uint64":D=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":R('if(typeof m%s==="number")',B)("d%s=o.longs===String?String(m%s):m%s",B,B,B)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",B,B,B,B,D?"true":"",B);break;case"bytes":R("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",B,B,B,B,B);break;default:R("d%s=m%s",B,B);break}}return R}c.toObject=function(S){var N=S.fieldsArray.slice().sort(p.compareFieldsById);if(!N.length)return p.codegen()("return {}");for(var B=p.codegen(["m","o"],S.name+"$toObject")("if(!o)")("o={}")("var d={}"),D=[],k=[],O=[],P=0;P<N.length;++P)N[P].partOf||(N[P].resolve().repeated?D:N[P].map?k:O).push(N[P]);if(D.length){for(B("if(o.arrays||o.defaults){"),P=0;P<D.length;++P)B("d%s=[]",p.safeProp(D[P].name));B("}")}if(k.length){for(B("if(o.objects||o.defaults){"),P=0;P<k.length;++P)B("d%s={}",p.safeProp(k[P].name));B("}")}if(O.length){for(B("if(o.defaults){"),P=0;P<O.length;++P){var x=O[P],H=p.safeProp(x.name);if(x.resolvedType instanceof u)B("d%s=o.enums===String?%j:%j",H,x.resolvedType.valuesById[x.typeDefault],x.typeDefault);else if(x.long)B("if(util.Long){")("var n=new util.Long(%i,%i,%j)",x.typeDefault.low,x.typeDefault.high,x.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",H)("}else")("d%s=o.longs===String?%j:%i",H,x.typeDefault.toString(),x.typeDefault.toNumber());else if(x.bytes){var Ae="["+Array.prototype.slice.call(x.typeDefault).join(",")+"]";B("if(o.bytes===String)d%s=%j",H,String.fromCharCode.apply(String,x.typeDefault))("else{")("d%s=%s",H,Ae)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",H,H)("}")}else B("d%s=%j",H,x.typeDefault)}B("}")}var q=!1;for(P=0;P<N.length;++P){var x=N[P],Z=S._fieldsArray.indexOf(x),H=p.safeProp(x.name);x.map?(q||(q=!0,B("var ks2")),B("if(m%s&&(ks2=Object.keys(m%s)).length){",H,H)("d%s={}",H)("for(var j=0;j<ks2.length;++j){"),m(B,x,Z,H+"[ks2[j]]")("}")):x.repeated?(B("if(m%s&&m%s.length){",H,H)("d%s=[]",H)("for(var j=0;j<m%s.length;++j){",H),m(B,x,Z,H+"[j]")("}")):(B("if(m%s!=null&&m.hasOwnProperty(%j)){",H,x.name),m(B,x,Z,H),x.partOf&&B("if(o.oneofs)")("d%s=%j",p.safeProp(x.partOf.name),x.name)),B("}")}return B("return d")}}(converter)),converter}var wrappers={};(function(A){var c=A,u=message;c[".google.protobuf.Any"]={fromObject:function(p){if(p&&p["@type"]){var I=p["@type"].substring(p["@type"].lastIndexOf("/")+1),m=this.lookup(I);if(m){var R=p["@type"].charAt(0)==="."?p["@type"].slice(1):p["@type"];return R.indexOf("/")===-1&&(R="/"+R),this.create({type_url:R,value:m.encode(m.fromObject(p)).finish()})}}return this.fromObject(p)},toObject:function(p,I){var m="type.googleapis.com/",R="",S="";if(I&&I.json&&p.type_url&&p.value){S=p.type_url.substring(p.type_url.lastIndexOf("/")+1),R=p.type_url.substring(0,p.type_url.lastIndexOf("/")+1);var N=this.lookup(S);N&&(p=N.decode(p.value))}if(!(p instanceof this.ctor)&&p instanceof u){var B=p.$type.toObject(p,I),D=p.$type.fullName[0]==="."?p.$type.fullName.slice(1):p.$type.fullName;return R===""&&(R=m),S=R+D,B["@type"]=S,B}return this.toObject(p,I)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=H;var A=requireNamespace();((H.prototype=Object.create(A.prototype)).constructor=H).className="Type";var c=require_enum(),u=requireOneof(),p=requireField(),I=requireMapfield(),m=requireService(),R=message,S=reader,N=writer,B=requireUtil(),D=requireEncoder(),k=requireDecoder(),O=requireVerifier(),P=requireConverter(),x=wrappers;function H(q,Z){A.call(this,q,Z),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(H.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var q=Object.keys(this.fields),Z=0;Z<q.length;++Z){var te=this.fields[q[Z]],re=te.id;if(this._fieldsById[re])throw Error("duplicate id "+re+" in "+this);this._fieldsById[re]=te}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=B.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=B.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=H.generateConstructor(this)())},set:function(q){var Z=q.prototype;Z instanceof R||((q.prototype=new R).constructor=q,B.merge(q.prototype,Z)),q.$type=q.prototype.$type=this,B.merge(q,R,!0),this._ctor=q;for(var te=0;te<this.fieldsArray.length;++te)this._fieldsArray[te].resolve();var re={};for(te=0;te<this.oneofsArray.length;++te)re[this._oneofsArray[te].resolve().name]={get:B.oneOfGetter(this._oneofsArray[te].oneof),set:B.oneOfSetter(this._oneofsArray[te].oneof)};te&&Object.defineProperties(q.prototype,re)}}}),H.generateConstructor=function(Z){for(var te=B.codegen(["p"],Z.name),re=0,Be;re<Z.fieldsArray.length;++re)(Be=Z._fieldsArray[re]).map?te("this%s={}",B.safeProp(Be.name)):Be.repeated&&te("this%s=[]",B.safeProp(Be.name));return te("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Ae(q){return q._fieldsById=q._fieldsArray=q._oneofsArray=null,delete q.encode,delete q.decode,delete q.verify,q}return H.fromJSON=function(Z,te){var re=new H(Z,te.options);re.extensions=te.extensions,re.reserved=te.reserved;for(var Be=Object.keys(te.fields),de=0;de<Be.length;++de)re.add((typeof te.fields[Be[de]].keyType<"u"?I.fromJSON:p.fromJSON)(Be[de],te.fields[Be[de]]));if(te.oneofs)for(Be=Object.keys(te.oneofs),de=0;de<Be.length;++de)re.add(u.fromJSON(Be[de],te.oneofs[Be[de]]));if(te.nested)for(Be=Object.keys(te.nested),de=0;de<Be.length;++de){var pe=te.nested[Be[de]];re.add((pe.id!==void 0?p.fromJSON:pe.fields!==void 0?H.fromJSON:pe.values!==void 0?c.fromJSON:pe.methods!==void 0?m.fromJSON:A.fromJSON)(Be[de],pe))}return te.extensions&&te.extensions.length&&(re.extensions=te.extensions),te.reserved&&te.reserved.length&&(re.reserved=te.reserved),te.group&&(re.group=!0),te.comment&&(re.comment=te.comment),re},H.prototype.toJSON=function(Z){var te=A.prototype.toJSON.call(this,Z),re=Z?!!Z.keepComments:!1;return B.toObject(["options",te&&te.options||void 0,"oneofs",A.arrayToJSON(this.oneofsArray,Z),"fields",A.arrayToJSON(this.fieldsArray.filter(function(Be){return!Be.declaringField}),Z)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",te&&te.nested||void 0,"comment",re?this.comment:void 0])},H.prototype.resolveAll=function(){for(var Z=this.fieldsArray,te=0;te<Z.length;)Z[te++].resolve();var re=this.oneofsArray;for(te=0;te<re.length;)re[te++].resolve();return A.prototype.resolveAll.call(this)},H.prototype.get=function(Z){return this.fields[Z]||this.oneofs&&this.oneofs[Z]||this.nested&&this.nested[Z]||null},H.prototype.add=function(Z){if(this.get(Z.name))throw Error("duplicate name '"+Z.name+"' in "+this);if(Z instanceof p&&Z.extend===void 0){if(this._fieldsById?this._fieldsById[Z.id]:this.fieldsById[Z.id])throw Error("duplicate id "+Z.id+" in "+this);if(this.isReservedId(Z.id))throw Error("id "+Z.id+" is reserved in "+this);if(this.isReservedName(Z.name))throw Error("name '"+Z.name+"' is reserved in "+this);return Z.parent&&Z.parent.remove(Z),this.fields[Z.name]=Z,Z.message=this,Z.onAdd(this),Ae(this)}return Z instanceof u?(this.oneofs||(this.oneofs={}),this.oneofs[Z.name]=Z,Z.onAdd(this),Ae(this)):A.prototype.add.call(this,Z)},H.prototype.remove=function(Z){if(Z instanceof p&&Z.extend===void 0){if(!this.fields||this.fields[Z.name]!==Z)throw Error(Z+" is not a member of "+this);return delete this.fields[Z.name],Z.parent=null,Z.onRemove(this),Ae(this)}if(Z instanceof u){if(!this.oneofs||this.oneofs[Z.name]!==Z)throw Error(Z+" is not a member of "+this);return delete this.oneofs[Z.name],Z.parent=null,Z.onRemove(this),Ae(this)}return A.prototype.remove.call(this,Z)},H.prototype.isReservedId=function(Z){return A.isReservedId(this.reserved,Z)},H.prototype.isReservedName=function(Z){return A.isReservedName(this.reserved,Z)},H.prototype.create=function(Z){return new this.ctor(Z)},H.prototype.setup=function(){for(var Z=this.fullName,te=[],re=0;re<this.fieldsArray.length;++re)te.push(this._fieldsArray[re].resolve().resolvedType);this.encode=D(this)({Writer:N,types:te,util:B}),this.decode=k(this)({Reader:S,types:te,util:B}),this.verify=O(this)({types:te,util:B}),this.fromObject=P.fromObject(this)({types:te,util:B}),this.toObject=P.toObject(this)({types:te,util:B});var Be=x[Z];if(Be){var de=Object.create(this);de.fromObject=this.fromObject,this.fromObject=Be.fromObject.bind(de),de.toObject=this.toObject,this.toObject=Be.toObject.bind(de)}return this},H.prototype.encode=function(Z,te){return this.setup().encode(Z,te)},H.prototype.encodeDelimited=function(Z,te){return this.encode(Z,te&&te.len?te.fork():te).ldelim()},H.prototype.decode=function(Z,te){return this.setup().decode(Z,te)},H.prototype.decodeDelimited=function(Z){return Z instanceof S||(Z=S.create(Z)),this.decode(Z,Z.uint32())},H.prototype.verify=function(Z){return this.setup().verify(Z)},H.prototype.fromObject=function(Z){return this.setup().fromObject(Z)},H.prototype.toObject=function(Z,te){return this.setup().toObject(Z,te)},H.d=function(Z){return function(re){B.decorateType(re,Z)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=N;var A=requireNamespace();((N.prototype=Object.create(A.prototype)).constructor=N).className="Root";var c=requireField(),u=require_enum(),p=requireOneof(),I=requireUtil(),m,R,S;function N(O){A.call(this,"",O),this.deferred=[],this.files=[]}N.fromJSON=function(P,x){return x||(x=new N),P.options&&x.setOptions(P.options),x.addJSON(P.nested)},N.prototype.resolvePath=I.path.resolve,N.prototype.fetch=I.fetch;function B(){}N.prototype.load=function O(P,x,H){typeof x=="function"&&(H=x,x=void 0);var Ae=this;if(!H)return I.asPromise(O,Ae,P,x);var q=H===B;function Z(he,Fe){if(H){if(q)throw he;var fe=H;H=null,fe(he,Fe)}}function te(he){var Fe=he.lastIndexOf("google/protobuf/");if(Fe>-1){var fe=he.substring(Fe);if(fe in S)return fe}return null}function re(he,Fe){try{if(I.isString(Fe)&&Fe.charAt(0)==="{"&&(Fe=JSON.parse(Fe)),!I.isString(Fe))Ae.setOptions(Fe.options).addJSON(Fe.nested);else{R.filename=he;var fe=R(Fe,Ae,x),Re,De=0;if(fe.imports)for(;De<fe.imports.length;++De)(Re=te(fe.imports[De])||Ae.resolvePath(he,fe.imports[De]))&&Be(Re);if(fe.weakImports)for(De=0;De<fe.weakImports.length;++De)(Re=te(fe.weakImports[De])||Ae.resolvePath(he,fe.weakImports[De]))&&Be(Re,!0)}}catch(Qe){Z(Qe)}!q&&!de&&Z(null,Ae)}function Be(he,Fe){if(he=te(he)||he,!(Ae.files.indexOf(he)>-1)){if(Ae.files.push(he),he in S){q?re(he,S[he]):(++de,setTimeout(function(){--de,re(he,S[he])}));return}if(q){var fe;try{fe=I.fs.readFileSync(he).toString("utf8")}catch(Re){Fe||Z(Re);return}re(he,fe)}else++de,Ae.fetch(he,function(Re,De){if(--de,!!H){if(Re){Fe?de||Z(null,Ae):Z(Re);return}re(he,De)}})}}var de=0;I.isString(P)&&(P=[P]);for(var pe=0,Ce;pe<P.length;++pe)(Ce=Ae.resolvePath("",P[pe]))&&Be(Ce);if(q)return Ae;de||Z(null,Ae)},N.prototype.loadSync=function(P,x){if(!I.isNode)throw Error("not supported");return this.load(P,x,B)},N.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(P){return"'extend "+P.extend+"' in "+P.parent.fullName}).join(", "));return A.prototype.resolveAll.call(this)};var D=/^[A-Z]/;function k(O,P){var x=P.parent.lookup(P.extend);if(x){var H=new c(P.fullName,P.id,P.type,P.rule,void 0,P.options);return x.get(H.name)||(H.declaringField=P,P.extensionField=H,x.add(H)),!0}return!1}return N.prototype._handleAdd=function(P){if(P instanceof c)P.extend!==void 0&&!P.extensionField&&(k(this,P)||this.deferred.push(P));else if(P instanceof u)D.test(P.name)&&(P.parent[P.name]=P.values);else if(!(P instanceof p)){if(P instanceof m)for(var x=0;x<this.deferred.length;)k(this,this.deferred[x])?this.deferred.splice(x,1):++x;for(var H=0;H<P.nestedArray.length;++H)this._handleAdd(P._nestedArray[H]);D.test(P.name)&&(P.parent[P.name]=P)}},N.prototype._handleRemove=function(P){if(P instanceof c){if(P.extend!==void 0)if(P.extensionField)P.extensionField.parent.remove(P.extensionField),P.extensionField=null;else{var x=this.deferred.indexOf(P);x>-1&&this.deferred.splice(x,1)}}else if(P instanceof u)D.test(P.name)&&delete P.parent[P.name];else if(P instanceof A){for(var H=0;H<P.nestedArray.length;++H)this._handleRemove(P._nestedArray[H]);D.test(P.name)&&delete P.parent[P.name]}},N._configure=function(O,P,x){m=O,R=P,S=x},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$2.exports;hasRequiredUtil=1;var A=util$2.exports=requireMinimal(),c=roots,u,p;A.codegen=requireCodegen(),A.fetch=requireFetch(),A.path=requirePath(),A.fs=A.inquire("fs"),A.toArray=function(B){if(B){for(var D=Object.keys(B),k=new Array(D.length),O=0;O<D.length;)k[O]=B[D[O++]];return k}return[]},A.toObject=function(B){for(var D={},k=0;k<B.length;){var O=B[k++],P=B[k++];P!==void 0&&(D[O]=P)}return D};var I=/\\/g,m=/"/g;A.isReserved=function(B){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(B)},A.safeProp=function(B){return!/^[$\w_]+$/.test(B)||A.isReserved(B)?'["'+B.replace(I,"\\\\").replace(m,'\\"')+'"]':"."+B},A.ucFirst=function(B){return B.charAt(0).toUpperCase()+B.substring(1)};var R=/_([a-z])/g;A.camelCase=function(B){return B.substring(0,1)+B.substring(1).replace(R,function(D,k){return k.toUpperCase()})},A.compareFieldsById=function(B,D){return B.id-D.id},A.decorateType=function(B,D){if(B.$type)return D&&B.$type.name!==D&&(A.decorateRoot.remove(B.$type),B.$type.name=D,A.decorateRoot.add(B.$type)),B.$type;u||(u=requireType());var k=new u(D||B.name);return A.decorateRoot.add(k),k.ctor=B,Object.defineProperty(B,"$type",{value:k,enumerable:!1}),Object.defineProperty(B.prototype,"$type",{value:k,enumerable:!1}),k};var S=0;return A.decorateEnum=function(B){if(B.$type)return B.$type;p||(p=require_enum());var D=new p("Enum"+S++,B);return A.decorateRoot.add(D),Object.defineProperty(B,"$type",{value:D,enumerable:!1}),D},A.setProperty=function(B,D,k){function O(P,x,H){var Ae=x.shift();if(Ae==="__proto__"||Ae==="prototype")return P;if(x.length>0)P[Ae]=O(P[Ae]||{},x,H);else{var q=P[Ae];q&&(H=[].concat(q).concat(H)),P[Ae]=H}return P}if(typeof B!="object")throw TypeError("dst must be an object");if(!D)throw TypeError("path must be specified");return D=D.split("."),O(B,D,k)},Object.defineProperty(A,"decorateRoot",{get:function(){return c.decorated||(c.decorated=new(requireRoot()))}}),util$2.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=u,u.className="ReflectionObject";var A=requireUtil(),c;function u(p,I){if(!A.isString(p))throw TypeError("name must be a string");if(I&&!A.isObject(I))throw TypeError("options must be an object");this.options=I,this.parsedOptions=null,this.name=p,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(u.prototype,{root:{get:function(){for(var p=this;p.parent!==null;)p=p.parent;return p}},fullName:{get:function(){for(var p=[this.name],I=this.parent;I;)p.unshift(I.name),I=I.parent;return p.join(".")}}}),u.prototype.toJSON=function(){throw Error()},u.prototype.onAdd=function(I){this.parent&&this.parent!==I&&this.parent.remove(this),this.parent=I,this.resolved=!1;var m=I.root;m instanceof c&&m._handleAdd(this)},u.prototype.onRemove=function(I){var m=I.root;m instanceof c&&m._handleRemove(this),this.parent=null,this.resolved=!1},u.prototype.resolve=function(){return this.resolved?this:(this.root instanceof c&&(this.resolved=!0),this)},u.prototype.getOption=function(I){if(this.options)return this.options[I]},u.prototype.setOption=function(I,m,R){return(!R||!this.options||this.options[I]===void 0)&&((this.options||(this.options={}))[I]=m),this},u.prototype.setParsedOption=function(I,m,R){this.parsedOptions||(this.parsedOptions=[]);var S=this.parsedOptions;if(R){var N=S.find(function(k){return Object.prototype.hasOwnProperty.call(k,I)});if(N){var B=N[I];A.setProperty(B,R,m)}else N={},N[I]=A.setProperty({},R,m),S.push(N)}else{var D={};D[I]=m,S.push(D)}return this},u.prototype.setOptions=function(I,m){if(I)for(var R=Object.keys(I),S=0;S<R.length;++S)this.setOption(R[S],I[R[S]],m);return this},u.prototype.toString=function(){var I=this.constructor.className,m=this.fullName;return m.length?I+" "+m:I},u._configure=function(p){c=p},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=p;var A=requireObject();((p.prototype=Object.create(A.prototype)).constructor=p).className="Enum";var c=requireNamespace(),u=requireUtil();function p(I,m,R,S,N,B){if(A.call(this,I,R),m&&typeof m!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=S,this.comments=N||{},this.valuesOptions=B,this.reserved=void 0,m)for(var D=Object.keys(m),k=0;k<D.length;++k)typeof m[D[k]]=="number"&&(this.valuesById[this.values[D[k]]=m[D[k]]]=D[k])}return p.fromJSON=function(m,R){var S=new p(m,R.values,R.options,R.comment,R.comments);return S.reserved=R.reserved,S},p.prototype.toJSON=function(m){var R=m?!!m.keepComments:!1;return u.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",R?this.comment:void 0,"comments",R?this.comments:void 0])},p.prototype.add=function(m,R,S,N){if(!u.isString(m))throw TypeError("name must be a string");if(!u.isInteger(R))throw TypeError("id must be an integer");if(this.values[m]!==void 0)throw Error("duplicate name '"+m+"' in "+this);if(this.isReservedId(R))throw Error("id "+R+" is reserved in "+this);if(this.isReservedName(m))throw Error("name '"+m+"' is reserved in "+this);if(this.valuesById[R]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+R+" in "+this);this.values[m]=R}else this.valuesById[this.values[m]=R]=m;return N&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[m]=N||null),this.comments[m]=S||null,this},p.prototype.remove=function(m){if(!u.isString(m))throw TypeError("name must be a string");var R=this.values[m];if(R==null)throw Error("name '"+m+"' does not exist in "+this);return delete this.valuesById[R],delete this.values[m],delete this.comments[m],this.valuesOptions&&delete this.valuesOptions[m],this},p.prototype.isReservedId=function(m){return c.isReservedId(this.reserved,m)},p.prototype.isReservedName=function(m){return c.isReservedName(this.reserved,m)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=I;var A=require_enum(),c=requireTypes(),u=requireUtil();function p(m,R,S,N){return R.resolvedType.group?m("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",S,N,(R.id<<3|3)>>>0,(R.id<<3|4)>>>0):m("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",S,N,(R.id<<3|2)>>>0)}function I(m){for(var R=u.codegen(["m","w"],m.name+"$encode")("if(!w)")("w=Writer.create()"),S,N,B=m.fieldsArray.slice().sort(u.compareFieldsById),S=0;S<B.length;++S){var D=B[S].resolve(),k=m._fieldsArray.indexOf(D),O=D.resolvedType instanceof A?"int32":D.type,P=c.basic[O];N="m"+u.safeProp(D.name),D.map?(R("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",N,D.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",N)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(D.id<<3|2)>>>0,8|c.mapKey[D.keyType],D.keyType),P===void 0?R("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",k,N):R(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|P,O,N),R("}")("}")):D.repeated?(R("if(%s!=null&&%s.length){",N,N),D.packed&&c.packed[O]!==void 0?R("w.uint32(%i).fork()",(D.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",N)("w.%s(%s[i])",O,N)("w.ldelim()"):(R("for(var i=0;i<%s.length;++i)",N),P===void 0?p(R,D,k,N+"[i]"):R("w.uint32(%i).%s(%s[i])",(D.id<<3|P)>>>0,O,N)),R("}")):(D.optional&&R("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",N,D.name),P===void 0?p(R,D,k,N):R("w.uint32(%i).%s(%s)",(D.id<<3|P)>>>0,O,N))}return R("return w")}return encoder_1}var protobuf$1=indexLight.exports=indexMinimal;protobuf$1.build="light";function load(A,c,u){return typeof c=="function"?(u=c,c=new protobuf$1.Root):c||(c=new protobuf$1.Root),c.load(A,u)}protobuf$1.load=load;function loadSync(A,c){return c||(c=new protobuf$1.Root),c.loadSync(A)}protobuf$1.loadSync=loadSync;protobuf$1.encoder=requireEncoder();protobuf$1.decoder=requireDecoder();protobuf$1.verifier=requireVerifier();protobuf$1.converter=requireConverter();protobuf$1.ReflectionObject=requireObject();protobuf$1.Namespace=requireNamespace();protobuf$1.Root=requireRoot();protobuf$1.Enum=require_enum();protobuf$1.Type=requireType();protobuf$1.Field=requireField();protobuf$1.OneOf=requireOneof();protobuf$1.MapField=requireMapfield();protobuf$1.Service=requireService();protobuf$1.Method=requireMethod();protobuf$1.Message=message;protobuf$1.wrappers=wrappers;protobuf$1.types=requireTypes();protobuf$1.util=requireUtil();protobuf$1.ReflectionObject._configure(protobuf$1.Root);protobuf$1.Namespace._configure(protobuf$1.Type,protobuf$1.Service,protobuf$1.Enum);protobuf$1.Root._configure(protobuf$1.Type);protobuf$1.Field._configure(protobuf$1.Type);var indexLightExports=indexLight.exports,tokenize_1=tokenize$1,delimRe=/[\s{}=;:[\],'"()<>]/g,stringDoubleRe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,stringSingleRe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,setCommentRe=/^ *[*/]+ */,setCommentAltRe=/^\s*\*?\/*/,setCommentSplitRe=/\n/g,whitespaceRe=/\s/,unescapeRe=/\\(.?)/g,unescapeMap={0:"\0",r:"\r",n:`
`,t:"	"};function unescape$1(A){return A.replace(unescapeRe,function(c,u){switch(u){case"\\":case"":return u;default:return unescapeMap[u]||""}})}tokenize$1.unescape=unescape$1;function tokenize$1(A,c){A=A.toString();var u=0,p=A.length,I=1,m=0,R={},S=[],N=null;function B(re){return Error("illegal "+re+" (line "+I+")")}function D(){var re=N==="'"?stringSingleRe:stringDoubleRe;re.lastIndex=u-1;var Be=re.exec(A);if(!Be)throw B("string");return u=re.lastIndex,Ae(N),N=null,unescape$1(Be[1])}function k(re){return A.charAt(re)}function O(re,Be,de){var pe={type:A.charAt(re++),lineEmpty:!1,leading:de},Ce;c?Ce=2:Ce=3;var he=re-Ce,Fe;do if(--he<0||(Fe=A.charAt(he))===`
`){pe.lineEmpty=!0;break}while(Fe===" "||Fe==="	");for(var fe=A.substring(re,Be).split(setCommentSplitRe),Re=0;Re<fe.length;++Re)fe[Re]=fe[Re].replace(c?setCommentAltRe:setCommentRe,"").trim();pe.text=fe.join(`
`).trim(),R[I]=pe,m=I}function P(re){var Be=x(re),de=A.substring(re,Be),pe=/^\s*\/\//.test(de);return pe}function x(re){for(var Be=re;Be<p&&k(Be)!==`
`;)Be++;return Be}function H(){if(S.length>0)return S.shift();if(N)return D();var re,Be,de,pe,Ce,he=u===0;do{if(u===p)return null;for(re=!1;whitespaceRe.test(de=k(u));)if(de===`
`&&(he=!0,++I),++u===p)return null;if(k(u)==="/"){if(++u===p)throw B("comment");if(k(u)==="/")if(c){if(pe=u,Ce=!1,P(u-1)){Ce=!0;do if(u=x(u),u===p||(u++,!he))break;while(P(u))}else u=Math.min(p,x(u)+1);Ce&&(O(pe,u,he),he=!0),I++,re=!0}else{for(Ce=k(pe=u+1)==="/";k(++u)!==`
`;)if(u===p)return null;++u,Ce&&(O(pe,u-1,he),he=!0),++I,re=!0}else if((de=k(u))==="*"){pe=u+1,Ce=c||k(pe)==="*";do{if(de===`
`&&++I,++u===p)throw B("comment");Be=de,de=k(u)}while(Be!=="*"||de!=="/");++u,Ce&&(O(pe,u-2,he),he=!0),re=!0}else return"/"}}while(re);var Fe=u;delimRe.lastIndex=0;var fe=delimRe.test(k(Fe++));if(!fe)for(;Fe<p&&!delimRe.test(k(Fe));)++Fe;var Re=A.substring(u,u=Fe);return(Re==='"'||Re==="'")&&(N=Re),Re}function Ae(re){S.push(re)}function q(){if(!S.length){var re=H();if(re===null)return null;Ae(re)}return S[0]}function Z(re,Be){var de=q(),pe=de===re;if(pe)return H(),!0;if(!Be)throw B("token '"+de+"', '"+re+"' expected");return!1}function te(re){var Be=null,de;return re===void 0?(de=R[I-1],delete R[I-1],de&&(c||de.type==="*"||de.lineEmpty)&&(Be=de.leading?de.text:null)):(m<re&&q(),de=R[re],delete R[re],de&&!de.lineEmpty&&(c||de.type==="/")&&(Be=de.leading?null:de.text)),Be}return Object.defineProperty({next:H,peek:q,push:Ae,skip:Z,cmnt:te},"line",{get:function(){return I}})}var parse_1=parse;parse.filename=null;parse.defaults={keepCase:!1};var tokenize=tokenize_1,Root=requireRoot(),Type=requireType(),Field=requireField(),MapField=requireMapfield(),OneOf=requireOneof(),Enum=require_enum(),Service=requireService(),Method=requireMethod(),types=requireTypes(),util=requireUtil(),base10Re=/^[1-9][0-9]*$/,base10NegRe=/^-?[1-9][0-9]*$/,base16Re=/^0[x][0-9a-fA-F]+$/,base16NegRe=/^-?0[x][0-9a-fA-F]+$/,base8Re=/^0[0-7]+$/,base8NegRe=/^-?0[0-7]+$/,numberRe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,nameRe=/^[a-zA-Z_][a-zA-Z_0-9]*$/,typeRefRe=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,fqTypeRefRe=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function parse(A,c,u){c instanceof Root||(u=c,c=new Root),u||(u=parse.defaults);var p=u.preferTrailingComment||!1,I=tokenize(A,u.alternateCommentMode||!1),m=I.next,R=I.push,S=I.peek,N=I.skip,B=I.cmnt,D=!0,k,O,P,x,H=!1,Ae=c,q=u.keepCase?function(Ue){return Ue}:util.camelCase;function Z(Ue,_e,ke){var We=parse.filename;return ke||(parse.filename=null),Error("illegal "+(_e||"token")+" '"+Ue+"' ("+(We?We+", ":"")+"line "+I.line+")")}function te(){var Ue=[],_e;do{if((_e=m())!=='"'&&_e!=="'")throw Z(_e);Ue.push(m()),N(_e),_e=S()}while(_e==='"'||_e==="'");return Ue.join("")}function re(Ue){var _e=m();switch(_e){case"'":case'"':return R(_e),te();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return de(_e,!0)}catch{if(typeRefRe.test(_e))return _e;throw Z(_e,"value")}}function Be(Ue,_e){var ke,We;do _e&&((ke=S())==='"'||ke==="'")?Ue.push(te()):Ue.push([We=pe(m()),N("to",!0)?pe(m()):We]);while(N(",",!0));var Je={options:void 0};Je.setOption=function(It,Zt){this.options===void 0&&(this.options={}),this.options[It]=Zt},Re(Je,function(Zt){if(Zt==="option")Ht(Je,Zt),N(";");else throw Z(Zt)},function(){ni(Je)})}function de(Ue,_e){var ke=1;switch(Ue.charAt(0)==="-"&&(ke=-1,Ue=Ue.substring(1)),Ue){case"inf":case"INF":case"Inf":return ke*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(base10Re.test(Ue))return ke*parseInt(Ue,10);if(base16Re.test(Ue))return ke*parseInt(Ue,16);if(base8Re.test(Ue))return ke*parseInt(Ue,8);if(numberRe.test(Ue))return ke*parseFloat(Ue);throw Z(Ue,"number",_e)}function pe(Ue,_e){switch(Ue){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!_e&&Ue.charAt(0)==="-")throw Z(Ue,"id");if(base10NegRe.test(Ue))return parseInt(Ue,10);if(base16NegRe.test(Ue))return parseInt(Ue,16);if(base8NegRe.test(Ue))return parseInt(Ue,8);throw Z(Ue,"id")}function Ce(){if(k!==void 0)throw Z("package");if(k=m(),!typeRefRe.test(k))throw Z(k,"name");Ae=Ae.define(k),N(";")}function he(){var Ue=S(),_e;switch(Ue){case"weak":_e=P||(P=[]),m();break;case"public":m();default:_e=O||(O=[]);break}Ue=te(),N(";"),_e.push(Ue)}function Fe(){if(N("="),x=te(),H=x==="proto3",!H&&x!=="proto2")throw Z(x,"syntax");c.setOption("syntax",x),N(";")}function fe(Ue,_e){switch(_e){case"option":return Ht(Ue,_e),N(";"),!0;case"message":return De(Ue,_e),!0;case"enum":return yt(Ue,_e),!0;case"service":return rn(Ue,_e),!0;case"extend":return Pn(Ue,_e),!0}return!1}function Re(Ue,_e,ke){var We=I.line;if(Ue&&(typeof Ue.comment!="string"&&(Ue.comment=B()),Ue.filename=parse.filename),N("{",!0)){for(var Je;(Je=m())!=="}";)_e(Je);N(";",!0)}else ke&&ke(),N(";"),Ue&&(typeof Ue.comment!="string"||p)&&(Ue.comment=B(We)||Ue.comment)}function De(Ue,_e){if(!nameRe.test(_e=m()))throw Z(_e,"type name");var ke=new Type(_e);Re(ke,function(Je){if(!fe(ke,Je))switch(Je){case"map":ii(ke);break;case"required":case"repeated":Qe(ke,Je);break;case"optional":H?Qe(ke,"proto3_optional"):Qe(ke,"optional");break;case"oneof":He(ke,Je);break;case"extensions":Be(ke.extensions||(ke.extensions=[]));break;case"reserved":Be(ke.reserved||(ke.reserved=[]),!0);break;default:if(!H||!typeRefRe.test(Je))throw Z(Je);R(Je),Qe(ke,"optional");break}}),Ue.add(ke)}function Qe(Ue,_e,ke){var We=m();if(We==="group"){Ci(Ue,_e);return}for(;We.endsWith(".")||S().startsWith(".");)We+=m();if(!typeRefRe.test(We))throw Z(We,"type");var Je=m();if(!nameRe.test(Je))throw Z(Je,"name");Je=q(Je),N("=");var It=new Field(Je,pe(m()),We,_e,ke);if(Re(It,function(pn){if(pn==="option")Ht(It,pn),N(";");else throw Z(pn)},function(){ni(It)}),_e==="proto3_optional"){var Zt=new OneOf("_"+Je);It.setOption("proto3_optional",!0),Zt.add(It),Ue.add(Zt)}else Ue.add(It);!H&&It.repeated&&(types.packed[We]!==void 0||types.basic[We]===void 0)&&It.setOption("packed",!1,!0)}function Ci(Ue,_e){var ke=m();if(!nameRe.test(ke))throw Z(ke,"name");var We=util.lcFirst(ke);ke===We&&(ke=util.ucFirst(ke)),N("=");var Je=pe(m()),It=new Type(ke);It.group=!0;var Zt=new Field(We,Je,ke,_e);Zt.filename=parse.filename,Re(It,function(pn){switch(pn){case"option":Ht(It,pn),N(";");break;case"required":case"repeated":Qe(It,pn);break;case"optional":H?Qe(It,"proto3_optional"):Qe(It,"optional");break;case"message":De(It,pn);break;case"enum":yt(It,pn);break;default:throw Z(pn)}}),Ue.add(It).add(Zt)}function ii(Ue){N("<");var _e=m();if(types.mapKey[_e]===void 0)throw Z(_e,"type");N(",");var ke=m();if(!typeRefRe.test(ke))throw Z(ke,"type");N(">");var We=m();if(!nameRe.test(We))throw Z(We,"name");N("=");var Je=new MapField(q(We),pe(m()),_e,ke);Re(Je,function(Zt){if(Zt==="option")Ht(Je,Zt),N(";");else throw Z(Zt)},function(){ni(Je)}),Ue.add(Je)}function He(Ue,_e){if(!nameRe.test(_e=m()))throw Z(_e,"name");var ke=new OneOf(q(_e));Re(ke,function(Je){Je==="option"?(Ht(ke,Je),N(";")):(R(Je),Qe(ke,"optional"))}),Ue.add(ke)}function yt(Ue,_e){if(!nameRe.test(_e=m()))throw Z(_e,"name");var ke=new Enum(_e);Re(ke,function(Je){switch(Je){case"option":Ht(ke,Je),N(";");break;case"reserved":Be(ke.reserved||(ke.reserved=[]),!0);break;default:at(ke,Je)}}),Ue.add(ke)}function at(Ue,_e){if(!nameRe.test(_e))throw Z(_e,"name");N("=");var ke=pe(m(),!0),We={options:void 0};We.setOption=function(Je,It){this.options===void 0&&(this.options={}),this.options[Je]=It},Re(We,function(It){if(It==="option")Ht(We,It),N(";");else throw Z(It)},function(){ni(We)}),Ue.add(_e,ke,We.comment,We.options)}function Ht(Ue,_e){var ke=N("(",!0);if(!typeRefRe.test(_e=m()))throw Z(_e,"name");var We=_e,Je=We,It;ke&&(N(")"),We="("+We+")",Je=We,_e=S(),fqTypeRefRe.test(_e)&&(It=_e.slice(1),We+=_e,m())),N("=");var Zt=Yt(Ue,We);nn(Ue,Je,Zt,It)}function Yt(Ue,_e){if(N("{",!0)){for(var ke={};!N("}",!0);){if(!nameRe.test(li=m()))throw Z(li,"name");if(li===null)throw Z(li,"end of input");var We,Je=li;if(N(":",!0),S()==="{")We=Yt(Ue,_e+"."+li);else if(S()==="["){We=[];var It;if(N("[",!0)){do It=re(),We.push(It);while(N(",",!0));N("]"),typeof It<"u"&&Gi(Ue,_e+"."+li,It)}}else We=re(),Gi(Ue,_e+"."+li,We);var Zt=ke[Je];Zt&&(We=[].concat(Zt).concat(We)),ke[Je]=We,N(",",!0),N(";",!0)}return ke}var Pr=re();return Gi(Ue,_e,Pr),Pr}function Gi(Ue,_e,ke){Ue.setOption&&Ue.setOption(_e,ke)}function nn(Ue,_e,ke,We){Ue.setParsedOption&&Ue.setParsedOption(_e,ke,We)}function ni(Ue){if(N("[",!0)){do Ht(Ue,"option");while(N(",",!0));N("]")}return Ue}function rn(Ue,_e){if(!nameRe.test(_e=m()))throw Z(_e,"service name");var ke=new Service(_e);Re(ke,function(Je){if(!fe(ke,Je))if(Je==="rpc")On(ke,Je);else throw Z(Je)}),Ue.add(ke)}function On(Ue,_e){var ke=B(),We=_e;if(!nameRe.test(_e=m()))throw Z(_e,"name");var Je=_e,It,Zt,Pr,pn;if(N("("),N("stream",!0)&&(Zt=!0),!typeRefRe.test(_e=m())||(It=_e,N(")"),N("returns"),N("("),N("stream",!0)&&(pn=!0),!typeRefRe.test(_e=m())))throw Z(_e);Pr=_e,N(")");var Vn=new Method(Je,We,It,Pr,Zt,pn);Vn.comment=ke,Re(Vn,function(cA){if(cA==="option")Ht(Vn,cA),N(";");else throw Z(cA)}),Ue.add(Vn)}function Pn(Ue,_e){if(!typeRefRe.test(_e=m()))throw Z(_e,"reference");var ke=_e;Re(null,function(Je){switch(Je){case"required":case"repeated":Qe(Ue,Je,ke);break;case"optional":H?Qe(Ue,"proto3_optional",ke):Qe(Ue,"optional",ke);break;default:if(!H||!typeRefRe.test(Je))throw Z(Je);R(Je),Qe(Ue,"optional",ke);break}})}for(var li;(li=m())!==null;)switch(li){case"package":if(!D)throw Z(li);Ce();break;case"import":if(!D)throw Z(li);he();break;case"syntax":if(!D)throw Z(li);Fe();break;case"option":Ht(Ae,li),N(";");break;default:if(fe(Ae,li)){D=!1;continue}throw Z(li)}return parse.filename=null,{package:k,imports:O,weakImports:P,syntax:x,root:c}}var common_1=common,commonRe=/\/|\./;function common(A,c){commonRe.test(A)||(A="google/protobuf/"+A+".proto",c={nested:{google:{nested:{protobuf:{nested:c}}}}}),common[A]=c}common("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var timeType;common("duration",{Duration:timeType={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});common("timestamp",{Timestamp:timeType});common("empty",{Empty:{fields:{}}});common("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});common("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});common("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});common.get=function A(c){return common[c]||null};var protobuf=src.exports=indexLightExports;protobuf.build="full";protobuf.tokenize=tokenize_1;protobuf.parse=parse_1;protobuf.common=common_1;protobuf.Root._configure(protobuf.Type,protobuf.parse,protobuf.common);var srcExports=src.exports,protobufjs=srcExports;const DataProtoSelphi=`
    syntax = "proto3";

    message AdvTrackingMessage {

        message Config {
            string system = 1;
            string platform = 2;
            string widgetVersion = 3;
            double facePitchThLow = 4;
            double facePitchThHigh = 5;
            double faceYawThLow = 6;
            double faceYawThHigh = 7;
            double iqaOverExposureThHigh = 8;
            double iqaUnderExposureThHigh = 9;
            double iqaSharpnessThLow = 10;
            double iqaReadabilityThLow = 11;
            string livenessMode = 12;
            string scanMode = 13;
            string scanParam = 14;
            string documentType = 15;
            string documentSide = 16;
            bool wizardMode = 17;
        }

        message EventBeginPhase {
            string name = 1;
        }

        message EventEndPhase {
            string name = 1;
        }

        message EventTimeout {
            string message = 1;
        }
    
        message EventError {
            string errorType = 1;
            string message = 2;
        }

        message EventClick {
            string element = 1;
        }

        message EventSwipe {
            string direction = 1;
        }

        message EventFaceFrameCaptured {
            uint32 faceX = 1;
            uint32 faceY = 2;
            uint32 faceW = 3;
            uint32 faceH = 4;
            bool faceFramed = 5;
            uint32 leftEyeX = 6;
            uint32 leftEyeY = 7;
            uint32 rightEyeX = 8;
            uint32 rightEyeY = 9;
            double facePitch = 10;
            bool facePitchInRange = 11;
            double faceYaw = 12;
            bool faceYawInRange = 13;
            double facialScore = 14;
            string stabilizationDiagnostic = 15;
            string extractionDiagnostic = 16;
            bool sunglasses = 17;
        }

        message EventDocumentFrameCaptured {
            string diagnostic = 1;
            double iqaOverExposure = 2;
            bool iqaOverExposureInRange = 3;
            double iqaUnderExposure = 4;
            bool iqaUnderExposureInRange = 5;
            double iqaSharpness = 6;
            bool iqaSharpnessInRange = 7;
            double iqaReadability = 8;
            bool iqaReadabilityInRange = 9;
            string documentClass = 10;
            string documentCaptured = 11;
            uint32 ocrFields = 12;
            uint32 imgFields = 13;
            bool morePagesAvailable = 14;
        }

        message Event {
            string type = 1;
            uint64 time = 2;
            uint32 duration = 3;
            oneof EventData {
                EventBeginPhase beginPhaseData = 4;
                EventEndPhase endPhaseData = 5;
                EventFaceFrameCaptured faceFrameCapturedData = 6;
                EventDocumentFrameCaptured documentFrameCapturedData = 7;
                EventTimeout timeoutData = 8;
                EventError errorData = 9;
                EventClick clickData = 10;
                EventSwipe swipeData = 11;
            }
        }

        message MessageData {
            string version = 1;
            Config config = 2;
            repeated Event events = 3;
        }

        string type = 1;
        string id = 2;
        uint64 time = 3;
        MessageData data = 4;
    }
`;var AdvancedTrackingType;(function(A){A.SelphiExecutionCompleted="selphi.ExecutionCompleted.v1",A.SelphidExecutionCompleted="selphid.ExecutionCompleted.v1"})(AdvancedTrackingType||(AdvancedTrackingType={}));var DataEventType;(function(A){A.beginPhaseData=".beginPhase.v1",A.endPhaseData=".endPhase.v1",A.faceFrameCapturedData=".faceFrameCaptured.v1",A.documentFrameCapturedData=".documentFrameCaptured.v1",A.clickData=".click.v1",A.swipeData=".swipe.v1",A.errorData=".error.v1",A.timeoutData=".timeout.v1"})(DataEventType||(DataEventType={}));var SelphiPhaseNames;(function(A){A.Extraction="extraction",A.Stabilization="stabilization",A.ShowResultsFace="showResultsFace",A.Tutorial="tutorial",A.ShowError="showError",A.ShowTimeout="showTimeout"})(SelphiPhaseNames||(SelphiPhaseNames={}));var SelphidPhaseNames;(function(A){A.CaptureFront="captureFront",A.CaptureBack="captureBack",A.ShowResultsFront="showResultsFront",A.ShowResultsBack="showResultsBack",A.Tutorial="tutorial",A.ShowError="showError",A.ShowTimeout="showTimeout"})(SelphidPhaseNames||(SelphidPhaseNames={}));var ClickableEventElements;(function(A){A.buttonStart="buttonStart",A.buttonConfirm="buttonConfirm",A.buttonContinue="buttonContinue",A.buttonRetry="buttonRetry",A.buttonClose="buttonClose",A.buttonSwitchCamera="buttonSwitchCamera",A.buttonErrorRepeat="buttonErrorRepeat",A.buttonOpenTutorial="buttonOpenTutorial",A.buttonCloseTutorial="buttonCloseTutorial",A.buttonChangeTutorialAnimation="buttonChangeTutorialAnimation",A.buttonToggleSpeech="buttonToggleSpeech"})(ClickableEventElements||(ClickableEventElements={}));class AdvancedTrackingModule{constructor(){this.data={},this.currentTrackingVersion="0.1.0",this.widgetName=null,this.platform="web"}initialize(c,u,p,I,m){this.widgetName=c;const R={system:window.navigator.userAgent,platform:this.platform,widgetVersion:p};I.facePitchThLow&&(R.facePitchThLow=I.facePitchThLow),I.facePitchThHigh&&(R.facePitchThHigh=I.facePitchThHigh),I.faceYawThLow&&(R.faceYawThLow=I.faceYawThLow),I.faceYawThHigh&&(R.faceYawThHigh=I.faceYawThHigh),I.iqaOverExposureThHigh&&(R.iqaOverExposureThHigh=I.iqaOverExposureThHigh),I.iqaUnderExposureThHigh&&(R.iqaUnderExposureThHigh=I.iqaUnderExposureThHigh),I.iqaSharpnessThLow&&(R.iqaSharpnessThLow=I.iqaSharpnessThLow),I.iqaReadabilityThLow&&(R.iqaReadabilityThLow=I.iqaReadabilityThLow),m.livenessMode&&(R.livenessMode=m.livenessMode),m.scanMode&&(R.scanMode=m.scanMode),m.scanParam&&(R.scanParam=m.scanParam),m.documentType&&(R.documentType=m.documentType),m.documentSide&&(R.documentSide=m.documentSide),(m.wizardMode!==null||m.wizardMode!==void 0)&&(R.wizardMode=m.wizardMode),this.data={type:u,id:v4$1(),time:Date.now(),data:{version:this.currentTrackingVersion,config:R,events:[]}}}addEvent(c,u,p,I){var m;if(!((m=this.data)===null||m===void 0)&&m.data){const R=this.data.data.events;if(R){const S={time:u,type:`${this.widgetName}${c}`};I&&(S.duration=I);const N=Object.entries(DataEventType);for(const[B,D]of N)D===c&&(S[B]=p);R.push(S)}}}getData(){return this.data}async getBuffer(c){return new Promise((u,p)=>{try{const I=`data:text/plain;base64,${btoa(DataProtoSelphi)}`;protobufjs.load(I,(m,R)=>{if(m)throw m;if(R){const S=R.lookupType("AdvTrackingMessage"),N=S.verify(this.data);if(N)throw Error(N);const B=S.create(this.data),D=S.encode(B).finish();if(c){const k=S.decode(D).toJSON();console.log(k)}u(D)}})}catch(I){p(new Error(`Proto buffer could not be generated: ${I}`))}})}async finalize(){this.data=null,this.widgetName=null}}var STATES;(function(A){A.initializing="initializing",A.ready="ready",A.faceTracking="faceTracking",A.liveness="liveness",A.analyzingLiveness="analyzingLiveness",A.analyzing="analyzing",A.previewImage="previewImage",A.finish="finish",A.error="error",A.end="end"})(STATES||(STATES={}));var EVENTS;(function(A){A.analyzeImage="analyzeImage",A.analyzeLiveness="analyzeLiveness",A.resetLiveness="resetLiveness",A.faceTracking="faceTracking",A.goToExtraction="goToExtraction",A.timeout="timeout",A.finishProcess="finishProcess",A.reinitialize="reinitialize"})(EVENTS||(EVENTS={}));var EXTRACTION_TYPE;(function(A){A.detect="detect",A.extractionNextSmart="extractionNextSmart",A.nextLivenessMoveStabilization="nextLivenessMoveStabilization"})(EXTRACTION_TYPE||(EXTRACTION_TYPE={}));const TIMEOUT_DIAGNOSTIC="timeout";var DIAGNOSTIC;(function(A){A[A.Ok=0]="Ok",A[A.FaceNotFound=1]="FaceNotFound",A[A.RightEyeNotFound=2]="RightEyeNotFound",A[A.LeftEyeNotFound=3]="LeftEyeNotFound",A[A.EyesNotFound=4]="EyesNotFound",A[A.FaceTooFar=5]="FaceTooFar",A[A.FaceTooClose=6]="FaceTooClose",A[A.TooCloseToWindowSide=7]="TooCloseToWindowSide",A[A.AngleExceeded=8]="AngleExceeded",A[A.QualityCheckFailed=9]="QualityCheckFailed",A[A.NotRated=10]="NotRated",A[A.TooManyFaces=11]="TooManyFaces"})(DIAGNOSTIC||(DIAGNOSTIC={}));var STABILIZATION_DIAGNOSTIC;(function(A){A[A.None=0]="None",A[A.Ok=1]="Ok",A[A.NotStabilized=2]="NotStabilized",A[A.NotStabilizedTooFar=3]="NotStabilizedTooFar",A[A.NotStabilizedSunGlasses=4]="NotStabilizedSunGlasses",A[A.NotStabilizedTooClose=5]="NotStabilizedTooClose",A[A.NotStabilizedTooMovement=6]="NotStabilizedTooMovement",A[A.NotStabilizedLowPerformance=7]="NotStabilizedLowPerformance",A[A.NotStabilizedNoFrontal=8]="NotStabilizedNoFrontal",A[A.NotStabilizedNoFrontalTooLeft=9]="NotStabilizedNoFrontalTooLeft",A[A.NotStabilizedNoFrontalTooRight=10]="NotStabilizedNoFrontalTooRight",A[A.NotStabilizedNoFrontalTooDown=11]="NotStabilizedNoFrontalTooDown",A[A.NotStabilizedNoFrontalTooUp=12]="NotStabilizedNoFrontalTooUp",A[A.NotStabilizedNoColor=13]="NotStabilizedNoColor",A[A.NotStabilizedLowQuality=14]="NotStabilizedLowQuality",A[A.NotStabilizedLowFaceQuality=15]="NotStabilizedLowFaceQuality",A[A.NotStabilizedLowPatternQuality=16]="NotStabilizedLowPatternQuality",A[A.OkGlasses=17]="OkGlasses",A[A.NotStabilizedInvalidResolution=18]="NotStabilizedInvalidResolution",A[A.NotStabilizedMask=19]="NotStabilizedMask"})(STABILIZATION_DIAGNOSTIC||(STABILIZATION_DIAGNOSTIC={}));class CameraHardwareError extends Error{constructor(c="We cannot access the camera. Please try with another device."){super(c),this.name="CameraHardwareError"}}class CameraPermissionDenied extends Error{constructor(c="To capture the images we need you to activate this permission."){super(c),this.name="CameraPermissionDenied"}}class MicrophonePermissionDenied extends Error{constructor(c="To capture the video with audio, we need you to activate this permissions."){super(c),this.name="MicrophonePermissionDenied"}}class CameraApiNoAvailableError extends Error{constructor(c="Media Devices not Available, please check if using a Secure Context and try again or use another compatible device."){super(c),this.name="CameraApiNoAvailableError"}}const cameraFilter=[String.fromCharCode.apply(null,[86,73,82,84,85,65,76]),String.fromCharCode.apply(null,[79,66,83]),String.fromCharCode.apply(null,[83,80,76,73,84,67,65,77]),String.fromCharCode.apply(null,[70,65,75,69]),String.fromCharCode.apply(null,[83,78,65,80]),String.fromCharCode.apply(null,[68,69,70,65,85,76,84]),String.fromCharCode.apply(null,[77,79,67,75]),String.fromCharCode.apply(null,[46,89,52,77]),String.fromCharCode.apply(null,[46,77,74,80,69,71])];var FacingMode;(function(A){A.ANY="any",A.USER="user",A.ENVIRONMENT="environment"})(FacingMode||(FacingMode={}));var FocusMode;(function(A){A.CONTINUOUS="continuous"})(FocusMode||(FocusMode={}));var WidgetName;(function(A){A.SELPHI="selphi",A.SELPHID="selphid"})(WidgetName||(WidgetName={}));var CAMERATYPE;(function(A){A[A.User=0]="User",A[A.Environment=1]="Environment"})(CAMERATYPE||(CAMERATYPE={}));function createCameraOrderingMessage(A,c,u,p,I){var m;const R=typeof A=="string"&&A||(A==null?void 0:A[0])||"",S=typeof c.facingMode=="string"&&c.facingMode||((m=c.facingMode)===null||m===void 0?void 0:m[0])||"";return`
            ${p}-${I?"Accepted":"Ignored"} ${R} camera with name: ${u.label}, 
            id: ${c.deviceId||"-"}, 
            focusDiscance: ${c.focusDistance||"-"}, 
            facingMode: ${S||"-"}
        `}class CameraModule{static async getAvailableCameras(){if("mediaDevices"in navigator&&typeof navigator.mediaDevices.enumerateDevices<"u"&&typeof navigator.mediaDevices.getUserMedia<"u"){let c=[];try{if(c=(await navigator.mediaDevices.enumerateDevices()).filter(p=>p.kind==="videoinput"&&!CameraModule.filterFraudCamera(p)),c.length>0)return c;throw new CameraHardwareError("Your device does not pass the minimum requeriments to launch the authentication process, no valid cameras detected within the used device.")}catch(u){throw new Error(`There was an error getting device media resources, ${u}`)}}else throw new CameraApiNoAvailableError}static async sortCameras(c,u,p){var I;const m=[],R=[],S=[],N=[];for(const{deviceId:D}of c)try{const k=await CameraModule.getUserMedia({video:{deviceId:D}}),O=k==null?void 0:k.getVideoTracks()[0];if(O&&(typeof O.getCapabilities=="function"||typeof O.getSettings()=="object")){const P=O.getCapabilities?O.getCapabilities():O.getSettings();P.focusMode?typeof P.facingMode=="string"&&P.facingMode===FacingMode.USER||((I=P.facingMode)===null||I===void 0?void 0:I[0])===FacingMode.USER?(m.push(P),N.push(createCameraOrderingMessage(FacingMode.USER,P,O,N.length+1,!0))):P.focusMode.some(x=>x===FocusMode.CONTINUOUS)?(R.push(P),N.push(createCameraOrderingMessage(FacingMode.ENVIRONMENT,P,O,N.length+1,!0))):N.push(createCameraOrderingMessage(FacingMode.ENVIRONMENT,P,O,N.length+1,!1)):(S.push(P),N.push(createCameraOrderingMessage(P.facingMode,P,O,N.length+1,!0))),O.stop()}}catch(k){if((k.name==="OverconstrainedError"||k instanceof OverconstrainedError)&&k.constraint!=="deviceId")throw new CameraHardwareError(`Error opening camera: ${D}. We have detected that the device is either not meeting the minimum technical specifications or the browser is not deciding to return the camera with the required resolution. Have you checked if vou are running the camera correctly elsewhere in the application?. ${k}`);if(k instanceof EvalError)throw new CameraHardwareError(`Error opening camera: ${D}. We have not detected any type of camera connected to the system, please try connecting a compatible camera for the process. ${k}`);if(k instanceof DOMException||k.message==="Could not start video source")throw new CameraHardwareError(`Error opening camera: ${D}. We have tried to start the camera, but it seems that the device is preventing us from starting it, is this a bug at the driver level? ${k}`)}return{sortedCameras:CameraModule.filterAndSortCameras({frontCameras:m,aceptedRearCameras:R,allDeviceCamerasFromAPI:S},u,p),loggerSortingCamerasMessages:N}}static async getUserMedia(c){try{return await navigator.mediaDevices.getUserMedia(c)}catch(u){throw u.name==="NotAllowedError"?c.audio?new MicrophonePermissionDenied:new CameraPermissionDenied:new CameraHardwareError}}static async grantVideoPermission(c){if("mediaDevices"in navigator&&typeof navigator.mediaDevices.getUserMedia<"u"){const u={video:!0,audio:c},I=(await CameraModule.getUserMedia(u)).getTracks();for(const m of I)m.stop()}else throw new CameraHardwareError("Media Devices not Available, please check if using a Secure Context and try again or use another compatible device.")}static async getCamera(c,u,p,I,m=""){if("mediaDevices"in navigator&&typeof navigator.mediaDevices.getUserMedia<"u"){const R=p===CAMERATYPE.User?FacingMode.USER:FacingMode.ENVIRONMENT;try{let S={video:{},audio:{}};m?S={video:{deviceId:{exact:m},width:c,height:u,facingMode:R},audio:I}:S={video:{deviceId:void 0,width:c,height:u,facingMode:R,focusMode:FocusMode.CONTINUOUS},audio:I};const N=await CameraModule.getUserMedia(S),B=N==null?void 0:N.getVideoTracks()[0];if(CameraModule.filterFraudCamera(B))throw new CameraHardwareError("Your device does not pass the minimum requeriments to launch the authentication process, no valid cameras detected within the used device.");if(B&&(typeof B.getCapabilities=="function"||typeof B.getSettings()=="object")){const k=B.getCapabilities?B.getCapabilities():B.getSettings();return{cameraInstance:N,id:k.deviceId,facingMode:k.facingMode}}return{cameraInstance:N,id:void 0,facingMode:void 0}}catch{const N={video:{width:c,height:u,facingMode:R},audio:I},B=await CameraModule.getUserMedia(N),D=B==null?void 0:B.getVideoTracks()[0],k=CameraModule.filterFraudCamera(D);if(k)throw new CameraHardwareError("Your device does not pass the minimum requeriments to launch the authentication process, no valid cameras detected within the used device.");if(D&&(typeof D.getCapabilities=="function"||typeof D.getSettings()=="object")){const O=D.getCapabilities?D.getCapabilities():D.getSettings();return{cameraInstance:B,id:k?void 0:O.deviceId,facingMode:k?void 0:O.facingMode}}return{cameraInstance:B,id:void 0,facingMode:void 0}}}else throw new CameraApiNoAvailableError}static async switchCamera(c,u,p,I,m){const R=u.getVideoTracks()[0].getSettings().deviceId;let S=-1,N=-1;for(let P=0;P<c.length;P++)if(c[P].deviceId===R){S=P;break}if(S===c.length-1?N=0:N=S+1,u){const P=u.getVideoTracks();for(const x of P)x.stop()}const B={video:{deviceId:c[N].deviceId,width:p,height:I},audio:m},D=await CameraModule.getUserMedia(B),k=D==null?void 0:D.getVideoTracks()[0];if(CameraModule.filterFraudCamera(k))throw new CameraHardwareError("Camera switch unsuccess, you tried to open an unauthorized camera.");if(k&&(typeof k.getCapabilities=="function"||typeof k.getSettings()=="object")){const P=k.getCapabilities?k.getCapabilities():k.getSettings();return{newCameraInstance:D,facingMode:P.facingMode}}return{newCameraInstance:D,facingMode:void 0}}static filterAndSortCameras(c,u,p){var I;c.frontCameras&&c.frontCameras.sort((R,S)=>R.focusMode.some(N=>N===FocusMode.CONTINUOUS)&&S.focusMode.every(N=>N!==FocusMode.CONTINUOUS)?-1:R.focusMode.every(N=>N!==FocusMode.CONTINUOUS)&&S.focusMode.some(N=>N===FocusMode.CONTINUOUS)?1:0),c.aceptedRearCameras&&c.aceptedRearCameras.sort((R,S)=>R.width&&S.width&&R.width.max>S.width.max&&S.width.max<1080?-1:R.width&&S.width&&R.width.max<S.width.max&&R.width.max<1080?1:R.iso&&S.iso&&R.iso.max>S.iso.max?-1:R.iso&&S.iso&&R.iso.max<S.iso.max?1:R.torch&&!S.torch?-1:!R.torch&&S.torch?1:0),c.allDeviceCamerasFromAPI.length>0&&(c.allDeviceCamerasFromAPI[0].facingMode||!((I=c.allDeviceCamerasFromAPI[0].facingMode)===null||I===void 0)&&I[0])&&c.allDeviceCamerasFromAPI.sort((R,S)=>{var N,B,D,k;return((N=R.facingMode)===null||N===void 0?void 0:N[0])===FacingMode.USER&&((B=S.facingMode)===null||B===void 0?void 0:B[0])===FacingMode.ENVIRONMENT||R.facingMode===FacingMode.USER&&S.facingMode===FacingMode.ENVIRONMENT?1:((D=R.facingMode)===null||D===void 0?void 0:D[0])===FacingMode.ENVIRONMENT&&((k=S.facingMode)===null||k===void 0?void 0:k[0])===FacingMode.USER||R.facingMode===FacingMode.ENVIRONMENT&&S.facingMode===FacingMode.USER?-1:0});let m=[];return c.allDeviceCamerasFromAPI.length>0&&c.allDeviceCamerasFromAPI[0].facingMode&&u===CAMERATYPE.User&&p?m=c.allDeviceCamerasFromAPI.slice().reverse():c.allDeviceCamerasFromAPI.length>0?m=c.allDeviceCamerasFromAPI:u===CAMERATYPE.User?m=c.frontCameras.concat(c.aceptedRearCameras):u===CAMERATYPE.Environment&&(m=c.aceptedRearCameras.concat(c.frontCameras)),m}static filterFraudCamera(c){if(!c)return!1;const u=c.label.toLowerCase();return cameraFilter.filter(I=>u.includes(I.toLowerCase())).length>0}}var Key;(function(A){A.Enter="Enter",A.Space=" "})(Key||(Key={}));function handleKeyDown(A,c,u){if(c.includes(A.key))return A.preventDefault(),u()}var _a$1;class SpeechSynthesisModule{static __setSpeechUterance(c,u){const p=new SpeechSynthesisUtterance;return p.text=c,p.rate=1.2,p.lang=u,p.volume=_a$1.speechVolume,p}}_a$1=SpeechSynthesisModule;SpeechSynthesisModule.actualString="";SpeechSynthesisModule.isSpeaking=!1;SpeechSynthesisModule.speechVolume=1;SpeechSynthesisModule.Initialize=()=>{_a$1.actualString="",_a$1.speechVolume=1};SpeechSynthesisModule.CancelAudioTracks=()=>{_a$1.isSpeaking=!1,speechSynthesis.cancel()};SpeechSynthesisModule.ReadText=(A,c,u,p)=>{"speechSynthesis"in window&&(!_a$1.isSpeaking&&(_a$1.actualString!==A||u)&&(_a$1.isSpeaking=!0,_a$1.actualString=A,_a$1.speechInstance=_a$1.__setSpeechUterance(A,c),speechSynthesis.speak(_a$1.speechInstance)),_a$1.speechInstance.onend=()=>{_a$1.CancelAudioTracks(),_a$1.ReadText(A,c,u),p&&p()})};SpeechSynthesisModule.toggleVolume=()=>{_a$1.speechVolume?(_a$1.speechVolume=0,_a$1.Close()):_a$1.speechVolume=1};SpeechSynthesisModule.Close=()=>{_a$1.actualString="",_a$1.CancelAudioTracks()};SpeechSynthesisModule.getVolume=()=>_a$1.speechVolume;const Logo$2="Facephi Logo",START$2="START",RETRY$2="RETRY",Close$2="Close",GO$2="GO",Tutorial$2="Tutorial",Next$2="Next",Back$2="Back",Recommended$2="Recommended",EN={Logo:Logo$2,"Initializing...":"Initializing...",START:START$2,"YES, CONTINUE":"YES, CONTINUE","NO, RETRY":"NO, RETRY",RETRY:RETRY$2,"CHANGE CAMERA":"CHANGE CAMERA","Change camera":"Change camera",Close:Close$2,"Enable audio":"Enable audio","Disable audio":"Disable audio",GO:GO$2,Tutorial:Tutorial$2,Next:Next$2,Back:Back$2,"Back to previous view":"Back to previous view","Place your face in the center of the circle and follow the instructions.":"Place your face in the center of the circle and follow the instructions.","Place your face in the centre and look straight into the camera.":"Place your face in the centre and look straight into the camera.","Clear your face completely":"Clear your face completely","Keep your eyes visible":"Keep your eyes visible","Remove any object that covers your face.":"Remove any object that covers your face.","Look for a well-lit environment, without shadows on your face.":"Look for a well-lit environment, without shadows on your face.","A circle appears in the center of the screen. A person shows their face. An arrow appears indicating a turn in a direction. The person turns their head in the direction of the arrow":"A circle appears in the center of the screen. A person shows their face. An arrow appears indicating a turn in a direction. The person turns their head in the direction of the arrow","A circle appears in the centre of the screen. A person shows his/her face. You can see his/her entire head inside the circle. When it is well positioned, the app takes a photo of it":"A circle appears in the centre of the screen. A person shows his/her face. You can see his/her entire head inside the circle. When it is well positioned, the app takes a photo of it","A circle appears in the centre of the screen. Inside the circle there is a person with sunglasses whose hair covers part of his/her face. He/she takes off his/her glasses and he/she brushes his/her hair from his/her face. The app detects his/her entire face and takes a photo of it":"A circle appears in the centre of the screen. Inside the circle there is a person with sunglasses whose hair covers part of his/her face. He/she takes off his/her glasses and he/she brushes his/her hair from his/her face. The app detects his/her entire face and takes a photo of it","A dark circle appears in the centre of the screen. Inside the circle, it is hard to appreciate a person's face. A light turns on and his/her face can be seen clearly. After this, the app takes a photo of it":"A dark circle appears in the centre of the screen. Inside the circle, it is hard to appreciate a person's face. A light turns on and his/her face can be seen clearly. After this, the app takes a photo of it","Place your face inside the circle. Press the button to start.":"Place your face inside the circle. Press the button to start.","Remain still, with your face in the centre of the circle":"Remain still, with your face in the centre of the circle","Photo preview":"Photo preview","Is the image clear?":"Is the image clear?","Process completed":"Process completed","Processing video recorded.":"Processing video recorded.","Please wait...":"Please wait...","Bring your face closer":"Bring your face closer","Turn your face away":"Turn your face away","Stay still in front of the camera":"Stay still in front of the camera","Keep your face facing forward":"Keep your face facing forward","Turn your face slightly to the left":"Turn your face slightly to the left","Turn your face slightly to the right":"Turn your face slightly to the right","Turn your face slightly up":"Turn your face slightly up","Turn your face slightly down":"Turn your face slightly down","Return to the center":"Return to the center","Find a brighter environment":"Find a brighter environment","It seems that the image is not sharp. Try adjusting your face slightly":"It seems that the image is not sharp. Try adjusting your face slightly","Please maintain a neutral pose with your face":"Please maintain a neutral pose with your face","Keep your eyes at camera level and follow the instructions":"Keep your eyes at camera level and follow the instructions","Turn your face to the left":"Turn your face to the left","Turn your face to the right":"Turn your face to the right","Turn your face up":"Turn your face up","Turn your face down":"Turn your face down","Look forward to continue the process":"Look forward to continue the process","We have not been able to verify the liveness.":"We have not been able to verify the liveness.","Liveness Failed":"Liveness Failed","Time exceeded":"Time exceeded","Keep your face inside the circle and looking straight ahead until the photo is taken.":"Keep your face inside the circle and looking straight ahead until the photo is taken.","We do not detect your face":"We do not detect your face","Place your face inside the circle and press start to start the capture.":"Place your face inside the circle and press start to start the capture.","We do not detect your eyes":"We do not detect your eyes","Remove any object that covers your eyes or causes reflections on them.":"Remove any object that covers your eyes or causes reflections on them.","The photo is not clear":"The photo is not clear","Find a well-lit place and avoid moving the camera.":"Find a well-lit place and avoid moving the camera.","Keep your face facing the camera":"Keep your face facing the camera","Place your face straight, without inclinations.":"Place your face straight, without inclinations.","Multiple faces detected":"Multiple faces detected","Only one face can appear at the time of capture.":"Only one face can appear at the time of capture.","Camera problem":"Camera problem","We cannot access the camera. Please try with another device.":"We cannot access the camera. Please try with another device.","Allow access to the camera":"Allow access to the camera","To capture the images we need you to activate this permission.":"To capture the images we need you to activate this permission.","Allow access to the camera and microphone":"Allow access to the camera and microphone","To capture the images we need you to activate this permissions.":"To capture the images we need you to activate this permissions.","To capture the video with audio, we need you to activate this permissions.":"To capture the video with audio, we need you to activate this permissions.","There was a technical problem":"There was a technical problem","We apologize. We are working to solve it. Try again later.":"We apologize. We are working to solve it. Try again later.","Your browser is not compatible":"Your browser is not compatible","Please use another browser to continue the process.":"Please use another browser to continue the process.","There is a configuration error":"There is a configuration error","Check the console to locate the error":"Check the console to locate the error","Minimum version:":"Minimum version:","Install now":"Install now",Recommended:Recommended$2,"Install now or update to a most recent version of the used browser":"Install now or update to a most recent version of the used browser","Update your operating system":"Update your operating system","Spoofing detected":"Spoofing detected","We have detected an attempt of video manipulation. The process has been cancelled.":"We have detected an attempt of video manipulation. The process has been cancelled.","You are using WebView":"You are using WebView","We are going to open an external browser to improve user experience":"We are going to open an external browser to improve user experience"},Logo$1="Facephi Logo",START$1="COMENZAR",RETRY$1="REINTENTAR",Close$1="Cerrar",GO$1="IR",Tutorial$1="Tutorial",Next$1="Siguiente",Back$1="Anterior",Recommended$1="Recomendado",ES={Logo:Logo$1,"Initializing...":"Inicializando...",START:START$1,"YES, CONTINUE":"SI, CONTINUAR","NO, RETRY":"NO, REINTENTAR",RETRY:RETRY$1,"CHANGE CAMERA":"CAMBIAR CÁMARA","Change camera":"Cambiar cámara",Close:Close$1,"Enable audio":"Habilitar audio","Disable audio":"Silenciar audio",GO:GO$1,Tutorial:Tutorial$1,Next:Next$1,Back:Back$1,"Back to previous view":"Volver a la vista anterior","Place your face in the center of the circle and follow the instructions.":"Coloca tu cara en el centro del círculo y sigue las indicaciones.","Place your face in the centre and look straight into the camera.":"Coloca tu cara en el centro y mira de frente a la cámara.","Clear your face completely":"Despeja tu cara completamente","Keep your eyes visible":"Mantén tus ojos visibles","Remove any object that covers your face.":"Retira cualquier objeto que cubra tu cara.","Look for a well-lit environment, without shadows on your face.":"Busca un entorno bien iluminado, sin sombras sobre tu rostro.","A circle appears in the center of the screen. A person shows their face. An arrow appears indicating a turn in a direction. The person turns their head in the direction of the arrow":"Aparece un círculo en el centro de la pantalla. Una persona muestra su cara. Aparece una flecha indicando un giro en una dirección. La persona gira la cabeza en la dirección de la flecha","A circle appears in the centre of the screen. A person shows his/her face. You can see his/her entire head inside the circle. When it is well positioned, the app takes a photo of it":"Aparece un círculo en el centro de la pantalla. Una persona muestra su cara. Se puede ver su cabeza al completo dentro del círculo. Cuando está bien posicionada, la aplicación le hace una foto","A circle appears in the centre of the screen. Inside the circle there is a person with sunglasses whose hair covers part of his/her face. He/she takes off his/her glasses and he/she brushes his/her hair from his/her face. The app detects his/her entire face and takes a photo of it":"Aparece un círculo en el centro de la pantalla. Dentro del círculo hay una persona, con gafas de sol, y el pelo tapando parte de su cara. Se quita las gafas y se retira el pelo de la cara. La aplicación detecta su cara al completo y le hace una foto","A dark circle appears in the centre of the screen. Inside the circle, it is hard to appreciate a person's face. A light turns on and his/her face can be seen clearly. After this, the app takes a photo of it":"Aparece un círculo oscuro en el centro de la pantalla. Dentro del círculo, se observa con dificultad la cara de una persona. Se enciende una luz y su cara se aprecia con claridad. Tras esto, la aplicación le hace una foto","Place your face inside the circle. Press the button to start.":"Coloca tu cara dentro del círculo. Pulsa el botón para comenzar","Remain still, with your face in the centre of the circle":"Permanece quieto, con tu cara en el centro del círculo","Photo preview":"Previsualización de la foto","Is the image clear?":"¿La imagen es nítida?","Process completed":"Proceso completado","Processing video recorded.":"Procesando video grabación.","Please wait...":"Por favor espera...","Bring your face closer":"Acerca la cara","Turn your face away":"Aleja tu cara","Stay still in front of the camera":"Permanece quieto frente a la cámara","Keep your face facing forward":"Permanece con tu cara mirando al frente","Turn your face slightly to the left":"Gira tu cara ligeramente hacia la izquierda","Turn your face slightly to the right":"Gira tu cara ligeramente hacia la derecha","Turn your face slightly up":"Gira tu cara ligeramente hacia arriba","Turn your face slightly down":"Gira tu cara ligeramente hacia abajo","Return to the center":"Vuelve al centro","Find a brighter environment":"Busca un entorno más iluminado","It seems that the image is not sharp. Try adjusting your face slightly":"Parece que la imagen no es nitida. Prueba a ajustar ligeramente tu cara","Please maintain a neutral pose with your face":"Por favor, mantén una pose neutral con tu cara","Keep your eyes at camera level and follow the instructions":"Mantén tus ojos a la altura de la cámara y sigue las instrucciones","Turn your face to the left":"Gira tu cara hacia la izquierda","Turn your face to the right":"Gira tu cara hacia la derecha","Turn your face up":"Gira tu cara hacia arriba","Turn your face down":"Gira tu cara hacia abajo","Look forward to continue the process":"Mira al frente para continuar el proceso","We have not been able to verify the liveness.":"No hemos podido verificar su vivacidad","Liveness Failed":"Prueba de vida fallida","Time exceeded":"Tiempo superado","Keep your face inside the circle and looking straight ahead until the photo is taken.":"Mantén tu cara dentro del círculo y mirando de frente hasta que se realice la foto.","We do not detect your face":"No detectamos tu cara","Place your face inside the circle and press start to start the capture.":"Coloca tu cara dentro del círculo y retira cualquier objeto que la tape.","We do not detect your eyes":"No detectamos tus ojos","Remove any object that covers your eyes or causes reflections on them.":"Retira cualquier objeto que tape tus ojos o provoque reflejos sobre ellos.","The photo is not clear":"La foto no es nítida","Find a well-lit place and avoid moving the camera.":"Busca un lugar bien iluminado y evita mover la cámara.","Keep your face facing the camera":"Mantén tu cara de frente a la cámara","Place your face straight, without inclinations.":"Coloca tu cara recta, sin inclinaciones","Multiple faces detected":"Varios rostros detectados","Only one face can appear at the time of capture.":"Solo puede aparecer un rostro en el momento de la captura.","Camera problem":"Problema con la cámara","We cannot access the camera. Please try with another device.":"No podemos acceder a la cámara. Por favor, inténtalo con otro dispositivo.","Allow access to the camera":"Permite el acceso a cámara","To capture the images we need you to activate this permission.":"Para capturar las imágenes necesitamos que actives este permiso.","To capture the video with audio, we need you to activate this permissions.":"Para capturar el video con audio, necesitamos que actives estos permisos.","Allow access to the camera and microphone":"Permite el acceso a la cámara y el micrófono","To capture the images we need you to activate this permissions.":"Para capturar las imágenes necesitamos que actives estos permisos.","There was a technical problem":"Hubo un problema técnico","We apologize. We are working to solve it. Try again later.":"Pedimos disculpas. Estamos trabajando para solucionarlo. Inténtalo de nuevo más tarde.","Your browser is not compatible":"Tu navegador no es compatible","Please use another browser to continue the process.":"Por favor, utiliza otro navegador para continuar con el proceso.","There is a configuration error":"Hay un error de configuración","Check the console to locate the error":"Revisa la consola para localizar el error","Minimum version:":"Versión mínima:","Install now":"Instalar ahora",Recommended:Recommended$1,"Install now or update to a most recent version of the used browser":"Instala ahora o actualiza a una versión más reciente del navegador usado","Update your operating system":"Actualiza tu sistema operativo","Spoofing detected":"Suplantación detectada","We have detected an attempt of video manipulation. The process has been cancelled.":"Hemos detectado un intento de manipulación de video. El proceso se ha cancelado.","You are using WebView":"Estás usando WebView","We are going to open an external browser to improve user experience":"Vamos a abrir un navegador externo para mejorar la experiencia de usuario"},Logo="Facephi Logo",START="COMEÇAR",RETRY="TENTAR NOVAMENTE",Close="Fechar",GO="IR PARA",Tutorial="Tutorial",Next="Seguinte",Back="Anterior",Recommended="Recomendado",PT={Logo,"Initializing...":"Inicializando...",START,"YES, CONTINUE":"SIM, CONTINUE","NO, RETRY":"NÃO, TENTE NOVAMENTE",RETRY,"CHANGE CAMERA":"MUDAR CAMERA","Change camera":"Alterar câmera",Close,"Enable audio":"Ativar áudio","Disable audio":"Silenciar áudio",GO,Tutorial,Next,Back,"Back to previous view":"Voltar à vista anterior","Place your face in the center of the circle and follow the instructions.":"Coloque seu rosto no centro do círculo e siga as instruções.","Place your face in the centre and look straight into the camera.":"Coloque seu rosto no centro e olhe diretamente para a câmera.","Clear your face completely":"Limpe seu rosto completamente","Keep your eyes visible":"Mantenha seus olhos visíveis","Remove any object that covers your face.":"Retire quaisquer objectos que cubram o seu rosto.","Look for a well-lit environment, without shadows on your face.":"Procure um ambiente bem iluminado, sem sombras no seu rosto.","A circle appears in the center of the screen. A person shows their face. An arrow appears indicating a turn in a direction. The person turns their head in the direction of the arrow":"Aparece um círculo no centro da tela. Uma pessoa mostra seu rosto. Aparece uma flecha indicando uma virada em uma direção. A pessoa vira a cabeça na direção da flecha","A circle appears in the centre of the screen. A person shows his/her face. You can see his/her entire head inside the circle. When it is well positioned, the app takes a photo of it":"Um círculo aparece no centro da tela. Uma pessoa mostra o rosto. É possível ver toda a cabeça dentro do círculo. Quando estiver bem-posicionada, o aplicativo tira uma foto","A circle appears in the centre of the screen. Inside the circle there is a person with sunglasses whose hair covers part of his/her face. He/she takes off his/her glasses and he/she brushes his/her hair from his/her face. The app detects his/her entire face and takes a photo of it":"Um círculo aparece no centro da tela. Dentro do círculo está uma pessoa, de óculos escuros e com os cabelos cobrindo parte do rosto. Ela tira os óculos e afasta o cabelo do rosto. O aplicativo detecta todo o seu rosto e tira uma foto dele","A dark circle appears in the centre of the screen. Inside the circle, it is hard to appreciate a person's face. A light turns on and his/her face can be seen clearly. After this, the app takes a photo of it":"Um círculo escuro aparece no centro da tela. Dentro do círculo, o rosto de uma pessoa pode ser visto com dificuldade. Uma luz acende e seu rosto pode ser visto claramente. Depois disso, o aplicativo tira uma foto da pessoa","Place your face inside the circle. Press the button to start.":"Coloque o seu rosto dentro do círculo. Prima o botão para começar.","Remain still, with your face in the centre of the circle":"Fique parado, com o seu rostro no centro do círculo.","Photo preview":"Prévisualização da foto","Is the image clear?":"A imagem é nítida?","Process completed":"Processo concluído","Processing video recorded.":"Processando gravação de vídeo.","Please wait...":"Por favor aguarde...","Bring your face closer":"Aproxime o rosto","Turn your face away":"Afaste o rosto","Stay still in front of the camera":"Fique parado em frente à câmera","Keep your face facing forward":"Fique com o rosto virado para a frente","Turn your face slightly to the left":"Vire seu rosto levemente para a esquerda","Turn your face slightly to the right":"Vire seu rosto levemente para a direita","Turn your face slightly up":"Vire seu rosto levemente para cima","Turn your face slightly down":"Vire seu rosto levemente para baixo","Find a brighter environment":"Procure um ambiente mais luminoso","Return to the center":"voltar ao centro","It seems that the image is not sharp. Try adjusting your face slightly":"Parece que a imagem não está nítida. Tente ajustar ligeiramente o seu rosto","Please maintain a neutral pose with your face":"Por favor, mantenha uma postura neutra com o seu rosto","Keep your eyes at camera level and follow the instructions":"Mantenha seus olhos na altura da câmera e siga as instruções","Turn your face to the left":"Vire seu rosto para a esquerda","Turn your face to the right":"Vire seu rosto para a direita","Turn your face up":"Vire seu rosto para cima","Turn your face down":"Vire seu rosto para baixo","Look forward to continue the process":"Olhe para frente para continuar o processo","We have not been able to verify the liveness.":"Não foi possível verificar a sua vida.","Liveness Failed":"Verificação de vida falhou","Time exceeded":"Tempo excedido","Keep your face inside the circle and looking straight ahead until the photo is taken.":"Mantenha o rosto dentro do círculo e olhe em frente até tirar a fotografia.","We do not detect your face":"Não detectamos o seu rosto","Place your face inside the circle and press start to start the capture.":"Coloque o seu rosto dentro do círculo e remova quaisquer objectos que estejam a bloquear o seu rosto.","We do not detect your eyes":"Não detectamos os seus olhos","Remove any object that covers your eyes or causes reflections on them.":"Retire todos os objectos que tapem os seus olhos ou provoquem reflexos nos seus olhos.","The photo is not clear":"A fotografia não é nítida","Find a well-lit place and avoid moving the camera.":"Procure um local bem iluminado e evite mover a câmera.","Keep your face facing the camera":"Manter o rosto virado para a câmera","Place your face straight, without inclinations.":"Mantenha o rosto direito, sem se inclinar.","Multiple faces detected":"Vários rostos detectados","Only one face can appear at the time of capture.":"Só pode aparecer um rosto no momento da captura.","Camera problem":"Problema com a câmara","We cannot access the camera. Please try with another device.":"Não é possível aceder à câmera. Tente noutro dispositivo.","Allow access to the camera":"Permitir o acesso à câmera","To capture the images we need you to activate this permission.":"Para capturar as imagens, é necessário ativar esta permissão.","Allow access to the camera and microphone":"Permite o acesso à câmara e ao microfone","To capture the images we need you to activate this permissions.":"Para capturar as imagens, é necessário ativar estas permissões.","To capture the video with audio, we need you to activate this permissions.":"Para capturar o vídeo com áudio,  é necessário ativar estas permissões.","There was a technical problem":"Houve um problema técnico","We apologize. We are working to solve it. Try again later.":"Pedimos desculpa. Estamos a trabalhar para resolver o problema. Por favor, tente novamente mais tarde.","Your browser is not compatible":"O seu browser não é suportado","Please use another browser to continue the process.":"Utilize outro browser para continuar o processo.","There is a configuration error":"Há um erro de configuração","Check the console to locate the error":"Verifique o console para localizar o erro","Minimum version:":"Versão mínima:","Install now":"Instalar agora",Recommended,"Install now or update to a most recent version of the used browser":"Instale agora ou atualize para uma versão mais recente do navegador usado","Update your operating system":"Atualize seu sistema operacional","Spoofing detected":"Falsificação de identidade detectada","We have detected an attempt of video manipulation. The process has been cancelled.":"Detectamos uma tentativa de manipulação de vídeo. O processo foi cancelado.","You are using WebView":"Você está usando o WebView","We are going to open an external browser to improve user experience":"Abriremos um navegador externo para melhorar a experiência do usuário"},Locales={en:EN,es:ES,pt:PT},fileTag$1="locale-utils",fetchCustomLanguage=async A=>{try{const c=await fetch(`${A}`);internal_store.customLanguage=await c.json(),internal_store.languageLoaded=!0,Logger.printDebug(fileTag$1,"Custom language successfully fetch")}catch(c){internal_store.customLanguage=Locales[Language.ES],internal_store.languageLoaded=!0,Logger.printError(fileTag$1,`Fetching custom language failed. Default language loaded. ${c}`)}},translate=(A,c={})=>{const u=internal_store.customLanguage||Locales[config_store.language];return config_store.audible&&c.isAudible&&SpeechSynthesisModule.ReadText(u[A],config_store.audible,c.forceSpeech,c.callback),u[A]};function checkUserDeviceTypeAndOS(){let A=!1,c=OperatingSystem.Unknown,u=!1;const p=navigator.userAgent,I=p.toLowerCase().includes("macintosh"),m=p.toLowerCase().includes("ipod")||p.toLowerCase().includes("ipad")||p.toLowerCase().includes("iphone")||p.toLowerCase().includes("macintosh")&&(navigator==null?void 0:navigator.maxTouchPoints)>=5,R=p.toLowerCase().includes("android"),S=p.toLowerCase().includes("safari"),N=p.toLowerCase().includes("chrome"),B=p.toLowerCase().includes("firefox"),D=p.toLowerCase().includes("wv");return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(p)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(p.substring(0,4))||p.toLowerCase().includes("macintosh")&&(navigator==null?void 0:navigator.maxTouchPoints)>=5)&&(A=!0,/windows phone/i.test(p)&&(c=OperatingSystem.WindowsPhone),/android/i.test(p)&&(c=OperatingSystem.Android),/iPad|iPhone|iPod/.test(p)&&(c=OperatingSystem.iOS)),u=I||c==="iOS",{isMobile:A,OS:c,isAppleDevice:u,isAppleMobile:m,isAndroidMobile:R,isBrowserSafari:S,isBrowserChrome:N,isBrowserFirefox:B,isWebView:D}}/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const widgetName="selphi";let advancedTrackingIntance=null,currentPhaseName=null,isPhaseOpen=!1;const thresholdRangeValues={facePitchThLow:-12.5,facePitchThHigh:12.5,faceYawThLow:-12.5,faceYawThHigh:12.5};function initializeAdvancedTracking(){if(!advancedTrackingIntance){const A={livenessMode:"Passive"};advancedTrackingIntance=new AdvancedTrackingModule,advancedTrackingIntance.initialize(widgetName,AdvancedTrackingType.SelphiExecutionCompleted,WidgetVersion,thresholdRangeValues,A)}}async function getAdvancedTrackingBuffer(){try{return advancedTrackingIntance?(isPhaseOpen&&addAdvancedTrackingEndPhase(),await advancedTrackingIntance.getBuffer(config_store.debug)):void 0}catch(A){throw new Error(`Advanced tracking buffer could not be generated. ${A}`)}}function addAdvancedTrackingBeginPhase(A){advancedTrackingIntance&&A!==currentPhaseName&&(currentPhaseName!==null&&addAdvancedTrackingEndPhase(),currentPhaseName=A,isPhaseOpen=!0,advancedTrackingIntance.addEvent(DataEventType.beginPhaseData,Date.now(),{name:A}))}function addAdvancedTrackingEndPhase(){advancedTrackingIntance&&(isPhaseOpen=!1,advancedTrackingIntance.addEvent(DataEventType.endPhaseData,Date.now(),{name:currentPhaseName}))}function addAdvancedTrackingExtractionEvent(A,c,u,p){if(advancedTrackingIntance&&(currentPhaseName===SelphiPhaseNames.Stabilization||currentPhaseName===SelphiPhaseNames.Extraction)){let I=!1;if(internal_store.cameraContainerBoundingRect&&internal_store.videoTagBoundingRect){const m=p.width/internal_store.videoTagBoundingRect.width,R=p.height/internal_store.videoTagBoundingRect.height;I=internal_store.cameraContainerBoundingRect.left<=u.face.x/m&&internal_store.cameraContainerBoundingRect.right>=(u.face.x+u.face.width)/m&&internal_store.cameraContainerBoundingRect.top<=u.face.y/R&&internal_store.cameraContainerBoundingRect.bottom>=(u.face.y+u.face.height)/R}advancedTrackingIntance.addEvent(DataEventType.faceFrameCapturedData,A,{faceX:u.face.x,faceY:u.face.y,faceW:u.face.width,faceH:u.face.height,faceFramed:config_store.faceTracking||I,leftEyeX:u.leftEye.x,leftEyeY:u.leftEye.y,rightEyeX:u.rightEye.x,rightEyeY:u.rightEye.y,facePitch:u.pitch,facePitchInRange:thresholdRangeValues.facePitchThLow<u.pitch&&thresholdRangeValues.facePitchThHigh>u.pitch,faceYaw:u.yaw,faceYawInRange:thresholdRangeValues.faceYawThLow<u.yaw&&thresholdRangeValues.faceYawThHigh>u.yaw,facialScore:u.facialScore,stabilizationDiagnostic:u.faceStabilized?STABILIZATION_DIAGNOSTIC[u.faceStabilized]:"undefined",extractionDiagnostic:DIAGNOSTIC[u.sampleDiagnostic],sunglasses:u.faceStabilized===STABILIZATION_DIAGNOSTIC.NotStabilizedSunGlasses},c)}}function addAdvancedTrackingClickEvent(A,c,u){advancedTrackingIntance&&(advancedTrackingIntance.addEvent(A,c,{element:u}),isPhaseOpen&&(u===ClickableEventElements.buttonRetry||u===ClickableEventElements.buttonErrorRepeat||u===ClickableEventElements.buttonCloseTutorial)&&(addAdvancedTrackingEndPhase(),currentPhaseName=null))}function addAdvancedTrackingErrorEvent(A,c){advancedTrackingIntance&&advancedTrackingIntance.addEvent(DataEventType.errorData,Date.now(),{errorType:A,message:c})}function addAdvancedTrackingTimeoutEvent(A){if(advancedTrackingIntance){let c;A==null?c="Extraction Phase":c=`Stabilization Phase: ${STABILIZATION_DIAGNOSTIC[A]}`,advancedTrackingIntance.addEvent(DataEventType.timeoutData,Date.now(),{message:c})}}function finalizeAdvancedTracking(){advancedTrackingIntance&&(advancedTrackingIntance.finalize(),advancedTrackingIntance=null,currentPhaseName=null,isPhaseOpen=!1)}async function checkCapabilities(A={omit:[]}){const c={};if(A.omit.indexOf("camera")<0)try{c.camera=(await CameraModule.getAvailableCameras()).length>0}catch{c.camera=!1}else c.camera=null;if(A.omit.indexOf("wasm")<0)try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const u=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));c.wasm=u instanceof WebAssembly.Module&&new WebAssembly.Instance(u)instanceof WebAssembly.Instance}else c.wasm=!1}catch{c.wasm=!1}else c.wasm=null;return A.omit.indexOf("browser")<0?c.browser=typeof WebAssembly<"u"&&typeof WebAssembly.instantiate<"u"&&typeof CanvasRenderingContext2D<"u"&&typeof customElements<"u"&&typeof HTMLElement<"u"&&typeof Uint8ClampedArray<"u":c.browser=null,c}function getFrameSample(A,c){const u=document.createElement("canvas"),p=u.getContext("2d");A instanceof HTMLVideoElement?[CameraRotation.DEG0,CameraRotation.DEG180].includes(c)?(u.width=A.width,u.height=A.height):(u.width=A.height,u.height=A.width):A instanceof HTMLImageElement&&([CameraRotation.DEG0,CameraRotation.DEG180].includes(c)?(u.width=A.naturalWidth,u.height=A.naturalHeight):(u.width=A.naturalHeight,u.height=A.naturalWidth));const I=Math.PI*(90*c/180);return p.save(),p.translate(u.width/2,u.height/2),p.rotate(I),[CameraRotation.DEG0,CameraRotation.DEG180].includes(c)?p.drawImage(A,-u.width/2,-u.height/2,u.width,u.height):p.drawImage(A,-u.height/2,-u.width/2,u.height,u.width),p.restore(),p.getImageData(0,0,u.width,u.height)}function orderImgArrayByScore(A){return A.sort((c,u)=>c.extractionResult.facialScore>u.extractionResult.facialScore?-1:c.extractionResult.facialScore<u.extractionResult.facialScore?1:0),A}function arrayBufferToBase64(A){let c="";const u=new Uint8Array(A);for(let p=0;p<u.byteLength;p++)c+=String.fromCharCode(u[p]);return window.btoa(c)}function convertToEncImage(A,c,u){const p=document.createElement("canvas");return p.width=A.width,p.height=A.height,p.getContext("2d").putImageData(A,0,0),p.toDataURL(c,u)}function getImageCropped(A,c){const u=document.createElement("canvas");u.width=A.image.width,u.height=A.image.height,u.getContext("2d").putImageData(A.image,0,0);const p=document.createElement("canvas");let I=A.extractionResult.face.width*c,m=A.extractionResult.face.height*c,R=A.extractionResult.face.x-(c-1)*A.extractionResult.face.width/2,S=A.extractionResult.face.y-(c-1)*A.extractionResult.face.height/2;return R<0&&(I+=R,R=0),S<0&&(m+=S,S=0),R+I>=A.image.width&&(I=A.image.width-R),S+m>=A.image.height&&(m=A.image.height-S),p.width=I,p.height=m,p.getContext("2d").drawImage(u,R,S,I,m,0,0,p.width,p.height),p.getContext("2d").getImageData(0,0,p.width,p.height)}function calculateVideoResolution(A,c){let u=A,p=c;return A>c?(p=c/A*CAMERAWIDTH,u=CAMERAWIDTH,c>CAMERAHEIGHT&&(u=A/c*CAMERAHEIGHT,p=CAMERAHEIGHT)):(A>CAMERAHEIGHT||c>CAMERAWIDTH)&&(u=A/c*CAMERAWIDTH,p=CAMERAWIDTH),{recalculatedBufferWidth:u,recalculatedBufferHeight:p}}function generateBinaryStringImage(A,c,u){const p=document.createElement("canvas");p.width=A.width,p.height=A.height,p.getContext("2d").putImageData(A,0,0);let I=p.toDataURL(c,u);return I=I.split(",")[1],window.atob(I)}function readFile(A){const c=new FileReader;return new Promise((u,p)=>{c.onload=()=>{u(c.result)},c.onerror=p,c.readAsDataURL(A)})}function getAbsoluteUrl(A){if(/^(https?:\/\/|ftp:\/\/|\/\/)/.test(A))return A;if(A.startsWith("/"))return window.location.origin+A;if(A.startsWith("."))return null}function getVideoRecordAudio(){return config_store.videoRecord&&config_store.videoRecordAudio}/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */var FileTypes;(function(A){A.image="image",A.video="video",A.json="json",A.none="none"})(FileTypes||(FileTypes={}));var SupportedImages;(function(A){A.jpg="jpg",A.jpeg="jpeg",A.png="png",A.gif="gif",A.svg="svg",A.webp="webp"})(SupportedImages||(SupportedImages={}));var SupportedVideos;(function(A){A.mp4="mp4",A.webm="webm",A.ogg="ogg",A.mov="mov",A.wmv="wmv",A.avi="avi"})(SupportedVideos||(SupportedVideos={}));/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const widgetIconCss=".icon.sc-widget-icon{display:flex}.hidden.sc-widget-icon{visibility:hidden}.white-icon.sc-widget-icon{filter:brightness(0) invert(1)}",WidgetIconStyle0=widgetIconCss,WidgetIcon=class{constructor(A){registerInstance(this,A),this.Icons={ArrowNextIcon:h$4("arrow-next-icon",null),ArrowPreviousIcon:h$4("arrow-previous-icon",null),CameraIcon:h$4("camera-icon",null),DotIcon:h$4("dot-icon",null),ErrorBrowserIcon:h$4("error-browser-icon",null),ErrorCameraIcon:h$4("error-camera-icon",null),ErrorDocumentIcon:h$4("error-document-icon",null),ErrorFaceAngleIcon:h$4("error-face-angle-icon",null),ErrorFaceIcon:h$4("error-face-icon",null),ErrorForbiddenIcon:h$4("error-forbidden-icon",null),ErrorFraudIcon:h$4("error-fraud-icon",null),ErrorGenericIcon:h$4("error-generic-icon",null),ErrorGlassesIcon:h$4("error-glasses-icon",null),ErrorInactiveIcon:h$4("error-inactive-icon",null),ErrorLightningIcon:h$4("error-lightning-icon",null),ErrorManyFacesIcon:h$4("error-many-faces-icon",null),ErrorMemoryIcon:h$4("error-memory-icon",null),ErrorSettingsIcon:h$4("error-settings-icon",null),ErrorTimeoutIcon:h$4("error-timeout-icon",null),ExitIcon:h$4("exit-icon",null),InfoIcon:h$4("info-icon",null),MediaPauseIcon:h$4("media-pause-icon",null),MediaPlayIcon:h$4("media-play-icon",null),RotateIcon:h$4("rotate-icon",null),ValidationFailIcon:h$4("validation-fail-icon",null),ValidationOkIcon:h$4("validation-ok-icon",null),ValidationWarnIcon:h$4("validation-warn-icon",null),ChromeBrowserIcon:h$4("chrome-browser-icon",null),SafariBrowserIcon:h$4("safari-browser-icon",null),FirefoxBrowserIcon:h$4("firefox-browser-icon",null),EdgeBrowserIcon:h$4("edge-browser-icon",null)},this.icon=void 0,this.width="unset",this.height="unset",this.hidden=!1,this.ariaLabel="",this.margin="unset",this.padding="unset",this.role="none",this.backgroundColor="none",this.borderRadius="none",this.isWhite=!1,this.opacity="1",this.tabIndexOrder=0}componentDidRender(){if(!this.hidden){const A=this.iconElement.querySelector(".icon");this.ariaLabel?A.setAttribute("aria-label",this.ariaLabel):A.setAttribute("aria-hidden","true")}}render(){return!this.hidden&&h$4("span",{key:"ab6811f74c5d386ca39a60fb225553e8355115c5",class:`icon ${this.isWhite&&"white-icon"}`,style:{width:this.width,height:this.height,margin:this.margin,padding:this.padding,cursor:this.role==="button"?"pointer":"default",backgroundColor:this.backgroundColor,borderRadius:this.borderRadius,justifyContent:"center",aspectRatio:"1 / 1",opacity:this.opacity},role:this.role,tabIndex:this.Icons[this.icon]===this.Icons.DotIcon?-1:this.tabIndexOrder},this.Icons[this.icon])}get iconElement(){return getElement(this)}};WidgetIcon.style=WidgetIconStyle0;const widgetLogoCss=".logo.sc-widget-logo{display:var(--display-logo);align-items:center}.white-logo.sc-widget-logo{filter:brightness(0) invert(1)}",WidgetLogoStyle0=widgetLogoCss,WidgetLogo=class{constructor(A){registerInstance(this,A),this.isWhite=!1,this.alt=""}render(){return h$4("div",{key:"50bad26336d82af35200ab766d7e16074b2853cc",class:`
          logo
          ${this.isWhite?"white-logo":""}
        `},h$4("svg",{key:"2435af1e9e72200760983b6ad4e06af3d7da4dc5",width:"121",height:"25",viewBox:"0 0 121 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h$4("title",{key:"e9ab6e0b1fd00aec107e3755a53588d43cd260b4"},this.alt),h$4("path",{key:"9f7bf8593244f6b2dc65aa5900821d113af331d3",d:"M11.2969 3.34537V24.7445C12.7041 24.7445 13.8439 23.5798 13.8439 21.8138V0.74292C12.4376 0.74292 11.2969 1.90848 11.2969 3.34537Z",fill:"url(#paint0_linear_1759_3686)"}),h$4("path",{key:"2f967922889db25c5684359fe4bf198a16951098",d:"M8.54746 17.2527C8.54746 17.2527 7.30965 16.6812 6.90749 16.4701C3.93337 14.9072 3.02388 12.5086 3.02388 11.3198C3.02388 9.85317 3.39715 8.75102 4.00803 7.8632C3.81939 9.05204 3.74393 10.3517 4.16135 11.4755C4.16135 11.4755 4.53863 11.1737 5.81497 10.3163C6.54626 9.82507 8.81557 8.47007 8.81557 8.47007C10.1874 7.53569 10.0999 7.23145 10.0999 6.34042V3.32056C10.0999 3.32056 4.72165 6.47448 3.03111 7.68179C1.3229 8.90193 0 10.6487 0 13.3555C0 16.0848 1.71062 17.911 5.27473 19.7251C6.31828 20.2549 10.0999 22.053 10.0999 22.053V19.0829C10.1015 18.029 9.77082 17.8909 8.54746 17.2527Z",fill:"#243760"}),h$4("path",{key:"f74515a3c1d550367a06197fecc01eaa0a52cf61",d:"M22.1095 7.68179C20.4198 6.47769 15.0407 3.32056 15.0407 3.32056V6.34123C15.0407 7.23226 14.9532 7.53649 16.325 8.47087C16.325 8.47087 18.5944 9.82828 19.3256 10.3171C20.602 11.1745 22.1167 12.3633 22.1167 15.1086C22.1167 16.4364 21.7362 17.3129 20.9327 18.3196C21.1944 16.9196 21.3341 16.1129 21.0306 15.0701C20.1757 15.5517 19.491 15.864 18.2331 16.4685L16.5931 17.2511C15.3698 17.8933 15.0399 18.0274 15.0399 19.0765V22.0466C15.0399 22.0466 18.8247 20.2517 19.8651 19.7187C23.4292 17.9045 25.1398 16.0783 25.1398 13.3491C25.1406 10.6487 23.8177 8.90193 22.1095 7.68179Z",fill:"#243760"}),h$4("path",{key:"ef8970fb02ffc5201b3c699d63a939e22bd8a442","fill-rule":"evenodd","clip-rule":"evenodd",d:"M31.9557 8.57836V20.999H34.3334V8.57997H37.8727V6.52257H34.3334V4.0598C34.3334 3.62873 34.4177 3.16315 34.5863 3.0026C34.7554 2.84206 35.0457 2.76178 35.4572 2.76178H38.5429V0.74292H34.6898C33.7145 0.74292 32.9905 0.977317 32.5128 1.44531C32.0352 1.9133 31.9742 2.63495 31.9742 3.60866V6.52257H30.1279V8.57836H31.9557ZM105.054 0.750977H102.687V20.9838H105.054V12.8337C105.054 9.83546 106.921 8.2581 109.103 8.2581C110.998 8.2581 112.363 9.41483 112.363 12.0968V20.9838H114.73V11.8624C114.73 8.39216 112.812 6.15736 109.682 6.15736C107.21 6.15736 105.79 7.65365 105.054 9.04718H105.001C105.054 8.07442 105.054 7.57432 105.054 6.91783V6.91754V0.750977ZM88.2263 9.2045H88.2792C89.3043 7.31166 91.145 6.15413 93.4849 6.15413C97.0868 6.15413 100.137 8.80955 100.137 13.6741C100.137 18.643 97.0868 21.3514 93.4849 21.3514C91.145 21.3514 89.3043 20.1947 88.2792 18.301H88.2263C88.2792 18.9063 88.2792 19.3799 88.2792 19.9314V24.7349H85.9128V6.52258H88.2792V7.57415C88.2792 8.12804 88.2792 8.60004 88.2263 9.2045ZM97.6656 13.6749C97.6656 10.3885 95.7197 8.17941 92.9295 8.2059C90.1199 8.23239 88.2495 10.4672 88.2495 13.6484C88.2495 16.9613 90.1167 19.2747 92.9295 19.3012C95.7197 19.3277 97.6656 17.0383 97.6656 13.6749ZM48.9969 10.4929C48.9969 9.07366 47.7077 8.2059 45.8149 8.2059C43.6852 8.2059 42.2387 9.28397 42.0284 11.2033H39.6628C39.8731 8.15292 41.8976 6.15493 45.8149 6.15493C49.8374 6.15493 51.442 8.25808 51.442 11.1768V18.0393C51.442 18.6181 51.678 18.9336 52.2046 18.9336H53.2827V20.9837H51.8618C50.1271 20.9837 49.2064 19.9587 49.2064 18.4335V18.118C48.4703 20.2741 46.551 21.3787 44.2375 21.3787C41.3975 21.3787 39.1105 19.827 39.1105 16.6723C39.1105 13.7022 41.2136 12.177 44.6838 12.177H49.0065L48.9969 10.4929ZM45.5781 14.2288H44.7368C42.3704 14.2288 41.5821 15.412 41.5821 16.6739C41.5821 18.0145 42.4755 19.3293 44.6325 19.3293C46.9989 19.3293 49.0764 17.7776 49.0764 14.2545L45.5781 14.2288ZM54.1496 13.7271C54.1496 9.25748 56.8315 6.15493 61.3276 6.15493C65.4296 6.15493 67.6909 8.81036 68.0063 12.0446H65.5347C65.3774 9.99358 63.9044 8.20831 61.3284 8.20831C58.4097 8.20831 56.622 10.4953 56.622 13.7295C56.622 17.1475 58.673 19.3036 61.3284 19.3036C63.8795 19.3036 65.2987 17.3578 65.5355 15.754H68.0071C67.6122 18.6992 65.2987 21.3546 61.3284 21.3546C57.0418 21.3522 54.1496 18.3283 54.1496 13.7271ZM72.0561 14.5427H83.3617V12.6498C83.3617 8.94201 80.496 6.15493 76.6052 6.15493C72.4478 6.15493 69.558 8.99499 69.558 13.7536C69.558 18.3283 72.3981 21.3522 76.6052 21.3522C80.0489 21.3522 82.6256 19.3277 83.2309 16.5406H80.6798C80.1019 18.1975 78.5502 19.3012 76.6052 19.3012C74.1328 19.3012 72.3451 17.5127 72.0561 14.5427ZM80.972 12.4387H72.085C72.3716 10.0723 74.0806 8.20831 76.6052 8.20831C79.0503 8.20831 80.7063 9.96709 80.972 12.4387ZM117.938 1.60586H120.409V4.07746H117.938V1.60586ZM117.99 6.52258H120.356V20.9837H117.99V6.52258Z",fill:"#243760"}),h$4("defs",{key:"f4ba125b1818a2cb22c1e0840289dc35ec783fa3"},h$4("linearGradient",{key:"e849be6fcd2c5ce6ae0e3fe447d428f02d6de99b",id:"paint0_linear_1759_3686",x1:"12.6182",y1:"5.46457",x2:"12.5002",y2:"23.0941",gradientUnits:"userSpaceOnUse"},h$4("stop",{key:"34aaa0a3ef3939322ff2dea5b6229b2497129a30","stop-color":"#4C7CFC"}),h$4("stop",{key:"bc6997c452fb012eac2381617cf3ae6d15940474",offset:"1","stop-color":"#7636FC"})))))}};WidgetLogo.style=WidgetLogoStyle0;/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const widgetButtonCss='.button.sc-widget-button{width:100%;height:3em;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:var(--border-radius);font-family:var(--secondary-font), "Verdana", sans-serif;font-weight:var(--primary-font-weight);font-size:var(--text-font-size);text-align:var(--text-align);padding:0.75em 1.5em}.regular.sc-widget-button{background-color:var(--color-primary);color:var(--color-secondary);border:0}.regular.sc-widget-button:focus{outline:2px solid var(--color-primary);outline-offset:2px}.regular.sc-widget-button:hover{background-color:var(--color-hover)}.inversed.sc-widget-button{background-color:var(--color-secondary);color:var(--color-primary);padding:10px 22px;border:2px solid var(--color-primary)}.inversed.sc-widget-button:focus{outline:2px solid var(--color-primary);outline-offset:2px}.inversed.sc-widget-button:hover{color:var(--color-hover);border:2px solid var(--color-hover)}.hidden.sc-widget-button{display:none}',WidgetButtonStyle0=widgetButtonCss,WidgetButton=class{constructor(A){registerInstance(this,A),this.inversedColors=!1,this.hidden=!1}render(){return h$4("button",{key:"4988fb028d6c36266c38a15a4f481ad1bce20b46",class:`button
          ${this.inversedColors?"inversed":"regular"}
          ${this.hidden?"hidden":""}`,type:"button"},h$4("slot",{key:"e1dd2f2e9a3a6046ac40dc3fc4e28c640aa6b258",name:"buttonContent"}))}};WidgetButton.style=WidgetButtonStyle0;const widgetHeaderCss=".header__container.sc-widget-header{width:100%;max-height:4em;display:flex;justify-content:space-between;align-items:center;padding:1em}.header__container.sc-widget-header widget-icon.sc-widget-header{display:block}.header__container.sc-widget-header widget-logo.sc-widget-header{display:block;margin:0 auto}.header__container.sc-widget-header .img__logo.sc-widget-header{display:var(--display-logo);max-width:4.5em;max-height:2em;margin:0 auto}",WidgetHeaderStyle0=widgetHeaderCss,WidgetHeader=class{constructor(A){registerInstance(this,A),this.handleClickInfoButton=createEvent(this,"handleClickInfoButton"),this.handleClickExitButton=createEvent(this,"handleClickExitButton"),this.handleClickBackButton=createEvent(this,"handleClickBackButton"),this.logo="",this.ariaLabelInfo="",this.ariaLabelExit="",this.ariaLabelBack="",this.altLogo="",this.showBackButton=!1,this.hideTutorial=!1,this.hideExit=!1,this.isWhite=!1}handleInfo(){this.handleClickInfoButton.emit()}handleExit(){this.handleClickExitButton.emit()}handleBack(){this.handleClickBackButton.emit()}handleKeyDown(A,c){["Enter"," "].includes(A.key)&&(A.preventDefault(),c.click())}render(){return h$4("div",{key:"374238ede4164e3ca1f4b0a015a581b2f139544e","data-testid":"header-container",class:"header__container"},!this.hideTutorial&&h$4("widget-icon",{key:"840d57e223b1a5c23af4063eca7b6686b12353e1","data-testid":"header-info-button",ariaLabel:this.ariaLabelInfo,icon:"InfoIcon",role:"button",width:"2em",height:"2em",isWhite:this.isWhite,onClick:this.handleInfo.bind(this),onKeyDown:A=>this.handleKeyDown(A,A.currentTarget)}),this.showBackButton&&h$4("widget-icon",{key:"1343148b784b3c93de33888802979ab7e2a0d9ac",class:"back-button","data-testid":"header-back-button",ariaLabel:this.ariaLabelBack,icon:"ArrowPreviousIcon",role:"button",width:"2em",height:"2em",isWhite:this.isWhite,onClick:this.handleBack.bind(this),onKeyDown:A=>this.handleKeyDown(A,A.currentTarget)}),this.logo?h$4("img",{class:"img__logo",src:this.logo,alt:this.altLogo}):h$4("widget-logo",{isWhite:this.isWhite,alt:this.altLogo}),!this.hideExit&&h$4("widget-icon",{key:"84643ff55a20619f4c169ddd3602d19102aefa47",class:"exit-button","data-testid":"header-cancel-button",ariaLabel:this.ariaLabelExit,icon:"ExitIcon",role:"button",width:"2em",height:"2em",isWhite:this.isWhite,onClick:this.handleExit.bind(this),onKeyDown:A=>this.handleKeyDown(A,A.currentTarget)}))}};WidgetHeader.style=WidgetHeaderStyle0;/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const widgetPaginationLayoutCss=".pagination__container.sc-widget-pagination-layout{display:flex;justify-content:center;align-items:center;gap:1em}.pagination__container.sc-widget-pagination-layout .hidden.sc-widget-pagination-layout{visibility:hidden;opacity:0}",WidgetPaginationLayoutStyle0=widgetPaginationLayoutCss,WidgetPaginationLayout=class{constructor(A){registerInstance(this,A),this.handleClickExitButton=createEvent(this,"handleClickExitButton"),this.updateAnimationSlide=createEvent(this,"updateAnimationSlide"),this.currentSlide=0,this.slidesQuantity=void 0,this.ariaLabelArrowNext="",this.ariaLabelArrowPrev="",this.ariaLabelExit=""}handleArrowPrevious(){this.currentSlide>0&&(this.currentSlide-=1,this.updateAnimationSlide.emit(this.currentSlide))}handleArrowNext(){this.currentSlide<this.slidesQuantity-1&&(this.currentSlide+=1,this.updateAnimationSlide.emit(this.currentSlide))}generateSlideDots(){const A=[];for(let c=0;c<this.slidesQuantity;c++)A.push(h$4("widget-icon",{icon:"DotIcon",opacity:this.currentSlide===c?"1":"0.1",width:"1em",height:"1em"}));return A}handleKeyDown(A,c){["Enter"," "].includes(A.key)&&(A.preventDefault(),c.click())}render(){return h$4("div",{key:"0bec5f1352efa2f1f9353a3b986d7c0f2810dcb9","data-testid":"pagination-icons-container",class:"pagination__container"},h$4("widget-icon",{key:"c840d7446b3c582c2aea5a10c219268f764847fa",class:this.currentSlide===0?"hidden":"","data-testid":"pagination-previous-button",icon:"ArrowPreviousIcon",role:"button",width:"2em",height:"2em",ariaLabel:this.ariaLabelArrowPrev,onClick:this.handleArrowPrevious.bind(this),onKeyDown:A=>this.handleKeyDown(A,A.currentTarget)}),this.generateSlideDots(),h$4("widget-icon",{key:"6045ef7211c24a1cc320745cd80df29ba7e4c7ca","data-testid":"pagination-next-button",icon:"ArrowNextIcon",role:"button",width:"2em",height:"2em",ariaLabel:this.ariaLabelArrowNext,class:this.currentSlide===this.slidesQuantity-1?"hidden":"",onClick:this.handleArrowNext.bind(this),onKeyDown:A=>this.handleKeyDown(A,A.currentTarget)}))}};WidgetPaginationLayout.style=WidgetPaginationLayoutStyle0;/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */var LivenessMoveDirection$1;(function(A){A.None="None",A.Center="Center",A.CenterUp="CenterUp",A.CenterDown="CenterDown",A.CenterLeft="CenterLeft",A.CenterRight="CenterRight"})(LivenessMoveDirection$1||(LivenessMoveDirection$1={}));var LivenessMoveDiagnostic$1;(function(A){A.LivenessDetected="LivenessDetected",A.UnsuccessInsufficientDetections="UnsuccessInsufficientDetections",A.UnsuccessContinuityFail="UnsuccessContinuityFail",A.UnsuccessNoMovement="UnsuccessNoMovement",A.UnsuccessWrongDirection="UnsuccessWrongDirection",A.Analizing="Analizing"})(LivenessMoveDiagnostic$1||(LivenessMoveDiagnostic$1={}));/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const languageSupported=[Language.ES,Language.EN,Language.PT],videoRecordQualitySupported=[VideoRecordQuality.Low,VideoRecordQuality.Medium,VideoRecordQuality.High],imageFormatSupported=[ImageFormat$2.JPEG,ImageFormat$2.PNG],cameraTypeSupported=[CameraType.User,CameraType.Environment],cameraRotationSupported=[CameraRotation.DEG0,CameraRotation.DEG90,CameraRotation.DEG180,CameraRotation.DEG270],templateFormatSupported=[TemplateFormat$1.ByteArray,TemplateFormat$1.Base64],exceptionTypesSupported=[ExceptionType.AndroidWebViewBehaviour,ExceptionType.UnknownInternalError,ExceptionType.CameraHardwareError,ExceptionType.CameraPermissionDenied,ExceptionType.MicrophonePermissionDenied,ExceptionType.BrowserApiNotCompatible,ExceptionType.SettingsError,ExceptionType.ErrorTimeout,ExceptionType.FaceNotFound,ExceptionType.EyesNotFound,ExceptionType.DarkLightError,ExceptionType.AngleExceeded,ExceptionType.TooManyFaces,ExceptionType.SpoofingDetected,ExceptionType.NotStabilizedSunGlasses,ExceptionType.NotStabilizedNoColor],fileTag="check-settings";function isNotNumberOrNaN(A){return typeof A!="number"||Number.isNaN(A)}function logDefaultSettingHasBeenUsed(A){Logger.printWarning(fileTag,`An incorrect value has been set for the "${A}" setting. The default value for this property has now been selected.`)}function checkWidgetPropValues(A){A.settingsStrictness!==void 0&&typeof A.settingsStrictness!="boolean"&&(A.settingsStrictness=WIDGET_CONFIG.settingsStrictness,logDefaultSettingHasBeenUsed("settingsStrictness"));for(const[c,u]of Object.entries(A))switch(c){case"engineLocation":if(typeof u=="string"){const p=getAbsoluteUrl(u);if(p)A.engineLocation=p;else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.engineLocation=WIDGET_CONFIG.engineLocation,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It should be considered relative to window.location.origin i.e: if the widget is unpacked
								as "selphi" folder inside the "engineLocation" directory accessible in execution time through
								https://example.com/engineLocation, then the path should be set to "/engineLocation/selphi"
								or "https://example.com/engineLocation/selphi". We discourage using relative paths
								with ./ or ../ notation, proceeding to stop the execution of the widget...`)}else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.engineLocation=WIDGET_CONFIG.engineLocation,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a string, proceeding to stop the execution of the widget...`);break;case"language":if(typeof u=="string"){const p=u.toLowerCase().trim();if(languageSupported.includes(p))A.language=p;else{const I=getAbsoluteUrl(u);if(I)A.language=I;else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.language=WIDGET_CONFIG.language,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It should be considered relative to window.location.origin i.e: if the widget is unpacked
									as "selphi" folder inside the "assets" directory accessible in execution time through
									https://example.com/assets, then the path should be set to "/assets/selphi/customLanguage.json"
									or "https://example.com/assets/selphi/customLanguage.json". We discourage using relative paths
									with ./ or ../ notation, proceeding to stop the execution of the widget...`)}}else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.language=WIDGET_CONFIG.language,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a string of a supported language option or valid location for custom language, proceeding to stop the execution of the widget...`);break;case"audible":if(typeof u!="string"||u.length>0&&!/^([a-z]{2,3})-([A-Z]{2})$/.test(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.audible=WIDGET_CONFIG.audible,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a string of a supported BCP 47 tag option (Eg: en-EN), proceeding to stop the execution of the widget...`);break;case"externalCamera":if(typeof u!="object"||!("getVideoTracks"in u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.externalCamera=WIDGET_CONFIG.externalCamera,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a supported MediaStream object, proceeding to stop the execution of the widget...`);break;case"cameraWidth":if(u>1280)A.cameraWidth=CAMERAWIDTH;else if(isNotNumberOrNaN(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.cameraWidth=WIDGET_CONFIG.cameraWidth,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number, proceeding to stop the execution of the widget...`);break;case"cameraHeight":if(u>720)A.cameraHeight=CAMERAHEIGHT;else if(isNotNumberOrNaN(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.cameraHeight=WIDGET_CONFIG.cameraHeight,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number, proceeding to stop the execution of the widget...`);break;case"cameraType":if(!cameraTypeSupported.includes(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.cameraType=WIDGET_CONFIG.cameraType,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a supported cameraType value (0, 1), proceeding to stop the execution of the widget...`);break;case"cameraRotation":if(!cameraRotationSupported.includes(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.cameraRotation=WIDGET_CONFIG.cameraRotation,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a supported cameraRotation value (0, 1, 2, 3), proceeding to stop the execution of the widget...`);break;case"livenessMoveSteps":if(isNotNumberOrNaN(u)||u<0)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.livenessMoveSteps=WIDGET_CONFIG.livenessMoveSteps,logDefaultSettingHasBeenUsed(c);else throw new Error(`${c} must be a number equal or greater than 0, proceeding to stop the execution of the widget...`);break;case"livenessMoveFailedAttempts":if(isNotNumberOrNaN(u)||u<=0)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.livenessMoveFailedAttempts=WIDGET_CONFIG.livenessMoveFailedAttempts,logDefaultSettingHasBeenUsed(c);else throw new Error(`${c} must be a number greater than 0, proceeding to stop the execution of the widget...`);break;case"livenessMoveTimeout":if(isNotNumberOrNaN(u)||u<=0)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.livenessMoveTimeout=WIDGET_CONFIG.livenessMoveTimeout,logDefaultSettingHasBeenUsed(c);else throw new Error(`${c} must be a number greater than 0, proceeding to stop the execution of the widget...`);break;case"advancedTracking":case"androidWebViewBehaviour":case"interactible":case"previewImage":case"disableTutorial":case"disableExit":case"faceTracking":case"stabilization":case"cameraSwitch":case"showLog":case"debug":case"antispoof":case"videoRecord":case"videoRecordAudio":if(typeof u!="boolean"&&u!==null)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A[c]=WIDGET_CONFIG[c],logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a boolean (true, false), proceeding to stop the execution of the widget...`);break;case"cropFactor":if(isNotNumberOrNaN(u)||u<1||u>2)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.cropFactor=WIDGET_CONFIG.cropFactor,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number between 1 and 2, proceeding to stop the execution of the widget...`);break;case"timeout":if(isNotNumberOrNaN(u)||u<0)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.timeout=WIDGET_CONFIG.timeout,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number equal to 0 or higher, proceeding to stop the execution of the widget...`);break;case"errorTimer":if(isNotNumberOrNaN(u)||u<=0)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.errorTimer=WIDGET_CONFIG.errorTimer,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number higher than 0, proceeding to stop the execution of the widget...`);break;case"imageFormat":if(typeof u=="string"){const p=u.toLowerCase().trim();if(imageFormatSupported.includes(p))A.imageFormat=p;else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.imageFormat=WIDGET_CONFIG.imageFormat,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a supported value (image/png or image/jpeg), proceeding to stop the execution of the widget...`)}else if(typeof u!="string")if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.imageFormat=WIDGET_CONFIG.imageFormat,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a string of a supported imageFormat option, proceeding to stop the execution of the widget...`);break;case"imageQuality":if(isNotNumberOrNaN(u)||u<.5||u>1)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.imageQuality=WIDGET_CONFIG.imageQuality,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number between 0.5 and 1, proceeding to stop the execution of the widget...`);break;case"templateFormat":if(!templateFormatSupported.includes(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.templateFormat=WIDGET_CONFIG.templateFormat,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a supported value 0 (ByteArray) or 1 (Base64), proceeding to stop the execution of the widget...`);break;case"logImages":if(isNotNumberOrNaN(u)||u<0||u>5)if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.logImages=WIDGET_CONFIG.logImages,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number between 0 and 5, proceeding to stop the execution of the widget...`);break;case"graphicResources":if(u.loadingAnimation)if(typeof u.loadingAnimation=="string"){const p=getAbsoluteUrl(u.loadingAnimation);if(p)A.graphicResources.loadingAnimation=p;else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}.loadingAnimation property not allowed: ${u.loadingAnimation}. 
									It should be considered relative to window.location.origin i.e: if the widget is unpacked
									as "selphi" folder inside the "assets" directory accessible in execution time through
									https://example.com/assets, then the path should be set to "/assets/selphi/loadingAnimation.json"
									or "https://example.com/assets/selphi/loadingAnimation.json". We discourage using relative paths
									with ./ or ../ notation, proceeding to stop the execution of the widget...`)}else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}.loadingAnimation property not allowed: ${u.loadingAnimation}. It must be a string, proceeding to stop the execution of the widget...`);if(u.tutorialAnimations)if(Array.isArray(u.tutorialAnimations))if(u.tutorialAnimations.length>3&&(u.tutorialAnimations.length=A.livenessMoveSteps?4:3),u.tutorialAnimations.every(p=>typeof p=="string"))u.tutorialAnimations.forEach((p,I)=>{const m=getAbsoluteUrl(p);if(m)A.graphicResources.tutorialAnimations[I]=m;else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}/tutorialAnimations property not allowed: ${p}. 
											It should be considered relative to window.location.origin i.e: if the widget is unpacked
											as "selphi" folder inside the "assets" directory accessible in execution time through
											https://example.com/assets, then the path should be set to "/assets/selphi/tutorialAnimation1.json"
											or "https://example.com/assets/selphi/tutorialAnimations1.json". We discourage using relative paths
											with ./ or ../ notation, proceeding to stop the execution of the widget...`)});else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}/tutorialAnimations property not allowed: ${u.tutorialAnimations}. It must be an array of strings, proceeding to stop the execution of the widget...`);else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}/tutorialAnimations property not allowed: ${u.tutorialAnimations}. It must be an array of strings, proceeding to stop the execution of the widget...`);if(u.logo)if(typeof u.logo=="string"){const p=getAbsoluteUrl(u.logo);if(p)A.graphicResources.logo=p;else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}.logo property not allowed: ${u.logo}. 
									It should be considered relative to window.location.origin i.e: if the widget is unpacked
									as "selphi" folder inside the "assets" directory accessible in execution time through
									https://example.com/assets, then the path should be set to "/assets/selphi/logo.jpeg"
									or "https://example.com/assets/selphi/logo.jpeg". We discourage using relative paths
									with ./ or ../ notation, proceeding to stop the execution of the widget...`)}else if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.graphicResources=WIDGET_CONFIG.graphicResources,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c}.logo property not allowed: ${u.logo}. It must be a string, proceeding to stop the execution of the widget...`);break;case"videoRecordQuality":if(!videoRecordQualitySupported.includes(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.videoRecordQuality=WIDGET_CONFIG.videoRecordQuality,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a number of a supported videoRecordQuality option (0,1,2), proceeding to stop the execution of the widget...`);break;case"debugException":if(A.debug&&u!==""&&!exceptionTypesSupported.includes(u))if(A.settingsStrictness!==void 0&&!A.settingsStrictness)A.debugException=WIDGET_CONFIG.debugException,logDefaultSettingHasBeenUsed(c);else throw new Error(`Value provided for ${c} property not allowed: ${u}. It must be a exception type supported, proceeding to stop the execution of the widget...`);break;default:if(!Object.keys(WIDGET_CONFIG).includes(c))throw new Error(`${c} is not a valid widget property or there might be a spelling mistake. Proceeding to stop the execution of the widget...`)}}var LivenessMoveDirection;(function(A){A.None="None",A.Center="Center",A.CenterUp="CenterUp",A.CenterDown="CenterDown",A.CenterLeft="CenterLeft",A.CenterRight="CenterRight"})(LivenessMoveDirection||(LivenessMoveDirection={}));var LivenessMoveDiagnostic;(function(A){A.LivenessDetected="LivenessDetected",A.UnsuccessInsufficientDetections="UnsuccessInsufficientDetections",A.UnsuccessContinuityFail="UnsuccessContinuityFail",A.UnsuccessNoMovement="UnsuccessNoMovement",A.UnsuccessWrongDirection="UnsuccessWrongDirection",A.Analizing="Analizing"})(LivenessMoveDiagnostic||(LivenessMoveDiagnostic={}));class LivenessMoveModule{constructor(c){LivenessMoveModule.timeout=c,LivenessMoveModule.restart()}static start(c=0){new LivenessMoveModule(c)}static restart(){LivenessMoveModule.expectedResults=[],LivenessMoveModule.timeoutExceeded=!1,LivenessMoveModule.timeoutInstance=null}static generateExpectedResults(c){for(LivenessMoveModule.expectedResults=[];LivenessMoveModule.expectedResults.length<c;){const u=Math.floor(Math.random()*(LivenessMoveModule.possibleDirections.length-1))+1;(LivenessMoveModule.expectedResults.length===0||LivenessMoveModule.expectedResults[LivenessMoveModule.expectedResults.length-1]!==LivenessMoveModule.possibleDirections[u])&&LivenessMoveModule.expectedResults.push(LivenessMoveModule.possibleDirections[u])}return LivenessMoveModule.expectedResults}static getExpecectedResults(){return LivenessMoveModule.expectedResults}static testLivenessMove(c,u,p){let I=LivenessMoveDirection.None,m=LivenessMoveDiagnostic.Analizing,R=null,S=null;if(LivenessMoveModule.timeout&&!LivenessMoveModule.timeoutInstance&&LivenessMoveModule.setTimeout(),u&&p){switch(!0){case u<-LivenessMoveModule.maxVerticalAngle:S=0;break;case u>LivenessMoveModule.maxVerticalAngle+1:S=2;break;case(u<LivenessMoveModule.centerAngle&&u>-LivenessMoveModule.centerAngle):S=1;break;default:S=null}switch(!0){case p>LivenessMoveModule.maxHorizontalAngle:R=0;break;case p<-LivenessMoveModule.maxHorizontalAngle:R=2;break;case(p<LivenessMoveModule.centerAngle&&p>-LivenessMoveModule.centerAngle):R=1;break;default:R=null}R!==null&&S!==null?I=LivenessMoveModule.directions[S][R]||LivenessMoveDirection.None:I=LivenessMoveDirection.None}return I===c?(LivenessMoveModule.clearTimeout(),m=LivenessMoveDiagnostic.LivenessDetected,LivenessMoveModule.lastDirection=I):LivenessMoveModule.timeoutExceeded?(LivenessMoveModule.clearTimeout(),LivenessMoveModule.lastDirection=LivenessMoveDirection.None,m=LivenessMoveDiagnostic.UnsuccessNoMovement):[LivenessMoveDirection.None,LivenessMoveDirection.Center,LivenessMoveModule.lastDirection,null].includes(I)?m=LivenessMoveDiagnostic.Analizing:(LivenessMoveModule.clearTimeout(),m=LivenessMoveDiagnostic.UnsuccessWrongDirection),m}static clearTimeout(){clearTimeout(LivenessMoveModule.timeoutInstance),LivenessMoveModule.timeoutInstance=null,LivenessMoveModule.timeoutExceeded=!1}static setTimeout(){LivenessMoveModule.timeoutInstance=setTimeout(()=>{LivenessMoveModule.timeoutExceeded=!0},LivenessMoveModule.timeout*1e3)}}LivenessMoveModule.possibleDirections=[LivenessMoveDirection.Center,LivenessMoveDirection.CenterUp,LivenessMoveDirection.CenterDown,LivenessMoveDirection.CenterRight,LivenessMoveDirection.CenterLeft];LivenessMoveModule.directions=[[null,LivenessMoveDirection.CenterUp,null],[LivenessMoveDirection.CenterLeft,LivenessMoveDirection.Center,LivenessMoveDirection.CenterRight],[null,LivenessMoveDirection.CenterDown,null]];LivenessMoveModule.maxVerticalAngle=15;LivenessMoveModule.maxHorizontalAngle=15;LivenessMoveModule.centerAngle=5;const VideoTypes=["webm","mp4","ogg","x-matroska"],VideoCodecs=["should-not-be-supported","vp8","vp8.0","vp9","vp9.0","avc1","av1","h265","h.265","h264","h.264"],AudioCodecs=["opus","pcm","aac","mpeg","mp4a"],VideoQualityBPS=[25e4,625e3,1e6];function getSupportedMimeTypes(A){const c=MediaRecorder.isTypeSupported,u=[],p=[],I="video";let m=VideoCodecs;A&&(m=AudioCodecs.flatMap(R=>VideoCodecs.map(S=>`${S},${R}`)));for(const R of VideoTypes){const S=`${I}/${R}`;for(const N of m){const B=`${S};codecs=${N}`,D=`${S};codecs=${N.toUpperCase()}`;c(B)&&u.push(B),c(D)&&u.push(D)}c(S)&&(u.push(S),p.push(S))}return{supportedMimeTypes:u,blobType:p}}const RotationAngles={Deg0:0,Deg180:Math.PI};class LocalRecorder{constructor(){this.fileTag="recorder-module",this.drawFrame=(c,u,p)=>{this.videoStopped||!c.paused&&!c.ended&&(p.clearRect(0,0,u.width,u.height),p.save(),p.translate(u.width/2,u.height/2),p.rotate(this.rotationAngle),p.drawImage(c,-c.videoWidth/2,-c.videoHeight/2),p.restore(),requestAnimationFrame(()=>this.drawFrame(c,u,p)))},this.engineInitialized=!1,this.videoStream=null,this.mediaRecorder=null,this.quality=1,this.rotationAngle=RotationAngles.Deg0,this.videoStopped=!1,this.chunks=[],this.resetChunks=!1,this.options={supportedMimeTypes:[],blobType:[]},this.enableAudio=!1}initializeEngine(c,u,p,I,m=0){this.rotationAngle=Math.PI*(90*m/180),this.videoStream=c,this.quality=u,this.engineInitialized=!0,this.resetChunks=p,this.enableAudio=I}replaceCurrentRecorder(c){this.videoStream=c}async getRotatedVideoStream(c){const u=document.createElement("video");u.srcObject=this.videoStream,u.playsInline=!0,u.autoplay=!0,u.muted=!0;const p=document.createElement("canvas"),I=p.getContext("2d"),m=this.videoStream.getVideoTracks()[0],{width:R,height:S}=m.getSettings();this.rotationAngle===RotationAngles.Deg180?(p.width=R,p.height=S):(p.width=S,p.height=R),u.addEventListener("play",()=>{requestAnimationFrame(()=>c(u,p,I))}),u.play();const N=p.captureStream();if(this.enableAudio&&this.videoStream.getAudioTracks().length>0){const B=this.videoStream.getAudioTracks()[0];N.addTrack(B)}return N}async startRecording(){var c;try{const u=this.rotationAngle?await this.getRotatedVideoStream(this.drawFrame):this.videoStream;return typeof MediaRecorder.isTypeSupported=="function"?(this.options=getSupportedMimeTypes(this.enableAudio),this.mediaRecorder=new MediaRecorder(u,{mimeType:(c=this.options.supportedMimeTypes)===null||c===void 0?void 0:c[0],videoBitsPerSecond:VideoQualityBPS[this.quality]})):this.mediaRecorder=new MediaRecorder(u,{videoBitsPerSecond:VideoQualityBPS[this.quality]}),this.mediaRecorder.start(),this.mediaRecorder.ondataavailable=p=>{this.chunks.push(p.data),this.resetChunks&&this.chunks.pop()},`Video recording codecs: Using ${this.options.supportedMimeTypes[0]||"default ones"} for browser`}catch(u){throw new Error(`Error creating new MediaRecorder: ${u}`)}}generateVideo(c){return this.resetChunks=!1,this.mediaRecorder.stop(),new Promise(p=>{this.mediaRecorder.onstop=()=>{var I;if(c){const m={};for(let R=0;R<this.chunks.length;R++){const S=new Blob([this.chunks[R]],{type:(I=this.options.blobType)===null||I===void 0?void 0:I[0]}),N=window.URL.createObjectURL(S);m[`videoURL${R+1}`]=N}this.chunks=[],p(m)}else p(!0)}})}deinitializeEngine(){return this.engineInitialized?(this.videoStopped=!0,this.mediaRecorder=null,this.engineInitialized=!1,this.enableAudio=!1,"Video recorder engine stopped"):"Video recorder engine is not initialized"}}class RecorderFactory{static getAvailableEngines(){return Object.keys(RecorderFactory.__engines)}static generateInstance(){return new RecorderFactory.__engines.Local}}RecorderFactory.__engines={Local:LocalRecorder};const workerBase64Data$1="LyoqCiAqIEF1eGlsaWFyIG1ldGhvZCB0byBkZWxldGUgYSBXZWJBc3NlbWJseSBTaWRlIFZhcmlhYmxlcwogKgogKiBAcGFyYW0ge2FycmF5fSBhcnJheSBUaGUgYXJyYXkgd2l0aCBuIGVsZW1lbnRzCiAqLwpjb25zdCBkZWxldGVXYXNtVmFyID0gKC4uLmFycmF5KSA9PiB7Cglmb3IgKGNvbnN0IG9iaiBvZiBhcnJheSkgewoJCWlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iai5kZWxldGUgIT09ICd1bmRlZmluZWQnKSB7CgkJCW9iai5kZWxldGUoKTsKCQl9Cgl9Cn07CgpsZXQgaW5zdGFuY2UgPSBudWxsOwpsZXQgdG9rZW5pemVyTG9jYXRpb24gPSAnJzsKbGV0IHRva2VuaXplciA9IG51bGw7CmxldCB0b2tlbml6ZXJEYXRhID0gbnVsbDsKCmNvbnN0IHByZWluaXRpYWxpemVXb3JrZXIgPSBhc3luYyAobWVzc2FnZSkgPT4gewoJLyoKCSAqIEFzeW5jIGZldGNoIGJlZm9yZSBnZXQgdGhlIGluc3RhbmNlCgkgKgoJICogSW1wb3J0YW50OiBEdWUgdG8gdGhlIG5lZWQgb2YgcGFja2FnaW5nIHRoZSBXb3JrZXIgaW5zaWRlIHRoZSBzZWxwaGktd2lkZ2V0LXdlYi5taW4uanMgdXNpbmcKCSAqICAgICAgICAgICAgV2ViUGFjaywgaXMgbmVlZGVkIHRvIGJ1aWxkIHRoZSBleHRyYWN0b3IgdXNpbmcgdGhpcyBwYXJhbWV0ZXJzOgoJICoKCSAqIC1zIEVYUE9SVF9FUzY9MSAtcyBVU0VfRVM2X0lNUE9SVF9NRVRBPTAgLXMgV0FTTV9BU1lOQ19DT01QSUxBVElPTj0wIC1zIEVOVklST05NRU5UPSJ3ZWIiCgkgKi8KCXRyeSB7CgkJLy8gUHJvY2VzcyBpbnB1dCB2YXJpYWJsZXMKCQl0b2tlbml6ZXJMb2NhdGlvbiA9CgkJCW1lc3NhZ2UudG9rZW5pemVyTG9jYXRpb24gPT09ICdkZWZhdWx0JwoJCQkJPyAnaHR0cHM6Ly9kMmt0M3k5bmZzbGk4cS5jbG91ZGZyb250Lm5ldC90b2tlbml6ZXIvMC4xLjAnCgkJCQk6IG1lc3NhZ2UudG9rZW5pemVyTG9jYXRpb247CgoJCWNvbnN0IG1vZHVsZSA9IGF3YWl0IG5ldyBGdW5jdGlvbigndXJsJywgJ3JldHVybiBpbXBvcnQodXJsKScpKAoJCQlgJHt0b2tlbml6ZXJMb2NhdGlvbn0vUnVudGltZS5qc2AsCgkJKTsKCQkvLyBMb2FkIHRva2VuaXplciBsb2NhdGlvbiBVUkwgaW50byB3b3JrZXIKCQljb25zdCB3YXNtTW9kdWxlID0gYXdhaXQgKGF3YWl0IGZldGNoKGAke3Rva2VuaXplckxvY2F0aW9ufS9GQlRva2VuaXplci53YXNtYCkpLmFycmF5QnVmZmVyKCk7CgkJY29uc3Qgd2FzbU1lbW9yeSA9IG5ldyBXZWJBc3NlbWJseS5NZW1vcnkoeyBpbml0aWFsOiAxLCBtYXhpbXVtOiA0MDk2IH0pOwoKCQkvLyBJbml0aWFsaXplIHRoZSBtb2R1bGUgaW4gZ2xvYmFscyBtb2R1bGUKCQlpbnN0YW5jZSA9IGF3YWl0IG1vZHVsZS5kZWZhdWx0KHsKCQkJd2FzbUJpbmFyeTogd2FzbU1vZHVsZSwKCQkJd2FzbU1lbW9yeTogd2FzbU1lbW9yeSwKCQkJb25SdW50aW1lSW5pdGlhbGl6ZWQ6ICgpID0+IHNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICdwcmVJbml0JyB9KSwKCQl9KTsKCX0gY2F0Y2ggKGUpIHsKCQlpZiAoZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpIHsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdwcmVJbml0JywKCQkJCWV4Y2VwdGlvbjoKCQkJCQknSXQgbG9va3MgbGlrZSB5b3UgaGF2ZSB0cmllZCB0byBpbnN0YW50aWF0ZSBtb3JlIG1lbW9yeSB0aGFuIHRoZSBkZXZpY2UgaXMgYWxsb3dpbmcsIHRoaXMgbWF5IG1lYW4gdGhhdCBub3QgZW5vdWdoIG1lbW9yeSBoYXMgYmVlbiBhbGxvY2F0ZWQgdG8gdGhlIGJyb3dzZXIgdGFiIG9yIHRoYXQgdGhlIHdlYiBhcHBsaWNhdGlvbiBpcyBjb25zdW1pbmcgbW9yZSByZXNvdXJjZXMgdGhhbiBleHBlY3RlZCcsCgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAncHJlSW5pdCcsCgkJCQlleGNlcHRpb246IGBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgaW4gaW5pdGlhbGl6aW5nIHRoZSB0b2tlbml6ZXIgd29ya2VyOiAke2V9YCwKCQkJfSk7CgkJfQoJfQp9OwoKY29uc3QgaW5pdGlhbGl6ZUFzc2VtYmx5ID0gKF8pID0+IHsKCXRva2VuaXplciA9IGluc3RhbmNlOwoJdG9rZW5pemVyRGF0YSA9IG5ldyBpbnN0YW5jZS5Ub2tlbml6ZXJEYXRhKCk7CgoJc2VsZi5wb3N0TWVzc2FnZSh7IGNtZDogJ2luaXRpYWxpemVBc3NlbWJseScgfSk7Cn07CgovKioKICogRW5jcnlwdHMgYSBiYXNlNjQgZW5jb2RlZCBtZXNzYWdlIHBheWxvYWQuCiAqCiAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2Ugb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGJhc2U2NCBlbmNvZGVkIHBheWxvYWQgdG8gYmUgZW5jcnlwdGVkLgogKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIGJhc2U2NCBlbmNvZGVkIG1lc3NhZ2UgcGF5bG9hZCwgZGVjb2RlcyBpdCB0byBhIGJ1ZmZlciwKICogY2hlY2tzIGlmIHRoZSB0b2tlbml6ZXIgaXMgaW5pdGlhbGl6ZWQsIGFuZCB0aGVuIGVuY3J5cHRzIHRoZSBidWZmZXIuIEl0IHNlbmRzIGJhY2sgdGhlCiAqIGVuY3J5cHRlZCBwYXlsb2FkIG9yIGFuIGV4Y2VwdGlvbiBtZXNzYWdlIGlmIHRoZSB0b2tlbml6ZXIgaXMgbm90IGluaXRpYWxpemVkLgogKi8KY29uc3QgZW5jcnlwdEJhc2U2NCA9IGFzeW5jIChtZXNzYWdlKSA9PiB7Cgl0cnkgewoJCWlmICh0b2tlbml6ZXIgIT09IG51bGwpIHsKCQkJY29uc3QgcmVzdWx0ID0gdG9rZW5pemVyLkVuY3J5cHRCYXNlNjQobWVzc2FnZS5wYXlsb2FkLCBudWxsKTsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdlbmNyeXB0QmFzZTY0JywKCQkJCXBheWxvYWQ6IHJlc3VsdCwKCQkJfSk7CgkJfSBlbHNlIHsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdlbmNyeXB0QmFzZTY0JywKCQkJCWV4Y2VwdGlvbjogJ0VuY3J5cHRpbmcgYWN0aW9uIGNhbm5vdCBiZSB0YWtlbi4gVG9rZW5pemVyIGlzIG5vdCBpbml0aWFsaXplZCEnLAoJCQl9KTsKCQl9Cgl9IGNhdGNoIChlKSB7CgkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCWNtZDogJ2VuY3J5cHRCYXNlNjQnLAoJCQlleGNlcHRpb246IGBBIGV4Y2VwdGlvbiBoYXMgb2N1cnJlZCBlbmNyeXB0aW5nIHRoZSBidWZmZXI6ICR7ZX1gLAoJCX0pOwoJfQp9OwoKLyoqCiAqIFJldHJpZXZlcyBkb2N1bWVudCBkYXRhLgogKgogKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiByZXRyaWV2ZXMgYWxsIGtleXMgYW5kIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGZyb20gdGhlCiAqIHRva2VuaXplckRhdGEsIGNvbnN0cnVjdHMgYW4gb2JqZWN0IGZyb20gdGhlbSwgYW5kIHNlbmRzIHRoaXMgb2JqZWN0IGJhY2suIElmCiAqIHRoZSB0b2tlbml6ZXJEYXRhIGlzIG5vdCBpbml0aWFsaXplZCwgYW4gZXhjZXB0aW9uIG1lc3NhZ2UgaXMgc2VudCBiYWNrLgogKi8KY29uc3QgZ2V0RG9jdW1lbnREYXRhID0gYXN5bmMgKF8pID0+IHsKCXRyeSB7CgkJaWYgKHRva2VuaXplckRhdGEgIT09IG51bGwpIHsKCQkJY29uc3Qga2V5cyA9IHRva2VuaXplckRhdGEuZ2V0RG9jdW1lbnREYXRhKG51bGwpLmtleXMoKTsKCQkJY29uc3Qgb2JqUmVzdWx0ID0ge307CgkJCWZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGtleXMubGVuZ3RoOyBpZHgrKykgewoJCQkJY29uc3Qga2V5ID0ga2V5c1tpZHhdOwoJCQkJb2JqUmVzdWx0W2tleV0gPSB0b2tlbml6ZXJEYXRhLmdldERvY3VtZW50RGF0YShudWxsKS5nZXQoa2V5KTsKCQkJfQoJCQkvLyBObyBkZWJlcsOtYSBkZSBoYWJlciBuaW5nw7puIHByb2JsZW1hIGRlIG1lbW9yaWEgeWEgcXVlIGtleXMgeSBzdXMgdmFsb3JlcyBubyBzb24gb2JqZXRvcyB3YXNtCgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAnZ2V0RG9jdW1lbnREYXRhJywKCQkJCXBheWxvYWQ6IG9ialJlc3VsdCwKCQkJfSk7CgkJfSBlbHNlIHsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdnZXREb2N1bWVudERhdGEnLAoJCQkJZXhjZXB0aW9uOiAnR2V0dGluZyBkb2N1bWVudCBkYXRhIGFjdGlvbiBjYW5ub3QgYmUgdGFrZW4uIFRva2VuaXplciBpcyBub3QgaW5pdGlhbGl6ZWQhJywKCQkJfSk7CgkJfQoJfSBjYXRjaCAoZSkgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdnZXREb2N1bWVudERhdGEnLAoJCQlleGNlcHRpb246IGBBIGV4Y2VwdGlvbiBoYXMgb2N1cnJlZCBnZXR0aW5nIHRoZSBkb2N1bWVudCBkYXRhOiAke2V9YCwKCQl9KTsKCX0KfTsKCmNvbnN0IGFkZERvY3VtZW50RGF0YSA9IGFzeW5jIChtZXNzYWdlKSA9PiB7Cgl0cnkgewoJCWNvbnN0IG1hcERvY3VtZW50RGF0YSA9IG1lc3NhZ2UucGF5bG9hZDsKCgkJaWYgKHRva2VuaXplckRhdGEgIT09IG51bGwpIHsKCQkJZm9yIChjb25zdCBrZXkgaW4gbWFwRG9jdW1lbnREYXRhKSB7CgkJCQl0b2tlbml6ZXJEYXRhLmFkZERvY3VtZW50RGF0YShrZXksIG1hcERvY3VtZW50RGF0YVtrZXldLCBudWxsKTsKCQkJfQoKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdhZGREb2N1bWVudERhdGEnLAoJCQl9KTsKCQl9IGVsc2UgewoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2FkZERvY3VtZW50RGF0YScsCgkJCQlleGNlcHRpb246ICdBZGRpbmcgZG9jdW1lbnQgZGF0YSBhY3Rpb24gY2Fubm90IGJlIHRha2VuLiBUb2tlbml6ZXIgaXMgbm90IGluaXRpYWxpemVkIScsCgkJCX0pOwoJCX0KCX0gY2F0Y2ggKGUpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAnYWRkRG9jdW1lbnREYXRhJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgYWRkaW5nIHRoZSBkb2N1bWVudCBkYXRhOiAke2V9YCwKCQl9KTsKCX0KfTsKCmNvbnN0IGdldEV4dHJhRGF0YSA9IGFzeW5jIChfKSA9PiB7Cgl0cnkgewoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCWNvbnN0IGtleXMgPSB0b2tlbml6ZXJEYXRhLmdldEV4dHJhRGF0YShudWxsKS5rZXlzKCk7CgkJCWNvbnN0IG9ialJlc3VsdCA9IHt9OwoJCQlmb3IgKGxldCBpZHggPSAwOyBpZHggPCBrZXlzLmxlbmd0aDsgaWR4KyspIHsKCQkJCWNvbnN0IGtleSA9IGtleXNbaWR4XTsKCQkJCW9ialJlc3VsdFtrZXldID0gdG9rZW5pemVyRGF0YS5nZXRFeHRyYURhdGEobnVsbCkuZ2V0KGtleSk7CgkJCX0KCQkJLy9ObyBkZWJlcsOtYSBkZSBoYWJlciBuaW5nw7puIHByb2JsZW1hIGRlIG1lbW9yaWEgeWEgcXVlIGtleXMgeSBzdXMgdmFsb3JlcyBubyBzb24gb2JqZXRvcyB3YXNtCgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAnZ2V0RXh0cmFEYXRhJywKCQkJCXBheWxvYWQ6IG9ialJlc3VsdCwKCQkJfSk7CgkJfSBlbHNlIHsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdnZXRFeHRyYURhdGEnLAoJCQkJZXhjZXB0aW9uOiAnR2V0dGluZyBleHRyYSBkYXRhIGFjdGlvbiBjYW5ub3QgYmUgdGFrZW4uIFRva2VuaXplciBpcyBub3QgaW5pdGlhbGl6ZWQhJywKCQkJfSk7CgkJfQoJfSBjYXRjaCAoZSkgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdnZXRFeHRyYURhdGEnLAoJCQlleGNlcHRpb246IGBBIGV4Y2VwdGlvbiBoYXMgb2N1cnJlZCBnZXR0aW5nIHRoZSBleHRyYSBkYXRhOiAke2V9YCwKCQl9KTsKCX0KfTsKCmNvbnN0IGFkZEV4dHJhRGF0YSA9IGFzeW5jIChtZXNzYWdlKSA9PiB7Cgl0cnkgewoJCWNvbnN0IHsga2V5LCBkYXRhIH0gPSBtZXNzYWdlLnBheWxvYWQ7CgoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCXRva2VuaXplckRhdGEuYWRkRXh0cmFEYXRhKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSksIG51bGwpOwoKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdhZGRFeHRyYURhdGEnLAoJCQl9KTsKCQl9IGVsc2UgewoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2FkZEV4dHJhRGF0YScsCgkJCQlleGNlcHRpb246ICdBZGRpbmcgZXh0cmEgZGF0YSBhY3Rpb24gY2Fubm90IGJlIHRha2VuLiBUb2tlbml6ZXIgaXMgbm90IGluaXRpYWxpemVkIScsCgkJCX0pOwoJCX0KCX0gY2F0Y2ggKGUpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAnYWRkRXh0cmFEYXRhJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgYWRkaW5nIHRoZSBleHRyYSBkYXRhOiAke2V9YCwKCQl9KTsKCX0KfTsKCmNvbnN0IGdldEltYWdlRGF0YSA9IGFzeW5jIChfKSA9PiB7Cgl0cnkgewoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCWNvbnN0IHJlc3VsdCA9IHRva2VuaXplckRhdGEuZ2V0SW1hZ2VEYXRhKG51bGwpOwoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2dldEltYWdlRGF0YScsCgkJCQlwYXlsb2FkOiByZXN1bHQsCgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAnZ2V0SW1hZ2VEYXRhJywKCQkJCWV4Y2VwdGlvbjogJ0dldHRpbmcgaW1hZ2UgZGF0YSBhY3Rpb24gY2Fubm90IGJlIHRha2VuLiBUb2tlbml6ZXIgaXMgbm90IGluaXRpYWxpemVkIScsCgkJCX0pOwoJCX0KCX0gY2F0Y2ggKGUpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAnZ2V0SW1hZ2VEYXRhJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgZ2V0dGluZyB0aGUgaW1hZ2UgZGF0YTogJHtlfWAsCgkJfSk7Cgl9Cn07Cgpjb25zdCBhZGRJbWFnZURhdGEgPSBhc3luYyAobWVzc2FnZSkgPT4gewoJdHJ5IHsKCQljb25zdCB7IHR5cGUsIGltYWdlIH0gPSBtZXNzYWdlLnBheWxvYWQ7CgoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCXRva2VuaXplckRhdGEuYWRkSW1hZ2VEYXRhKHR5cGUsIGltYWdlLCBudWxsKTsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdhZGRJbWFnZURhdGEnLAoJCQl9KTsKCQl9IGVsc2UgewoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2FkZEltYWdlRGF0YScsCgkJCQlleGNlcHRpb246ICdBZGRpbmcgaW1hZ2UgZGF0YSBhY3Rpb24gY2Fubm90IGJlIHRha2VuLiBUb2tlbml6ZXIgaXMgbm90IGluaXRpYWxpemVkIScsCgkJCX0pOwoJCX0KCX0gY2F0Y2ggKGUpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAnYWRkSW1hZ2VEYXRhJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgYWRkaW5nIHRoZSBpbWFnZSBkYXRhOiAke2V9YCwKCQl9KTsKCX0KfTsKCmNvbnN0IGdldEludGVybmFsRGF0YSA9IGFzeW5jIChfKSA9PiB7Cgl0cnkgewoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCWNvbnN0IG1hcFJlc3VsdCA9IHRva2VuaXplckRhdGEuZ2V0SW50ZXJuYWxEYXRhKG51bGwpOwoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2dldEludGVybmFsRGF0YScsCgkJCQlwYXlsb2FkOiBtYXBSZXN1bHQsCgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAnZ2V0SW50ZXJuYWxEYXRhJywKCQkJCWV4Y2VwdGlvbjogJ0dldHRpbmcgaW50ZXJuYWwgZGF0YSBhY3Rpb24gY2Fubm90IGJlIHRha2VuLiBUb2tlbml6ZXIgaXMgbm90IGluaXRpYWxpemVkIScsCgkJCX0pOwoJCX0KCX0gY2F0Y2ggKGUpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAnZ2V0SW50ZXJuYWxEYXRhJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgZ2V0dGluZyB0aGUgaW50ZXJuYWwgZGF0YTogJHtlfWAsCgkJfSk7Cgl9Cn07Cgpjb25zdCBhZGRJbnRlcm5hbERhdGEgPSBhc3luYyAobWVzc2FnZSkgPT4gewoJdHJ5IHsKCQljb25zdCBtYXBEYXRhID0gbWVzc2FnZS5wYXlsb2FkOwoKCQlpZiAodG9rZW5pemVyRGF0YSAhPT0gbnVsbCkgewoJCQl0b2tlbml6ZXJEYXRhLmFkZEludGVybmFsRGF0YShtYXBEYXRhLCBudWxsKTsKCgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAnYWRkSW50ZXJuYWxEYXRhJywKCQkJfSk7CgkJfSBlbHNlIHsKCQkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCQljbWQ6ICdhZGRJbnRlcm5hbERhdGEnLAoJCQkJZXhjZXB0aW9uOiAnQWRkaW5nIGludGVybmFsIGRhdGEgYWN0aW9uIGNhbm5vdCBiZSB0YWtlbi4gVG9rZW5pemVyIGlzIG5vdCBpbml0aWFsaXplZCEnLAoJCQl9KTsKCQl9Cgl9IGNhdGNoIChlKSB7CgkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCWNtZDogJ2FkZEludGVybmFsRGF0YScsCgkJCWV4Y2VwdGlvbjogYEEgZXhjZXB0aW9uIGhhcyBvY3VycmVkIGFkZGluZyB0aGUgaW50ZXJuYWwgZGF0YTogJHtlfWAsCgkJfSk7Cgl9Cn07Cgpjb25zdCB3cml0ZSA9IGFzeW5jIChfKSA9PiB7Cgl0cnkgewoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCWNvbnN0IHJlc3VsdCA9IHRva2VuaXplckRhdGEud3JpdGUobnVsbCk7CgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAnd3JpdGUnLAoJCQkJcGF5bG9hZDogcmVzdWx0LAoJCQl9KTsKCQl9IGVsc2UgewoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ3dyaXRlJywKCQkJCWV4Y2VwdGlvbjogJ1dyaXR0aW5nIGRhdGEgYWN0aW9uIGNhbm5vdCBiZSB0YWtlbi4gVG9rZW5pemVyIGlzIG5vdCBpbml0aWFsaXplZCEnLAoJCQl9KTsKCQl9Cgl9IGNhdGNoIChlKSB7CgkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCWNtZDogJ3dyaXRlJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgd3JpdHRpbmcgaW50ZXJuYWwgZGF0YTogJHtlfWAsCgkJfSk7Cgl9Cn07Cgpjb25zdCBsb2FkID0gYXN5bmMgKG1lc3NhZ2UpID0+IHsKCXRyeSB7CgkJY29uc3QgYnVmZmVyID0gbWVzc2FnZS5wYXlsb2FkOwoJCWlmICh0b2tlbml6ZXJEYXRhICE9PSBudWxsKSB7CgkJCXRva2VuaXplckRhdGEubG9hZChidWZmZXIsIG51bGwpOwoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2xvYWQnLAoJCQl9KTsKCQl9IGVsc2UgewoJCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJCWNtZDogJ2xvYWQnLAoJCQkJZXhjZXB0aW9uOiAnTG9hZGluZyBkYXRhIGFjdGlvbiBjYW5ub3QgYmUgdGFrZW4uIFRva2VuaXplciBpcyBub3QgaW5pdGlhbGl6ZWQhJywKCQkJfSk7CgkJfQoJfSBjYXRjaCAoZSkgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdsb2FkJywKCQkJZXhjZXB0aW9uOiBgQSBleGNlcHRpb24gaGFzIG9jdXJyZWQgbG9hZGluZyBpbnRlcm5hbCBkYXRhOiAke2V9YCwKCQl9KTsKCX0KfTsKCmNvbnN0IGRlc3Ryb3kgPSBhc3luYyAoXykgPT4gewoJdHJ5IHsKCQkvLyBEZXN0cm95IFRva2VuaXplckRhdGEKCQl0b2tlbml6ZXJEYXRhLmRlbGV0ZSgpOwoKCQkvLyBEZXN0cm95IFdlYkFzc2VtYmx5IEdsb2JhbHMKCQlkZWxldGVXYXNtVmFyKGluc3RhbmNlKTsKCgkJLy8gQ2xvc2UgV29ya2VyIFRocmVhZAoJCWNsb3NlKCk7CgoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdkZXN0cm95JywKCQl9KTsKCX0gY2F0Y2ggKGUpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAnZGVzdHJveScsCgkJCWV4Y2VwdGlvbjogYEEgZXhjZXB0aW9uIGhhcyBvY3VycmVkIGRlc3Ryb3lpbmcgdGhlIHRva2VuaXplciB3b3JrZXI6ICR7ZX1gLAoJCX0pOwoJfQp9OwoKLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSAqLwoKc2VsZi5vbm1lc3NhZ2UgPSAobWVzc2FnZSkgPT4gewoJc3dpdGNoIChtZXNzYWdlLmRhdGEuY21kKSB7CgkJY2FzZSAncHJlSW5pdCc6CgkJCXByZWluaXRpYWxpemVXb3JrZXIobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnaW5pdGlhbGl6ZUFzc2VtYmx5JzoKCQkJaW5pdGlhbGl6ZUFzc2VtYmx5KG1lc3NhZ2UuZGF0YSk7CgkJCWJyZWFrOwoJCWNhc2UgJ2VuY3J5cHRCYXNlNjQnOgoJCQllbmNyeXB0QmFzZTY0KG1lc3NhZ2UuZGF0YSk7CgkJCWJyZWFrOwoJCWNhc2UgJ2dldERvY3VtZW50RGF0YSc6CgkJCWdldERvY3VtZW50RGF0YShtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdhZGREb2N1bWVudERhdGEnOgoJCQlhZGREb2N1bWVudERhdGEobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnZ2V0RXh0cmFEYXRhJzoKCQkJZ2V0RXh0cmFEYXRhKG1lc3NhZ2UuZGF0YSk7CgkJCWJyZWFrOwoJCWNhc2UgJ2FkZEV4dHJhRGF0YSc6CgkJCWFkZEV4dHJhRGF0YShtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdnZXRJbWFnZURhdGEnOgoJCQlnZXRJbWFnZURhdGEobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnYWRkSW1hZ2VEYXRhJzoKCQkJYWRkSW1hZ2VEYXRhKG1lc3NhZ2UuZGF0YSk7CgkJCWJyZWFrOwoJCWNhc2UgJ2dldEludGVybmFsRGF0YSc6CgkJCWdldEludGVybmFsRGF0YShtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdhZGRJbnRlcm5hbERhdGEnOgoJCQlhZGRJbnRlcm5hbERhdGEobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnd3JpdGUnOgoJCQl3cml0ZShtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdsb2FkJzoKCQkJbG9hZChtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdkZXN0cm95JzoKCQkJZGVzdHJveShtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCX0KfTsK";class TokenizerModule{static async __checkWorker(c){if(!TokenizerModule.worker){const u=TokenizerModule,p=URL.createObjectURL(new Blob([window.atob(workerBase64Data$1)],{type:"text/javascript"})),I=new Worker(p,{type:"module"});return I.postMessage({cmd:"preInit",tokenizerLocation:c}),new Promise((m,R)=>{I.onmessage=S=>{S.data.cmd==="preInit"?S.data.exception?R(S.data.exception):I.postMessage({cmd:"initializeAssembly"}):S.data.cmd==="initializeAssembly"&&(u.worker=I,m())}})}}static async __createPNGBuffer(c){return new Promise((u,p)=>{const I=document.createElement("canvas");I.width=c.width,I.height=c.height;const m=I.getContext("2d");m==null||m.putImageData(c,0,0),I.toBlob(R=>{const S=new FileReader;S.onloadend=()=>{const N=S.result;u(new Uint8ClampedArray(N))},R?S.readAsArrayBuffer(R):p()},"image/png")})}static async encryptBase64(c,u){try{await TokenizerModule.__checkWorker(c)}catch(p){throw new Error(p)}return TokenizerModule.worker.postMessage({cmd:"encryptBase64",payload:u}),new Promise((p,I)=>{TokenizerModule.worker.onmessage=m=>{m.data.cmd==="encryptBase64"&&(m.data.exception?I(new Error(m.data.exception)):p(m.data.payload))}})}static async getDocumentData(c){try{await TokenizerModule.__checkWorker(c)}catch(u){throw new Error(u)}return TokenizerModule.worker.postMessage({cmd:"getDocumentData"}),new Promise((u,p)=>{TokenizerModule.worker.onmessage=I=>{I.data.cmd==="getDocumentData"&&(I.data.exception?p(new Error(I.data.exception)):u(I.data.payload))}})}static async addDocumentData(c,u){try{await TokenizerModule.__checkWorker(c)}catch(p){throw new Error(p)}return TokenizerModule.worker.postMessage({cmd:"addDocumentData",payload:u}),new Promise((p,I)=>{TokenizerModule.worker.onmessage=m=>{m.data.cmd==="addDocumentData"&&(m.data.exception?I(new Error(m.data.exception)):p())}})}static async getExtraData(c){try{await TokenizerModule.__checkWorker(c)}catch(u){throw new Error(u)}return TokenizerModule.worker.postMessage({cmd:"getExtraData"}),new Promise((u,p)=>{TokenizerModule.worker.onmessage=I=>{I.data.cmd==="getExtraData"&&(I.data.exception?p(new Error(I.data.exception)):u(I.data.payload))}})}static async addExtraData(c,u){try{await TokenizerModule.__checkWorker(c)}catch(p){throw new Error(p)}return TokenizerModule.worker.postMessage({cmd:"addExtraData",payload:u}),new Promise((p,I)=>{TokenizerModule.worker.onmessage=m=>{m.data.cmd==="addExtraData"&&(m.data.exception?I(new Error(m.data.exception)):p())}})}static async getImageData(c){try{await TokenizerModule.__checkWorker(c)}catch(u){throw new Error(u)}return TokenizerModule.worker.postMessage({cmd:"getImageData"}),new Promise((u,p)=>{TokenizerModule.worker.onmessage=I=>{I.data.cmd==="getImageData"&&(I.data.exception?p(new Error(I.data.exception)):u(I.data.payload))}})}static async addImageData(c,u){try{await TokenizerModule.__checkWorker(c)}catch(S){throw new Error(S)}let p=0;const{type:I,image:m}=u[p],R=await TokenizerModule.__createPNGBuffer(m);return TokenizerModule.worker.postMessage({cmd:"addImageData",payload:{type:I,image:R}}),p++,new Promise((S,N)=>{TokenizerModule.worker.onmessage=async B=>{if(B.data.cmd==="addImageData")if(B.data.exception)N(new Error(B.data.exception));else if(p<u.length){const{type:D,image:k}=u[p],O=await TokenizerModule.__createPNGBuffer(k);TokenizerModule.worker.postMessage({cmd:"addImageData",payload:{type:D,image:O}}),p++}else S()}})}static async getInternalData(c){try{await TokenizerModule.__checkWorker(c)}catch(u){throw new Error(u)}return TokenizerModule.worker.postMessage({cmd:"getInternalData"}),new Promise((u,p)=>{TokenizerModule.worker.onmessage=I=>{I.data.cmd==="getInternalData"&&(I.data.exception?p(new Error(I.data.exception)):u(I.data.payload))}})}static async addInternalData(c,u){try{await TokenizerModule.__checkWorker(c)}catch(p){throw new Error(p)}return TokenizerModule.worker.postMessage({cmd:"addInternalData",payload:u}),new Promise((p,I)=>{TokenizerModule.worker.onmessage=m=>{m.data.cmd==="addInternalData"&&(m.data.exception?I(new Error(m.data.exception)):p())}})}static async write(c){try{await TokenizerModule.__checkWorker(c)}catch(u){throw new Error(u)}return TokenizerModule.worker.postMessage({cmd:"write"}),new Promise((u,p)=>{TokenizerModule.worker.onmessage=I=>{I.data.cmd==="write"&&(I.data.exception?p(new Error(I.data.exception)):u(I.data.payload))}})}static async load(c,u){try{await TokenizerModule.__checkWorker(c)}catch(p){throw new Error(p)}return TokenizerModule.worker.postMessage({cmd:"load",payload:u}),new Promise((p,I)=>{TokenizerModule.worker.onmessage=m=>{m.data.cmd==="load"&&(m.data.exception?I(new Error(m.data.exception)):p())}})}static async destroyWorker(){return TokenizerModule.worker?(TokenizerModule.worker.postMessage({cmd:"destroy"}),new Promise((c,u)=>{TokenizerModule.worker.onmessage=p=>{p.data.cmd==="destroy"&&(p.data.exception?u(new Error(p.data.exception)):(TokenizerModule.worker.terminate(),TokenizerModule.worker=null,c("Tokenizer worker has been destroyed")))}})):"Tokenizer has not been created. Worker cannot be destroyed"}}const PoppinsRegular="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2xY2zP3t/cQKBwQpAAAABwACAAAAAAAAAfQAAAAAAAABCwAAAQsAAAM8AEoEWgBKAkT/3AJE/9wCP//lA2H/5QP9/+UD1P/lA4T/5QON/+UCjP/lAoz/5QRhAEoEYQBKAoz/5QM9AEoEYQBKASb/5QEm/+UBJv9DAAD+UgAA/qsAAP64AAD+xwAA/lgAAP5YAAD+MgAA/iwBJv9YASb/TwAA/p0BJv/HA+P/5QOl/+UC6v/lAsb/5QKU/+UC3//lAzH/5QNI/+UDUf/lAyr/5QKK/+UCo//lAj7/5QKB/+UDWP/lArb/5QL+AE8CYf/lAsgAUQMV/+UCj//lA9n/5QKx/+UDGwBMAxL/5QLh/+UCF//lA4j/5QKi/+UDLgBaApX/5QMz/+UCSv/lA+b/5QMhAEgDJv/lA+P/5QOl/+UC6f/lA0j/5QI+/+UCgf/lA9n/5QIX/+UC4v/lAqL/5QHg/+UBpv/lApT/5QHH/+UDMf/lAiL/5QI5/+UCH//lAor/5QKj/+UCPv/lAoH/5QI0/+UBiP/lAdgATwJh/+UBrABRAf7/5QFu/+UC4f/lAZ7/5QH+AEwB+f/lAb3/5QIX/+UCmf/lAYr/5QIaAFoBg//lAgz/5QJK/+UD5v/lAhEASAIX/+UC4v/lAqL/5QHg/+UCIv/lAuH/5QAA/zQAAP6dAOgAOwJAAEwAAP9GAAD+YQJ0AD4BQAAmAj8AMwJNADECdQAoAnQASQJ7AEkCIgAhAncAPAJ2AEkEIABPAe0AUQEaAJ0B7QCdBFUATQJ7ADMAAP/pAAD/gAKLADIAAP9JASb/5QAA/jID4//lA6X/5QLp/+UCxv/lApT/5QLf/+UDMf/lA0j/5QOO/+UDKv/lAor/5QKl/+UCPv/lAoH/5QNW/+UCt//lAv4ATwJh/+UCyABRAzb/5QKP/+UD2f/lArD/5QMbAEwDEv/lAuH/5QOI/+UCov/lAyYALQKV/+UDbf/lAkr/5QPm/+UEEv/lA6X/5QLp/+UDSP/lBBb/5QLi/+UCov/lAeD/5QGm/+UClP/lAcf/5QMx/+UCIv/lAjn/5QIf/+UCiv/lAqX/5QI+/+UCgf/lAjT/5QGq/+UB2ABPAmH/5QGsAFEB/v/lAW7/5QLh/+UBnv/lAf4ATAH5/+UBvf/lA4j/5QGK/+UB8gAtAYP/5QIM/+UCSv/lA+b/5QMR/+UCov/lAeD/5QIi/+UDHv/lBtj/5QbY/+UGjf/lBV3/5QY3/+UFff/lBjT/5QRG/+UFkv/lB0f/5QWy/+UHCf/lBef/5QVW/+UGEf/lBVb/5QVW/+UGtP/lBrT/5Qa1/+UFpv/lBhP/5QYN/+UFz//lBnz/5QWY/+UHdv/lBhD/5QUjAEgG8ABIBOIASASjAEgGHP/lB4X/5QdJ/+UHr//lB4X/5Qnt/+UGRv/lBVT/5QVU/+UFyv/lBdD/5QXQ/+UFi//lBYv/5QVK/+UFSv/lBcH/5QXB/+UF1v/lBKv/5QR5/+UE///lBRf/5QQd/+UEfv/lBlr/5QYl/+UE2P/lBqX/5QRt/+UE0P/lBo3/5QTb/+UEnv/lBJ7/5QVD/+UEXv/lBOb/5QTD/+UEzP/lBKX/5QRs/+UE/P/lBPz/5QTp/+UE6v/lBMD/5QVV/+UFVf/lBgr/5QWB/+UFgf/lBTn/5QdJ/+UHAP/lBXT/5QUd/+UEr//lBEr/5QTf/+UEiv/lBT3/5QTS/+UFQf/lBRH/5QUR/+UEx//lBT3/5QVP/+UFCv/lBOz/5QVT/+UFbP/lBUf/5QKr/+UCr//lBPL/5QKS/+UCm//lBPz/5QKX/+UCTf/lAln/8ASW/+UCWv/lAqD/5QT1/+UCgf/lBJ7/5QTJ/+UEXP/lBKv/5QV+/+UFKf/lBOv/5QTE/+UFZv/lB1P/5QVm/+UHG//lBL3/5QU9/+UFPf/lAt3/5QSB/9YET//lBIT/5QSK/+UGWP/lA/r/5QP6/+UGYv/lBUX/5QSa/+UGZv/lBGn/5QSS/+UFBP/lBCn/5QTQ/+UGwv/lBoj/5QY//+UFEwBPBNoATwSaAE8CgP/lAoD/5QOG/+UCI//cA4b/5QVi/+UCYP/lAmD/5QVa/+UDMv/lAr3/+AJb/+UE4ABRBrcAUQTuAFEEpwBRBE4AUQXc/+UIFf/lBKT/5QU1/+UEev/lBCf/5QSu/+UGYv/lBIb/5QbI/+UE8v/lBs7/5QaN/+UEUf/lBFH/5QRE/+UEuf/lBpT/5QS5/+UGMf/lBRf/5Qbk/+UEe//lBHv/5QXG/+UFxv/lBPv/5QbW/+UGn//lBSz/5Qb5/+UE4//lBJT/5QUz/+UGnP/lCPj/5Qbs/+UEN//lBAb/5QQg/+UEH//lBdT/5QSI/+UEC//lBVb/5QRx/+UEXf/lBPf/5QQV/+UEm//lBiv/5QYr/+UFg//lBaz/5QWs/+UGCP/lBWL/5Qas/+UGrP/lBcf/5QZo/+UGB//lBhP/5QTp/+UE8f/lBrL/5QUc/+UEYv/lBBX/5QRi/+UGD//lBM//5QRk/+UEw//lBNn/5QSI/+UFMv/lByz/5QRW/+UEzv/lBNn/5QUeAEwE2QBMBNkATAWJAEwEogBMBJz/5QRW/+UFCf/lBIj/5QSI/+UEqv/lBoz/5QSp/+UFCP/lBsX/5QUd/+UGjv/lBRP/5QTe/+UFfv/lBJ3/5QUi/+UFLP/lBDD/5QTb/+UErv/lA6H/5QL8/+UGi//lCHf/5QY+/+UFk//lBdz/5QXc/+UFMv/lBUb/5QTH/+UFHP/lBVf/5QWW/+UHcf/lBQP/5QUD/+UFF//lBmP/5QVY/+UFuv/lBc7/5QWC/+UGI//lCCr/5QVK/+UHJf/lBcf/5QSz/+UEvv/lBIH/5QUq/+UERP/lA7H/5QXwAFoF8ABaAx0ALQVkAFoEowBaBMsAWgT2AC0FLQBaBPUAWgWaAFoDHQAtBTgAWgVo/+UFaP/lBAv/5QZz/+UEC//lBAT/5QQl/+UGff/lBCX/5QS+/+UGUv/lA/b/5QP2/+UFQf/lBJT/5QZg/+UEXP/lBBv/5QP9/+UF7v/lBe7/5Qej/+UFpP/lBVr/5QSb/+UEx//lBnr/5QSm/+UGOv/lBP//5Qbb/+UEbf/lBSX/5QSd/+UEnf/lBfz/5QS7/+UFK//lBvn/5QTs/+UFjf/lBKP/5QUz/+UCnv/lBOP/5QTk/+UDd//lArr/5QKI/+UF5v/lASb97QAA/0YAAABCAAD/xgAA/8YCRP/cASb/QwEm/0MBJv9DASb97QEm/e0BJv3tAAD+MgAA/jIAAP4yAAD+LAAA/iwAAP4sASb/WAEm/1gBJv9YASb/TwEm/08BJv9PAAD+ogEm/8cDPf/lAvH/5QJK/+UCSv/lAkr/5QMmAC0CnP/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASb/5QEm/+UBJv/lASoAWAEkACMDSAAhAm4APAL3ACoC4wAlAJ8AIwHGAGwBxgAhAeYAPQKrAFcAxv/+AicAOgDSACwB3AA1AnQAPgFAACYCPwAzAk0AMQJ1ACgCdABJAnsASQIiACECdwA8AnYASQDVACwBCAAXAisAVALTAGUCGwBeAgwAJQP1AEgCogAhAmUATQMEACsCwwBNAgEATQH4AE0DCgArArQATQD2AE0CEgApAlcATQGwAE0DXQBNAr8ATQMSACsCQwBNAxQAKwJgAE0CSwA5Ah0AIgKjAEsCpAAWA9AAFwJtAC0CSAATAh0ALgGnAIUCkgCDAacAbgJ1ACUC3QBpAQEAEQKkACsCpABNAl8AKwKkACsCbAArAUkAFwKkACsCgABNAPYAPgD4/+UCAwBNAPYATQQGAE0CgABNAoAAKwKkAE0CpAArAXUATQIKAC8BbAAaAoAASAIxAAwDNAAMAd8ADQIzAAwBxwApAc4AaQEjAGQBzgBEAgcAJQELAAABKgBYApkAQQJsACwCGQA/AlMAGQEjAGQCPwAuAToAFwMYADEBwgAhAc0ALQKKACkCJwA6Af0ANAGDABEBmgAcAq4AWAFKAB4BTAAXAPcAEQKFAE0CVAAfANQALwEQABEAxAAZAbQAIQHNADICgAAmAqMAJALFACMCBwAuAqIAIQKiACECogAhAqIAIQKiACECogAhA4QADAMEACsCAQBNAgEATQIBAE0CAQBNAPYABwD2AAcA9v/wAPb/9QLVAAkCvwBNAxIAKwMSACsDEgArAxIAKwMSACsCgwBnAxIAIwKjAEsCowBLAqMASwKjAEsCSAATAkMATQKpADwCpAArAqQAKwKkACsCpAArAqQAKwKkACsESQArAl8AKwJsACsCbAArAmwAKwJsACsA9gAHAPYABwD2//AA9v/1An4AKwKAAE0CgAArAoAAKwKAACsCgAArAoAAKwKRAE4CgAAmAoAASAKAAEgCgABIAoAASAIzAAwCpABNAjMADAKiACECpAArAqIAIQKkACsCogAhAqQAKwMEACsCXwArAwQAKwJfACsDBAArAl8AKwLDAE0C8gArAtUACQKjACsCAQBNAmwAKwIBAE0CbAArAgEATQJsACsCAQBNAmwAKwIBAE0CbAArAwoAKwKkACsDCgArAqQAKwMKACsCpAArAPb/6AD2/+gA9v/KAPb/ygD2/+wA9v/sAPb/6gD2/+oA9gBGAPYATQJXAE0CAwBN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AHQAaABvAHIAcwAgACgAaAB0AHQAcABzADoALwAvAGcAaQB0AGgAdQBiAC4AYwBvAG0ALwBpAHQAZgBvAHUAbgBkAHIAeQAvAFAAbwBwAHAAaQBuAHMAKQBQAG8AcABwAGkAbgBzAFIAZQBnAHUAbABhAHIASQBUAEYATwA7ACAAUABvAHAAcABpAG4AcwAgAFIAZQBnAHUAbABhAHIAOwAgADQALgAwADAANABiADgAUABvAHAAcABpAG4AcwAgAFIAZQBnAHUAbABhAHIANAAuADAAMAA0AFAAbwBwAHAAaQBuAHMALQBSAGUAZwB1AGwAYQByAEkAbgBkAGkAYQBuACAAVAB5AHAAZQAgAEYAbwB1AG4AZAByAHkATgBpAG4AYQBkACAASwBhAGwAZQAgACgARABlAHYAYQBuAGEAZwBhAHIAaQApACwAIABKAG8AbgBuAHkAIABQAGkAbgBoAG8AcgBuACAAKABMAGEAdABpAG4AKQBoAHQAdABwAHMAOgAvAC8AaQBuAGQAaQBhAG4AdAB5AHAAZQBmAG8AdQBuAGQAcgB5AC4AYwBvAG0AVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgAgAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAaQBzACAAYQB2AGEAaQBsAGEAYgBsAGUAIAB3AGkAdABoACAAYQAgAEYAQQBRACAAYQB0ADoAIABoAHQAdABwAHMAOgAvAC8AcwBjAHIAaQBwAHQAcwAuAHMAaQBsAC4AbwByAGcALwBPAEYATABoAHQAdABwAHMAOgAvAC8AcwBjAHIAaQBwAHQAcwAuAHMAaQBsAC4AbwByAGcALwBPAEYATAk4CS0JQAAgCS4JKAlBCTcJTQkvCUsJAgAgCRUJSwAgCRcJTAkwCTUAIAkUCTAAIAkFCScJPwkVCT4JMAlLCQIAIAkVCUcAIAkuCT4JLgkyCUcAIAkuCUcJAgAgCRwJKAlNCS4JHAk+CSQAIAk4CU0JNQkkCSgJTQkkCU0JMAkkCT4AIAkUCTAAIAk4CS4JPgkoCSQJPgAgCSoJTQkwCT4JKglNCSQAIAk5CUgJZABTAHEAdQBhAHIAZQAgAGQAbwB0AHMAIABpAG4AIABwAHUAbgBjAHQAdQBhAHQAaQBvAG4AIABtAGEAcgBrAHMARABvAHUAYgBsAGUALQBzAHQAbwByAGUAeQAgAGEAQQBsAHQAZQByAG4AYQB0AGkAdgBlACAAYQBtAHAAZQByAHMAYQBuAGQAQQBsAHQAZQByAG4AYQB0AGkAdgBlACAAMgAsACAAMwAsACAANgAsACAAOQACAAAAAAAA/7UAMgAAAAAAAAAAAAAAAAAAAAAAAAAABCMAAAECAQMAAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQOUAKMAhACFAL0AlgDoAIYAjgCLAJ0AqQCkA5UAigDaAIMAkwDyAPMAjQOWAIgAwwDeAPEAngCqAPUA9AD2AKIArQDJAMcArgBiAGMAkABkAMsAZQDIAMoAzwDMAM0AzgDpAGYA0wDQANEArwBnAPAAkQDWANQA1QBoAOsA7QCJAGoAaQBrAG0AbABuAKAAbwBxAHAAcgBzAHUAdAB2AHcA6gB4AHoAeQB7AH0AfAC4AKEAfwB+AIAAgQDsAO4AugOXA5gDmQOaA5sDnAD9AP4DnQOeAP8BAAOfA6ADoQEBA6IDowOkA6UDpgOnA6gDqQOqA6sA+AD5A6wDrQOuA68DsAOxA7IDswO0A7UDtgO3APoA1wO4A7kDugO7A7wDvQO+A78DwAPBAOIA4wPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQCwALEDzgPPA9AD0QPSA9MD1APVA9YD1wDkAOUD2APZA9oD2wPcA90D3gPfA+AD4QPiA+MD5APlA+YD5wPoA+kD6gPrALsD7APtA+4D7wDmAOcD8ACmA/ED8gPzA/QD9QP2A/cD+ADYAOED+QDbANwA3QDgANkA3wCbA/oD+wP8A/0D/gP/BAAEAQQCBAMEBAQFALIAswC2ALcAxAC0ALUAxQCCAMIAhwCrAMYAvgC/ALwEBgQHBAgECQCMBAoECwCYBAwAmgCZAO8EDQQOAKUAkgCcAKcAjwCUAJUAuQDAAMEEDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwETlVMTAJDUgNkdkEEZHZBQQNkdkkEZHZJSQNkdlUEZHZVVQRkdnZSBWR2dlJSBGR2dkwFZHZ2TEwDZHZFBGR2QUkDZHZPBGR2QVUJZHZFY2FuZHJhCWR2QWNhbmRyYQlkdk9jYW5kcmEFZHZtQUEEZHZtSQVkdm1JSQRkdm1VBWR2bVVVBWR2bXZSBmR2bXZSUgVkdm12TAZkdm12TEwEZHZtRQVkdm1BSQRkdm1PBWR2bUFVCmR2bUVjYW5kcmEKZHZtT2NhbmRyYQRkdktBBWR2S0hBBGR2R0EFZHZHSEEFZHZOR0EEZHZDQQVkdkNIQQRkdkpBBWR2SkhBBWR2TllBBWR2VFRBBmR2VFRIQQVkdkREQQZkdkRESEEFZHZOTkEEZHZUQQVkdlRIQQRkdkRBBWR2REhBBGR2TkEEZHZQQQVkdlBIQQRkdkJBBWR2QkhBBGR2TUEEZHZZQQRkdlJBBGR2TEEEZHZWQQVkdlNIQQVkdlNTQQRkdlNBBGR2SEEFZHZMTEEHZHZLX1NTQQdkdkpfTllBBWR2S3hBBmR2S0h4QQVkdkd4QQVkdkp4QQZkdkREeEEHZHZEREh4QQZkdlBIeEEFZHZSeEEDZHZLBGR2S0gDZHZHBGR2R0gEZHZORwNkdkMEZHZDSANkdkoEZHZKSARkdk5ZBGR2VFQFZHZUVEgEZHZERAVkdkRESARkdk5OA2R2VARkdlRIA2R2RARkdkRIA2R2TgNkdlAEZHZQSANkdkIEZHZCSANkdk0DZHZZA2R2UgNkdkwDZHZWBGR2U0gEZHZTUwNkdlMDZHZIBGR2TEwGZHZLX1NTBmR2Sl9OWQRkdkt4BWR2S0h4BGR2R3gEZHZKeAVkdlBIeApkdkFudXN2YXJhDWR2Q2FuZHJhYmluZHUJZHZWaXNhcmdhCmR2QXZhZ3JhaGEIZHZWaXJhbWEHZHZOdWt0YQZkdlplcm8FZHZPbmUFZHZUd28HZHZUaHJlZQZkdkZvdXIGZHZGaXZlBWR2U2l4B2R2U2V2ZW4HZHZFaWdodAZkdk5pbmUEZHZPbRJkdkFiYnJldmlhdGlvbnNpZ24FZGFuZGELZG91YmxlZGFuZGEFcnVwZWULaW5kaWFucnVwZWUSemVyb3dpZHRobm9uam9pbmVyD3plcm93aWR0aGpvaW5lcgxkb3R0ZWRjaXJjbGUGZHZSZXBoCWR2RXllbGFzaA1kdlJhc2h0cmFzaWduBmR2S19SQQdkdktIX1JBBmR2R19SQQdkdkdIX1JBB2R2TkdfUkEGZHZDX1JBB2R2Q0hfUkEGZHZKX1JBB2R2SkhfUkEHZHZOWV9SQQdkdlRUX1JBCGR2VFRIX1JBB2R2RERfUkEIZHZEREhfUkEHZHZOTl9SQQZkdlRfUkEHZHZUSF9SQQZkdkRfUkEHZHZESF9SQQZkdk5fUkEGZHZQX1JBB2R2UEhfUkEGZHZCX1JBB2R2QkhfUkEGZHZNX1JBBmR2WV9SQQZkdkxfUkEGZHZWX1JBB2R2U0hfUkEHZHZTU19SQQZkdlNfUkEGZHZIX1JBB2R2TExfUkEHZHZLeF9SQQhkdktIeF9SQQdkdkd4X1JBB2R2SnhfUkEIZHZQSHhfUkEFZHZLX1IGZHZLSF9SBWR2R19SBmR2R0hfUgZkdk5HX1IFZHZDX1IGZHZDSF9SBWR2Sl9SBmR2SkhfUgZkdk5ZX1IGZHZUVF9SB2R2VFRIX1IGZHZERF9SB2R2RERIX1IGZHZOTl9SBWR2VF9SBmR2VEhfUgVkdkRfUgZkdkRIX1IFZHZOX1IFZHZQX1IGZHZQSF9SBWR2Ql9SBmR2QkhfUgVkdk1fUgVkdllfUgVkdkxfUgVkdlZfUgZkdlNIX1IGZHZTU19SBWR2U19SBWR2SF9SBmR2TExfUgZkdkt4X1IHZHZLSHhfUgZkdkd4X1IGZHZKeF9SB2R2UEh4X1IGZHZLX0tBCGR2S3hfS3hBB2R2S19LSEEGZHZLX0NBBmR2S19KQQdkdktfVFRBB2R2S19OTkEGZHZLX1RBB2R2S3hfVEEIZHZLX1RfWUEIZHZLX1RfUkEIZHZLX1RfVkEHZHZLX1RIQQZkdktfREEGZHZLX05BBmR2S19QQQhkdktfUF9SQQdkdktfUEhBCGR2S3hfUEhBCWR2S3hfUEh4QQdkdkt4X0JBBmR2S19NQQdkdkt4X01BBmR2S19ZQQZkdktfTEEGZHZLX1ZBCGR2S19WX1lBB2R2S19TSEEJZHZLX1NTX01BC2R2S19TU19NX1lBCWR2S19TU19ZQQlkdktfU1NfVkEGZHZLX1NBCWR2S19TX1RUQQlkdktfU19EREEIZHZLX1NfVEEKZHZLX1NfUF9SQQpkdktfU19QX0xBCGR2S0hfS0hBB2R2S0hfVEEIZHZLSHhfVEEHZHZLSF9OQQdkdktIX01BCGR2S0h4X01BB2R2S0hfWUEIZHZLSHhfWUEHZHZLSF9WQQhkdktIeF9WQQhkdktIX1NIQQlkdktIeF9TSEEIZHZLSHhfU0EGZHZHX0dBB2R2R19HSEEGZHZHX0pBB2R2R19OTkEGZHZHX0RBB2R2R19ESEEJZHZHX0RIX1lBCWR2R19ESF9WQQZkdkdfTkEIZHZHX05fWUEGZHZHX0JBB2R2R19CSEEJZHZHX0JIX1lBBmR2R19NQQZkdkdfWUEIZHZHX1JfWUEGZHZHX0xBBmR2R19WQQZkdkdfU0EHZHZHSF9OQQdkdkdIX01BB2R2R0hfWUEGZHZDX0NBB2R2Q19DSEEJZHZDX0NIX1ZBBmR2Q19OQQZkdkNfTUEGZHZDX1lBB2R2Q0hfWUEJZHZDSF9SX1lBBmR2Sl9LQQZkdkpfSkEIZHZKeF9KeEEJZHZKX0pfTllBCGR2Sl9KX1lBCGR2Sl9KX1ZBB2R2Sl9KSEEJZHZKX05ZX1lBB2R2Sl9UVEEHZHZKX0REQQZkdkpfVEEGZHZKX0RBBmR2Sl9OQQZkdkpfQkEGZHZKX01BBmR2Sl9ZQQdkdkp4X1lBBmR2Sl9WQQdkdkpIX05BB2R2SkhfTUEHZHZKSF9ZQQdkdk5ZX0NBCGR2TllfQ0hBB2R2TllfSkEIZHZOWV9TSEEIZHZUVF9UVEEJZHZUVF9UVEhBB2R2VFRfWUEHZHZUVF9WQQpkdlRUSF9UVEhBCGR2VFRIX1lBCGR2VFRIX1ZBCGR2RERfRERBCWR2RERfRERIQQdkdkREX1lBB2R2RERfVkEKZHZEREhfRERIQQhkdkRESF9ZQQhkdkRESF9WQQhkdk5OX1RUQQlkdk5OX1RUSEEIZHZOTl9EREEJZHZOTl9EREhBCGR2Tk5fTk5BB2R2Tk5fTUEHZHZOTl9ZQQdkdk5OX1ZBBmR2VF9LQQhkdlRfS19ZQQhkdlRfS19SQQhkdlRfS19WQQlkdlRfS19TU0EHZHZUX0tIQQlkdlRfS0hfUkEGZHZUX1RBCGR2VF9UX1lBCGR2VF9UX1ZBB2R2VF9USEEGZHZUX05BCGR2VF9OX1lBBmR2VF9QQQhkdlRfUF9SQQhkdlRfUF9MQQdkdlRfUEhBBmR2VF9NQQhkdlRfTV9ZQQZkdlRfWUEIZHZUX1JfWUEGZHZUX0xBBmR2VF9WQQZkdlRfU0EIZHZUX1NfTkEIZHZUX1NfWUEIZHZUX1NfVkEHZHZUSF9OQQdkdlRIX1lBB2R2VEhfVkEGZHZEX0dBCGR2RF9HX1JBB2R2RF9HSEEGZHZEX0RBB2R2RF9ESEEGZHZEX05BBmR2RF9CQQhkdkRfQl9SQQdkdkRfQkhBBmR2RF9NQQZkdkRfWUEGZHZEX1ZBB2R2REhfTkEJZHZESF9OX1lBB2R2REhfTUEHZHZESF9ZQQdkdkRIX1ZBBmR2Tl9LQQhkdk5fS19TQQZkdk5fQ0EHZHZOX0NIQQdkdk5fVFRBB2R2Tl9EREEGZHZOX1RBCGR2Tl9UX1lBCGR2Tl9UX1JBCGR2Tl9UX1NBB2R2Tl9USEEJZHZOX1RIX1lBCWR2Tl9USF9WQQZkdk5fREEIZHZOX0RfUkEIZHZOX0RfVkEHZHZOX0RIQQlkdk5fREhfWUEJZHZOX0RIX1JBCWR2Tl9ESF9WQQZkdk5fTkEIZHZOX05fWUEGZHZOX1BBCGR2Tl9QX1JBB2R2Tl9QSEEJZHZOX1BIX1JBB2R2Tl9CSEEJZHZOX0JIX1lBCWR2Tl9CSF9WQQZkdk5fTUEIZHZOX01fWUEGZHZOX1lBBmR2Tl9WQQZkdk5fU0EJZHZOX1NfVFRBCmR2Tl9TX01fWUEIZHZOX1NfWUEGZHZOX0hBB2R2UF9UVEEIZHZQX1RUSEEGZHZQX1RBCGR2UF9UX1lBBmR2UF9OQQZkdlBfUEEHZHZQX1BIQQZkdlBfTUEGZHZQX1lBBmR2UF9MQQZkdlBfVkEGZHZQX1NBB2R2UEhfSkEJZHZQSHhfSnhBCGR2UEhfVFRBB2R2UEhfVEEIZHZQSHhfVEEHZHZQSF9OQQdkdlBIX1BBCGR2UEhfUEhBCmR2UEh4X1BIeEEHZHZQSF9ZQQdkdlBIX0xBCGR2UEhfU0hBCGR2UEh4X1NBBmR2Ql9KQQdkdkJfSnhBCGR2Ql9KX1lBB2R2Ql9KSEEGZHZCX1RBBmR2Ql9EQQdkdkJfREhBCWR2Ql9ESF9WQQZkdkJfTkEGZHZCX0JBB2R2Ql9CSEEJZHZCX0JIX1JBBmR2Ql9ZQQZkdkJfTEEIZHZCX0xfWUEGZHZCX1ZBB2R2Ql9TSEEGZHZCX1NBB2R2QkhfTkEHZHZCSF9ZQQlkdkJIX1JfWUEHZHZCSF9MQQdkdkJIX1ZBBmR2TV9UQQZkdk1fREEGZHZNX05BBmR2TV9QQQhkdk1fUF9SQQZkdk1fQkEIZHZNX0JfWUEIZHZNX0JfUkEHZHZNX0JIQQlkdk1fQkhfWUEJZHZNX0JIX1JBCWR2TV9CSF9WQQZkdk1fTUEGZHZNX1lBBmR2TV9MQQZkdk1fVkEHZHZNX1NIQQZkdk1fU0EGZHZNX0hBBmR2WV9OQQZkdllfWUEMZHZFeWVsYXNoX1lBDGR2RXllbGFzaF9IQQZkdkxfS0EIZHZMX0tfWUEHZHZMX0tIQQZkdkxfR0EGZHZMX0pBB2R2TF9KeEEHZHZMX1RUQQhkdkxfVFRIQQdkdkxfRERBCGR2TF9EREhBBmR2TF9UQQdkdkxfVEhBCWR2TF9USF9ZQQZkdkxfREEIZHZMX0RfUkEGZHZMX1BBB2R2TF9QSEEGZHZMX0JBB2R2TF9CSEEGZHZMX01BBmR2TF9ZQQZkdkxfTEEIZHZMX0xfWUEGZHZMX1ZBCWR2TF9WX0REQQZkdkxfU0EGZHZMX0hBBmR2Vl9OQQZkdlZfWUEGZHZWX0xBBmR2Vl9WQQZkdlZfSEEHZHZTSF9LQQhkdlNIX0t4QQdkdlNIX0NBCGR2U0hfQ0hBCGR2U0hfVFRBB2R2U0hfVEEHZHZTSF9OQQdkdlNIX01BB2R2U0hfWUEHZHZTSF9MQQdkdlNIX1ZBCGR2U0hfU0hBB2R2U1NfS0EJZHZTU19LX1JBCGR2U1NfVFRBCmR2U1NfVFRfWUEKZHZTU19UVF9SQQpkdlNTX1RUX1ZBCWR2U1NfVFRIQQtkdlNTX1RUSF9ZQQtkdlNTX1RUSF9SQQhkdlNTX05OQQpkdlNTX05OX1lBB2R2U1NfUEEJZHZTU19QX1JBCGR2U1NfUEhBB2R2U1NfTUEJZHZTU19NX1lBB2R2U1NfWUEHZHZTU19WQQhkdlNTX1NTQQZkdlNfS0EIZHZTX0tfUkEIZHZTX0tfVkEHZHZTX0tIQQZkdlNfSkEHZHZTX1RUQQZkdlNfVEEIZHZTX1RfWUEIZHZTX1RfUkEIZHZTX1RfVkEHZHZTX1RIQQlkdlNfVEhfWUEGZHZTX0RBBmR2U19OQQZkdlNfUEEIZHZTX1BfUkEHZHZTX1BIQQZkdlNfQkEGZHZTX01BCGR2U19NX1lBBmR2U19ZQQZkdlNfTEEGZHZTX1ZBBmR2U19TQQdkdkhfTk5BBmR2SF9OQQZkdkhfTUEGZHZIX1lBBmR2SF9MQQZkdkhfVkEHZHZMTF9ZQQtkdm1JSS5hTG9uZw9kdlJlcGhfQW51c3ZhcmEOZHZBbnVzdmFyYS5hbUkKZHZSZXBoLmFtSRNkdlJlcGhfQW51c3ZhcmEuYW1JDWR2SUlfQW51c3ZhcmEOZHZtSUlfQW51c3ZhcmEKZHZtSUlfUmVwaBNkdm1JSV9SZXBoX0FudXN2YXJhFGR2bUlJX0FudXN2YXJhLmFMb25nEGR2bUlJX1JlcGguYUxvbmcZZHZtSUlfUmVwaF9BbnVzdmFyYS5hTG9uZw1kdm1FX0FudXN2YXJhCWR2bUVfUmVwaBJkdm1FX1JlcGhfQW51c3ZhcmEOZHZtQUlfQW51c3ZhcmEKZHZtQUlfUmVwaBNkdm1BSV9SZXBoX0FudXN2YXJhDWR2bU9fQW51c3ZhcmEJZHZtT19SZXBoEmR2bU9fUmVwaF9BbnVzdmFyYQ5kdm1BVV9BbnVzdmFyYQpkdm1BVV9SZXBoE2R2bUFVX1JlcGhfQW51c3ZhcmETZHZtRWNhbmRyYV9BbnVzdmFyYRNkdm1PY2FuZHJhX0FudXN2YXJhB2R2UkFfbVUIZHZSQV9tVVUHZHZIQV9tVQhkdkhBX21VVQhkdkRBX212UglkdlNIQV9tdlIIZHZIQV9tdlIIZHZtSS5hMDEIZHZtSS5hMDIIZHZtSS5hMDMIZHZtSS5hMDQIZHZtSS5hMDUIZHZtSS5hMDYIZHZtSS5hMDcIZHZtSS5hMDgIZHZtSS5hMDkIZHZtSS5hMTAIZHZtSS5hMTEIZHZtSS5hMTIIZHZtSS5hMTMIZHZtSS5hMTQIZHZtSS5hMTUIZHZtSS5hMTYIZHZtSS5hMTcIZHZtSS5hMTgIZHZtSS5hMTkIZHZtSS5hMjAIZHZtSS5hMjEIZHZtSS5hMjIIZHZtSS5hMjMIZHZtSS5hMjQHdW5pMDBBMAd1bmkwMEFEB3VuaTAwQjUHQW1hY3JvbgdhbWFjcm9uBkFicmV2ZQZhYnJldmUHQW9nb25lawdhb2dvbmVrCkNkb3RhY2NlbnQKY2RvdGFjY2VudAZEY2Fyb24GZGNhcm9uBkRjcm9hdAdFbWFjcm9uB2VtYWNyb24GRWJyZXZlBmVicmV2ZQpFZG90YWNjZW50CmVkb3RhY2NlbnQHRW9nb25lawdlb2dvbmVrBkVjYXJvbgZlY2Fyb24KR2RvdGFjY2VudApnZG90YWNjZW50B3VuaTAxMjIHdW5pMDEyMwZJdGlsZGUGaXRpbGRlB0ltYWNyb24HaW1hY3Jvbgd1bmkwMTJDB3VuaTAxMkQHSW9nb25lawdpb2dvbmVrB3VuaTAxMzYHdW5pMDEzNwZMYWN1dGUGbGFjdXRlB3VuaTAxM0IHdW5pMDEzQwZMY2Fyb24GbGNhcm9uBExkb3QEbGRvdAZOYWN1dGUGbmFjdXRlB3VuaTAxNDUHdW5pMDE0NgZOY2Fyb24GbmNhcm9uB09tYWNyb24Hb21hY3Jvbgd1bmkwMTRFB3VuaTAxNEYNT2h1bmdhcnVtbGF1dA1vaHVuZ2FydW1sYXV0BlJhY3V0ZQZyYWN1dGUHdW5pMDE1Ngd1bmkwMTU3BlJjYXJvbgZyY2Fyb24GU2FjdXRlBnNhY3V0ZQd1bmkwMTVFB3VuaTAxNUYHdW5pMDE2Mgd1bmkwMTYzBlRjYXJvbgZ0Y2Fyb24GVXRpbGRlBnV0aWxkZQdVbWFjcm9uB3VtYWNyb24GVWJyZXZlBnVicmV2ZQVVcmluZwV1cmluZw1VaHVuZ2FydW1sYXV0DXVodW5nYXJ1bWxhdXQHVW9nb25lawd1b2dvbmVrC1djaXJjdW1mbGV4C3djaXJjdW1mbGV4C1ljaXJjdW1mbGV4C3ljaXJjdW1mbGV4BlphY3V0ZQZ6YWN1dGUKWmRvdGFjY2VudAp6ZG90YWNjZW50B3VuaTAxOEYHdW5pMDFGQwd1bmkwMUZEB3VuaTAyMTgHdW5pMDIxOQd1bmkwMjFBB3VuaTAyMUIHdW5pMDI1OQd1bmkwMkJDB3VuaTAyQzkGV2dyYXZlBndncmF2ZQZXYWN1dGUGd2FjdXRlCVdkaWVyZXNpcwl3ZGllcmVzaXMHdW5pMUVCQwd1bmkxRUJEBllncmF2ZQZ5Z3JhdmUHdW5pMUVGOAd1bmkxRUY5BEV1cm8HdW5pMjBCQQd1bmkyMEJEB3VuaTIxMTMHdW5pMjEyNgllc3RpbWF0ZWQHdW5pMjIwNgd1bmkyMjE1B3VuaTIyMTkLZXhjbGFtLnNzMDEKY29tbWEuc3MwMQtwZXJpb2Quc3MwMQpjb2xvbi5zczAxDnNlbWljb2xvbi5zczAxDXF1ZXN0aW9uLnNzMDEPZXhjbGFtZG93bi5zczAxE3BlcmlvZGNlbnRlcmVkLnNzMDERcXVlc3Rpb25kb3duLnNzMDELZGl2aWRlLnNzMDEOcXVvdGVsZWZ0LnNzMDEPcXVvdGVyaWdodC5zczAxEXF1b3RlZGJsbGVmdC5zczAxEnF1b3RlZGJscmlnaHQuc3MwMQ1lbGxpcHNpcy5zczAxBmEuc3MwMgthYWN1dGUuc3MwMgthYnJldmUuc3MwMhBhY2lyY3VtZmxleC5zczAyDmFkaWVyZXNpcy5zczAyC2FncmF2ZS5zczAyDGFtYWNyb24uc3MwMgxhb2dv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AAEBvALkAAEB1wLkAAEB2gLkAAECRgLkAAQAAAABAAgAAQAMABYAAQBEAFgAAQADAl0CXgJfAAIABwAkAE8AAACVALoALADhAQUAUgEHAbIAdwG0Af0BIwH/AhIBbQIUAloBgQADAAAADgAAAA4AAAAOAAEAAALkAcgEEAO2A54DngOSA54DngOYA5gDmAOSA5IDkgOSA5gEEAOwBBYDngOwBBAEFgQQA7ADsAOeA5IDsAQQA5gEEAOYA5IECgOwA5gEEAO2A54DmAOSA5IEFgOSBBADtgOeA54DkgOeA54DmAQKA5gDkgOSA5IDkgOYBBADsAQWA54DmAQQBBYEEAOwA7ADngOwBBADmAQQBAoDkgQKA54DtgOeA5gDngPIA8gDpAPOA9oD/gPaA54DyAPyA6oD8gQcA84EHAPOA84DzgPOA84DyAQcBBwDqgQcA8gD8gQcA/4D8gQEA/gD2gPyA/ID8gPyA9oDzgPOA6oDqgOqA8gDyAPOA84DqgOqA6oD+APsBAQD/gPCA+wD1APaBAQDpAPsA/gDpAQEA/gD+AP4A+YEBAP4A/gD+APsA/gD+AQEBAQD+APOA84D+APIA8gD/gPyA/IDzgP+A+YD5gQEA+wD/gP4A84D/gP+A/gD/gPOA/4EBAQEA84DzgOSA5IEBAOSA5IEBAOSA5IDkgPsA5IDkgQEA5ID5gPCA+YD7APIA/4EBAP4A8ID8gPCA/ID+AP+A/4DngPsA+YD7APsA9QDvAO8BBwDvAPsA9QD7APsA+wDwgP4A+ADpAPaA/4EBAPsBBYEFgQKA5IECgPOBBYEFgPOA5gDngQWBAQDpAQEA/gD5gPsA/ID+AQEA8IDwgP4A9QD7APgBAQD4AOkA+YD5gPmA/gDpAP4A9oD/gPgA+wD7APsA+wEBAPgA6QD/gPyBAQD7AP+A9oD4APCA7YECgPCA6oD7APCA7wD7APmA+wDwgPsA9oD2gP+A6oDqgQcA84DzgPOA6oEHAQcBBwEBAQEA6QD/gPmA8ID5gQcA/gD5gP4BAQD7AP4A/ID5gP4BAQD/gQEBAQD/gP4A+wD5gQEA+wD7AP4A6QD+AQEA+AD/gOkA/4EBAP+A+wD/gP+A8IEBAP4A7YDsAP+A9oDyAOqA6oEBAPsA/gEBAPOA8gD8gQEBAQD/gQEA84DqgOqA8gDqgPOA/IDqgP4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AAMAfQA+AAEABACaAAMAfQA+AAEABACbAAMAfQA+AAEABACcAAMAfQA+AAEABACdAAMAfQA+AAEABACeAAMAfQA+AAEABACfAAMAfQA+AAEABACgAAMAfQA+AAEABAChAAMAfQA+AAEABACiAAMAfQA+AAEABACjAAMAfQA+AAEABACkAAMAfQA+AAEABAClAAMAfQA+AAEABACmAAMAfQA+AAEABACnAAMAfQA+AAEABACoAAMAfQA+AAEABACpAAMAfQA+AAEABACqAAMAfQA+AAEABACrAAMAfQA+AAEABACsAAMAfQA+AAEABACtAAMAfQA+AAEABACuAAMAfQA+AAEABACvAAMAfQA+AAEABACwAAMAfQA+AAEABACxAAMAfQA+AAEABACyAAMAfQA+AAEABACzAAMAfQA+AAEABAC0AAMAfQA+AAEABAC1AAMAfQA+AAEABAC2AAMAfQA+AAEABAC3AAMAfQA+AAEABAC4AAMAfQA+AAEABAC5AAMAfQA+AAEABAC6AAMAfQA+AAIABAAkAD0AAAA/AEUAGgBIAEsAIQBOAE4AJQAEAAAAAQAIAAEACAABAA4AAQABAH0AAQAEAJQAAgA+AAQAAAABAAgAASBKAAEACAABAAQAlAACAH0ABAAAAAEACAABAaQAKgBaAGQAbgB4HSIAggCMAJYAoACqHSwdNh1AHUoAtAC+AMgdVADSANwA5gDwAPoBBAEOARgeqAEiASwBNgFAAUodaAFUAV4BaAFyAXwBhgGQAZoeqAABAAQAUAACAH0AAQAEAFEAAgB9AAEABABSAAIAfQABAAQAUwACAH0AAQAEAFUAAgB9AAEABABWAAIAfQABAAQAVwACAH0AAQAEAFgAAgB9AAEABABZAAIAfQABAAQAXgACAH0AAQAEAF8AAgB9AAEABABgAAIAfQABAAQAYgACAH0AAQAEAGMAAgB9AAEABABkAAIAfQABAAQAZQACAH0AAQAEAGYAAgB9AAEABABnAAIAfQABAAQAaAACAH0AAQAEAGkAAgB9AAEABABrAAIAfQABAAQAbAACAH0AAQAEAG0AAgB9AAEABABuAAIAfQABAAQAbwACAH0AAQAEAHEAAgB9AAEABAByAAIAfQABAAQAcwACAH0AAQAEAHQAAgB9AAEABAB1AAIAfQABAAQAdgACAH0AAQAEAHcAAgB9AAEABAB4AAIAfQACAAIAJABLAAAATgBPACgABAAAAAEACAABAYgAJgBSAFwAZgBwG7YAegCEAI4AmACiG8AbyhvUG94ArAC2AMAb6ADKANQA3gDoAPIA/AEGARABGgEkAS4BOAFCG/IBTAFWAWABagF0AX4AAQAEALsAAgB9AAEABAC8AAIAfQABAAQAvQACAH0AAQAEAL4AAgB9AAEABADAAAIAfQABAAQAwQACAH0AAQAEAMIAAgB9AAEABADDAAIAfQABAAQAxAACAH0AAQAEAMkAAgB9AAEABADKAAIAfQABAAQAywACAH0AAQAEAM0AAgB9AAEABADOAAIAfQABAAQAzwACAH0AAQAEANAAAgB9AAEABADRAAIAfQABAAQA0gACAH0AAQAEANMAAgB9AAEABADUAAIAfQABAAQA1QACAH0AAQAEANYAAgB9AAEABADXAAIAfQABAAQA2AACAH0AAQAEANkAAgB9AAEABADbAAIAfQABAAQA3AACAH0AAQAEAN0AAgB9AAEABADeAAIAfQABAAQA3wACAH0AAQAEAOAAAgB9AAIAAQCVALoAAAAEAAAAAQAIAAEDlgBMAJ4AqACyALwAxgDQANoA5ADuAPgBAgEMARYBIAEqATQBPgFIAVIBXAFmAXABegGEAY4BmAGiAawBtgHAAcoB1AHeAegB8gH8AgYCEAIaAiQCLgI4AkICTAJWAmACagJ0An4CiAKSApwCpgKwAroCxALOAtgC4gLsAvYDAAMKAxQDHgMoAzIDPANGA1ADWgNkA24DeAOCA4wAAQAEAJUAAgCUAAEABACWAAIAlAABAAQAlwACAJQAAQAEAJgAAgCUAAEABACZAAIAlAABAAQAmgACAJQAAQAEAJsAAgCUAAEABACcAAIAlAABAAQAnQACAJQAAQAEAJ4AAgCUAAEABACfAAIAlAABAAQAoAACAJQAAQAEAKEAAgCUAAEABACiAAIAlAABAAQAowACAJQAAQAEAKQAAgCUAAEABAClAAIAlAABAAQApgACAJQAAQAEAKcAAgCUAAEABACoAAIAlAABAAQAqQACAJQAAQAEAKoAAgCUAAEABACrAAIAlAABAAQArAACAJQAAQAEAK0AAgCUAAEABACuAAIAlAABAAQArwACAJQAAQAEALAAAgCUAAEABACxAAIAlAABAAQAsgACAJQAAQAEALMAAgCUAAEABAC0AAIAlAABAAQAtQACAJQAAQAEALYAAgCUAAEABAC3AAIAlAABAAQAuAACAJQAAQAEALkAAgCUAAEABAC6AAIAlAABAAQAuwACAJQAAQAEALwAAgCUAAEABAC9AAIAlAABAAQAvgACAJQAAQAEAL8AAgCUAAEABADAAAIAlAABAAQAwQACAJQAAQAEAMIAAgCUAAEABADDAAIAlAABAAQAxAACAJQAAQAEAMUAAgCUAAEABADGAAIAlAABAAQAxwACAJQAAQAEAMgAAgCUAAEABADJAAIAlAABAAQAygACAJQAAQAEAMsAAgCUAAEABADMAAIAlAABAAQAzQACAJQAAQAEAM4AAgCUAAEABADPAAIAlAABAAQA0AACAJQAAQAEANEAAgCUAAEABADSAAIAlAABAAQA0wACAJQAAQAEANQAAgCUAAEABADVAAIAlAABAAQA1gACAJQAAQAEANcAAgCUAAEABADYAAIAlAABAAQA2QACAJQAAQAEANoAAgCUAAEABADbAAIAlAABAAQA3AACAJQAAQAEAN0AAgCUAAEABADeAAIAlAABAAQA3wACAJQAAQAEAOAAAgCUAAIABwAkAD0AAAA/AEUAGgBIAEsAIQBOAE4AJQBQAGkAJgBrAHEAQAB0AHgARwAEAAAAAQAIAAENGAArAFwBUAGKAiQCPgJyAnwC+gMUAzYDWANyA5QDrgPwBNYE8AVSBX4G0Ac0B34IFgg4CNgI6gnMCfYKWAr8C8gL+gwEDCgMMgxkDJYMqAzKDPAM+g0EDQ4AHAA6AEQATABUAFwAZABsAHQAfACCAIgAjgCUAJoAoACmAKwAsgC4AL4AxADKANAA1gDcAOIA6ADuAQYABABvAGQAPwDqAAMAXwA9AOwAAwBfAEAA+wADAGwAPQECAAMAbwAuAQMAAwBvADABBAADAG8AMwEFAAMAbwCpAOEAAgAkAOMAAgAlAOQAAgApAOUAAgArAOYAAgAuAOcAAgAyAOgAAgAzAO0AAgA0AO4AAgA1AO8AAgA3APAAAgA4APIAAgA5APYAAgA8APgAAgA9APkAAgA/APoAAgBAAPwAAgBBAQEAAgBDAOsAAgCkAPEAAgCpAAcAEAAWABwAIgAoAC4ANAEHAAIAJQEIAAIAMwEKAAIANwELAAIAPAENAAIAPQEPAAIAQAERAAIAQQASACYALgA2AD4ARgBMAFIAWABeAGQAagBwAHYAfACCAIgAjgCUARoAAwBiAD0BGwADAGIAQAEdAAMAYwA9ASAAAwBnAD0BFAACACYBFQACACcBFgACACsBFwACADIBGAACADUBGQACADYBHAACADcBHgACADoBHwACADsBIQACADwBIgACAD0BJAACAD8BJQACAEABJgACAEMAAwAIAA4AFAEnAAIANwEoAAIAPAEpAAIAPQAGAA4AFgAcACIAKAAuASwAAwBWAEABKgACACkBKwACACoBLQACADcBLgACADwBLwACAD0AAQAEATAAAgA9AA8AIAAoADAANgA8AEIASABOAFQAWgBgAGYAbAByAHgBNgADAFcAPQE3AAMAVwBAATIAAgAkATMAAgArATgAAgAsAToAAgAuATsAAgAwATwAAgAzAT0AAgA1AT4AAgA3AT8AAgA6AUAAAgA8AUEAAgA9AUMAAgBAATUAAgBHAAMACAAOABQBRAACADcBRQACADwBRgACAD0ABAAKABAAFgAcAUcAAgApAUgAAgAqAUkAAgArAUoAAgBBAAQACgAQABYAHAFLAAIALgFMAAIALwFNAAIAPQFOAAIAQAADAAgADgAUAU8AAgAvAVAAAgA9AVEAAgBAAAQACgAQABYAHAFSAAIAMAFTAAIAMQFUAAIAPQFVAAIAQAADAAgADgAUAVYAAgAxAVcAAgA9AVgAAgBAAAgAEgAYAB4AJAAqADAANgA8AVkAAgAuAVoAAgAvAVsAAgAwAVwAAgAxAV0AAgAyAV4AAgA8AV8AAgA9AWAAAgBAABoANgA+AEYATgBWAF4AZgBuAHYAfgCGAIwAkgCYAJ4ApACqALAAtgC8AMIAyADOANQA2gDgAWIAAwBQAD0BZAADAFAAQAFpAAMAXwA9AWoAAwBfAEABbQADAGMAPQFwAAMAZAA/AXMAAwBoAD0BeQADAG8ANwF6AAMAbwA9AXsAAwBvAEABYQACACQBZgACACUBaAACADMBawACADQBbAACADcBbgACADgBcQACADkBcgACADwBdAACAD0BdgACAD8BdwACAEABeAACAEMBZQACAEYBYwACAJUBZwACAJYBbwACAKkAAwAIAA4AFAF8AAIANwF9AAIAPQF+AAIAQAAMABoAIAAmACwAMgA4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",PoppinsSemiBold="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V+hYRliLWNVZJll8Wb5aDFpWWqVbD1uNW/lcf1ztXVldyV3zXkBejl7mXy5fkF/IYARgd2DPYRZheWG/YghiamK1Ywdjf2PsZGNky2UrZZNl1mYdZoJmxGciZ4Rn1mgpaDVof2jDaQppdWn4amRqyms0a69sRWyVbQ1tXm29bgZub269bzFvl3AccKlw/XFScb5yNHLKc0Nz3XQ1dKd08HU9daZ2FHaCdwp3n3f4eGt4vnkaeXt593qYexR7fXu6e/98OXyUfNx9FX1ufbh9/X5cfqV+8H9Hf1d/rIABgA2AcIC+gSyBPIGTgguCc4LigzeDQ4OzhCGEc4TOhUWF4YZFhrGHIIeSh+6IaIjxiVWJwYohio6K74tTi9iMRoyQjOONPY2FjdCONI61jxyPf5AGkGyRAJFXkaiSG5J4kuGTOpOhk/aUSpSClNeVXZX3lniWzJcnlzOXkZf0mF2Yz5komZeaIpqCmuObOJurnBuci5zznVGd0J5ensefWZ+/oDOgj6DkoVihs6ITopyiqKMEoxCjb6PIpCqkkqT1pXel06XfpkymvacAp26nuqgcqGWo2KkpqWupzaoJqkmqpqr1q1+rqav2rDmss60vrcauPK6KrtuvKK+Vr+GwU7C4sTyxj7HssjayhLLss1CzqrQgtHK05rVCtZu19rZhts23LbenuAq4e7iguM+42LjzuSG5g7mPucS6C7oXuky6k7qfusu7BbsRu0y7lbvFu/q8PLx5vLy9Db0VvSG9ZL2dvfK+TL6Gvte/L79Yv36/o7/Iv+vAEMA3wF7AiMCywN7BCsE2wWPBkMG9wevCGsJJwnjCpsLVwwTDM8NRw2XDlcPhxCbEccR+xJvEucTbxPDE/sUGxRzFLMVYxWfFj8XLxebGF8ZSxmbGsMbqxvbHAscSxybHNsdsx9HH68giyFDIc8iJyJ3I0MjpyPbJEskryTrJVslsyZ3JwMn4yiHKYsp0ypXKqsrIyuLK+MsNyx/LLss/y1HLXstry6HL18wBzDfMacyHzM3M8M0NzTPNSs1XzYvNrM3Yzg7ORM5bzprOt87azuzPCs8kzzrPTs+Sz57P4tAM0AzQKdBY0JDQztD10QjRX9GE0drSCNIh0jDSONKB0o7StNLN0vTTKtM301rTddN+05vTqtPW0+/UGtRT1KXU29Tn1PPU/9UL1RfVI9VG1YnVldWh1a3VudXF1dHV3dXp1hTWINYs1jjWRNZQ1lzWdta+1srW1tbi1u7W+tcg123XedeF15HXndep17XYEthQ2FzYaNh02IDYi9iW2KHYrNjw2PzZCNkU2SDZLNk42WXZptmy2b7ZytnW2eLaGNok2jDaPNpI2lTahNrQ2tza6Nr02wDbDNsY2yTbatty27HbvdvI29Tb4Nvs2/jcI9xp3HXcgdyN3Jncpdyx3PPdR91T3V7dat113YHdjN2v3ePd79383iPeSN5U3mDef96b3rje1N703xHfK99E31DfXN+B37Hfvd/J39Xf4N/s3/jgBOAQ4E/gpeCx4Lzg8uEY4SThL+E74UfhnOHt4fniBOIq4l7iauKX4qPir+K74sfi0+Lf4uvi9+MD4w/jReN744fjk+Of46vjt+PD487j2uPm4/Lj/eQx5F3kaeR15MTlEeUy5V7lkeWZ5anluuXC5d3l8+YZ5jnmXeZw5ofmk+af5qvmt+bD5s/m2+bm5vLm/ucK5xXnIucv5zznSedV52jne+eO56jny+fn5/foYuhy6ILokujS6QDpMOk46V3pk+nE6gDqGeow6krqV+pf6mfqfurJ6uzq+OsZ6zDrRutc64zrmOus68Lrzuvg6/zsJ+w67EPsbuyH7JzssezU7PftB+1C7U7tWu1m7XLtfu2K7dvt5+3z7kHua+6W7snu/AABAAAABAEGC3h2+18PPPUAAwPoAAAAANikqcUAAAAA2xY2zf3h/a8JzgRDAAAABwACAAAAAAAAAfQAAAAAAAAA7gAAAO4AAANDAEEEcwBBAkP/5QJD/+UCOf/rA1n/6wQQ/+sD9v/rA4j/6wOR/+sCjP/rAoz/6wR4AEEEeABBAoz/6wNGAEEEeABBATX/6wE1/+sBNf8lAAD+OQAA/pIAAP6mAAD+wAAA/kEAAP5BAAD+KwAA/iEBNv9hATX/UwAA/n0BN/+6A9D/6wO2/+sDFf/rAr//6wKu/+sC6v/rAzX/6wNU/+sDXv/rAzn/6wKI/+sCof/rAjn/6wKK/+sDcP/rAr//6wMPAEACY//rAtQARgMq/+sCnP/rA9n/6wKx/+sDPwA/Azb/6wLt/+sCFf/rA47/6wKe/+sDSABLAqj/6wM5/+sCSv/rA8//6wNGAD8DPf/rA9D/6wO2/+sDFP/rA1T/6wI5/+sCiv/rA9n/6wIV/+sCy//rAqD/6wIJ/+sBjv/rAq7/6wG//+sDNf/rAiT/6wI0/+sCGf/rAoj/6wKh/+sCOf/rAor/6wJB/+sBg//rAdoAQAJi/+sBrABGAgD/6wFm/+sCyv/rAY3/6wIRAD8CCv/rAbT/6wIV/+sCiP/rAXT/6wIjAEsBgf/rAgT/6wJK/+sDz//rAiQAPwId/+sCy//rAqD/6wIJ/+sCJP/rAsr/6wAA/xYAAP59AQYANAJNAEAAAP8oAAD+egKGADUBagAkAj4ALAJXAC0ClQAvAoQATwKAAEUCJAAjAoMAOgJyAEEEKgBIAeIASAFAAJcCOgCXBI8ARQJjACoAAP/pAAD/gAKLADIAAP8uAUv/6wAA/fQD0P/rA7b/6wMU/+sCv//rAq7/6wLq/+sDNf/rA1T/6wOo/+sDOf/rAoj/6wKj/+sCOf/rAor/6wNu/+sCwP/rAw8AQAJi/+sC1ABGA1L/6wKc/+sD2f/rArD/6wM/AD8DNv/rAu3/6wOO/+sCnv/rA0gAHQKo/+sDhf/rAkr/6wPP/+sEEv/rA7b/6wMU/+sDVP/rBCP/6wLL/+sCoP/rAgn/6wGO/+sCrv/rAb//6wM1/+sCJP/rAjT/6wIZ/+sCiP/rAqP/6wI5/+sCiv/rAkH/6wGh/+sB2gBAAmL/6wGsAEYCAP/rAWb/6wLK/+sBjf/rAhEAPwIK/+sBtP/rA47/6wF0/+sCAQAdAYH/6wIE/+sCSv/rA8//6wMN/+sCoP/rAgn/6wIk/+sDFf/rBp//6waf/+sGd//rBUX/6wYf/+sFVP/rBh//6wRC/+sFe//rByn/6wWS/+sG3//rBdT/6wUw/+sF/P/rBUH/6wVB/+sGi//rBov/6waM/+sFfv/rBg3/6wYE/+sFs//rBlz/6wVs/+sHQf/rBgb/6wVcAD8HIQA/BQQAPwS4AD8F/P/rB1b/6wcU/+sHjf/rB2P/6wm8/+sGU//rBVb/6wVW/+sF2f/rBer/6wXq/+sFj//rBY//6wU9/+sFPf/rBdX/6wXV/+sF2v/rBPX/6wSV/+sFMP/rBUn/6wRA/+sEq//rBn//6wY4/+sFC//rBtL/6wSN/+sFGP/rBsv/6wUd/+sEyv/rBMr/6wVr/+sEev/rBRH/6wTB/+sE1f/rBJT/6wRj/+sE8f/rBPH/6wT8/+sFA//rBMD/6wVI/+sFSP/rBfv/6wWL/+sFi//rBVf/6wdS/+sG/v/rBYH/6wUl/+sEr//rBEr/6wTp/+sEjP/rBVn/6wTU/+sFZv/rBRz/6wUc/+sEx//rBUz/6wVn/+sFDP/rBPH/6wVN/+sFdP/rBV//6wKi/+sCpP/rBQr/6wKS/+sCn//rBRT/6wKd/+sCRv/rAlH/8gSs/+sCUv/rAqL/6wUW/+sCjP/rBK3/6wTU/+sEZ//rBL7/6wWa/+sFXv/rBQv/6wTP/+sFUP/rBzP/6wVQ/+sG7P/rBNj/6wVH/+sFR//rAvH/6wSU/+EEUf/rBJf/6wSh/+sGaf/rBAP/6wQD/+sGW//rBT//6wS4/+sGf//rBGv/6wSQ/+sFCv/rBCD/6wTR/+sGzP/rBoj/6wY2/+sFHwBABOMAQASPAEAClv/rApb/6wOR/+sCMv/lA5H/6wV1/+sCaf/rAmn/6wWJ/+sDUP/rAsT/+AJg/+sE7gBGBrkARgUGAEYErgBGBE8ARgXP/+sH+//rBKv/6wVC/+sEf//rBCn/6wS9/+sGa//rBJv/6wbQ/+sFDP/rBt//6waL/+sEW//rBFr/6wRR/+sE0//rBqf/6wTT/+sGK//rBS//6wb3/+sEjv/rBI7/6wXK/+sFyv/rBTD/6wb2/+sGsP/rBUz/6wcT/+sE8v/rBJj/6wU9/+sGmP/rCRD/6wb1/+sEOf/rA/v/6wQW/+sEH//rBcz/6wSe/+sEE//rBVD/6wSR/+sEYf/rBPX/6wQJ/+sEof/rBiP/6wYj/+sFaP/rBZ3/6wWd/+sGBv/rBVn/6waV/+sGlf/rBb7/6wZe/+sGEP/rBgb/6wTe/+sE4//rBqX/6wU3/+sEW//rBAT/6wRc/+sF9P/rBM//6wRR/+sE2f/rBO7/6wR7/+sFH//rBwr/6wQ//+sE2f/rBM//6wVBAD8E8wA/BPMAPwWgAD8ErQA/BL3/6wRt/+sFM//rBKj/6wSo/+sEvf/rBpf/6wS8/+sFRP/rBvb/6wVa/+sGsv/rBUj/6wT7/+sFl//rBKv/6wVP/+sFQ//rBEH/6wTn/+sEtf/rA8n/6wMc/+sGZf/rCEj/6wY8/+sFq//rBdz/6wXc/+sFHP/rBSz/6wSu/+sFCf/rBU7/6wWW/+sHaf/rBPT/6wTz/+sFDv/rBkz/6wVD/+sFz//rBdn/6wV5/+sGDP/rCA7/6wUx/+sHEP/rBcP/6wSi/+sEuf/rBHP/6wUZ/+sEKP/rA5n/6wXqAEsF6gBLAzkAHQVxAEsErABLBN4ASwUjAB0FWABLBQoASwWnAEsDOQAdBVwASwVQ/+sFUP/rBAP/6waG/+sEA//rBAT/6wQe/+sGkf/rBB7/6wTV/+sGcP/rBAn/6wQJ/+sFRf/rBLL/6wZ1/+sEZ//rBBb/6wQU/+sF2f/rBdn/6wd0/+sFsv/rBV//6wSS/+sEyf/rBnb/6wSu/+sGK//rBQz/6wbf/+sEa//rBTT/6wSf/+sEn//rBe3/6wS3/+sFRf/rBw7/6wTx/+sFkf/rBJ//6wU3/+sCs//rBQn/6wUX/+sDff/rAsH/6wKO/+sFwf/rATX94QAA/yoAAAAzAAD/pgAA/6YCQ//lATX/JQE1/yUBNf8lATX94QE1/eEBNf3hAAD+KwAA/isAAP4rAAD+IQAA/iEAAP4hATX/YQE1/2EBNf9hATX/UwE1/1MBNf9TAAD+hAE1/7oDOv/rAvr/6wJK/+sCSv/rAlP/6wNIAB0Cof/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rATX/6wE1/+sBNf/rAWIAWwFsACUDdwAaAo4ANQM9ACUDCgAjAMMAJQHlAGsB5QASAgYARAKiAFIA/gAPAkcARwEEACwB5gAlAoYANQFqACQCPgAsAlcALQKVAC8ChABPAoAARQIkACMCgwA6AnIAQQEHACwBRAApAkgATwLiAGACNwBZAhoAIgQbAEcCzAAaAoMARQMAACMCzQBFAhQARQISAEUDAAAjAs0ARQEWAEUCOgAkApcARQHLAEUDgwBFAt8ARQMRACMCYABFAxMAIwKBAEUCYQAzAkEAIAK5AEMCxwAOBAAAFgKuACYCfAALAkAAMgHxAIcC9ACtAfAAbgKoACEDFgBrAQ8ACgKmACECpgBFAloAIQKmACECaQAhAVkAFQKmACEClQBFARYANgEW/+MCSABFARYARQQYAEUClQBFAn4AIgKmAEUCpgAhAZQARQIhACcBhAAZApUAQAJXAAoDTAAHAhwACAJdAAUB4wAmAfwAbgE1AFQB/ABRAlAAIADuAAABYgBbApcANwKOACcCMQA8AnwACwFeAGkCRgAkAVIACgMRACoBzgAcAgkALQKpACkCRwBHAgQALQGSAAoBvAAbAqQAUwFoAB4BZQARAPoACgKmAEsCmgAgAQ4AMwEnAAoA5AAUAcIAHAIJADIC2gAlAvUAJQMrACkCGgArAswAGgLMABoCzAAaAswAGgLMABoCzAAaA6kACQMAACMCFABFAhQARQIUAEUCFABFARYAEgEWABIBFv/3ARb/7ALWAAcC3wBFAxEAIwMRACMDEQAjAxEAIwMRACMCngBiAxEAGAK5AEMCuQBDArkAQwK5AEMCfAALAmAARQLXADQCpgAhAqYAIQKmACECpgAhAqYAIQKmACEENQAhAloAIQJpACECaQAhAmkAIQJpACEBIgAYASIAGAEi//0BIv/yAn4AIQKVAEUCfgAiAn4AIgJ+ACICfgAiAn4AIgKIAEkCegAVApUAQAKVAEAClQBAApUAQAJdAAUCpgBFAl0ABQLMABoCpgAhAswAGgKmACECzAAaAqYAIQMAACMCWgAhAwAAIwJaACEDAAAjAloAIQLNAEUDJgAhAtYABwKsACECFABFAmkAIQIUAEUCaQAhAhQARQJpACECFABFAmkAIQIUAEUCaQAhAwAAIwKmACEDAAAjAqYAIQMBACMCpgAhARb/1wEi/94BFv/NASL/0wEW/+wBIv/yARb/+AEW//gBFgBFASIASwKhAEUCSABFAcsARQEWABIBzABFARYARQHrAEUBwQBFAcsARQFZAEUBzwAJASIACQLfAEUClQBFAusARQKVAEUC3wBFApUARQMRACMCfgAiAxEAIwJ+ACIDEQAjAn4AIgQwACMEHAAhAoEARQGUAEUCiQBFAZQARQKBAEUBlABFAmEAMwIhACcCYQAzAiEAJwJhADMCIQAnAkEAIAGEABkCQQAgAYcAGQK5AEMClQBAArkAQwKVAEACuQBDApUAQAK5AEMClQBAArkAQwKVAEACuQBDApUAQAQAABYDTAAHAnwACwJdAAUCfAALAkAAMgHjACYCQAAyAeMAJgJAADIB4wAmAw0ANgFO/8UDqQAJBDgAIQJwADMCIQAnAkEAIAGEABkCaQAhARMAKAE9AAoBPQAKAZIACgFTAAoAmQAKAPkACAD7AAwBfQAIAZEACgLCABoEAAAW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AGcAYQByAGkAKQAsACAASgBvAG4AbgB5ACAAUABpAG4AaABvAHIAbgAgACgATABhAHQAaQBuACkAaAB0AHQAcABzADoALwAvAGkAbgBkAGkAYQBuAHQAeQBwAGUAZgBvAHUAbgBkAHIAeQAuAGMAbwBtAFQAaABpAHMAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAaQBzACAAbABpAGMAZQBuAHMAZQBkACAAdQBuAGQAZQByACAAdABoAGUAIABTAEkATAAgAE8AcABlAG4AIABGAG8AbgB0ACAATABpAGMAZQBuAHMAZQAsACAAVgBlAHIAcwBpAG8AbgAgADEALgAxAC4AIABUAGgAaQBzACAAbABpAGMAZQBuAHMAZQAgAGkAcwAgAGEAdgBhAGkAbABhAGIAbABlACAAdwBpAHQAaAAgAGEAIABGAEEAUQAgAGEAdAA6ACAAaAB0AHQAcABzADoALwAvAHMAYwByAGkAcAB0AHMALgBzAGkAbAAuAG8AcgBnAC8ATwBGAEwAaAB0AHQAcABzADoALwAvAHMAYwByAGkAcAB0AHMALgBzAGkAbAAuAG8AcgBnAC8ATwBGAEwAUABvAHAAcABpAG4AcwBTAGUAbQBpAEIAbwBsAGQJOAktCUAAIAkuCSgJQQk3CU0JLwlLCQIAIAkVCUsAIAkXCUwJMAk1ACAJFAkwACAJBQknCT8JFQk+CTAJSwkCACAJFQlHACAJLgk+CS4JMglHACAJLglHCQIAIAkcCSgJTQkuCRwJPgkkACAJOAlNCTUJJAkoCU0JJAlNCTAJJAk+ACAJFAkwACAJOAkuCT4JKAkkCT4AIAkqCU0JMAk+CSoJTQkkACAJOQlICWQAUwBxAHUAYQByAGUAIABkAG8AdABzACAAaQBuACAAcAB1AG4AYwB0AHUAYQB0AGkAbwBuACAAbQBhAHIAawBzAEQAbwB1AGIAbABlAC0AcwB0AG8AcgBlAHkAIABhAEEAbAB0AGUAcgBuAGEAdABpAHYAZQAgAGEAbQBwAGUAcgBzAGEAbgBkAEEAbAB0AGUAcgBuAGEAdABpAHYAZQAgADIALAAgADMALAAgADYALAAgADkAAAACAAAAAAAA/7UAMgAAAAAAAAAAAAAAAAAAAAAAAAAABCMAAAECAQMAAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQOUAKMAhACFAL0AlgDoAIYAjgCLAJ0AqQCkA5UAigDaAIMAkwDyAPMAjQOWAIgAwwDeAPEAngCqAPUA9AD2AKIArQDJAMcArgBiAGMAkABkAMsAZQDIAMoAzwDMAM0AzgDpAGYA0wDQANEArwBnAPAAkQDWANQA1QBoAOsA7QCJAGoAaQBrAG0AbABuAKAAbwBxAHAAcgBzAHUAdAB2AHcA6gB4AHoAeQB7AH0AfAC4AKEAfwB+AIAAgQDsAO4AugOXA5gDmQOaA5sDnAD9AP4DnQOeAP8BAAOfA6ADoQEBA6IDowOkA6UDpgOnA6gDqQOqA6sA+AD5A6wDrQOuA68DsAOxA7IDswO0A7UDtgO3APoA1wO4A7kDugO7A7wDvQO+A78DwAPBAOIA4wPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQCwALEDzgPPA9AD0QPSA9MD1APVA9YD1wDkAOUD2APZA9oD2wPcA90D3gPfA+AD4QPiA+MD5APlA+YD5wPoA+kD6gPrALsD7APtA+4D7wDmAOcD8ACmA/ED8gPzA/QD9QP2A/cD+ADYAOED+QDbANwA3QDgANkA3wCbA/oD+wP8A/0D/gP/BAAEAQQCBAMEBAQFALIAswC2ALcAxAC0ALUAxQCCAMIAhwCrAMYAvgC/ALwEBgQHBAgECQCMBAoECwCYBAwAmgCZAO8EDQQOAKUAkgCcAKcAjwCUAJUAuQDAAMEEDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwETlVMTAJDUgNkdkEEZHZBQQNkdkkEZHZJSQNkdlUEZHZVVQRkdnZSBWR2dlJSBGR2dkwFZHZ2TEwDZHZFBGR2QUkDZHZPBGR2QVUJZHZFY2FuZHJhCWR2QWNhbmRyYQlkdk9jYW5kcmEFZHZtQUEEZHZtSQVkdm1JSQRkdm1VBWR2bVVVBWR2bXZSBmR2bXZSUgVkdm12TAZkdm12TEwEZHZtRQVkdm1BSQRkdm1PBWR2bUFVCmR2bUVjYW5kcmEKZHZtT2NhbmRyYQRkdktBBWR2S0hBBGR2R0EFZHZHSEEFZHZOR0EEZHZDQQVkdkNIQQRkdkpBBWR2SkhBBWR2TllBBWR2VFRBBmR2VFRIQQVkdkREQQZkdkRESEEFZHZOTkEEZHZUQQVkdlRIQQRkdkRBBWR2REhBBGR2TkEEZHZQQQVkdlBIQQRkdkJBBWR2QkhBBGR2TUEEZHZZQQRkdlJBBGR2TEEEZHZWQQVkdlNIQQVkdlNTQQRkdlNBBGR2SEEFZHZMTEEHZHZLX1NTQQdkdkpfTllBBWR2S3hBBmR2S0h4QQVkdkd4QQVkdkp4QQZkdkREeEEHZHZEREh4QQZkdlBIeEEFZHZSeEEDZHZLBGR2S0gDZHZHBGR2R0gEZHZORwNkdkMEZHZDSANkdkoEZHZKSARkdk5ZBGR2VFQFZHZUVEgEZHZERAVkdkRESARkdk5OA2R2VARkdlRIA2R2RARkdkRIA2R2TgNkdlAEZHZQSANkdkIEZHZCSANkdk0DZHZZA2R2UgNkdkwDZHZWBGR2U0gEZHZTUwNkdlMDZHZIBGR2TEwGZHZLX1NTBmR2Sl9OWQRkdkt4BWR2S0h4BGR2R3gEZHZKeAVkdlBIeApkdkFudXN2YXJhDWR2Q2FuZHJhYmluZHUJZHZWaXNhcmdhCmR2QXZhZ3JhaGEIZHZWaXJhbWEHZHZOdWt0YQZkdlplcm8FZHZPbmUFZHZUd28HZHZUaHJlZQZkdkZvdXIGZHZGaXZlBWR2U2l4B2R2U2V2ZW4HZHZFaWdodAZkdk5pbmUEZHZPbRJkdkFiYnJldmlhdGlvbnNpZ24FZGFuZGELZG91YmxlZGFuZGEFcnVwZWULaW5kaWFucnVwZWUSemVyb3dpZHRobm9uam9pbmVyD3plcm93aWR0aGpvaW5lcgxkb3R0ZWRjaXJjbGUGZHZSZXBoCWR2RXllbGFzaA1kdlJhc2h0cmFzaWduBmR2S19SQQdkdktIX1JBBmR2R19SQQdkdkdIX1JBB2R2TkdfUkEGZHZDX1JBB2R2Q0hfUkEGZHZKX1JBB2R2SkhfUkEHZHZOWV9SQQdkdlRUX1JBCGR2VFRIX1JBB2R2RERfUkEIZHZEREhfUkEHZHZOTl9SQQZkdlRfUkEHZHZUSF9SQQZkdkRfUkEHZHZESF9SQQZkdk5fUkEGZHZQX1JBB2R2UEhfUkEGZHZCX1JBB2R2QkhfUkEGZHZNX1JBBmR2WV9SQQZkdkxfUkEGZHZWX1JBB2R2U0hfUkEHZHZTU19SQQZkdlNfUkEGZHZIX1JBB2R2TExfUkEHZHZLeF9SQQhkdktIeF9SQQdkdkd4X1JBB2R2SnhfUkEIZHZQSHhfUkEFZHZLX1IGZHZLSF9SBWR2R19SBmR2R0hfUgZkdk5HX1IFZHZDX1IGZHZDSF9SBWR2Sl9SBmR2SkhfUgZkdk5ZX1IGZHZUVF9SB2R2VFRIX1IGZHZERF9SB2R2RERIX1IGZHZOTl9SBWR2VF9SBmR2VEhfUgVkdkRfUgZkdkRIX1IFZHZOX1IFZHZQX1IGZHZQSF9SBWR2Ql9SBmR2QkhfUgVkdk1fUgVkdllfUgVkdkxfUgVkdlZfUgZkdlNIX1IGZHZTU19SBWR2U19SBWR2SF9SBmR2TExfUgZkdkt4X1IHZHZLSHhfUgZkdkd4X1IGZHZKeF9SB2R2UEh4X1IGZHZLX0tBCGR2S3hfS3hBB2R2S19LSEEGZHZLX0NBBmR2S19KQQdkdktfVFRBB2R2S19OTkEGZHZLX1RBB2R2S3hfVEEIZHZLX1RfWUEIZHZLX1RfUkEIZHZLX1RfVkEHZHZLX1RIQQZkdktfREEGZHZLX05BBmR2S19QQQhkdktfUF9SQQdkdktfUEhBCGR2S3hfUEhBCWR2S3hfUEh4QQdkdkt4X0JBBmR2S19NQQdkdkt4X01BBmR2S19ZQQZkdktfTEEGZHZLX1ZBCGR2S19WX1lBB2R2S19TSEEJZHZLX1NTX01BC2R2S19TU19NX1lBCWR2S19TU19ZQQlkdktfU1NfVkEGZHZLX1NBCWR2S19TX1RUQQlkdktfU19EREEIZHZLX1NfVEEKZHZLX1NfUF9SQQpkdktfU19QX0xBCGR2S0hfS0hBB2R2S0hfVEEIZHZLSHhfVEEHZHZLSF9OQQdkdktIX01BCGR2S0h4X01BB2R2S0hfWUEIZHZLSHhfWUEHZHZLSF9WQQhkdktIeF9WQQhkdktIX1NIQQlkdktIeF9TSEEIZHZLSHhfU0EGZHZHX0dBB2R2R19HSEEGZHZHX0pBB2R2R19OTkEGZHZHX0RBB2R2R19ESEEJZHZHX0RIX1lBCWR2R19ESF9WQQZkdkdfTkEIZHZHX05fWUEGZHZHX0JBB2R2R19CSEEJZHZHX0JIX1lBBmR2R19NQQZkdkdfWUEIZHZHX1JfWUEGZHZHX0xBBmR2R19WQQZkdkdfU0EHZHZHSF9OQQdkdkdIX01BB2R2R0hfWUEGZHZDX0NBB2R2Q19DSEEJZHZDX0NIX1ZBBmR2Q19OQQZkdkNfTUEGZHZDX1lBB2R2Q0hfWUEJZHZDSF9SX1lBBmR2Sl9LQQZkdkpfSkEIZHZKeF9KeEEJZHZKX0pfTllBCGR2Sl9KX1lBCGR2Sl9KX1ZBB2R2Sl9KSEEJZHZKX05ZX1lBB2R2Sl9UVEEHZHZKX0REQQZkdkpfVEEGZHZKX0RBBmR2Sl9OQQZkdkpfQkEGZHZKX01BBmR2Sl9ZQQdkdkp4X1lBBmR2Sl9WQQdkdkpIX05BB2R2SkhfTUEHZHZKSF9ZQQdkdk5ZX0NBCGR2TllfQ0hBB2R2TllfSkEIZHZOWV9TSEEIZHZUVF9UVEEJZHZUVF9UVEhBB2R2VFRfWUEHZHZUVF9WQQpkdlRUSF9UVEhBCGR2VFRIX1lBCGR2VFRIX1ZBCGR2RERfRERBCWR2RERfRERIQQdkdkREX1lBB2R2RERfVkEKZHZEREhfRERIQQhkdkRESF9ZQQhkdkRESF9WQQhkdk5OX1RUQQlkdk5OX1RUSEEIZHZOTl9EREEJZHZOTl9EREhBCGR2Tk5fTk5BB2R2Tk5fTUEHZHZOTl9ZQQdkdk5OX1ZBBmR2VF9LQQhkdlRfS19ZQQhkdlRfS19SQQhkdlRfS19WQQlkdlRfS19TU0EHZHZUX0tIQQlkdlRfS0hfUkEGZHZUX1RBCGR2VF9UX1lBCGR2VF9UX1ZBB2R2VF9USEEGZHZUX05BCGR2VF9OX1lBBmR2VF9QQQhkdlRfUF9SQQhkdlRfUF9MQQdkdlRfUEhBBmR2VF9NQQhkdlRfTV9ZQQZkdlRfWUEIZHZUX1JfWUEGZHZUX0xBBmR2VF9WQQZkdlRfU0EIZHZUX1NfTkEIZHZUX1NfWUEIZHZUX1NfVkEHZHZUSF9OQQdkdlRIX1lBB2R2VEhfVkEGZHZEX0dBCGR2RF9HX1JBB2R2RF9HSEEGZHZEX0RBB2R2RF9ESEEGZHZEX05BBmR2RF9CQQhkdkRfQl9SQQdkdkRfQkhBBmR2RF9NQQZkdkRfWUEGZHZEX1ZBB2R2REhfTkEJZHZESF9OX1lBB2R2REhfTUEHZHZESF9ZQQdkdkRIX1ZBBmR2Tl9LQQhkdk5fS19TQQZkdk5fQ0EHZHZOX0NIQQdkdk5fVFRBB2R2Tl9EREEGZHZOX1RBCGR2Tl9UX1lBCGR2Tl9UX1JBCGR2Tl9UX1NBB2R2Tl9USEEJZHZOX1RIX1lBCWR2Tl9USF9WQQZkdk5fREEIZHZOX0RfUkEIZHZOX0RfVkEHZHZOX0RIQQlkdk5fREhfWUEJZHZOX0RIX1JBCWR2Tl9ESF9WQQZkdk5fTkEIZHZOX05fWUEGZHZOX1BBCGR2Tl9QX1JBB2R2Tl9QSEEJZHZOX1BIX1JBB2R2Tl9CSEEJZHZOX0JIX1lBCWR2Tl9CSF9WQQZkdk5fTUEIZHZOX01fWUEGZHZOX1lBBmR2Tl9WQQZkdk5fU0EJZHZOX1NfVFRBCmR2Tl9TX01fWUEIZHZOX1NfWUEGZHZOX0hBB2R2UF9UVEEIZHZQX1RUSEEGZHZQX1RBCGR2UF9UX1lBBmR2UF9OQQZkdlBfUEEHZHZQX1BIQQZkdlBfTUEGZHZQX1lBBmR2UF9MQQZkdlBfVkEGZHZQX1NBB2R2UEhfSkEJZHZQSHhfSnhBCGR2UEhfVFRBB2R2UEhfVEEIZHZQSHhfVEEHZHZQSF9OQQdkdlBIX1BBCGR2UEhfUEhBCmR2UEh4X1BIeEEHZHZQSF9ZQQdkdlBIX0xBCGR2UEhfU0hBCGR2UEh4X1NBBmR2Ql9KQQdkdkJfSnhBCGR2Ql9KX1lBB2R2Ql9KSEEGZHZCX1RBBmR2Ql9EQQdkdkJfREhBCWR2Ql9ESF9WQQZkdkJfTkEGZHZCX0JBB2R2Ql9CSEEJZHZCX0JIX1JBBmR2Ql9ZQQZkdkJfTEEIZHZCX0xfWUEGZHZCX1ZBB2R2Ql9TSEEGZHZCX1NBB2R2QkhfTkEHZHZCSF9ZQQlkdkJIX1JfWUEHZHZCSF9MQQdkdkJIX1ZBBmR2TV9UQQZkdk1fREEGZHZNX05BBmR2TV9QQQhkdk1fUF9SQQZkdk1fQkEIZHZNX0JfWUEIZHZNX0JfUkEHZHZNX0JIQQlkdk1fQkhfWUEJZHZNX0JIX1JBCWR2TV9CSF9WQQZkdk1fTUEGZHZNX1lBBmR2TV9MQQZkdk1fVkEHZHZNX1NIQQZkdk1fU0EGZHZNX0hBBmR2WV9OQQZkdllfWUEMZHZFeWVsYXNoX1lBDGR2RXllbGFzaF9IQQZkdkxfS0EIZHZMX0tfWUEHZHZMX0tIQQZkdkxfR0EGZHZMX0pBB2R2TF9KeEEHZHZMX1RUQQhkdkxfVFRIQQdkdkxfRERBCGR2TF9EREhBBmR2TF9UQQdkdkxfVEhBCWR2TF9USF9ZQQZkdkxfREEIZHZMX0RfUkEGZHZMX1BBB2R2TF9QSEEGZHZMX0JBB2R2TF9CSEEGZHZMX01BBmR2TF9ZQQZkdkxfTEEIZHZMX0xfWUEGZHZMX1ZBCWR2TF9WX0REQQZkdkxfU0EGZHZMX0hBBmR2Vl9OQQZkdlZfWUEGZHZWX0xBBmR2Vl9WQQZkdlZfSEEHZHZTSF9LQQhkdlNIX0t4QQdkdlNIX0NBCGR2U0hfQ0hBCGR2U0hfVFRBB2R2U0hfVEEHZHZTSF9OQQdkdlNIX01BB2R2U0hfWUEHZHZTSF9MQQdkdlNIX1ZBCGR2U0hfU0hBB2R2U1NfS0EJZHZTU19LX1JBCGR2U1NfVFRBCmR2U1NfVFRfWUEKZHZTU19UVF9SQQpkdlNTX1RUX1ZBCWR2U1NfVFRIQQtkdlNTX1RUSF9ZQQtkdlNTX1RUSF9SQQhkdlNTX05OQQpkdlNTX05OX1lBB2R2U1NfUEEJZHZTU19QX1JBCGR2U1NfUEhBB2R2U1NfTUEJZHZTU19NX1lBB2R2U1NfWUEHZHZTU19WQQhkdlNTX1NTQQZkdlNfS0EIZHZTX0tfUkEIZHZTX0tfVkEHZHZTX0tIQQZkdlNfSkEHZHZTX1RUQQZkdlNfVEEIZHZTX1RfWUEIZHZTX1RfUkEIZHZTX1RfVkEHZHZTX1RIQQlkdlNfVEhfWUEGZHZTX0RBBmR2U19OQQZkdlNfUEEIZHZTX1BfUkEHZHZTX1BIQQZkdlNfQkEGZHZTX01BCGR2U19NX1lBBmR2U19ZQQZkdlNfTEEGZHZTX1ZBBmR2U19TQQdkdkhfTk5BBmR2SF9OQQZkdkhfTUEGZHZIX1lBBmR2SF9MQQZkdkhfVkEHZHZMTF9ZQQtkdm1JSS5hTG9uZw9kdlJlcGhfQW51c3ZhcmEOZHZBbnVzdmFyYS5hbUkKZHZSZXBoLmFtSRNkdlJlcGhfQW51c3ZhcmEuYW1JDWR2SUlfQW51c3ZhcmEOZHZtSUlfQW51c3ZhcmEKZHZtSUlfUmVwaBNkdm1JSV9SZXBoX0FudXN2YXJhFGR2bUlJX0FudXN2YXJhLmFMb25nEGR2bUlJX1JlcGguYUxvbmcZZHZtSUlfUmVwaF9BbnVzdmFyYS5hTG9uZw1kdm1FX0FudXN2YXJhCWR2bUVfUmVwaBJkdm1FX1JlcGhfQW51c3ZhcmEOZHZtQUlfQW51c3ZhcmEKZHZtQUlfUmVwaBNkdm1BSV9SZXBoX0FudXN2YXJhDWR2bU9fQW51c3ZhcmEJZHZtT19SZXBoEmR2bU9fUmVwaF9BbnVzdmFyYQ5kdm1BVV9BbnVzdmFyYQpkdm1BVV9SZXBoE2R2bUFVX1JlcGhfQW51c3ZhcmETZHZtRWNhbmRyYV9BbnVzdmFyYRNkdm1PY2FuZHJhX0FudXN2YXJhB2R2UkFfbVUIZHZSQV9tVVUHZHZIQV9tVQhkdkhBX21VVQhkdkRBX212UglkdlNIQV9tdlIIZHZIQV9tdlIIZHZtSS5hMDEIZHZtSS5hMDIIZHZtSS5hMDMIZHZtSS5hMDQIZHZtSS5hMDUIZHZtSS5hMDYIZHZtSS5hMDcIZHZtSS5hMDgIZHZtSS5hMDkIZHZtSS5hMTAIZHZtSS5hMTEIZHZtSS5hMTIIZHZtSS5hMTMIZHZtSS5hMTQIZHZtSS5hMTUIZHZtSS5hMTYIZHZtSS5hMTcIZHZtSS5hMTgIZHZtSS5hMTkIZHZtSS5hMjAIZHZtSS5hMjEIZHZtSS5hMjIIZHZtSS5hMjMIZHZtSS5hMjQHdW5pMDBBMAd1bmkwMEFEB3VuaTAwQjUHQW1hY3JvbgdhbWFjcm9uBkFicmV2ZQZhYnJldmUHQW9nb25lawdhb2dvbmVrCkNkb3RhY2NlbnQKY2RvdGFjY2VudAZEY2Fyb24GZGNhcm9uBkRjcm9hdAdFbWFjcm9uB2VtYWNyb24GRWJyZXZlBmVicmV2ZQpFZG90YWNjZW50CmVkb3RhY2NlbnQHRW9nb25lawdlb2dvbmVrBkVjYXJvbgZlY2Fyb24KR2RvdGFjY2VudApnZG90YWNjZW50B3VuaTAxMjIHdW5pMDEyMwZJdGlsZGUGaXRpbGRlB0ltYWNyb24HaW1hY3Jvbgd1bmkwMTJDB3VuaTAxMkQHSW9nb25lawdpb2dvbmVrB3VuaTAxMzYHdW5pMDEzNwZMYWN1dGUGbGFjdXRlB3VuaTAxM0IHdW5pMDEzQwZMY2Fyb24GbGNhcm9uBExkb3QEbGRvdAZOYWN1dGUGbmFjdXRlB3VuaTAxNDUHdW5pMDE0NgZOY2Fyb24GbmNhcm9uB09tYWNyb24Hb21hY3Jvbgd1bmkwMTRFB3VuaTAxNEYNT2h1bmdhcnVtbGF1dA1vaHVuZ2FydW1sYXV0BlJhY3V0ZQZyYWN1dGUHdW5pMDE1Ngd1bmkwMTU3BlJjYXJvbgZyY2Fyb24GU2FjdXRlBnNhY3V0ZQd1bmkwMTVFB3VuaTAxNUYHdW5pMDE2Mgd1bmkwMTYzBlRjYXJvbgZ0Y2Fyb24GVXRpbGRlBnV0aWxkZQdVbWFjcm9uB3VtYWNyb24GVWJyZXZlBnVicmV2ZQVVcmluZwV1cmluZw1VaHVuZ2FydW1sYXV0DXVodW5nYXJ1bWxhdXQHVW9nb25lawd1b2dvbmVrC1djaXJjdW1mbGV4C3djaXJjdW1mbGV4C1ljaXJjdW1mbGV4C3ljaXJjdW1mbGV4BlphY3V0ZQZ6YWN1dGUKWmRvdGFjY2VudAp6ZG90YWNjZW50B3VuaTAxOEYHdW5pMDFGQwd1bmkwMUZEB3VuaTAyMTgHdW5pMDIxOQd1bmkwMjFBB3VuaTAyMUIHdW5pMDI1OQd1bmkwMkJDB3VuaTAyQzkGV2dyYXZlBndncmF2ZQZXYWN1dGUGd2FjdXRlCVdkaWVyZXNpcwl3ZGllcmVzaXMHdW5pMUVCQwd1bmkxRUJEBllncmF2ZQZ5Z3JhdmUHdW5pMUVGOAd1bmkxRUY5BEV1cm8HdW5pMjBCQQd1bmkyMEJEB3VuaTIxMTMHdW5pMjEyNgllc3RpbWF0ZWQHdW5pMjIwNgd1bmkyMjE1B3VuaTIyMTkLZXhjbGFtLnNzMDEKY29tbWEuc3MwMQtwZXJpb2Quc3MwMQpjb2xvbi5zczAxDnNlbWljb2xvbi5zczAxDXF1ZXN0aW9uLnNzMDEPZXhjbGFtZG93bi5zczAxE3BlcmlvZGNlbnRlcmVkLnNzMDERcXVlc3Rpb25kb3duLnNzMDELZGl2aWRlLnNzMDEOcXVvdGVsZWZ0LnNzMDEPcXVvdGVyaWdodC5zczAxEXF1b3RlZGJsbGVmdC5zczAxEnF1b3RlZGJscmlnaHQuc3MwMQ1lbGxpcHNpcy5zczAxBmEuc3MwMgthYWN1dGUuc3MwMgthYnJldmUuc3MwMhBhY2lyY3VtZmxleC5zczAyDmFkaWVyZXNpcy5zczAyC2FncmF2ZS5zczAyDGFtYWNyb24uc3MwMgxhb2dvbmVrLnNzMDIKYXJpbmcuc3MwMgthdGlsZGUuc3MwMg5hbXBlcnNhbmQuc3MwMwh0d28uc3MwNAp0aHJlZS5zczA0CHNpeC5zczA0CW5pbmUuc3MwNAAAAAABAAAADAAAAAAAAAACAAgAGAAfAAMAIgAiAAMAeQB6AAMAfQB9AAMAkgCSAAMCXAJfAAMCZwJsAAMCcwJzAAMAAQAAAAoASAB+AANERkxUABRkZXYyACJkZXZhADAABAAAAAD//wACAAAAAwAEAAAAAP//AAIAAQAEAAQAAAAA//8AAgACAAUABmFidm0AJmFidm0AJmFidm0AJmJsd20ALmJsd20ALmJsd20ALgAAAAIAAAABAAAAAgACAAMABAAKBhAKjg4U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BAYD4gQGA+gEDAPoA5oD3APWBB4D+gO4BAYDuAQGBAYEBgQGBAYD3APoA+gEHgO4A9wD1gPoA9wD1gQMA/QDuAP6A/oD1gPWA7IEBgQGA7gDuAO4A9wD3AQGBAYDuAO4A7gEDAQABAYEBgPQBAAD4gOyBAwDpgQABAwDpgQMA/QD9AQMBAAEDAP0A/QEAAPuBAAEAAQMBAwD9AQGBAYD9APcA9wEBgPWA/oD3AQGA+4D0AQMBAAD3AP0A9wEDAQMA/QEBgPcBAwEDAQMA9wD3AOUA5QEDAOUA5QEDAOUA5QDlAQAA5QDlAQMA5QD7gPQA+4EAAQeA9wEDAP0A8oD1gPKA/oD9AQGBAYDmgQAA+4EAAQAA7IDygPKA7gDygP0A+ID7gQABAAD0AP0A6YD4gPoBAwD9AQABBgEGAQSA5QEEgPcA6ADoAPcA74DmgOgBAwDpgQMBAAD7gQAA9YEAAQMA9AD0AP0A7IEAAOmBAwD+gPiA+4D7gPuA/QDpgP0A+gEBgP6BAAEAAQABAAEBgP6A6YEBgP6BAwEAAQGA7ID+gPQA8QDvgPQA7gEAAPQA8oEAAPuBAADygQAA+gD6AQMBB4EHgPoA9wEBgQGBB4DuAPoA+gD9AP0A+IEBgPuA8oD7gO4A/QD7gP0BAwEAAP0A/oD0AP0A/QEBgQMBAwEBgQAA/QD7gQGBAAEAAP0A+ID9AQGA/oD3AOmBAYEDAQGBAAEBgQGA9AD9AP0A8QDrAQMA7IEHgO4A7gD9AQABAAD9AQGBB4D1gP0A/QEDAQMBAYDuAO4A9wEHgPWBAYD+gQeBAAD9APuA/QD0AQSBAAEAAO+BAwD7gP0BAYEBgQMBAYDvgPcA8oDygPEA+IDxAPEBBID4gQSA/QD4gPKA8oDygP0A+ID7gPQA9AEAAQAA9YEHgPcA+4D9APiBAAD6AQMA/oD7gQGBAAEAAQAA/QEBgP6BAwEBgQABAYEGAQMBAwEEgQYBBgEHgABAcgCxwABAm8CxAABAf8CxgABBlgCsQABAqcCwgABBekCtAABBXkCtQABAt4CwQABA00CwAABA4UCvgABA7wCvQABBsgCrwABBQsCuAABBiECswABBbICtAABA/QCvAABBGMCugABBpECsAABBCwCvAABBNMCuAABBJsCuQABAxYCwAABAjgCxQABBUICtwAEAAAAAQAI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AXn+yQABAfH+xwABAa3+ygABAiH+xwABA7sAHAABA8QAJAABA6f/7gABA+j//gABA6wAAAABBZEALAABA5cAAAABBEAALAABAkf/FwABAf//tAABA0f/5QABAhb/AwABAvL+1QABAg7/DwABBC0AAAABA+UAFwABA44AHAABA2r/7gABBBb/5QABA/7/DwABBCIAAAABBaYAHAABA2f/kwABAwkAHAABAwYAJAABA6gAAAABBCsALAABBHYAHAABBO4AAAABBZMALAABA77/5QABBFQALAABBNYALAABBCj/5QABBM0ALAABA2//kwABAkr/kwABBMIAAAABBCoAHAABBCYAJAABA+//7gABBEj//gABBK7/5QABBKUAAAABBVgALAABBlH/7gABA9D/kwABBE4ALAABAsf/kwABBEcAAAABBBMAFwABA7wAHAABBN0ALAABAt//+QABA60AAAABAxIAHAABAxL/xAABA5/+6QABAw4AJAABAw7/vAABA54AAAABBDUAAAABA6EAHAABBCX/5QABBEUAAAABBMgALAABAa//KAABAyH/ZwABAcX/KAABAaL/JwAAAAEAAAAKAJYCMgADREZMVAAUZGV2MgA8ZGV2YQBkAAQAAAAA//8ADwAAAAMABgAJAAwADwASABUAGAAbAB0AIAAjACYAKQAEAAAAAP//AA8AAQAEAAcACgANABAAEwAWABkAHAAeACEAJAAnACoABAAAAAD//wAPAAIABQAIAAsADgARABQAFwAaAB8AIgAlACgAKwAsAC1hYnZzARBhYnZzARBhYnZzARBha2huARpha2huARpha2huASJibHdmAShibHdmAShibHdmAS5ibHdzATRibHdzATRibHdzATRoYWxmATpoYWxmATpoYWxmAUJoYWxuAUhoYWxuAUhoYWxuAUhudWt0AU5udWt0AU5udWt0AU5wcmVzAVRwcmVzAVRwcmVzAVRwc3RzAVxwc3RzAVxwc3RzAVxya3JmAWJya3JmAWJycGhmAWhycGhmAWhycGhmAWhzczAxAW5zczAxAW5zczAxAW5zczAyAXhzczAyAXhzczAyAXhzczAzAYJzczAzAYJzczAzAYJzczA0AYxzczA0AYxzczA0AYx2YXR1AZYAAAADAA4ADwAQAAAAAgABAAIAAAABAAEAAAABAAUAAAAB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AAQA0wACAH0AAQAEANQAAgB9AAEABADVAAIAfQABAAQA1gACAH0AAQAEANcAAgB9AAEABADYAAIAfQABAAQA2QACAH0AAQAEANsAAgB9AAEABADcAAIAfQABAAQA3QACAH0AAQAEAN4AAgB9AAEABADfAAIAfQABAAQA4AACAH0AAgABAJUAugAAAAQAAAABAAgAAQOWAEwAngCoALIAvADGANAA2gDkAO4A+AECAQwBFgEgASoBNAE+AUgBUgFcAWYBcAF6AYQBjgGYAaIBrAG2AcABygHUAd4B6AHyAfwCBgIQAhoCJAIuAjgCQgJMAlYCYAJqAnQCfgKIApICnAKmArACugLEAs4C2ALiAuwC9gMAAwoDFAMeAygDMgM8A0YDUANaA2QDbgN4A4IDjAABAAQAlQACAJQAAQAEAJYAAgCUAAEABACXAAIAlAABAAQAmAACAJQAAQAEAJkAAgCUAAEABACaAAIAlAABAAQAmwACAJQAAQAEAJwAAgCUAAEABACdAAIAlAABAAQAngACAJQAAQAEAJ8AAgCUAAEABACgAAIAlAABAAQAoQACAJQAAQAEAKIAAgCUAAEABACjAAIAlAABAAQApAACAJQAAQAEAKUAAgCUAAEABACmAAIAlAABAAQApwACAJQAAQAEAKgAAgCUAAEABACpAAIAlAABAAQAqgACAJQAAQAEAKsAAgCUAAEABACsAAIAlAABAAQArQACAJQAAQAEAK4AAgCUAAEABACvAAIAlAABAAQAsAACAJQAAQAEALEAAgCUAAEABACyAAIAlAABAAQAswACAJQAAQAEALQAAgCUAAEABAC1AAIAlAABAAQAtgACAJQAAQAEALcAAgCUAAEABAC4AAIAlAABAAQAuQACAJQAAQAEALoAAgCUAAEABAC7AAIAlAABAAQAvAACAJQAAQAEAL0AAgCUAAEABAC+AAIAlAABAAQAvwACAJQAAQAEAMAAAgCUAAEABADBAAIAlAABAAQAwgACAJQAAQAEAMMAAgCUAAEABADEAAIAlAABAAQAxQACAJQAAQAEAMYAAgCUAAEABADHAAIAlAABAAQAyAACAJQAAQAEAMkAAgCUAAEABADKAAIAlAABAAQAywACAJQAAQAEAMwAAgCUAAEABADNAAIAlAABAAQAzgACAJQAAQAEAM8AAgCUAAEABADQAAIAlAABAAQA0QACAJQAAQAEANIAAgCUAAEABADTAAIAlAABAAQA1AACAJQAAQAEANUAAgCUAAEABADWAAIAlAABAAQA1wACAJQAAQAEANgAAgCUAAEABADZAAIAlAABAAQA2gACAJQAAQAEANsAAgCUAAEABADcAAIAlAABAAQA3QACAJQAAQAEAN4AAgCUAAEABADfAAIAlAABAAQA4AACAJQAAgAHACQAPQAAAD8ARQAaAEgASwAhAE4ATgAlAFAAaQAmAGsAcQBAAHQAeABHAAQAAAABAAgAAQ0YACsAXAFQAYoCJAI+AnICfAL6AxQDNgNYA3IDlAOuA/AE1gTwBVIFfgbQBzQHfggWCDgI2AjqCcwJ9gpYCvwLyAv6DAQMKAwyDGQMlgyoDMoM8Az6DQQNDgAcADoARABMAFQAXABkAGwAdAB8AIIAiACOAJQAmgCgAKYArACyALgAvgDEAMoA0ADWANwA4gDoAO4BBgAEAG8AZAA/AOoAAwBfAD0A7AADAF8AQAD7AAMAbAA9AQIAAwBvAC4BAwADAG8AMAEEAAMAbwAzAQUAAwBvAKkA4QACACQA4wACACUA5AACACkA5QACACsA5gACAC4A5wACADIA6AACADMA7QACADQA7gACADUA7wACADcA8AACADgA8gACADkA9gACADwA+AACAD0A+QACAD8A+gACAEAA/AACAEEBAQACAEMA6wACAKQA8QACAKkABwAQABYAHAAiACgALgA0AQcAAgAlAQgAAgAzAQoAAgA3AQsAAgA8AQ0AAgA9AQ8AAgBAAREAAgBBABIAJgAuADYAPgBGAEwAUgBYAF4AZABqAHAAdgB8AIIAiACOAJQBGgADAGIAPQEbAAMAYgBAAR0AAwBjAD0BIAADAGcAPQEUAAIAJgEVAAIAJwEWAAIAKwEXAAIAMgEYAAIANQEZAAIANgEcAAIANwEeAAIAOgEfAAIAOwEhAAIAPAEiAAIAPQEkAAIAPwElAAIAQAEmAAIAQwADAAgADgAUAScAAgA3ASgAAgA8ASkAAgA9AAYADgAWABwAIgAoAC4BLAADAFYAQAEqAAIAKQErAAIAKgEtAAIANwEuAAIAPAEvAAIAPQABAAQBMAACAD0ADwAgACgAMAA2ADwAQgBIAE4AVABaAGAAZgBsAHIAeAE2AAMAVwA9ATcAAwBXAEABMgACACQBMwACACsBOAACACwBOgACAC4BOwACADABPAACADMBPQACADUBPgACADcBPwACADoBQAACADwBQQACAD0BQwACAEABNQACAEcAAwAIAA4AFAFEAAIANwFFAAIAPAFGAAIAPQAEAAoAEAAWABwBRwACACkBSAACACoBSQACACsBSgACAEEABAAKABAAFgAcAUsAAgAuAUwAAgAvAU0AAgA9AU4AAgBAAAMACAAOABQBTwACAC8BUAACAD0BUQACAEAABAAKABAAFgAcAVIAAgAwAVMAAgAxAVQAAgA9AVUAAgBAAAMACAAOABQBVgACADEBVwACAD0BWAACAEAACAASABgAHgAkACoAMAA2ADwBWQACAC4BWgACAC8BWwACADABXAACADEBXQACADIBXgACADwBXwACAD0BYAACAEAAGgA2AD4ARgBOAFYAXgBmAG4AdgB+AIYAjACSAJgAngCkAKoAsAC2ALwAwgDIAM4A1ADaAOABYgADAFAAPQFkAAMAUABAAWkAAwBfAD0BagADAF8AQAFtAAMAYwA9AXAAAwBkAD8BcwADAGgAPQF5AAMAbwA3AXoAAwBvAD0BewADAG8AQAFhAAIAJAFmAAIAJQFoAAIAMwFrAAIANAFsAAIANwFuAAIAOAFxAAIAOQFyAAIAPAF0AAIAPQF2AAIAPwF3AAIAQAF4AAIAQwFlAAIARgFjAAIAlQFnAAIAlgFvAAIAqQADAAgADgAUAXwAAgA3AX0AAgA9AX4AAgBAAAwAGgAgACYALAAyADgAPgBEAEoAUABWAFwBfwACACYBgQACACcBggACADUBgwACADYBhAACADcBhQACADoBhwACADsBiAACADwBiQACAD0BigACAEABgAACAJcBhgACAKsABQAMABQAGgAgACYBjAADAGMAPQGLAAIANwGNAAIAPAGOAAIAPQGPAAIAQAAmAE4AWABgAGgAcAB4AIAAiACQAJgAoACoALAAuADAAMgAzgDUANoA4ADmAOwA8gD4AP4BBAEKARABFgEcASIBKAEuATQBOgFAAUYBTAGzAAQAbwBoAD0BkQADAFAAQwGXAAMAXwA9AZkAAwBfAEMBmwADAGAAPQGcAAMAYABAAZ8AAwBhAEABoQADAGIAPQGjAAMAYgBAAaUAAwBjAD0BqwADAGcAPQGsAAMAZwBA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";var InlineDefaultMessages;(function(A){A.StartExtractorTitle="StartExtractorTitle",A.ExtractingTitle="ExtractingTitle",A.ResultsMessageLow="ResultsMessageLow",A.ResultsMessageGood="ResultsMessageGood",A.ResultsMessageExcellent="ResultsMessageExcellent",A.KeepEyesVisible="KeepEyesVisible",A.EyesNotFound="EyesNotFound",A.NotStabilizedSunGlasses="NotStabilizedSunGlasses",A.LivenessStart="LivenessStart",A.LivenessComplete="LivenessComplete",A.LivenessCenter="LivenessCenter",A.LivenessUp="LivenessUp",A.LivenessRight="LivenessRight",A.LivenessDown="LivenessDown",A.LivenessLeft="LivenessLeft"})(InlineDefaultMessages||(InlineDefaultMessages={}));var TemplateFormat;(function(A){A.ByteArray="ByteArray",A.Base64="Base64"})(TemplateFormat||(TemplateFormat={}));var ImageFormat$1;(function(A){A.None="None",A.Gray_8bpp="Gray_8bpp",A.RGB_24bpp="RGB_24bpp",A.BGR_24bpp="BGR_24bpp",A.ARGB_32bpp="ARGB_32bpp",A.YUV_NV21="YUV_NV21",A.ABGR_32bpp="ABGR_32bpp",A.BGRA_32bpp="BGRA_32bpp",A.RGBA_32bpp="RGBA_32bpp"})(ImageFormat$1||(ImageFormat$1={}));var FinalDiagnostic;(function(A){A.InsufficientValidSamples="InsufficientValidSamples",A.TemplateCreationInProgress="TemplateCreationInProgress",A.TemplateCreated="TemplateCreated"})(FinalDiagnostic||(FinalDiagnostic={}));var LivenessDiagnostic;(function(A){A.NotRated="NotRated",A.PhotoDetected="PhotoDetected",A.LivenessDetected="LivenessDetected",A.Unsuccess="Unsuccess",A.UnsuccessLowPerformance="UnsuccessLowPerformance",A.UnsuccessGlasses="UnsuccessGlasses",A.UnsuccessLight="UnsuccessLight",A.UnsuccessNoMovement="UnsuccessNoMovement",A.UnsuccessWrongDirection="UnsuccessWrongDirection",A.UnsuccessTooFar="UnsuccessTooFar"})(LivenessDiagnostic||(LivenessDiagnostic={}));var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(A){return typeof A=="string"&&REGEX.test(A)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(A){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(byteToHex[A[c+0]]+byteToHex[A[c+1]]+byteToHex[A[c+2]]+byteToHex[A[c+3]]+"-"+byteToHex[A[c+4]]+byteToHex[A[c+5]]+"-"+byteToHex[A[c+6]]+byteToHex[A[c+7]]+"-"+byteToHex[A[c+8]]+byteToHex[A[c+9]]+"-"+byteToHex[A[c+10]]+byteToHex[A[c+11]]+byteToHex[A[c+12]]+byteToHex[A[c+13]]+byteToHex[A[c+14]]+byteToHex[A[c+15]]).toLowerCase();if(!validate(u))throw TypeError("Stringified UUID is invalid");return u}function v4(A,c,u){A=A||{};var p=A.random||(A.rng||rng)();return p[6]=p[6]&15|64,p[8]=p[8]&63|128,stringify(p)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(c){for(var u,p=1,I=arguments.length;p<I;p++){u=arguments[p];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(c[m]=u[m])}return c},__assign.apply(this,arguments)};function __rest(A,c){var u={};for(var p in A)Object.prototype.hasOwnProperty.call(A,p)&&c.indexOf(p)<0&&(u[p]=A[p]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,p=Object.getOwnPropertySymbols(A);I<p.length;I++)c.indexOf(p[I])<0&&Object.prototype.propertyIsEnumerable.call(A,p[I])&&(u[p[I]]=A[p[I]]);return u}function __values(A){var c=typeof Symbol=="function"&&Symbol.iterator,u=c&&A[c],p=0;if(u)return u.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&p>=A.length&&(A=void 0),{value:A&&A[p++],done:!A}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(A,c){var u=typeof Symbol=="function"&&A[Symbol.iterator];if(!u)return A;var p=u.call(A),I,m=[],R;try{for(;(c===void 0||c-- >0)&&!(I=p.next()).done;)m.push(I.value)}catch(S){R={error:S}}finally{try{I&&!I.done&&(u=p.return)&&u.call(p)}finally{if(R)throw R.error}}return m}function __spreadArray(A,c,u){if(arguments.length===2)for(var p=0,I=c.length,m;p<I;p++)(m||!(p in c))&&(m||(m=Array.prototype.slice.call(c,0,p)),m[p]=c[p]);return A.concat(m||Array.prototype.slice.call(c))}var ActionTypes;(function(A){A.Start="xstate.start",A.Stop="xstate.stop",A.Raise="xstate.raise",A.Send="xstate.send",A.Cancel="xstate.cancel",A.NullEvent="",A.Assign="xstate.assign",A.After="xstate.after",A.DoneState="done.state",A.DoneInvoke="done.invoke",A.Log="xstate.log",A.Init="xstate.init",A.Invoke="xstate.invoke",A.ErrorExecution="error.execution",A.ErrorCommunication="error.communication",A.ErrorPlatform="error.platform",A.ErrorCustom="xstate.error",A.Update="xstate.update",A.Pure="xstate.pure",A.Choose="xstate.choose"})(ActionTypes||(ActionTypes={}));var SpecialTargets;(function(A){A.Parent="#_parent",A.Internal="#_internal"})(SpecialTargets||(SpecialTargets={}));var start$1=ActionTypes.Start,stop$1=ActionTypes.Stop,raise$1=ActionTypes.Raise,send$1=ActionTypes.Send,cancel$1=ActionTypes.Cancel,nullEvent=ActionTypes.NullEvent,assign$2=ActionTypes.Assign,log=ActionTypes.Log,init=ActionTypes.Init,invoke=ActionTypes.Invoke,errorPlatform=ActionTypes.ErrorPlatform,error$1=ActionTypes.ErrorCustom,update=ActionTypes.Update,choose=ActionTypes.Choose,pure=ActionTypes.Pure,STATE_DELIMITER=".",EMPTY_ACTIVITY_MAP={},DEFAULT_GUARD_TYPE="xstate.guard",TARGETLESS_KEY="",_a;function matchesState(A,c,u){u===void 0&&(u=STATE_DELIMITER);var p=toStateValue(A,u),I=toStateValue(c,u);return isString(I)?isString(p)?I===p:!1:isString(p)?p in I:Object.keys(p).every(function(m){return m in I?matchesState(p[m],I[m]):!1})}function getEventType(A){try{return isString(A)||typeof A=="number"?"".concat(A):A.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function toStatePath(A,c){try{return isArray(A)?A:A.toString().split(c)}catch{throw new Error("'".concat(A,"' is not a valid state path."))}}function isStateLike(A){return typeof A=="object"&&"value"in A&&"context"in A&&"event"in A&&"_event"in A}function toStateValue(A,c){if(isStateLike(A))return A.value;if(isArray(A))return pathToStateValue(A);if(typeof A!="string")return A;var u=toStatePath(A,c);return pathToStateValue(u)}function pathToStateValue(A){if(A.length===1)return A[0];for(var c={},u=c,p=0;p<A.length-1;p++)p===A.length-2?u[A[p]]=A[p+1]:(u[A[p]]={},u=u[A[p]]);return c}function mapValues(A,c){for(var u={},p=Object.keys(A),I=0;I<p.length;I++){var m=p[I];u[m]=c(A[m],m,A,I)}return u}function mapFilterValues(A,c,u){var p,I,m={};try{for(var R=__values(Object.keys(A)),S=R.next();!S.done;S=R.next()){var N=S.value,B=A[N];u(B)&&(m[N]=c(B,N,A))}}catch(D){p={error:D}}finally{try{S&&!S.done&&(I=R.return)&&I.call(R)}finally{if(p)throw p.error}}return m}var path=function(A){return function(c){var u,p,I=c;try{for(var m=__values(A),R=m.next();!R.done;R=m.next()){var S=R.value;I=I[S]}}catch(N){u={error:N}}finally{try{R&&!R.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}return I}};function nestedPath(A,c){return function(u){var p,I,m=u;try{for(var R=__values(A),S=R.next();!S.done;S=R.next()){var N=S.value;m=m[c][N]}}catch(B){p={error:B}}finally{try{S&&!S.done&&(I=R.return)&&I.call(R)}finally{if(p)throw p.error}}return m}}function toStatePaths(A){if(!A)return[[]];if(isString(A))return[[A]];var c=flatten(Object.keys(A).map(function(u){var p=A[u];return typeof p!="string"&&(!p||!Object.keys(p).length)?[[u]]:toStatePaths(A[u]).map(function(I){return[u].concat(I)})}));return c}function flatten(A){var c;return(c=[]).concat.apply(c,__spreadArray([],__read(A),!1))}function toArrayStrict(A){return isArray(A)?A:[A]}function toArray(A){return A===void 0?[]:toArrayStrict(A)}function mapContext(A,c,u){var p,I;if(isFunction(A))return A(c,u.data);var m={};try{for(var R=__values(Object.keys(A)),S=R.next();!S.done;S=R.next()){var N=S.value,B=A[N];isFunction(B)?m[N]=B(c,u.data):m[N]=B}}catch(D){p={error:D}}finally{try{S&&!S.done&&(I=R.return)&&I.call(R)}finally{if(p)throw p.error}}return m}function isBuiltInEvent(A){return/^(done|error)\./.test(A)}function isPromiseLike(A){return!!(A instanceof Promise||A!==null&&(isFunction(A)||typeof A=="object")&&isFunction(A.then))}function isBehavior(A){return A!==null&&typeof A=="object"&&"transition"in A&&typeof A.transition=="function"}function partition(A,c){var u,p,I=__read([[],[]],2),m=I[0],R=I[1];try{for(var S=__values(A),N=S.next();!N.done;N=S.next()){var B=N.value;c(B)?m.push(B):R.push(B)}}catch(D){u={error:D}}finally{try{N&&!N.done&&(p=S.return)&&p.call(S)}finally{if(u)throw u.error}}return[m,R]}function updateHistoryStates(A,c){return mapValues(A.states,function(u,p){if(u){var I=(isString(c)?void 0:c[p])||(u?u.current:void 0);if(I)return{current:I,states:updateHistoryStates(u,I)}}})}function updateHistoryValue(A,c){return{current:c,states:updateHistoryStates(A,c)}}function updateContext(A,c,u,p){var I=A&&u.reduce(function(m,R){var S,N,B=R.assignment,D={state:p,action:R,_event:c},k={};if(isFunction(B))k=B(m,c.data,D);else try{for(var O=__values(Object.keys(B)),P=O.next();!P.done;P=O.next()){var x=P.value,H=B[x];k[x]=isFunction(H)?H(m,c.data,D):H}}catch(Ae){S={error:Ae}}finally{try{P&&!P.done&&(N=O.return)&&N.call(O)}finally{if(S)throw S.error}}return Object.assign({},m,k)},A);return I}function isArray(A){return Array.isArray(A)}function isFunction(A){return typeof A=="function"}function isString(A){return typeof A=="string"}function toGuard(A,c){if(A)return isString(A)?{type:DEFAULT_GUARD_TYPE,name:A,predicate:c?c[A]:void 0}:isFunction(A)?{type:DEFAULT_GUARD_TYPE,name:A.name,predicate:A}:A}function isObservable(A){try{return"subscribe"in A&&isFunction(A.subscribe)}catch{return!1}}var symbolObservable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();_a={},_a[symbolObservable]=function(){return this},_a[Symbol.observable]=function(){return this};function isMachine(A){return!!A&&"__xstatenode"in A}function isActor$1(A){return!!A&&typeof A.send=="function"}function toEventObject(A,c){return isString(A)||typeof A=="number"?__assign({type:A},c):A}function toSCXMLEvent(A,c){if(!isString(A)&&"$$type"in A&&A.$$type==="scxml")return A;var u=toEventObject(A);return __assign({name:u.type,data:u,$$type:"scxml",type:"external"},c)}function toTransitionConfigArray(A,c){var u=toArrayStrict(c).map(function(p){return typeof p>"u"||typeof p=="string"||isMachine(p)?{target:p,event:A}:__assign(__assign({},p),{event:A})});return u}function normalizeTarget(A){if(!(A===void 0||A===TARGETLESS_KEY))return toArray(A)}function evaluateGuard(A,c,u,p,I){var m=A.options.guards,R={state:I,cond:c,_event:p};if(c.type===DEFAULT_GUARD_TYPE)return((m==null?void 0:m[c.name])||c.predicate)(u,p.data,R);var S=m==null?void 0:m[c.type];if(!S)throw new Error("Guard '".concat(c.type,"' is not implemented on machine '").concat(A.id,"'."));return S(u,p.data,R)}function toInvokeSource$1(A){return typeof A=="string"?{type:A}:A}function toObserver(A,c,u){var p=function(){},I=typeof A=="object",m=I?A:null;return{next:((I?A.next:A)||p).bind(m),error:((I?A.error:c)||p).bind(m),complete:((I?A.complete:u)||p).bind(m)}}function createInvokeId(A,c){return"".concat(A,":invocation[").concat(c,"]")}function isRaisableAction(A){return(A.type===raise$1||A.type===send$1&&A.to===SpecialTargets.Internal)&&typeof A.delay!="number"}var initEvent=toSCXMLEvent({type:init});function getActionFunction(A,c){return c&&c[A]||void 0}function toActionObject(A,c){var u;if(isString(A)||typeof A=="number"){var p=getActionFunction(A,c);isFunction(p)?u={type:A,exec:p}:p?u=p:u={type:A,exec:void 0}}else if(isFunction(A))u={type:A.name||A.toString(),exec:A};else{var p=getActionFunction(A.type,c);if(isFunction(p))u=__assign(__assign({},A),{exec:p});else if(p){var I=p.type||A.type;u=__assign(__assign(__assign({},p),A),{type:I})}else u=A}return u}var toActionObjects=function(A,c){if(!A)return[];var u=isArray(A)?A:[A];return u.map(function(p){return toActionObject(p,c)})};function toActivityDefinition(A){var c=toActionObject(A);return __assign(__assign({id:isString(A)?A:c.id},c),{type:c.type})}function raise(A,c){return{type:raise$1,event:typeof A=="function"?A:toEventObject(A),delay:c?c.delay:void 0,id:c==null?void 0:c.id}}function resolveRaise(A,c,u,p){var I={_event:u},m=toSCXMLEvent(isFunction(A.event)?A.event(c,u.data,I):A.event),R;if(isString(A.delay)){var S=p&&p[A.delay];R=isFunction(S)?S(c,u.data,I):S}else R=isFunction(A.delay)?A.delay(c,u.data,I):A.delay;return __assign(__assign({},A),{type:raise$1,_event:m,delay:R})}function send(A,c){return{to:c?c.to:void 0,type:send$1,event:isFunction(A)?A:toEventObject(A),delay:c?c.delay:void 0,id:c&&c.id!==void 0?c.id:isFunction(A)?A.name:getEventType(A)}}function resolveSend(A,c,u,p){var I={_event:u},m=toSCXMLEvent(isFunction(A.event)?A.event(c,u.data,I):A.event),R;if(isString(A.delay)){var S=p&&p[A.delay];R=isFunction(S)?S(c,u.data,I):S}else R=isFunction(A.delay)?A.delay(c,u.data,I):A.delay;var N=isFunction(A.to)?A.to(c,u.data,I):A.to;return __assign(__assign({},A),{to:N,_event:m,event:m.data,delay:R})}var resolveLog=function(A,c,u){return __assign(__assign({},A),{value:isString(A.expr)?A.expr:A.expr(c,u.data,{_event:u})})},cancel=function(A){return{type:cancel$1,sendId:A}};function start(A){var c=toActivityDefinition(A);return{type:ActionTypes.Start,activity:c,exec:void 0}}function stop(A){var c=isFunction(A)?A:toActivityDefinition(A);return{type:ActionTypes.Stop,activity:c,exec:void 0}}function resolveStop(A,c,u){var p=isFunction(A.activity)?A.activity(c,u.data):A.activity,I=typeof p=="string"?{id:p}:p,m={type:ActionTypes.Stop,activity:I};return m}var assign$1=function(A){return{type:assign$2,assignment:A}};function after(A,c){var u=c?"#".concat(c):"";return"".concat(ActionTypes.After,"(").concat(A,")").concat(u)}function done(A,c){var u="".concat(ActionTypes.DoneState,".").concat(A),p={type:u,data:c};return p.toString=function(){return u},p}function doneInvoke(A,c){var u="".concat(ActionTypes.DoneInvoke,".").concat(A),p={type:u,data:c};return p.toString=function(){return u},p}function error(A,c){var u="".concat(ActionTypes.ErrorPlatform,".").concat(A),p={type:u,data:c};return p.toString=function(){return u},p}var pluckAssigns=function(A){var c,u,p=[];try{for(var I=__values(A),m=I.next();!m.done;m=I.next())for(var R=m.value,S=0;S<R.actions.length;){if(R.actions[S].type===assign$2){p.push(R.actions[S]),R.actions.splice(S,1);continue}S++}}catch(N){c={error:N}}finally{try{m&&!m.done&&(u=I.return)&&u.call(I)}finally{if(c)throw c.error}}return p};function resolveActions(A,c,u,p,I,m,R){R===void 0&&(R=!1);var S=R?[]:pluckAssigns(I),N=S.length?updateContext(u,p,S,c):u,B=R?[u]:void 0,D=[];function k(x,H){var Ae;switch(H.type){case raise$1:{var q=resolveRaise(H,N,p,A.options.delays);return m&&typeof q.delay=="number"&&m(q,N,p),q}case send$1:var Z=resolveSend(H,N,p,A.options.delays);return m&&Z.to!==SpecialTargets.Internal&&(x==="entry"?D.push(Z):m(Z,N,p)),Z;case log:{var te=resolveLog(H,N,p);return m==null||m(te,N,p),te}case choose:{var re=H,Be=(Ae=re.conds.find(function(ii){var He=toGuard(ii.cond,A.options.guards);return!He||evaluateGuard(A,He,N,p,m?void 0:c)}))===null||Ae===void 0?void 0:Ae.actions;if(!Be)return[];var de=__read(resolveActions(A,c,N,p,[{type:x,actions:toActionObjects(toArray(Be),A.options.actions)}],m,R),2),pe=de[0],Ce=de[1];return N=Ce,B==null||B.push(N),pe}case pure:{var Be=H.get(N,p.data);if(!Be)return[];var he=__read(resolveActions(A,c,N,p,[{type:x,actions:toActionObjects(toArray(Be),A.options.actions)}],m,R),2),Fe=he[0],fe=he[1];return N=fe,B==null||B.push(N),Fe}case stop$1:{var te=resolveStop(H,N,p);return m==null||m(te,u,p),te}case assign$2:{N=updateContext(N,p,[H],m?void 0:c),B==null||B.push(N);break}default:var Re=toActionObject(H,A.options.actions),De=Re.exec;if(m)m(Re,N,p);else if(De&&B){var Qe=B.length-1,Ci=__assign(__assign({},Re),{exec:function(ii){for(var He=[],yt=1;yt<arguments.length;yt++)He[yt-1]=arguments[yt];De.apply(void 0,__spreadArray([B[Qe]],__read(He),!1))}});Re=Ci}return Re}}function O(x){var H,Ae,q=[];try{for(var Z=__values(x.actions),te=Z.next();!te.done;te=Z.next()){var re=te.value,Be=k(x.type,re);Be&&(q=q.concat(Be))}}catch(de){H={error:de}}finally{try{te&&!te.done&&(Ae=Z.return)&&Ae.call(Z)}finally{if(H)throw H.error}}return D.forEach(function(de){m(de,N,p)}),D.length=0,q}var P=flatten(I.map(O));return[P,N]}var provide=function(A,c){var u=c(A);return u};function createNullActor(A){var c;return c={id:A,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:A}}},c[symbolObservable]=function(){return this},c}function createInvocableActor(A,c,u,p){var I,m=toInvokeSource$1(A.src),R=(I=c==null?void 0:c.options.services)===null||I===void 0?void 0:I[m.type],S=A.data?mapContext(A.data,u,p):void 0,N=R?createDeferredActor(R,A.id,S):createNullActor(A.id);return N.meta=A,N}function createDeferredActor(A,c,u){var p=createNullActor(c);if(p.deferred=!0,isMachine(A)){var I=p.state=provide(void 0,function(){return(u?A.withContext(u):A).initialState});p.getSnapshot=function(){return I}}return p}function isActor(A){try{return typeof A.send=="function"}catch{return!1}}function isSpawnedActor(A){return isActor(A)&&"id"in A}function toActorRef(A){var c;return __assign((c={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},c[symbolObservable]=function(){return this},c),A)}var isLeafNode=function(A){return A.type==="atomic"||A.type==="final"};function getAllChildren(A){return Object.keys(A.states).map(function(c){return A.states[c]})}function getChildren(A){return getAllChildren(A).filter(function(c){return c.type!=="history"})}function getAllStateNodes(A){var c=[A];return isLeafNode(A)?c:c.concat(flatten(getChildren(A).map(getAllStateNodes)))}function getConfiguration(A,c){var u,p,I,m,R,S,N,B,D=new Set(A),k=getAdjList(D),O=new Set(c);try{for(var P=__values(O),x=P.next();!x.done;x=P.next())for(var H=x.value,Ae=H.parent;Ae&&!O.has(Ae);)O.add(Ae),Ae=Ae.parent}catch(he){u={error:he}}finally{try{x&&!x.done&&(p=P.return)&&p.call(P)}finally{if(u)throw u.error}}var q=getAdjList(O);try{for(var Z=__values(O),te=Z.next();!te.done;te=Z.next()){var H=te.value;if(H.type==="compound"&&(!q.get(H)||!q.get(H).length))k.get(H)?k.get(H).forEach(function(Fe){return O.add(Fe)}):H.initialStateNodes.forEach(function(Fe){return O.add(Fe)});else if(H.type==="parallel")try{for(var re=(R=void 0,__values(getChildren(H))),Be=re.next();!Be.done;Be=re.next()){var de=Be.value;O.has(de)||(O.add(de),k.get(de)?k.get(de).forEach(function(Fe){return O.add(Fe)}):de.initialStateNodes.forEach(function(Fe){return O.add(Fe)}))}}catch(Fe){R={error:Fe}}finally{try{Be&&!Be.done&&(S=re.return)&&S.call(re)}finally{if(R)throw R.error}}}}catch(he){I={error:he}}finally{try{te&&!te.done&&(m=Z.return)&&m.call(Z)}finally{if(I)throw I.error}}try{for(var pe=__values(O),Ce=pe.next();!Ce.done;Ce=pe.next())for(var H=Ce.value,Ae=H.parent;Ae&&!O.has(Ae);)O.add(Ae),Ae=Ae.parent}catch(he){N={error:he}}finally{try{Ce&&!Ce.done&&(B=pe.return)&&B.call(pe)}finally{if(N)throw N.error}}return O}function getValueFromAdj(A,c){var u=c.get(A);if(!u)return{};if(A.type==="compound"){var p=u[0];if(p){if(isLeafNode(p))return p.key}else return{}}var I={};return u.forEach(function(m){I[m.key]=getValueFromAdj(m,c)}),I}function getAdjList(A){var c,u,p=new Map;try{for(var I=__values(A),m=I.next();!m.done;m=I.next()){var R=m.value;p.has(R)||p.set(R,[]),R.parent&&(p.has(R.parent)||p.set(R.parent,[]),p.get(R.parent).push(R))}}catch(S){c={error:S}}finally{try{m&&!m.done&&(u=I.return)&&u.call(I)}finally{if(c)throw c.error}}return p}function getValue(A,c){var u=getConfiguration([A],c);return getValueFromAdj(A,getAdjList(u))}function has(A,c){return Array.isArray(A)?A.some(function(u){return u===c}):A instanceof Set?A.has(c):!1}function nextEvents(A){return __spreadArray([],__read(new Set(flatten(__spreadArray([],__read(A.map(function(c){return c.ownEvents})),!1)))),!1)}function isInFinalState(A,c){return c.type==="compound"?getChildren(c).some(function(u){return u.type==="final"&&has(A,u)}):c.type==="parallel"?getChildren(c).every(function(u){return isInFinalState(A,u)}):!1}function getMeta(A){return A===void 0&&(A=[]),A.reduce(function(c,u){return u.meta!==void 0&&(c[u.id]=u.meta),c},{})}function getTagsFromConfiguration(A){return new Set(flatten(A.map(function(c){return c.tags})))}function stateValuesEqual(A,c){if(A===c)return!0;if(A===void 0||c===void 0)return!1;if(isString(A)||isString(c))return A===c;var u=Object.keys(A),p=Object.keys(c);return u.length===p.length&&u.every(function(I){return stateValuesEqual(A[I],c[I])})}function isStateConfig(A){return typeof A!="object"||A===null?!1:"value"in A&&"_event"in A}function bindActionToState(A,c){var u=A.exec,p=__assign(__assign({},A),{exec:u!==void 0?function(){return u(c.context,c.event,{action:A,state:c,_event:c._event})}:void 0});return p}var State=function(){function A(c){var u=this,p;this.actions=[],this.activities=EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=c.value,this.context=c.context,this._event=c._event,this._sessionid=c._sessionid,this.event=this._event.data,this.historyValue=c.historyValue,this.history=c.history,this.actions=c.actions||[],this.activities=c.activities||EMPTY_ACTIVITY_MAP,this.meta=getMeta(c.configuration),this.events=c.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=c.configuration,this.transitions=c.transitions,this.children=c.children,this.done=!!c.done,this.tags=(p=Array.isArray(c.tags)?new Set(c.tags):c.tags)!==null&&p!==void 0?p:new Set,this.machine=c.machine,Object.defineProperty(this,"nextEvents",{get:function(){return nextEvents(u.configuration)}})}return A.from=function(c,u){if(c instanceof A)return c.context!==u?new A({value:c.value,context:u,_event:c._event,_sessionid:null,historyValue:c.historyValue,history:c.history,actions:[],activities:c.activities,events:[],configuration:[],transitions:[],children:{}}):c;var p=initEvent;return new A({value:c,context:u,_event:p,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,events:[],configuration:[],transitions:[],children:{}})},A.create=function(c){return new A(c)},A.inert=function(c,u){if(c instanceof A){if(!c.actions.length)return c;var p=initEvent;return new A({value:c.value,context:u,_event:p,_sessionid:null,historyValue:c.historyValue,history:c.history,activities:c.activities,configuration:c.configuration,transitions:[],children:{}})}return A.from(c,u)},A.prototype.toStrings=function(c,u){var p=this;if(c===void 0&&(c=this.value),u===void 0&&(u="."),isString(c))return[c];var I=Object.keys(c);return I.concat.apply(I,__spreadArray([],__read(I.map(function(m){return p.toStrings(c[m],u).map(function(R){return m+u+R})})),!1))},A.prototype.toJSON=function(){var c=this,u=c.tags,p=__rest(c,["configuration","transitions","tags","machine"]);return __assign(__assign({},p),{tags:Array.from(u)})},A.prototype.matches=function(c){return matchesState(c,this.value)},A.prototype.hasTag=function(c){return this.tags.has(c)},A.prototype.can=function(c){var u,p=(u=this.machine)===null||u===void 0?void 0:u.getTransitionData(this,c);return!!(p!=null&&p.transitions.length)&&p.transitions.some(function(I){return I.target!==void 0||I.actions.length})},A}(),defaultOptions={deferEvents:!1},Scheduler=function(){function A(c){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=__assign(__assign({},defaultOptions),c)}return A.prototype.initialize=function(c){if(this.initialized=!0,c){if(!this.options.deferEvents){this.schedule(c);return}this.process(c)}this.flushEvents()},A.prototype.schedule=function(c){if(!this.initialized||this.processingEvent){this.queue.push(c);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(c),this.flushEvents()},A.prototype.clear=function(){this.queue=[]},A.prototype.flushEvents=function(){for(var c=this.queue.shift();c;)this.process(c),c=this.queue.shift()},A.prototype.process=function(c){this.processingEvent=!0;try{c()}catch(u){throw this.clear(),u}finally{this.processingEvent=!1}},A}(),children=new Map,sessionIdIndex=0,registry={bookId:function(){return"x:".concat(sessionIdIndex++)},register:function(A,c){return children.set(A,c),A},get:function(A){return children.get(A)},free:function(A){children.delete(A)}};function getGlobal(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function getDevTools(){var A=getGlobal();if(A&&"__xstate__"in A)return A.__xstate__}function registerService(A){if(getGlobal()){var c=getDevTools();c&&c.register(A)}}function spawnBehavior(A,c){c===void 0&&(c={});var u=A.initialState,p=new Set,I=[],m=!1,R=function(){if(!m){for(m=!0;I.length>0;){var B=I.shift();u=A.transition(u,B,N),p.forEach(function(D){return D.next(u)})}m=!1}},S=toActorRef({id:c.id,send:function(B){I.push(B),R()},getSnapshot:function(){return u},subscribe:function(B,D,k){var O=toObserver(B,D,k);return p.add(O),O.next(u),{unsubscribe:function(){p.delete(O)}}}}),N={parent:c.parent,self:S,id:c.id||"anonymous",observers:p};return u=A.start?A.start(N):u,S}var DEFAULT_SPAWN_OPTIONS={sync:!1,autoForward:!1},InterpreterStatus;(function(A){A[A.NotStarted=0]="NotStarted",A[A.Running=1]="Running",A[A.Stopped=2]="Stopped"})(InterpreterStatus||(InterpreterStatus={}));var Interpreter=function(){function A(c,u){u===void 0&&(u=A.defaultOptions);var p=this;this.machine=c,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=InterpreterStatus.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(D,k){if(isArray(D))return p.batch(D),p.state;var O=toSCXMLEvent(toEventObject(D,k));if(p.status===InterpreterStatus.Stopped)return p.state;if(p.status!==InterpreterStatus.Running&&!p.options.deferEvents)throw new Error('Event "'.concat(O.name,'" was sent to uninitialized service "').concat(p.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(O.data)));return p.scheduler.schedule(function(){p.forward(O);var P=p._nextState(O);p.update(P,O)}),p._state},this.sendTo=function(D,k,O){var P=p.parent&&(k===SpecialTargets.Parent||p.parent.id===k),x=P?p.parent:isString(k)?k===SpecialTargets.Internal?p:p.children.get(k)||registry.get(k):isActor$1(k)?k:void 0;if(!x){if(!P)throw new Error("Unable to send event to child '".concat(k,"' from service '").concat(p.id,"'."));return}if("machine"in x){if(p.status!==InterpreterStatus.Stopped||p.parent!==x||p.state.done){var H=__assign(__assign({},D),{name:D.name===error$1?"".concat(error(p.id)):D.name,origin:p.sessionId});!O&&p.machine.config.predictableActionArguments?p._outgoingQueue.push([x,H]):x.send(H)}}else!O&&p.machine.config.predictableActionArguments?p._outgoingQueue.push([x,D.data]):x.send(D.data)},this._exec=function(D,k,O,P){P===void 0&&(P=p.machine.options.actions);var x=D.exec||getActionFunction(D.type,P),H=isFunction(x)?x:x?x.exec:D.exec;if(H)try{return H(k,O.data,p.machine.config.predictableActionArguments?{action:D,_event:O}:{action:D,state:p.state,_event:O})}catch(Qe){throw p.parent&&p.parent.send({type:"xstate.error",data:Qe}),Qe}switch(D.type){case raise$1:{var Ae=D;p.defer(Ae);break}case send$1:var q=D;if(typeof q.delay=="number"){p.defer(q);return}else q.to?p.sendTo(q._event,q.to,O===initEvent):p.send(q._event);break;case cancel$1:p.cancel(D.sendId);break;case start$1:{if(p.status!==InterpreterStatus.Running)return;var Z=D.activity;if(!p.machine.config.predictableActionArguments&&!p.state.activities[Z.id||Z.type])break;if(Z.type===ActionTypes.Invoke){var te=toInvokeSource$1(Z.src),re=p.machine.options.services?p.machine.options.services[te.type]:void 0,Be=Z.id,de=Z.data,pe="autoForward"in Z?Z.autoForward:!!Z.forward;if(!re)return;var Ce=de?mapContext(de,k,O):void 0;if(typeof re=="string")return;var he=isFunction(re)?re(k,O.data,{data:Ce,src:te,meta:Z.meta}):re;if(!he)return;var Fe=void 0;isMachine(he)&&(he=Ce?he.withContext(Ce):he,Fe={autoForward:pe}),p.spawn(he,Be,Fe)}else p.spawnActivity(Z);break}case stop$1:{p.stopChild(D.activity.id);break}case log:var fe=D,Re=fe.label,De=fe.value;Re?p.logger(Re,De):p.logger(De);break}};var I=__assign(__assign({},A.defaultOptions),u),m=I.clock,R=I.logger,S=I.parent,N=I.id,B=N!==void 0?N:c.id;this.id=B,this.logger=R,this.clock=m,this.parent=S,this.options=I,this.scheduler=new Scheduler({deferEvents:this.options.deferEvents}),this.sessionId=registry.bookId()}return Object.defineProperty(A.prototype,"initialState",{get:function(){var c=this;return this._initialState?this._initialState:provide(this,function(){return c._initialState=c.machine.initialState,c._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),A.prototype.execute=function(c,u){var p,I;try{for(var m=__values(c.actions),R=m.next();!R.done;R=m.next()){var S=R.value;this.exec(S,c,u)}}catch(N){p={error:N}}finally{try{R&&!R.done&&(I=m.return)&&I.call(m)}finally{if(p)throw p.error}}},A.prototype.update=function(c,u){var p,I,m,R,S,N,B,D,k=this;if(c._sessionid=this.sessionId,this._state=c,(!this.machine.config.predictableActionArguments||u===initEvent)&&this.options.execute)this.execute(this.state);else for(var O=void 0;O=this._outgoingQueue.shift();)O[0].send(O[1]);if(this.children.forEach(function(he){k.state.children[he.id]=he}),this.devTools&&this.devTools.send(u.data,c),c.event)try{for(var P=__values(this.eventListeners),x=P.next();!x.done;x=P.next()){var H=x.value;H(c.event)}}catch(he){p={error:he}}finally{try{x&&!x.done&&(I=P.return)&&I.call(P)}finally{if(p)throw p.error}}try{for(var Ae=__values(this.listeners),q=Ae.next();!q.done;q=Ae.next()){var H=q.value;H(c,c.event)}}catch(he){m={error:he}}finally{try{q&&!q.done&&(R=Ae.return)&&R.call(Ae)}finally{if(m)throw m.error}}try{for(var Z=__values(this.contextListeners),te=Z.next();!te.done;te=Z.next()){var re=te.value;re(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(he){S={error:he}}finally{try{te&&!te.done&&(N=Z.return)&&N.call(Z)}finally{if(S)throw S.error}}if(this.state.done){var Be=c.configuration.find(function(he){return he.type==="final"&&he.parent===k.machine}),de=Be&&Be.doneData?mapContext(Be.doneData,c.context,u):void 0;this._doneEvent=doneInvoke(this.id,de);try{for(var pe=__values(this.doneListeners),Ce=pe.next();!Ce.done;Ce=pe.next()){var H=Ce.value;H(this._doneEvent)}}catch(he){B={error:he}}finally{try{Ce&&!Ce.done&&(D=pe.return)&&D.call(pe)}finally{if(B)throw B.error}}this._stop(),this._stopChildren(),registry.free(this.sessionId)}},A.prototype.onTransition=function(c){return this.listeners.add(c),this.status===InterpreterStatus.Running&&c(this.state,this.state.event),this},A.prototype.subscribe=function(c,u,p){var I=this,m=toObserver(c,u,p);this.listeners.add(m.next),this.status!==InterpreterStatus.NotStarted&&m.next(this.state);var R=function(){I.doneListeners.delete(R),I.stopListeners.delete(R),m.complete()};return this.status===InterpreterStatus.Stopped?m.complete():(this.onDone(R),this.onStop(R)),{unsubscribe:function(){I.listeners.delete(m.next),I.doneListeners.delete(R),I.stopListeners.delete(R)}}},A.prototype.onEvent=function(c){return this.eventListeners.add(c),this},A.prototype.onSend=function(c){return this.sendListeners.add(c),this},A.prototype.onChange=function(c){return this.contextListeners.add(c),this},A.prototype.onStop=function(c){return this.stopListeners.add(c),this},A.prototype.onDone=function(c){return this.status===InterpreterStatus.Stopped&&this._doneEvent?c(this._doneEvent):this.doneListeners.add(c),this},A.prototype.off=function(c){return this.listeners.delete(c),this.eventListeners.delete(c),this.sendListeners.delete(c),this.stopListeners.delete(c),this.doneListeners.delete(c),this.contextListeners.delete(c),this},A.prototype.start=function(c){var u=this;if(this.status===InterpreterStatus.Running)return this;this.machine._init(),registry.register(this.sessionId,this),this.initialized=!0,this.status=InterpreterStatus.Running;var p=c===void 0?this.initialState:provide(this,function(){return isStateConfig(c)?u.machine.resolveState(c):u.machine.resolveState(State.from(c,u.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){u.update(p,initEvent)}),this},A.prototype._stopChildren=function(){this.children.forEach(function(c){isFunction(c.stop)&&c.stop()}),this.children.clear()},A.prototype._stop=function(){var c,u,p,I,m,R,S,N,B,D;try{for(var k=__values(this.listeners),O=k.next();!O.done;O=k.next()){var P=O.value;this.listeners.delete(P)}}catch(pe){c={error:pe}}finally{try{O&&!O.done&&(u=k.return)&&u.call(k)}finally{if(c)throw c.error}}try{for(var x=__values(this.stopListeners),H=x.next();!H.done;H=x.next()){var P=H.value;P(),this.stopListeners.delete(P)}}catch(pe){p={error:pe}}finally{try{H&&!H.done&&(I=x.return)&&I.call(x)}finally{if(p)throw p.error}}try{for(var Ae=__values(this.contextListeners),q=Ae.next();!q.done;q=Ae.next()){var P=q.value;this.contextListeners.delete(P)}}catch(pe){m={error:pe}}finally{try{q&&!q.done&&(R=Ae.return)&&R.call(Ae)}finally{if(m)throw m.error}}try{for(var Z=__values(this.doneListeners),te=Z.next();!te.done;te=Z.next()){var P=te.value;this.doneListeners.delete(P)}}catch(pe){S={error:pe}}finally{try{te&&!te.done&&(N=Z.return)&&N.call(Z)}finally{if(S)throw S.error}}if(!this.initialized)return this;this.initialized=!1,this.status=InterpreterStatus.Stopped,this._initialState=void 0;try{for(var re=__values(Object.keys(this.delayedEventsMap)),Be=re.next();!Be.done;Be=re.next()){var de=Be.value;this.clock.clearTimeout(this.delayedEventsMap[de])}}catch(pe){B={error:pe}}finally{try{Be&&!Be.done&&(D=re.return)&&D.call(re)}finally{if(B)throw B.error}}this.scheduler.clear(),this.scheduler=new Scheduler({deferEvents:this.options.deferEvents})},A.prototype.stop=function(){var c=this,u=this.scheduler;return this._stop(),u.schedule(function(){var p;if(!(!((p=c._state)===null||p===void 0)&&p.done)){var I=toSCXMLEvent({type:"xstate.stop"}),m=provide(c,function(){var R=flatten(__spreadArray([],__read(c.state.configuration),!1).sort(function(k,O){return O.order-k.order}).map(function(k){return toActionObjects(k.onExit,c.machine.options.actions)})),S=__read(resolveActions(c.machine,c.state,c.state.context,I,[{type:"exit",actions:R}],c.machine.config.predictableActionArguments?c._exec:void 0,c.machine.config.predictableActionArguments||c.machine.config.preserveActionOrder),2),N=S[0],B=S[1],D=new State({value:c.state.value,context:B,_event:I,_sessionid:c.sessionId,historyValue:void 0,history:c.state,actions:N.filter(function(k){return!isRaisableAction(k)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:c.state.done,tags:c.state.tags,machine:c.machine});return D.changed=!0,D});c.update(m,I),c._stopChildren(),registry.free(c.sessionId)}}),this},A.prototype.batch=function(c){var u=this;if(!(this.status===InterpreterStatus.NotStarted&&this.options.deferEvents)){if(this.status!==InterpreterStatus.Running)throw new Error("".concat(c.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(c.length){var p=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var I,m,R=u.state,S=!1,N=[],B=function(P){var x=toSCXMLEvent(P);u.forward(x),R=provide(u,function(){return u.machine.transition(R,x,void 0,p||void 0)}),N.push.apply(N,__spreadArray([],__read(u.machine.config.predictableActionArguments?R.actions:R.actions.map(function(H){return bindActionToState(H,R)})),!1)),S=S||!!R.changed};try{for(var D=__values(c),k=D.next();!k.done;k=D.next()){var O=k.value;B(O)}}catch(P){I={error:P}}finally{try{k&&!k.done&&(m=D.return)&&m.call(D)}finally{if(I)throw I.error}}R.changed=S,R.actions=N,u.update(R,toSCXMLEvent(c[c.length-1]))})}},A.prototype.sender=function(c){return this.send.bind(this,c)},A.prototype._nextState=function(c,u){var p=this;u===void 0&&(u=!!this.machine.config.predictableActionArguments&&this._exec);var I=toSCXMLEvent(c);if(I.name.indexOf(errorPlatform)===0&&!this.state.nextEvents.some(function(R){return R.indexOf(errorPlatform)===0}))throw I.data.data;var m=provide(this,function(){return p.machine.transition(p.state,I,void 0,u||void 0)});return m},A.prototype.nextState=function(c){return this._nextState(c,!1)},A.prototype.forward=function(c){var u,p;try{for(var I=__values(this.forwardTo),m=I.next();!m.done;m=I.next()){var R=m.value,S=this.children.get(R);if(!S)throw new Error("Unable to forward event '".concat(c,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(R,"'."));S.send(c)}}catch(N){u={error:N}}finally{try{m&&!m.done&&(p=I.return)&&p.call(I)}finally{if(u)throw u.error}}},A.prototype.defer=function(c){var u=this,p=this.clock.setTimeout(function(){"to"in c&&c.to?u.sendTo(c._event,c.to,!0):u.send(c._event)},c.delay);c.id&&(this.delayedEventsMap[c.id]=p)},A.prototype.cancel=function(c){this.clock.clearTimeout(this.delayedEventsMap[c]),delete this.delayedEventsMap[c]},A.prototype.exec=function(c,u,p){p===void 0&&(p=this.machine.options.actions),this._exec(c,u.context,u._event,p)},A.prototype.removeChild=function(c){var u;this.children.delete(c),this.forwardTo.delete(c),(u=this.state)===null||u===void 0||delete u.children[c]},A.prototype.stopChild=function(c){var u=this.children.get(c);u&&(this.removeChild(c),isFunction(u.stop)&&u.stop())},A.prototype.spawn=function(c,u,p){if(this.status!==InterpreterStatus.Running)return createDeferredActor(c,u);if(isPromiseLike(c))return this.spawnPromise(Promise.resolve(c),u);if(isFunction(c))return this.spawnCallback(c,u);if(isSpawnedActor(c))return this.spawnActor(c,u);if(isObservable(c))return this.spawnObservable(c,u);if(isMachine(c))return this.spawnMachine(c,__assign(__assign({},p),{id:u}));if(isBehavior(c))return this.spawnBehavior(c,u);throw new Error('Unable to spawn entity "'.concat(u,'" of type "').concat(typeof c,'".'))},A.prototype.spawnMachine=function(c,u){var p=this;u===void 0&&(u={});var I=new A(c,__assign(__assign({},this.options),{parent:this,id:u.id||c.id})),m=__assign(__assign({},DEFAULT_SPAWN_OPTIONS),u);m.sync&&I.onTransition(function(S){p.send(update,{state:S,id:I.id})});var R=I;return this.children.set(I.id,R),m.autoForward&&this.forwardTo.add(I.id),I.onDone(function(S){p.removeChild(I.id),p.send(toSCXMLEvent(S,{origin:I.id}))}).start(),R},A.prototype.spawnBehavior=function(c,u){var p=spawnBehavior(c,{id:u,parent:this});return this.children.set(u,p),p},A.prototype.spawnPromise=function(c,u){var p,I=this,m=!1,R;c.then(function(N){m||(R=N,I.removeChild(u),I.send(toSCXMLEvent(doneInvoke(u,N),{origin:u})))},function(N){if(!m){I.removeChild(u);var B=error(u,N);try{I.send(toSCXMLEvent(B,{origin:u}))}catch{I.devTools&&I.devTools.send(B,I.state),I.machine.strict&&I.stop()}}});var S=(p={id:u,send:function(){},subscribe:function(N,B,D){var k=toObserver(N,B,D),O=!1;return c.then(function(P){O||(k.next(P),!O&&k.complete())},function(P){O||k.error(P)}),{unsubscribe:function(){return O=!0}}},stop:function(){m=!0},toJSON:function(){return{id:u}},getSnapshot:function(){return R}},p[symbolObservable]=function(){return this},p);return this.children.set(u,S),S},A.prototype.spawnCallback=function(c,u){var p,I=this,m=!1,R=new Set,S=new Set,N,B=function(O){N=O,S.forEach(function(P){return P(O)}),!m&&I.send(toSCXMLEvent(O,{origin:u}))},D;try{D=c(B,function(O){R.add(O)})}catch(O){this.send(error(u,O))}if(isPromiseLike(D))return this.spawnPromise(D,u);var k=(p={id:u,send:function(O){return R.forEach(function(P){return P(O)})},subscribe:function(O){var P=toObserver(O);return S.add(P.next),{unsubscribe:function(){S.delete(P.next)}}},stop:function(){m=!0,isFunction(D)&&D()},toJSON:function(){return{id:u}},getSnapshot:function(){return N}},p[symbolObservable]=function(){return this},p);return this.children.set(u,k),k},A.prototype.spawnObservable=function(c,u){var p,I=this,m,R=c.subscribe(function(N){m=N,I.send(toSCXMLEvent(N,{origin:u}))},function(N){I.removeChild(u),I.send(toSCXMLEvent(error(u,N),{origin:u}))},function(){I.removeChild(u),I.send(toSCXMLEvent(doneInvoke(u),{origin:u}))}),S=(p={id:u,send:function(){},subscribe:function(N,B,D){return c.subscribe(N,B,D)},stop:function(){return R.unsubscribe()},getSnapshot:function(){return m},toJSON:function(){return{id:u}}},p[symbolObservable]=function(){return this},p);return this.children.set(u,S),S},A.prototype.spawnActor=function(c,u){return this.children.set(u,c),c},A.prototype.spawnActivity=function(c){var u=this.machine.options&&this.machine.options.activities?this.machine.options.activities[c.type]:void 0;if(u){var p=u(this.state.context,c);this.spawnEffect(c.id,p)}},A.prototype.spawnEffect=function(c,u){var p;this.children.set(c,(p={id:c,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:u||void 0,getSnapshot:function(){},toJSON:function(){return{id:c}}},p[symbolObservable]=function(){return this},p))},A.prototype.attachDev=function(){var c=getGlobal();if(this.options.devTools&&c){if(c.__REDUX_DEVTOOLS_EXTENSION__){var u=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=c.__REDUX_DEVTOOLS_EXTENSION__.connect(__assign(__assign({name:this.id,autoPause:!0,stateSanitizer:function(p){return{value:p.value,context:p.context,actions:p.actions}}},u),{features:__assign({jump:!1,skip:!1},u?u.features:void 0)}),this.machine),this.devTools.init(this.state)}registerService(this)}},A.prototype.toJSON=function(){return{id:this.id}},A.prototype[symbolObservable]=function(){return this},A.prototype.getSnapshot=function(){return this.status===InterpreterStatus.NotStarted?this.initialState:this._state},A.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(c,u){return setTimeout(c,u)},clearTimeout:function(c){return clearTimeout(c)}},logger:console.log.bind(console),devTools:!1},A.interpret=interpret,A}();function interpret(A,c){var u=new Interpreter(A,c);return u}function toInvokeSource(A){if(typeof A=="string"){var c={type:A};return c.toString=function(){return A},c}return A}function toInvokeDefinition(A){return __assign(__assign({type:invoke},A),{toJSON:function(){var c=__rest(A,["onDone","onError"]);return __assign(__assign({},c),{type:invoke,src:toInvokeSource(A.src)})}})}var NULL_EVENT="",STATE_IDENTIFIER="#",WILDCARD="*",EMPTY_OBJECT={},isStateId=function(A){return A[0]===STATE_IDENTIFIER},createDefaultOptions=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},StateNode=function(){function A(c,u,p,I){p===void 0&&(p="context"in c?c.context:void 0);var m=this,R;this.config=c,this._context=p,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(createDefaultOptions(),u),this.parent=I==null?void 0:I.parent,this.key=this.config.key||(I==null?void 0:I.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:STATE_DELIMITER),this.id=this.config.id||__spreadArray([this.machine.key],__read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(R=this.config.schema)!==null&&R!==void 0?R:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?mapValues(this.config.states,function(B,D){var k,O=new A(B,{},void 0,{parent:m,key:D});return Object.assign(m.idMap,__assign((k={},k[O.id]=O,k),O.idMap)),O}):EMPTY_OBJECT;var S=0;function N(B){var D,k;B.order=S++;try{for(var O=__values(getAllChildren(B)),P=O.next();!P.done;P=O.next()){var x=P.value;N(x)}}catch(H){D={error:H}}finally{try{P&&!P.done&&(k=O.return)&&k.call(O)}finally{if(D)throw D.error}}}N(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(B){var D=B.event;return D===NULL_EVENT}):NULL_EVENT in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=toArray(this.config.entry||this.config.onEntry).map(function(B){return toActionObject(B)}),this.onExit=toArray(this.config.exit||this.config.onExit).map(function(B){return toActionObject(B)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=toArray(this.config.invoke).map(function(B,D){var k,O;if(isMachine(B)){var P=createInvokeId(m.id,D);return m.machine.options.services=__assign((k={},k[P]=B,k),m.machine.options.services),toInvokeDefinition({src:P,id:P})}else if(isString(B.src)){var P=B.id||createInvokeId(m.id,D);return toInvokeDefinition(__assign(__assign({},B),{id:P,src:B.src}))}else if(isMachine(B.src)||isFunction(B.src)){var P=B.id||createInvokeId(m.id,D);return m.machine.options.services=__assign((O={},O[P]=B.src,O),m.machine.options.services),toInvokeDefinition(__assign(__assign({id:P},B),{src:P}))}else{var x=B.src;return toInvokeDefinition(__assign(__assign({id:createInvokeId(m.id,D)},B),{src:x}))}}),this.activities=toArray(this.config.activities).concat(this.invoke).map(function(B){return toActivityDefinition(B)}),this.transition=this.transition.bind(this),this.tags=toArray(this.config.tags)}return A.prototype._init=function(){this.__cache.transitions||getAllStateNodes(this).forEach(function(c){return c.on})},A.prototype.withConfig=function(c,u){var p=this.options,I=p.actions,m=p.activities,R=p.guards,S=p.services,N=p.delays;return new A(this.config,{actions:__assign(__assign({},I),c.actions),activities:__assign(__assign({},m),c.activities),guards:__assign(__assign({},R),c.guards),services:__assign(__assign({},S),c.services),delays:__assign(__assign({},N),c.delays)},u??this.context)},A.prototype.withContext=function(c){return new A(this.config,this.options,c)},Object.defineProperty(A.prototype,"context",{get:function(){return isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:mapValues(this.states,function(c){return c.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),A.prototype.toJSON=function(){return this.definition},Object.defineProperty(A.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var c=this.transitions;return this.__cache.on=c.reduce(function(u,p){return u[p.eventType]=u[p.eventType]||[],u[p.eventType].push(p),u},{})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),A.prototype.getCandidates=function(c){if(this.__cache.candidates[c])return this.__cache.candidates[c];var u=c===NULL_EVENT,p=this.transitions.filter(function(I){var m=I.eventType===c;return u?m:m||I.eventType===WILDCARD});return this.__cache.candidates[c]=p,p},A.prototype.getDelayedTransitions=function(){var c=this,u=this.config.after;if(!u)return[];var p=function(m,R){var S=isFunction(m)?"".concat(c.id,":delay[").concat(R,"]"):m,N=after(S,c.id);return c.onEntry.push(send(N,{delay:m})),c.onExit.push(cancel(N)),N},I=isArray(u)?u.map(function(m,R){var S=p(m.delay,R);return __assign(__assign({},m),{event:S})}):flatten(Object.keys(u).map(function(m,R){var S=u[m],N=isString(S)?{target:S}:S,B=isNaN(+m)?m:+m,D=p(B,R);return toArray(N).map(function(k){return __assign(__assign({},k),{event:D,delay:B})})}));return I.map(function(m){var R=m.delay;return __assign(__assign({},c.formatTransition(m)),{delay:R})})},A.prototype.getStateNodes=function(c){var u,p=this;if(!c)return[];var I=c instanceof State?c.value:toStateValue(c,this.delimiter);if(isString(I)){var m=this.getStateNode(I).initial;return m!==void 0?this.getStateNodes((u={},u[I]=m,u)):[this,this.states[I]]}var R=Object.keys(I),S=[this];return S.push.apply(S,__spreadArray([],__read(flatten(R.map(function(N){return p.getStateNode(N).getStateNodes(I[N])}))),!1)),S},A.prototype.handles=function(c){var u=getEventType(c);return this.events.includes(u)},A.prototype.resolveState=function(c){var u=c instanceof State?c:State.create(c),p=Array.from(getConfiguration([],this.getStateNodes(u.value)));return new State(__assign(__assign({},u),{value:this.resolve(u.value),configuration:p,done:isInFinalState(p,this),tags:getTagsFromConfiguration(p),machine:this.machine}))},A.prototype.transitionLeafNode=function(c,u,p){var I=this.getStateNode(c),m=I.next(u,p);return!m||!m.transitions.length?this.next(u,p):m},A.prototype.transitionCompoundNode=function(c,u,p){var I=Object.keys(c),m=this.getStateNode(I[0]),R=m._transition(c[I[0]],u,p);return!R||!R.transitions.length?this.next(u,p):R},A.prototype.transitionParallelNode=function(c,u,p){var I,m,R={};try{for(var S=__values(Object.keys(c)),N=S.next();!N.done;N=S.next()){var B=N.value,D=c[B];if(D){var k=this.getStateNode(B),O=k._transition(D,u,p);O&&(R[B]=O)}}}catch(q){I={error:q}}finally{try{N&&!N.done&&(m=S.return)&&m.call(S)}finally{if(I)throw I.error}}var P=Object.keys(R).map(function(q){return R[q]}),x=flatten(P.map(function(q){return q.transitions})),H=P.some(function(q){return q.transitions.length>0});if(!H)return this.next(u,p);var Ae=flatten(Object.keys(R).map(function(q){return R[q].configuration}));return{transitions:x,exitSet:flatten(P.map(function(q){return q.exitSet})),configuration:Ae,source:u,actions:flatten(Object.keys(R).map(function(q){return R[q].actions}))}},A.prototype._transition=function(c,u,p){return isString(c)?this.transitionLeafNode(c,u,p):Object.keys(c).length===1?this.transitionCompoundNode(c,u,p):this.transitionParallelNode(c,u,p)},A.prototype.getTransitionData=function(c,u){return this._transition(c.value,c,toSCXMLEvent(u))},A.prototype.next=function(c,u){var p,I,m=this,R=u.name,S=[],N=[],B;try{for(var D=__values(this.getCandidates(R)),k=D.next();!k.done;k=D.next()){var O=k.value,P=O.cond,x=O.in,H=c.context,Ae=x?isString(x)&&isStateId(x)?c.matches(toStateValue(this.getStateNodeById(x).path,this.delimiter)):matchesState(toStateValue(x,this.delimiter),path(this.path.slice(0,-2))(c.value)):!0,q=!1;try{q=!P||evaluateGuard(this.machine,P,H,u,c)}catch(re){throw new Error("Unable to evaluate guard '".concat(P.name||P.type,"' in transition for event '").concat(R,"' in state node '").concat(this.id,`':
`).concat(re.message))}if(q&&Ae){O.target!==void 0&&(N=O.target),S.push.apply(S,__spreadArray([],__read(O.actions),!1)),B=O;break}}}catch(re){p={error:re}}finally{try{k&&!k.done&&(I=D.return)&&I.call(D)}finally{if(p)throw p.error}}if(B){if(!N.length)return{transitions:[B],exitSet:[],configuration:c.value?[this]:[],source:c,actions:S};var Z=flatten(N.map(function(re){return m.getRelativeStateNodes(re,c.historyValue)})),te=!!B.internal;return{transitions:[B],exitSet:te?[]:flatten(N.map(function(re){return m.getPotentiallyReenteringNodes(re)})),configuration:Z,source:c,actions:S}}},A.prototype.getPotentiallyReenteringNodes=function(c){if(this.order<c.order)return[this];for(var u=[],p=this,I=c;p&&p!==I;)u.push(p),p=p.parent;return p!==I?[]:(u.push(I),u)},A.prototype.getActions=function(c,u,p,I,m,R,S){var N,B,D,k,O=this,P=R?getConfiguration([],this.getStateNodes(R.value)):[],x=new Set;try{for(var H=__values(Array.from(c).sort(function(fe,Re){return fe.order-Re.order})),Ae=H.next();!Ae.done;Ae=H.next()){var q=Ae.value;(!has(P,q)||has(p.exitSet,q)||q.parent&&x.has(q.parent))&&x.add(q)}}catch(fe){N={error:fe}}finally{try{Ae&&!Ae.done&&(B=H.return)&&B.call(H)}finally{if(N)throw N.error}}try{for(var Z=__values(P),te=Z.next();!te.done;te=Z.next()){var q=te.value;(!has(c,q)||has(p.exitSet,q.parent))&&p.exitSet.push(q)}}catch(fe){D={error:fe}}finally{try{te&&!te.done&&(k=Z.return)&&k.call(Z)}finally{if(D)throw D.error}}p.exitSet.sort(function(fe,Re){return Re.order-fe.order});var re=Array.from(x).sort(function(fe,Re){return fe.order-Re.order}),Be=new Set(p.exitSet),de=flatten(re.map(function(fe){var Re=[];if(fe.type!=="final")return Re;var De=fe.parent;if(!De.parent)return Re;Re.push(done(fe.id,fe.doneData),done(De.id,fe.doneData?mapContext(fe.doneData,I,m):void 0));var Qe=De.parent;return Qe.type==="parallel"&&getChildren(Qe).every(function(Ci){return isInFinalState(p.configuration,Ci)})&&Re.push(done(Qe.id)),Re})),pe=re.map(function(fe){var Re=fe.onEntry,De=fe.activities.map(function(Qe){return start(Qe)});return{type:"entry",actions:toActionObjects(S?__spreadArray(__spreadArray([],__read(Re),!1),__read(De),!1):__spreadArray(__spreadArray([],__read(De),!1),__read(Re),!1),O.machine.options.actions)}}).concat({type:"state_done",actions:de.map(function(fe){return raise(fe)})}),Ce=Array.from(Be).map(function(fe){return{type:"exit",actions:toActionObjects(__spreadArray(__spreadArray([],__read(fe.onExit),!1),__read(fe.activities.map(function(Re){return stop(Re)})),!1),O.machine.options.actions)}}),he=Ce.concat({type:"transition",actions:toActionObjects(p.actions,this.machine.options.actions)}).concat(pe);if(u){var Fe=toActionObjects(flatten(__spreadArray([],__read(c),!1).sort(function(fe,Re){return Re.order-fe.order}).map(function(fe){return fe.onExit})),this.machine.options.actions).filter(function(fe){return!isRaisableAction(fe)});return he.concat({type:"stop",actions:Fe})}return he},A.prototype.transition=function(c,u,p,I){c===void 0&&(c=this.initialState);var m=toSCXMLEvent(u),R;if(c instanceof State)R=p===void 0?c:this.resolveState(State.from(c,p));else{var S=isString(c)?this.resolve(pathToStateValue(this.getResolvedPath(c))):this.resolve(c),N=p??this.machine.context;R=this.resolveState(State.from(S,N))}if(this.strict&&!this.events.includes(m.name)&&!isBuiltInEvent(m.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(m.name,"'"));var B=this._transition(R.value,R,m)||{transitions:[],configuration:[],exitSet:[],source:R,actions:[]},D=getConfiguration([],this.getStateNodes(R.value)),k=B.configuration.length?getConfiguration(D,B.configuration):D;return B.configuration=__spreadArray([],__read(k),!1),this.resolveTransition(B,R,R.context,I,m)},A.prototype.resolveRaisedTransition=function(c,u,p,I){var m,R=c.actions;return c=this.transition(c,u,void 0,I),c._event=p,c.event=p.data,(m=c.actions).unshift.apply(m,__spreadArray([],__read(R),!1)),c},A.prototype.resolveTransition=function(c,u,p,I,m){var R,S,N,B,D=this;m===void 0&&(m=initEvent);var k=c.configuration,O=!u||c.transitions.length>0,P=O?c.configuration:u?u.configuration:[],x=isInFinalState(P,this),H=O?getValue(this.machine,k):void 0,Ae=u?u.historyValue?u.historyValue:c.source?this.machine.historyValue(u.value):void 0:void 0,q=this.getActions(new Set(P),x,c,p,m,u,I),Z=u?__assign({},u.activities):{};try{for(var te=__values(q),re=te.next();!re.done;re=te.next()){var Be=re.value;try{for(var de=(N=void 0,__values(Be.actions)),pe=de.next();!pe.done;pe=de.next()){var Ce=pe.value;Ce.type===start$1?Z[Ce.activity.id||Ce.activity.type]=Ce:Ce.type===stop$1&&(Z[Ce.activity.id||Ce.activity.type]=!1)}}catch(ni){N={error:ni}}finally{try{pe&&!pe.done&&(B=de.return)&&B.call(de)}finally{if(N)throw N.error}}}}catch(ni){R={error:ni}}finally{try{re&&!re.done&&(S=te.return)&&S.call(te)}finally{if(R)throw R.error}}var he=__read(resolveActions(this,u,p,m,q,I,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),Fe=he[0],fe=he[1],Re=__read(partition(Fe,isRaisableAction),2),De=Re[0],Qe=Re[1],Ci=Fe.filter(function(ni){var rn;return ni.type===start$1&&((rn=ni.activity)===null||rn===void 0?void 0:rn.type)===invoke}),ii=Ci.reduce(function(ni,rn){return ni[rn.activity.id]=createInvocableActor(rn.activity,D.machine,fe,m),ni},u?__assign({},u.children):{}),He=new State({value:H||u.value,context:fe,_event:m,_sessionid:u?u._sessionid:null,historyValue:H?Ae?updateHistoryValue(Ae,H):void 0:u?u.historyValue:void 0,history:!H||c.source?u:void 0,actions:H?Qe:[],activities:H?Z:u?u.activities:{},events:[],configuration:P,transitions:c.transitions,children:ii,done:x,tags:getTagsFromConfiguration(P),machine:this}),yt=p!==fe;He.changed=m.name===update||yt;var at=He.history;at&&delete at.history;var Ht=!x&&(this._transient||k.some(function(ni){return ni._transient}));if(!O&&(!Ht||m.name===NULL_EVENT))return He;var Yt=He;if(!x)for(Ht&&(Yt=this.resolveRaisedTransition(Yt,{type:nullEvent},m,I));De.length;){var Gi=De.shift();Yt=this.resolveRaisedTransition(Yt,Gi._event,m,I)}var nn=Yt.changed||(at?!!Yt.actions.length||yt||typeof at.value!=typeof Yt.value||!stateValuesEqual(Yt.value,at.value):void 0);return Yt.changed=nn,Yt.history=at,Yt},A.prototype.getStateNode=function(c){if(isStateId(c))return this.machine.getStateNodeById(c);if(!this.states)throw new Error("Unable to retrieve child state '".concat(c,"' from '").concat(this.id,"'; no child states exist."));var u=this.states[c];if(!u)throw new Error("Child state '".concat(c,"' does not exist on '").concat(this.id,"'"));return u},A.prototype.getStateNodeById=function(c){var u=isStateId(c)?c.slice(STATE_IDENTIFIER.length):c;if(u===this.id)return this;var p=this.machine.idMap[u];if(!p)throw new Error("Child state node '#".concat(u,"' does not exist on machine '").concat(this.id,"'"));return p},A.prototype.getStateNodeByPath=function(c){if(typeof c=="string"&&isStateId(c))try{return this.getStateNodeById(c.slice(1))}catch{}for(var u=toStatePath(c,this.delimiter).slice(),p=this;u.length;){var I=u.shift();if(!I.length)break;p=p.getStateNode(I)}return p},A.prototype.resolve=function(c){var u,p=this;if(!c)return this.initialStateValue||EMPTY_OBJECT;switch(this.type){case"parallel":return mapValues(this.initialStateValue,function(m,R){return m?p.getStateNode(R).resolve(c[R]||m):EMPTY_OBJECT});case"compound":if(isString(c)){var I=this.getStateNode(c);return I.type==="parallel"||I.type==="compound"?(u={},u[c]=I.initialStateValue,u):c}return Object.keys(c).length?mapValues(c,function(m,R){return m?p.getStateNode(R).resolve(m):EMPTY_OBJECT}):this.initialStateValue||{};default:return c||EMPTY_OBJECT}},A.prototype.getResolvedPath=function(c){if(isStateId(c)){var u=this.machine.idMap[c.slice(STATE_IDENTIFIER.length)];if(!u)throw new Error("Unable to find state node '".concat(c,"'"));return u.path}return toStatePath(c,this.delimiter)},Object.defineProperty(A.prototype,"initialStateValue",{get:function(){var c;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var u;if(this.type==="parallel")u=mapFilterValues(this.states,function(p){return p.initialStateValue||EMPTY_OBJECT},function(p){return p.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));u=isLeafNode(this.states[this.initial])?this.initial:(c={},c[this.initial]=this.states[this.initial].initialStateValue,c)}else u={};return this.__cache.initialStateValue=u,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),A.prototype.getInitialState=function(c,u){this._init();var p=this.getStateNodes(c);return this.resolveTransition({configuration:p,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,u??this.machine.context,void 0)},Object.defineProperty(A.prototype,"initialState",{get:function(){var c=this.initialStateValue;if(!c)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(c)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"target",{get:function(){var c;if(this.type==="history"){var u=this.config;isString(u.target)?c=isStateId(u.target)?pathToStateValue(this.machine.getStateNodeById(u.target).path.slice(this.path.length-1)):u.target:c=u.target}return c},enumerable:!1,configurable:!0}),A.prototype.getRelativeStateNodes=function(c,u,p){return p===void 0&&(p=!0),p?c.type==="history"?c.resolveHistory(u):c.initialStateNodes:[c]},Object.defineProperty(A.prototype,"initialStateNodes",{get:function(){var c=this;if(isLeafNode(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var u=toStatePaths(this.initialStateValue);return flatten(u.map(function(p){return c.getFromRelativePath(p)}))},enumerable:!1,configurable:!0}),A.prototype.getFromRelativePath=function(c){if(!c.length)return[this];var u=__read(c),p=u[0],I=u.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(p,"' from node with no states"));var m=this.getStateNode(p);if(m.type==="history")return m.resolveHistory();if(!this.states[p])throw new Error("Child state '".concat(p,"' does not exist on '").concat(this.id,"'"));return this.states[p].getFromRelativePath(I)},A.prototype.historyValue=function(c){if(Object.keys(this.states).length)return{current:c||this.initialStateValue,states:mapFilterValues(this.states,function(u,p){if(!c)return u.historyValue();var I=isString(c)?void 0:c[p];return u.historyValue(I||u.initialStateValue)},function(u){return!u.history})}},A.prototype.resolveHistory=function(c){var u=this;if(this.type!=="history")return[this];var p=this.parent;if(!c){var I=this.target;return I?flatten(toStatePaths(I).map(function(R){return p.getFromRelativePath(R)})):p.initialStateNodes}var m=nestedPath(p.path,"states")(c).current;return isString(m)?[p.getStateNode(m)]:flatten(toStatePaths(m).map(function(R){return u.history==="deep"?p.getFromRelativePath(R):[p.states[R[0]]]}))},Object.defineProperty(A.prototype,"stateIds",{get:function(){var c=this,u=flatten(Object.keys(this.states).map(function(p){return c.states[p].stateIds}));return[this.id].concat(u)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"events",{get:function(){var c,u,p,I;if(this.__cache.events)return this.__cache.events;var m=this.states,R=new Set(this.ownEvents);if(m)try{for(var S=__values(Object.keys(m)),N=S.next();!N.done;N=S.next()){var B=N.value,D=m[B];if(D.states)try{for(var k=(p=void 0,__values(D.events)),O=k.next();!O.done;O=k.next()){var P=O.value;R.add("".concat(P))}}catch(x){p={error:x}}finally{try{O&&!O.done&&(I=k.return)&&I.call(k)}finally{if(p)throw p.error}}}}catch(x){c={error:x}}finally{try{N&&!N.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}return this.__cache.events=Array.from(R)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ownEvents",{get:function(){var c=new Set(this.transitions.filter(function(u){return!(!u.target&&!u.actions.length&&u.internal)}).map(function(u){return u.eventType}));return Array.from(c)},enumerable:!1,configurable:!0}),A.prototype.resolveTarget=function(c){var u=this;if(c!==void 0)return c.map(function(p){if(!isString(p))return p;var I=p[0]===u.delimiter;if(I&&!u.parent)return u.getStateNodeByPath(p.slice(1));var m=I?u.key+p:p;if(u.parent)try{var R=u.parent.getStateNodeByPath(m);return R}catch(S){throw new Error("Invalid transition definition for state node '".concat(u.id,`':
`).concat(S.message))}else return u.getStateNodeByPath(m)})},A.prototype.formatTransition=function(c){var u=this,p=normalizeTarget(c.target),I="internal"in c?c.internal:p?p.some(function(N){return isString(N)&&N[0]===u.delimiter}):!0,m=this.machine.options.guards,R=this.resolveTarget(p),S=__assign(__assign({},c),{actions:toActionObjects(toArray(c.actions)),cond:toGuard(c.cond,m),target:R,source:this,internal:I,eventType:c.event,toJSON:function(){return __assign(__assign({},S),{target:S.target?S.target.map(function(N){return"#".concat(N.id)}):void 0,source:"#".concat(u.id)})}});return S},A.prototype.formatTransitions=function(){var c,u,p=this,I;if(!this.config.on)I=[];else if(Array.isArray(this.config.on))I=this.config.on;else{var m=this.config.on,R=WILDCARD,S=m[R],N=S===void 0?[]:S,B=__rest(m,[typeof R=="symbol"?R:R+""]);I=flatten(Object.keys(B).map(function(Z){var te=toTransitionConfigArray(Z,B[Z]);return te}).concat(toTransitionConfigArray(WILDCARD,N)))}var D=this.config.always?toTransitionConfigArray("",this.config.always):[],k=this.config.onDone?toTransitionConfigArray(String(done(this.id)),this.config.onDone):[],O=flatten(this.invoke.map(function(Z){var te=[];return Z.onDone&&te.push.apply(te,__spreadArray([],__read(toTransitionConfigArray(String(doneInvoke(Z.id)),Z.onDone)),!1)),Z.onError&&te.push.apply(te,__spreadArray([],__read(toTransitionConfigArray(String(error(Z.id)),Z.onError)),!1)),te})),P=this.after,x=flatten(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],__read(k),!1),__read(O),!1),__read(I),!1),__read(D),!1).map(function(Z){return toArray(Z).map(function(te){return p.formatTransition(te)})}));try{for(var H=__values(P),Ae=H.next();!Ae.done;Ae=H.next()){var q=Ae.value;x.push(q)}}catch(Z){c={error:Z}}finally{try{Ae&&!Ae.done&&(u=H.return)&&u.call(H)}finally{if(c)throw c.error}}return x},A}();function createMachine(A,c){return new StateNode(A,c)}var assign=assign$1;const workerBase64Data="LyoqCiAqIEF1eGlsaWFyIG1ldGhvZCB0byBjb252ZXJ0IHVuc2lnbmVkIGFycmF5cyB0byBzdHJpbmdzCiAqCiAqIEBwYXJhbSB7YXJyYXl9IGFycmF5IFRoZSBVaW50OCBhcnJheQogKiBAcmV0dXJucyBBIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIGFycmF5CiAqLwpjb25zdCBVaW50OFRvU3RyaW5nID0gKGFycmF5KSA9PiB7Cgljb25zdCBDSFVOS19TWiA9IDB4ODAwMDsKCWNvbnN0IHN0cmluZyA9IFtdOwoKCWZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IENIVU5LX1NaKSB7CgkJc3RyaW5nLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhcnJheS5zdWJhcnJheShpLCBpICsgQ0hVTktfU1opKSk7Cgl9CgoJcmV0dXJuIHN0cmluZy5qb2luKCcnKTsKfTsKCi8qKgogKiBBdXhpbGlhciBtZXRob2QgdG8gZGVsZXRlIGEgV2ViQXNzZW1ibHkgU2lkZSBWYXJpYWJsZXMKICoKICogQHBhcmFtIHthcnJheX0gYXJyYXkgVGhlIGFycmF5IHdpdGggbiBlbGVtZW50cwogKi8KY29uc3QgZGVsZXRlV2FzbVZhciA9ICguLi5hcnJheSkgPT4gewoJZm9yIChjb25zdCBvYmogb2YgYXJyYXkpIHsKCQlpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmouZGVsZXRlICE9PSAndW5kZWZpbmVkJykgewoJCQlvYmouZGVsZXRlKCk7CgkJfQoJfQp9OwoKLyoqCiAqIENyaXRpY2FsIG1ldGhvZCB0byBwcm9jZXNzIHRoZSBleHRyYWN0ZWQgcmVzdWx0cyBmcm9tIFNlbHBoaSBFeHRyYWN0b3IKICoKICogQHBhcmFtIHtzdHJpbmd9IHJldHVybkpzb24gVGhlIEpTT04gdXNlZCB0byBzYXZlIHRoZSBkZXNpcmVkIGRhdGEKICogQHBhcmFtIHtzdHJpbmd9IGV4dHJhY3Rpb25SZXN1bHQgVGhlIGV4dHJhY3Rpb24gcmVzdWx0IG9iamVjdCB1c2VkIGZvciBwcm9jZXNzIGRhdGEKICogQHBhcmFtIHtib29sZWFufSBzYXZlTGFzdFJlc3VsdCBTYXZlIGlmIGlzIG5lZWRlZCB0aGUgbGFzdCByZXN1bHQKICovCmNvbnN0IHByb2Nlc3NFeHRyYWN0aW9uUmVzdWx0cyA9IChpbnN0YW5jZSwgcmV0dXJuSnNvbiwgZXh0cmFjdGlvblJlc3VsdCkgPT4gewoJLy8gR2V0IHRoZSBzdGF0ZSBvZiByZXN1bHQgSlNPTgoJY29uc3QgcmV0dXJuSnNvbkF1eCA9IHJldHVybkpzb247CgoJLy8gUmV0dXJuIHRoZSBzYW1wbGUgZGlhZ25vc3RpYyB2YWx1ZSBhbmQgY2hlY2sKCXJldHVybkpzb25BdXguc2FtcGxlRGlhZ25vc3RpYyA9IGV4dHJhY3Rpb25SZXN1bHQuZ2V0U2FtcGxlRGlhZ25vc3RpYygpLnZhbHVlOwoKCWxldCB0aTsKCWxldCBmYWNlOwoJbGV0IGxlZnRFeWU7CglsZXQgcmlnaHRFeWU7CglsZXQgZmFjaWFsVGVtcGxhdGU7CglsZXQgZmFjaWFsVGVtcGxhdGVSYXc7CglsZXQgdGVtcGxhdGU7CglsZXQgdGVtcGxhdGVSYXc7CglsZXQgeWF3OwoJbGV0IHBpdGNoOwoJLy8gSWYgdGhpcyBpcyBPSywgcmV0dXJuIHRoZSBleGlzdGVudCB2YWx1ZXMgaW50byB0aGUgcmVzdWx0IEpTT04KCWlmIChleHRyYWN0aW9uUmVzdWx0LmdldFNhbXBsZURpYWdub3N0aWMoKSA9PT0gaW5zdGFuY2UuU2FtcGxlRGlhZ25vc3RpYy5PaykgewoJCS8vIENoZWNrIGlmIGlzIG5lZWRlZCB0byBzZW5kIHRoZSB0ZW1wbGF0ZSB2YWx1ZQoJCWZhY2lhbFRlbXBsYXRlID0gZXh0cmFjdGlvblJlc3VsdC5nZXRUZW1wbGF0ZSgpOwoJCXRlbXBsYXRlID0gbmV3IFVpbnQ4QXJyYXkoaW5zdGFuY2UuZ2V0Qnl0ZXMoZmFjaWFsVGVtcGxhdGUpKTsKCQlpZiAoZmFjaWFsVGVtcGxhdGUgIT09IG51bGwgJiYgdGVtcGxhdGUgIT09IG51bGwpIHsKCQkJcmV0dXJuSnNvbkF1eC50ZW1wbGF0ZSA9IHRlbXBsYXRlOwoKCQkJZmFjaWFsVGVtcGxhdGUuZGVsZXRlKCk7CgkJfQoKCQkvLyBDaGVjayBpZiBpcyBuZWVkZWQgdG8gc2VuZCB0aGUgdGVtcGxhdGUgcmF3IHZhbHVlCgkJZmFjaWFsVGVtcGxhdGVSYXcgPSBleHRyYWN0aW9uUmVzdWx0LmdldFRlbXBsYXRlUmF3KCk7CgkJdGVtcGxhdGVSYXcgPSBuZXcgVWludDhBcnJheShpbnN0YW5jZS5nZXRCeXRlcyhmYWNpYWxUZW1wbGF0ZVJhdykpOwoJCWlmIChmYWNpYWxUZW1wbGF0ZVJhdyAhPT0gbnVsbCAmJiB0ZW1wbGF0ZVJhdyAhPT0gbnVsbCkgewoJCQlyZXR1cm5Kc29uQXV4LnRlbXBsYXRlUmF3ID0gdGVtcGxhdGVSYXc7CgoJCQlmYWNpYWxUZW1wbGF0ZVJhdy5kZWxldGUoKTsKCQl9CgoJCS8vIENoZWNrIGlmIGlzIG5lZWRlZCB0byBzZW5kIHRoZSB0ZW1wbGF0ZSBtZXRhZGF0YQoJCXRpID0gZXh0cmFjdGlvblJlc3VsdC5nZXRUZW1wbGF0ZUluZm8oKTsKCQlpZiAodGkgIT09IG51bGwpIHsKCQkJcmV0dXJuSnNvbkF1eC50ZW1wbGF0ZVNjb3JlID0gdGkuZ2V0VGVtcGxhdGVTY29yZSgpOwoJCQlyZXR1cm5Kc29uQXV4LmZhY2lhbFNjb3JlID0gZXh0cmFjdGlvblJlc3VsdC5nZXRGYWNpYWxTY29yZSgpOwoJCQlyZXR1cm5Kc29uQXV4LnN1bkdsYXNzZXNTY29yZSA9IHRpLmdldFN1bkdsYXNzZXNTY29yZSgpOwoKCQkJdGkuZGVsZXRlKCk7CgkJfQoJfQoKCS8vIENoZWNrIGlmIGlzIG5lZWRlZCB0byBzZW5kIHRoZSBmYWNlIHBvc2l0aW9uCglmYWNlID0gZXh0cmFjdGlvblJlc3VsdC5nZXRGYWNlKCk7CglpZiAoZmFjZSAhPT0gbnVsbCkgewoJCXJldHVybkpzb25BdXguZmFjZSA9IHsKCQkJeDogZmFjZS5YLAoJCQl5OiBmYWNlLlksCgkJCXdpZHRoOiBmYWNlLldpZHRoLAoJCQloZWlnaHQ6IGZhY2UuSGVpZ2h0LAoJCX07Cgl9CgoJLy8gQ2hlY2sgaWYgaXMgbmVlZGVkIHRvIHNlbmQgdGhlIGxlZnQgZXllIHBvc2l0aW9uCglsZWZ0RXllID0gZXh0cmFjdGlvblJlc3VsdC5nZXRMZWZ0RXllKCk7CglpZiAobGVmdEV5ZSAhPT0gbnVsbCkgewoJCXJldHVybkpzb25BdXgubGVmdEV5ZSA9IHsKCQkJeDogbGVmdEV5ZS5YLAoJCQl5OiBsZWZ0RXllLlksCgkJfTsKCX0KCgkvLyBDaGVjayBpZiBpcyBuZWVkZWQgdG8gc2VuZCB0aGUgcmlnaHQgZXllIHBvc2l0aW9uCglyaWdodEV5ZSA9IGV4dHJhY3Rpb25SZXN1bHQuZ2V0UmlnaHRFeWUoKTsKCWlmIChyaWdodEV5ZSAhPT0gbnVsbCkgewoJCXJldHVybkpzb25BdXgucmlnaHRFeWUgPSB7CgkJCXg6IHJpZ2h0RXllLlgsCgkJCXk6IHJpZ2h0RXllLlksCgkJfTsKCX0KCgl5YXcgPSBleHRyYWN0aW9uUmVzdWx0LmdldFlhdygpOwoJaWYgKHlhdyAhPT0gbnVsbCkgewoJCXJldHVybkpzb25BdXgueWF3ID0geWF3OwoJfQoKCXBpdGNoID0gZXh0cmFjdGlvblJlc3VsdC5nZXRQaXRjaCgpOwoJaWYgKHBpdGNoICE9PSBudWxsKSB7CgkJcmV0dXJuSnNvbkF1eC5waXRjaCA9IHBpdGNoOwoJfQoKCS8vIFJldHVybiB0aGUgbmV3IEpTT04gU3RydWN0dXJlCglyZXR1cm4gcmV0dXJuSnNvbkF1eDsKfTsKCi8qKgogKiBHbG9iYWwgaW5zdGFuY2VzCiAqLwpsZXQgaW5zdGFuY2UgPSBudWxsOwpsZXQgZXh0cmFjdG9yID0gbnVsbDsKY29uc3QgbGl2ZW5lc3NUaW1lciA9IG51bGw7CmxldCBsYXN0RXh0cmFjdGlvblJlc3VsdCA9IG51bGw7CgovKioKICogRXZlbnQgdG8gUHJlaW5pdCB0aGUgV29ya2VyIHdpdGggbmVlZGVkIGRhdGEKICoKICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBNYWluIFRocmVhZAogKiBAcmV0dXJucyB7dm9pZH0KICovCmNvbnN0IHByZWxvYWRJbml0RXh0cmFjdG9yID0gYXN5bmMgKG1lc3NhZ2UpID0+IHsKCS8qCgkgKiBBc3luYyBmZXRjaCBiZWZvcmUgZ2V0IHRoZSBpbnN0YW5jZQoJICoKCSAqIEltcG9ydGFudDogRHVlIHRvIHRoZSBuZWVkIG9mIHBhY2thZ2luZyB0aGUgV29ya2VyIGluc2lkZSB0aGUgc2VscGhpLXdpZGdldC13ZWIubWluLmpzIHVzaW5nCgkgKiAgICAgICAgICAgIFdlYlBhY2ssIGlzIG5lZWRlZCB0byBidWlsZCB0aGUgZXh0cmFjdG9yIHVzaW5nIHRoaXMgcGFyYW1ldGVyczoKCSAqCgkgKiAtcyBFWFBPUlRfRVM2PTEgLXMgVVNFX0VTNl9JTVBPUlRfTUVUQT0wIC1zIFdBU01fQVNZTkNfQ09NUElMQVRJT049MCAtcyBFTlZJUk9OTUVOVD0id2ViIgoJICovCgl0cnkgewoJCS8vIFByb2Nlc3MgaW5wdXQgdmFyaWFibGVzCgkJY29uc3QgbW9kdWxlID0gYXdhaXQgbmV3IEZ1bmN0aW9uKCd1cmwnLCAncmV0dXJuIGltcG9ydCh1cmwpJykoCgkJCWAke21lc3NhZ2UuZW5naW5lTG9jYXRpb259L1NlbHBoaVdvcmtlci5qc2AsCgkJKTsKCQkvLyBMb2FkIGVuZ2luZSBsb2NhdGlvbiBVUkwgaW50byB3b3JrZXIKCQljb25zdCB3YXNtTW9kdWxlID0gYXdhaXQgKAoJCQlhd2FpdCBmZXRjaChgJHttZXNzYWdlLmVuZ2luZUxvY2F0aW9ufS9GUGhpRXh0cmFjdG9yLndhc21gKQoJCSkuYXJyYXlCdWZmZXIoKTsKCQljb25zdCB3YXNtTWVtb3J5ID0gbmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7IGluaXRpYWw6IDEsIG1heGltdW06IDQwOTYgfSk7CgoJCS8vIEluaXRpYWxpemUgdGhlIG1vZHVsZSBpbiBnbG9iYWxzIG1vZHVsZQoJCWluc3RhbmNlID0gYXdhaXQgbW9kdWxlLmRlZmF1bHQoewoJCQl3YXNtQmluYXJ5OiB3YXNtTW9kdWxlLAoJCQl3YXNtTWVtb3J5OiB3YXNtTWVtb3J5LAoJCQlvblJ1bnRpbWVJbml0aWFsaXplZDogKCkgPT4gc2VsZi5wb3N0TWVzc2FnZSh7IGNtZDogJ3JlYWR5JyB9KSwKCQl9KTsKCX0gY2F0Y2ggKGVycm9yKSB7CgkJaWYgKGUgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSB7CgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAncmVhZHknLAoJCQkJZXhjZXB0aW9uOgoJCQkJCSdJdCBsb29rcyBsaWtlIHlvdSBoYXZlIHRyaWVkIHRvIGluc3RhbnRpYXRlIG1vcmUgbWVtb3J5IHRoYW4gdGhlIGRldmljZSBpcyBhbGxvd2luZywgdGhpcyBtYXkgbWVhbiB0aGF0IG5vdCBlbm91Z2ggbWVtb3J5IGhhcyBiZWVuIGFsbG9jYXRlZCB0byB0aGUgYnJvd3NlciB0YWIgb3IgdGhhdCB0aGUgd2ViIGFwcGxpY2F0aW9uIGlzIGNvbnN1bWluZyBtb3JlIHJlc291cmNlcyB0aGFuIGV4cGVjdGVkLicsCgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQkJY21kOiAncmVhZHknLAoJCQkJZXhjZXB0aW9uOiBgQ3JpdGljYWwgZXJyb3IgaGFzIG9jY3VycmVkIGluIGluaXRpYWxpemluZyB0aGUgZW5naW5lIHdvcmtlcjogJHtlcnJvcn1gLAoJCQl9KTsKCQl9Cgl9Cn07CgovKioKICogRXZlbnQgdG8gaW5pdGlhbGl6ZSB0aGUgZXh0cmFjdG9yIHVzaW5nIGluIHRoaXMgd29ya2VyCiAqCiAqIEBwYXJhbSB7b2JqZWN0fSBtZXNzYWdlIFRoZSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gTWFpbiBUaHJlYWQKICogQHJldHVybnMge3ZvaWR9CiAqLwpjb25zdCBpbml0aWFsaXplRXh0cmFjdG9yID0gYXN5bmMgKG1lc3NhZ2UpID0+IHsKCS8vIFByb2Nlc3MgaW5wdXQgdmFyaWFibGVzCgljb25zdCBtaW5JT0QgPSBtZXNzYWdlLm1pbklPRDsKCgl0cnkgewoJCS8vIEluaXRpYWxpemUgdGhlIGV4dHJhY3RvciB3aXRoIHRoZSBkZXNpcmVkIGNvbmZpZwoJCWNvbnN0IGVjbSA9IG5ldyBpbnN0YW5jZS5FeHRyYWN0b3JDb25maWd1cmF0aW9uTWFuYWdlcigpOwoKCQkvLyBTZXQgdGhlIHZhbHVlcyB0aGUgaW50byB0aGUgRXh0cmFjdG9yIENvbmZpZ3VyYXRvcgoJCWVjbS5zZXRNaW5pbXVtRGlzdGFuY2VCZXR3ZWVuRXllc0FsbG93ZWQobWluSU9EKTsKCQllY20uc2V0SW1hZ2VRdWFsaXR5RmlsdGVyKGluc3RhbmNlLkltYWdlUXVhbGl0eUZpbHRlci5NZWRpdW0pOwoJCWVjbS5zZXRQYXR0ZXJuUXVhbGl0eUZpbHRlcihpbnN0YW5jZS5QYXR0ZXJuUXVhbGl0eUZpbHRlci5NZWRpdW0pOwoKCQkvLyBTZXQgdGhlIGV4dHJhY3RvciBpbnN0YW5jZSBpbnRvIGdsb2JhbHMKCQlleHRyYWN0b3IgPSBuZXcgaW5zdGFuY2UuRXh0cmFjdG9yKGVjbSk7CgoJCS8vIERlbGV0ZSBnYXJiYWdlIGFuZCBzZW5kIGluaXQgY29tcGxldGUgbWVzc2FnZQoJCWRlbGV0ZVdhc21WYXIoZWNtKTsKCgkJLy8gU2VuZCBtZXNzYWdlIGludG8gd29ya2VyIGJ1cwoJCXNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICdpbml0JyB9KTsKCX0gY2F0Y2ggKGVycm9yKSB7CgkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCWNtZDogJ2luaXQnLAoJCQlleGNlcHRpb246IGBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgaW4gaW5pdGlhbGl6aW5nIHRoZSBlbmdpbmUgZXh0cmFjdG9yOiAke2Vycm9yfWAsCgkJfSk7Cgl9Cn07CgovKioKICogRGVzdHJveSBjcmVhdGVkIG9iamVjdHMgaW4gV2ViQXNzZW1ibHkgc2lkZQogKgogKiBAcmV0dXJucyB7dm9pZH0KICovCmNvbnN0IGRlc3Ryb3kgPSBhc3luYyAoKSA9PiB7Cgl0cnkgewoJCS8vIERlc3Ryb3kgV2ViQXNzZW1ibHkgR2xvYmFscwoJCWRlbGV0ZVdhc21WYXIoZXh0cmFjdG9yLCBsYXN0RXh0cmFjdGlvblJlc3VsdCwgbGl2ZW5lc3NUaW1lciwgaW5zdGFuY2UpOwoJCS8vIENsb3NlIFdvcmtlciBUaHJlYWQKCQljbG9zZSgpOwoJCXNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICdkZXN0cm95JyB9KTsKCX0gY2F0Y2ggKGVycm9yKSB7CgkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCWNtZDogJ2Rlc3Ryb3knLAoJCQlleGNlcHRpb246IGBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgZmluYWxpemluZyB0aGUgZW5naW5lOiAke2Vycm9yfWAsCgkJfSk7Cgl9Cn07CgovKioKICogRXZlbnQgdG8gc3RhbmRhbG9uZSB0b2tlbml6ZSBpbWFnZQogKgogKiBAcGFyYW0ge29iamVjdH0gbWVzc2FnZSBUaGUgbWVzc2FnZSByZWNlaXZlZCBmcm9tIE1haW4gVGhyZWFkCiAqIEByZXR1cm5zIHt2b2lkfQogKi8KY29uc3QgdG9rZW5pemUgPSBhc3luYyAobWVzc2FnZSkgPT4gewoJdHJ5IHsKCQljb25zdCByZXR1cm5Kc29uID0geyBjbWQ6ICd0b2tlbml6ZScgfTsKCgkJLy8gR2V0IHRoZSB0b2tlbiBtZXRhZGF0YQoJCWNvbnN0IHRva2VuaXplRGF0YSA9IG1lc3NhZ2UuZGF0YTsKCQljb25zdCBsZW5ndGggPSBtZXNzYWdlLmRhdGEubGVuZ3RoOwoKCQkvLyBQcmVwYXJlIG5ldyBpbnN0YW5jZSBvZiB0aGUgZXh0cmFjdG9yCgkJY29uc3QgZXh0cmFjdG9yVG9rZW5pemUgPSBuZXcgaW5zdGFuY2UuRXh0cmFjdG9yKCk7CgkJY29uc3QgbXlWZWN0b3IgPSBuZXcgaW5zdGFuY2UuVmVjdG9yVWNoYXIoKTsKCgkJLy8gUHJlcGFyZSB0aGUgdmVjdG9yIGJlZm9yZSBwdXNoIGl0CgkJZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJCQlteVZlY3Rvci5wdXNoX2JhY2sodG9rZW5pemVEYXRhLmNoYXJDb2RlQXQoaSkpOwoJCX0KCgkJLy8gVG9rZW5pemUgYW5kIGVuY29kZSB0aGUgaW1hZ2UKCQljb25zdCB0b2tlbml6YWRvID0gZXh0cmFjdG9yVG9rZW5pemUudG9rZW5pemUobXlWZWN0b3IpOwoJCXJldHVybkpzb24uZGF0YSA9IGJ0b2EoVWludDhUb1N0cmluZyhpbnN0YW5jZS5nZXRCeXRlcyh0b2tlbml6YWRvKSkpOwoKCQkvLyBEZWxldGUgdGhlIHJlc3Qgb2YgaW5zdGFuY2VzCgkJZGVsZXRlV2FzbVZhcihteVZlY3RvciwgdG9rZW5pemFkbywgZXh0cmFjdG9yVG9rZW5pemUpOwoKCQkvLyBTZW5kIG1lc3NhZ2UgaW50byB3b3JrZXIgYnVzCgkJc2VsZi5wb3N0TWVzc2FnZShyZXR1cm5Kc29uKTsKCgkJYXdhaXQgZGVzdHJveSgpOwoJfSBjYXRjaCAoZXJyb3IpIHsKCQlzZWxmLnBvc3RNZXNzYWdlKHsKCQkJY21kOiAndG9rZW5pemUnLAoJCQlleGNlcHRpb246IGBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgYXQgZW5naW5lIHRva2VuaXppbmcgaW1hZ2U6ICR7ZXJyb3J9YCwKCQl9KTsKCX0KfTsKCi8qKgogKiBFdmVudCB0byB0cnkgdG8gZGV0ZWN0IHRoZSB1c2VyIGZhY2UKICovCmNvbnN0IGRldGVjdCA9IGFzeW5jIChtZXNzYWdlKSA9PiB7Cgl0cnkgewoJCS8vIFByZXBhcmUgcG9zdCBtZXNzYWdlCgkJbGV0IHJldHVybkpzb24gPSB7IGNtZDogJ2RldGVjdCcgfTsKCgkJLy8gRXh0cmFjdCB0aGUgZGF0YSBvZiBpbWFnZQoJCWNvbnN0IGZwaGlJbWFnZSA9IGluc3RhbmNlLkltYWdlLmdldEZQaGlJbWFnZSgKCQkJbWVzc2FnZS5kYXRhLAoJCQltZXNzYWdlLmhlaWdodCwKCQkJbWVzc2FnZS53aWR0aCwKCQkJaW5zdGFuY2UuSW1hZ2VGb3JtYXQuUkdCQV8zMmJwcCwKCQkpOwoJCWNvbnN0IGV4dHJhY3Rpb25SZXN1bHRzID0gZXh0cmFjdG9yLmRldGVjdChmcGhpSW1hZ2UpOwoKCQkvLyBSZXR1cm4gdGhlIHJlc3VsdCBvZiBleHRyYWN0aW9uCgkJbGV0IGV4dHJhY3Rpb25SZXN1bHQgPSBudWxsOwoKCQlpZiAoZXh0cmFjdGlvblJlc3VsdHMpIHsKCQkJZXh0cmFjdGlvblJlc3VsdCA9IGV4dHJhY3Rpb25SZXN1bHRzLmdldCgwKTsKCQkJcmV0dXJuSnNvbiA9IHByb2Nlc3NFeHRyYWN0aW9uUmVzdWx0cyhpbnN0YW5jZSwgcmV0dXJuSnNvbiwgZXh0cmFjdGlvblJlc3VsdCk7CgkJfQoKCQkvLyBEZWxldGUgdGhlIHJlc3Qgb2YgaW5zdGFuY2VzCgkJZGVsZXRlV2FzbVZhcihleHRyYWN0aW9uUmVzdWx0LCBmcGhpSW1hZ2UsIGV4dHJhY3Rpb25SZXN1bHRzKTsKCgkJLy8gU2VuZCBtZXNzYWdlIGludG8gd29ya2VyIGJ1cwoJCXNlbGYucG9zdE1lc3NhZ2UocmV0dXJuSnNvbik7Cgl9IGNhdGNoIChlcnJvcikgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdkZXRlY3QnLAoJCQlleGNlcHRpb246IGBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgYXQgZW5naW5lIGRldGVjdGluZyB0aGUgdXNlciBmYWNlOiAke2Vycm9yfWAsCgkJfSk7Cgl9Cn07CgovKioKICogRXZlbnQgdG8gaW5pdCB0aGUgc3RyZWFtIGV4dHJhY3Rpb24KICoKICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBNYWluIFRocmVhZAogKiBAcmV0dXJucyB7dm9pZH0KICovCmNvbnN0IGluaXRTdHJlYW1FeHRyYWN0aW9uID0gYXN5bmMgKG1lc3NhZ2UpID0+IHsKCXRyeSB7CgkJLy8gU3RvcCBwcmV2aW91cyBleHRyYWN0aW9uCgkJZXh0cmFjdG9yLnN0b3BTdHJlYW1FeHRyYWN0aW9uKCk7CgoJCS8vIFByZXBhcmUgdmFyaWFibGVzCgkJbGV0IGV4dHJhY3Rpb25Nb2RlID0gbnVsbDsKCQljb25zdCBvcHRzID0gbmV3IGluc3RhbmNlLkV4dHJhY3Rpb25PcHRpb25zKCk7CgoJCS8vIERldGVybWluYXRlIHdoYXQgdHlwZSBpcyB0aGUgZGVzaXJlZCBleHRyYWN0aW9uIG1vZGUKCQlpZiAobWVzc2FnZS5leHRyYWN0aW9uTW9kZSA9PT0gMSkgewoJCQlleHRyYWN0aW9uTW9kZSA9IGluc3RhbmNlLkV4dHJhY3Rpb25Nb2RlLlJlZ2lzdGVyOwoJCX0gZWxzZSB7CgkJCWV4dHJhY3Rpb25Nb2RlID0gaW5zdGFuY2UuRXh0cmFjdGlvbk1vZGUuQXV0aGVudGljYXRlOwoJCX0KCgkJLy8gU2V0IGNvbW1vbiBwcm9wZXJ0aWVzIGZvciB0aGUgZXh0cmFjdGlvbgoJCW9wdHMuc2V0RXh0cmFjdGlvbk1vZGUoZXh0cmFjdGlvbk1vZGUpOwoJCW9wdHMuc2V0UmF3VGVtcGxhdGVzKDEpOwoKCQkvLyBJbml0IHRoZSBleHRyYWN0aW9uCgkJZXh0cmFjdG9yLmluaXRTdHJlYW1FeHRyYWN0aW9uU21hcnRXaXRoRXh0cmFjdGlvbk9wdGlvbnMob3B0cyk7CgoJCS8vIERlbGV0ZSB0aGUgcmVzdCBvZiBpbnN0YW5jZXMKCQlkZWxldGVXYXNtVmFyKG9wdHMsIGV4dHJhY3Rpb25Nb2RlKTsKCgkJLy8gU2VuZCBtZXNzYWdlIGludG8gd29ya2VyIGJ1cwoJCXNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICdpbml0U3RyZWFtRXh0cmFjdGlvbicgfSk7Cgl9IGNhdGNoIChlcnJvcikgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdpbml0U3RyZWFtRXh0cmFjdGlvbicsCgkJCWV4Y2VwdGlvbjogYENyaXRpY2FsIGVycm9yIGhhcyBvY2N1cnJlZCBpbiBpbml0aWFsaXppbmcgc3RyZWFtIGV4dHJhY3Rpb246ICR7ZXJyb3J9YCwKCQl9KTsKCX0KfTsKCi8qKgogKiBFdmVudCB0byB0cnksIHRoZSB1c2luZyB0aGUgbmV4dCBmcmFtZSwgdGhlIHVzZXIgZmFjZQogKgogKiBAcGFyYW0ge29iamVjdH0gbWVzc2FnZSBUaGUgbWVzc2FnZSByZWNlaXZlZCBmcm9tIE1haW4gVGhyZWFkCiAqIEByZXR1cm5zIHt2b2lkfQogKi8KY29uc3QgZXh0cmFjdE5leHRTbWFydCA9IGFzeW5jIChtZXNzYWdlKSA9PiB7Cgl0cnkgewoJCS8vIFByZXBhcmUgcG9zdCBtZXNzYWdlCgkJbGV0IHJldHVybkpzb24gPSB7IGNtZDogJ2V4dHJhY3ROZXh0U21hcnQnIH07CgoJCS8vIEV4dHJhY3QgdGhlIGRhdGEgb2YgaW1hZ2UKCQljb25zdCBmcGhpSW1hZ2UgPSBpbnN0YW5jZS5JbWFnZS5nZXRGUGhpSW1hZ2UoCgkJCW1lc3NhZ2UuZGF0YSwKCQkJbWVzc2FnZS5oZWlnaHQsCgkJCW1lc3NhZ2Uud2lkdGgsCgkJCWluc3RhbmNlLkltYWdlRm9ybWF0LlJHQkFfMzJicHAsCgkJKTsKCQljb25zdCBleHRyYWN0aW9uUmVzdWx0ID0gZXh0cmFjdG9yLmV4dHJhY3ROZXh0U21hcnQoZnBoaUltYWdlKTsKCgkJLy8gU2F2ZSB0aGUgbGFzdCBleHRyYWN0aW9uIHJlc3VsdAoJCWlmIChsYXN0RXh0cmFjdGlvblJlc3VsdCAhPT0gbnVsbCkgewoJCQlsYXN0RXh0cmFjdGlvblJlc3VsdC5kZWxldGUoKTsKCQl9CgoJCWxhc3RFeHRyYWN0aW9uUmVzdWx0ID0gZXh0cmFjdGlvblJlc3VsdDsKCgkJLy8gUHJvY2VzcyB0aGUgZ2V0dGVkIHJlc3VsdHMKCQlyZXR1cm5Kc29uID0gcHJvY2Vzc0V4dHJhY3Rpb25SZXN1bHRzKGluc3RhbmNlLCByZXR1cm5Kc29uLCBleHRyYWN0aW9uUmVzdWx0KTsKCgkJLy8gRGVsZXRlIHRoZSByZXN0IG9mIGluc3RhbmNlcwoJCWRlbGV0ZVdhc21WYXIoZnBoaUltYWdlKTsKCgkJLy8gU2VuZCBtZXNzYWdlIGludG8gd29ya2VyIGJ1cwoJCXNlbGYucG9zdE1lc3NhZ2UocmV0dXJuSnNvbik7Cgl9IGNhdGNoIChlcnJvcikgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdleHRyYWN0TmV4dFNtYXJ0JywKCQkJZXhjZXB0aW9uOiBgQ3JpdGljYWwgZXJyb3IgaGFzIG9jY3VycmVkIGF0IGVuZ2luZSBleHRyYWN0aW5nIGRhdGEgZnJvbSB1c2VyIGZhY2U6ICR7ZXJyb3J9YCwKCQl9KTsKCX0KfTsKCi8qKgogKiBFdmVudCB0byBpbml0IHRoZSBsaXZlbmVzcyBtb3ZlIHN0YWJpbGl6YXRpb24KICoKICogQHJldHVybnMge3ZvaWR9CiAqLwpjb25zdCBpbml0TGl2ZW5lc3NNb3ZlU3RhYmlsaXphdGlvbiA9IGFzeW5jICgpID0+IHsKCXRyeSB7CgkJLy8gSW5pdCB0aGUgbGl2ZW5lc3MgbW92ZSBzdGFiaWxpemF0aW9uCgkJZXh0cmFjdG9yLmluaXRMaXZlbmVzc0hNQ0NTdGFiaWxpemF0aW9uKCk7CgkJLy8gU2VuZCBtZXNzYWdlIGludG8gd29ya2VyIGJ1cwoJCXNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICdpbml0TGl2ZW5lc3NNb3ZlU3RhYmlsaXphdGlvbicgfSk7Cgl9IGNhdGNoIChlcnJvcikgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICdpbml0TGl2ZW5lc3NNb3ZlU3RhYmlsaXphdGlvbicsCgkJCWV4Y2VwdGlvbjogYENyaXRpY2FsIGVycm9yIGhhcyBvY2N1cnJlZCBpbiBpbml0aWFsaXppbmcgbGl2ZW5lc3MgbW92ZSBzdGFiaWxpemF0aW9uIG1vZGU6ICR7ZXJyb3J9YCwKCQl9KTsKCX0KfTsKCi8qKgogKiBFdmVudCB0byBnZXQgdGhlIG5leHQgbGl2ZW5lc3MgbW92ZSBzdGFiaWxpemF0aW9uIGZyYW1lCiAqCiAqIEBwYXJhbSB7b2JqZWN0fSBtZXNzYWdlIFRoZSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gTWFpbiBUaHJlYWQKICogQHJldHVybnMge3ZvaWR9CiAqLwpjb25zdCBuZXh0TGl2ZW5lc3NNb3ZlU3RhYmlsaXphdGlvbiA9IGFzeW5jIChtZXNzYWdlKSA9PiB7Cgl0cnkgewoJCS8vIFByZXBhcmUgcG9zdCBtZXNzYWdlCgkJbGV0IHJldHVybkpzb24gPSB7IGNtZDogJ25leHRMaXZlbmVzc01vdmVTdGFiaWxpemF0aW9uJyB9OwoKCQkvLyBQcmVwYXJlIHRoZSBpbWFnZSBmb3IgcGFzcyB0aGUgbGl2ZW5lc3MgbW9kZSBleHRyYWN0aW9uCgkJY29uc3QgZnBoaUltYWdlID0gaW5zdGFuY2UuSW1hZ2UuZ2V0RlBoaUltYWdlKAoJCQltZXNzYWdlLmRhdGEsCgkJCW1lc3NhZ2UuaGVpZ2h0LAoJCQltZXNzYWdlLndpZHRoLAoJCQlpbnN0YW5jZS5JbWFnZUZvcm1hdC5SR0JBXzMyYnBwLAoJCSk7CgkJY29uc3QgZXh0cmFjdGlvblJlc3VsdCA9IGV4dHJhY3Rvci5uZXh0TGl2ZW5lc3NITUNDU3RhYmlsaXphdGlvbihmcGhpSW1hZ2UsIHBlcmZvcm1hbmNlLm5vdygpKTsKCgkJLy8gU2F2ZSB0aGUgbGFzdCBleHRyYWN0aW9uIHJlc3VsdAoJCWlmIChsYXN0RXh0cmFjdGlvblJlc3VsdCAhPT0gbnVsbCkgewoJCQlsYXN0RXh0cmFjdGlvblJlc3VsdC5kZWxldGUoKTsKCQl9CgoJCWxhc3RFeHRyYWN0aW9uUmVzdWx0ID0gZXh0cmFjdGlvblJlc3VsdDsKCgkJLy8gUHJvY2VzcyB0aGUgZXh0cmFjdGlvbiByZXN1bHRzCgkJcmV0dXJuSnNvbiA9IHByb2Nlc3NFeHRyYWN0aW9uUmVzdWx0cyhpbnN0YW5jZSwgcmV0dXJuSnNvbiwgZXh0cmFjdGlvblJlc3VsdCk7CgkJcmV0dXJuSnNvbi5mYWNlU3RhYmlsaXplZCA9IGV4dHJhY3Rpb25SZXN1bHQuZ2V0RmFjZVN0YWJpbGl6ZWRTdGF0dXMoKTsKCgkJLy8gRGVsZXRlIHRoZSByZXN0IG9mIGluc3RhbmNlcwoJCWRlbGV0ZVdhc21WYXIoZnBoaUltYWdlKTsKCgkJLy8gU2VuZCBtZXNzYWdlIGludG8gd29ya2VyIGJ1cwoJCXNlbGYucG9zdE1lc3NhZ2UocmV0dXJuSnNvbik7Cgl9IGNhdGNoIChlcnJvcikgewoJCXNlbGYucG9zdE1lc3NhZ2UoewoJCQljbWQ6ICduZXh0TGl2ZW5lc3NNb3ZlU3RhYmlsaXphdGlvbicsCgkJCWV4Y2VwdGlvbjogYENyaXRpY2FsIGVycm9yIGhhcyBvY2N1cnJlZCBhdCBlbmdpbmUgc3RhYmlsaXppbmcgaW1hZ2UgYmVmb3JlIHVzZXIgZmFjZSBleHRyYWN0aW9uOiAke2Vycm9yfWAsCgkJfSk7Cgl9Cn07CgovKioKICogR2V0IHRoZSBleHRyYWN0b3IgdmVyc2lvbiBmcm9tIFdlYkFzc2VtYmx5IHNpZGUuCiAqCiAqIEByZXR1cm5zIHt2b2lkfQogKi8KY29uc3QgdmVyc2lvbiA9IGFzeW5jICgpID0+IHsKCXRyeSB7CgkJY29uc3QgcmV0dXJuSnNvbiA9IHsgY21kOiAndmVyc2lvbicgfTsKCgkJcmV0dXJuSnNvbi52ZXJzaW9uID0gaW5zdGFuY2UuRXh0cmFjdG9yLmdldFZlcnNpb24oKTsKCgkJc2VsZi5wb3N0TWVzc2FnZShyZXR1cm5Kc29uKTsKCX0gY2F0Y2ggKGVycm9yKSB7CgkJc2VsZi5wb3N0TWVzc2FnZSh7CgkJCWNtZDogJ3ZlcnNpb24nLAoJCQlleGNlcHRpb246IGBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgZ2V0dGluZyB2ZXJzaW9uIGZyb20gZW5naW5lOiAke2Vycm9yfWAsCgkJfSk7Cgl9Cn07CgovKioKICogRW50cnlwb2ludCBvZiBtZXNzYWdlIGRhdGEgcmVjZWl2ZWQKICoKICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2UgdGhlIG9iamVjdCBvZiB0aGUgZXZlbnQKICovCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgpzZWxmLm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7Cglzd2l0Y2ggKG1lc3NhZ2UuZGF0YS5jbWQpIHsKCQljYXNlICdwcmVJbml0JzoKCQkJcHJlbG9hZEluaXRFeHRyYWN0b3IobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnaW5pdCc6CgkJCWluaXRpYWxpemVFeHRyYWN0b3IobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAndG9rZW5pemUnOgoJCQl0b2tlbml6ZShtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdkZXRlY3QnOgoJCQlkZXRlY3QobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnaW5pdFN0cmVhbUV4dHJhY3Rpb24nOgoJCQlpbml0U3RyZWFtRXh0cmFjdGlvbihtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdleHRyYWN0TmV4dFNtYXJ0JzoKCQkJZXh0cmFjdE5leHRTbWFydChtZXNzYWdlLmRhdGEpOwoJCQlicmVhazsKCQljYXNlICdpbml0TGl2ZW5lc3NNb3ZlU3RhYmlsaXphdGlvbic6CgkJCWluaXRMaXZlbmVzc01vdmVTdGFiaWxpemF0aW9uKG1lc3NhZ2UuZGF0YSk7CgkJCWJyZWFrOwoJCWNhc2UgJ25leHRMaXZlbmVzc01vdmVTdGFiaWxpemF0aW9uJzoKCQkJbmV4dExpdmVuZXNzTW92ZVN0YWJpbGl6YXRpb24obWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAndmVyc2lvbic6CgkJCXZlcnNpb24obWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7CgkJY2FzZSAnZGVzdHJveSc6CgkJCWRlc3Ryb3kobWVzc2FnZS5kYXRhKTsKCQkJYnJlYWs7Cgl9Cn07Cg==";var ImageFormat;(function(A){A[A.None=0]="None",A[A.Gray_8bpp=1]="Gray_8bpp",A[A.RGB_24bpp=2]="RGB_24bpp",A[A.BGR_24bpp=3]="BGR_24bpp",A[A.ARGB_32bpp=4]="ARGB_32bpp",A[A.YUV_NV21=5]="YUV_NV21",A[A.ABGR_32bpp=6]="ABGR_32bpp",A[A.BGRA_32bpp=7]="BGRA_32bpp",A[A.RGBA_32bpp=8]="RGBA_32bpp"})(ImageFormat||(ImageFormat={}));class FacephiEngine{constructor(c){this.__licenseKey="",this.__engineLocation="",this.__minIOD=40,this.__mapperToRealConfig(c);const u=URL.createObjectURL(new Blob([window.atob(workerBase64Data)],{type:"text/javascript"}));this.__worker=new Worker(u,{type:"module"})}async initializeEngine(){const c=this.__engineLocation||DefaultEngineLocation;this.__worker.postMessage({cmd:"preInit",licenseKey:this.__licenseKey,engineLocation:c}),await new Promise((u,p)=>{this.__worker.onmessage=I=>{I.data.cmd==="ready"&&(I.data.exception?p(new Error(I.data.exception)):u())}}),this.__worker.postMessage({cmd:"init",minIOD:this.__minIOD}),await new Promise((u,p)=>{this.__worker.onmessage=I=>{I.data.exception?p(new Error(I.data.exception)):I.data.cmd==="init"?this.__worker.postMessage({cmd:"initLivenessMoveStabilization"}):I.data.cmd==="initLivenessMoveStabilization"?this.__worker.postMessage({cmd:"initStreamExtraction",extractionMode:0}):I.data.cmd==="initStreamExtraction"&&u()}})}detect(c){return new Promise((u,p)=>{this.__worker.onmessage=I=>{I.data.cmd==="detect"&&(I.data.exception?p(new Error(I.data.exception)):u(this.__cleanOutputWorker(I.data)))},this.__worker.postMessage({cmd:"detect",data:c.data,width:c.width,height:c.height,format:ImageFormat.RGBA_32bpp})})}extractionNextSmart(c){return new Promise((u,p)=>{this.__worker.onmessage=I=>{I.data.cmd==="extractNextSmart"&&(I.data.exception?p(new Error(I.data.exception)):u(this.__cleanOutputWorker(I.data)))},this.__worker.postMessage({cmd:"extractNextSmart",data:c.data,width:c.width,height:c.height,format:ImageFormat.RGBA_32bpp})})}nextLivenessMoveStabilization(c){return new Promise((u,p)=>{this.__worker.onmessage=I=>{I.data.cmd==="nextLivenessMoveStabilization"&&(I.data.exception?p(new Error(I.data.exception)):u(this.__cleanOutputWorker(I.data)))},this.__worker.postMessage({cmd:"nextLivenessMoveStabilization",data:c.data,width:c.width,height:c.height,format:ImageFormat.RGBA_32bpp})})}tokenize(c){return new Promise((u,p)=>{this.__worker.onmessage=I=>{I.data.cmd==="tokenize"&&(I.data.exception?p(new Error(I.data.exception)):u(I.data.data))},this.__worker.postMessage({cmd:"tokenize",data:c})})}getVersion(){return new Promise((c,u)=>{this.__worker.onmessage=p=>{p.data.cmd==="version"&&(p.data.exception?u(new Error(p.data.exception)):c(p.data.version))},this.__worker.postMessage({cmd:"version"})})}async finalizeEngine(){return new Promise((c,u)=>{this.__worker.onmessage=p=>{p.data.cmd==="destroy"&&(p.data.exception?u(new Error(p.data.exception)):c())},this.__worker.postMessage({cmd:"destroy"})})}get __attributes(){return{minIOD:{type:"string",property:"__minIOD"},licenseKey:{type:"string",property:"__licenseKey"},engineLocation:{type:"string",property:"__engineLocation"}}}__mapperToRealConfig(c){for(const[u,p]of Object.entries(c))if(this.__attributes[u]!==void 0){const I=this.__attributes[u].property;this[I]=p}}__cleanOutputWorker(c){return{sampleDiagnostic:c.sampleDiagnostic,template:c.template,templateRaw:c.templateRaw,face:c.face,leftEye:c.leftEye,rightEye:c.rightEye,templateScore:c.templateScore,facialScore:c.facialScore,sunGlassesScore:c.sunGlassesScore,faceStabilized:c.faceStabilized,yaw:c.yaw,pitch:c.pitch}}}let engineInstance=null;const createSelphiMachine=A=>createMachine({id:"selphi",initial:"initializing",predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{},services:{}},context:{engineMessage:null,diagnostic:{sampleDiagnostic:null,faceStabilized:null,timeout:null},livenessMove:null,extractionResult:null,error:null,extractionEnabled:null,engineConfig:A},states:{initializing:{invoke:{src:"init",onError:{target:"error",actions:"setError"},onDone:[{target:"liveness",cond:"isLivenessEnabled",actions:"setEngineMessage"},{target:"ready",actions:"setEngineMessage"}]}},ready:{on:{analyzeImage:{target:"analyzing"},faceTracking:{target:"faceTracking"},finishProcess:{target:"finish"},reinitialize:{target:"ready",actions:["resetContext","resetExtractionEnabled"]},goToExtraction:{target:"ready",actions:["resetContext","setExtractionEnabled"]},timeout:{target:"ready",actions:"setTimeout"}}},faceTracking:{entry:"resetContext",invoke:{src:"analyze",onError:{target:"error",actions:"setError"},onDone:{target:"ready",actions:"setFaceTracking"}},on:{finishProcess:{target:"finish"},goToExtraction:{target:"ready",actions:["resetContext","setExtractionEnabled"]}}},liveness:{on:{goToExtraction:{target:"ready",actions:["resetContext","setExtractionEnabled"]},analyzeLiveness:{target:"analyzingLiveness"},faceTracking:{target:"analyzingLiveness"},resetLiveness:{target:"liveness",actions:"resetLiveness"},timeout:{target:"liveness",actions:"setTimeout"},finishProcess:{target:"finish"}}},analyzingLiveness:{entry:"resetContext",invoke:{src:"analyzeLiveness",onDone:{target:"liveness",actions:"setLiveness"},onError:{target:"error",actions:"setError"}},on:{timeout:{target:"liveness",actions:"setTimeout"},resetLiveness:{target:"liveness",actions:"resetLiveness"},finishProcess:{target:"finish"}}},analyzing:{entry:"resetContext",invoke:{src:"analyze",onError:{target:"error",actions:"setError"},onDone:[{target:"previewImage",cond:"isExtractionValid",actions:"setExtraction"},{target:"ready",actions:"setDiagnostic"}]},on:{timeout:{target:"ready",actions:"setTimeout"},finishProcess:{target:"finish"}}},previewImage:{on:{finishProcess:{target:"finish"},reinitialize:{target:"ready",actions:["resetContext","resetExtractionEnabled"]}}},finish:{entry:"resetContext",invoke:{src:"finalize",onError:{target:"error",actions:"setError"},onDone:{target:"end",actions:"setFinishProcess"}}},error:{on:{finishProcess:{target:"finish"}}},end:{type:"final"}}},{guards:{isExtractionValid:(c,u)=>u.data.extractionResult.sampleDiagnostic===DIAGNOSTIC.Ok&&u.data.extractionResult.faceStabilized===void 0||u.data.extractionResult.sampleDiagnostic===DIAGNOSTIC.Ok&&(u.data.extractionResult.faceStabilized===STABILIZATION_DIAGNOSTIC.Ok||u.data.extractionResult.faceStabilized===STABILIZATION_DIAGNOSTIC.OkGlasses),isLivenessEnabled:(c,u)=>!!c.engineConfig.livenessMoveSteps},actions:{setEngineMessage:assign({engineMessage:(c,u)=>{var p;return((p=u.data)===null||p===void 0?void 0:p.message)||null}}),setError:assign({error:(c,u)=>{var p;return((p=u.data)===null||p===void 0?void 0:p.message)||null}}),setDiagnostic:assign({diagnostic:(c,u)=>{var p,I;return{sampleDiagnostic:(p=u.data)===null||p===void 0?void 0:p.extractionResult.sampleDiagnostic,faceStabilized:(I=u.data)===null||I===void 0?void 0:I.extractionResult.faceStabilized,timeout:null}}}),setFaceTracking:assign({extractionResult:(c,u)=>{var p;return((p=u.data)===null||p===void 0?void 0:p.extractionResult.face)||null}}),setExtractionEnabled:assign({extractionEnabled:(c,u)=>u.data}),setLiveness:assign({livenessMove:(c,u)=>{var p,I,m;return{pitch:(p=u.data)===null||p===void 0?void 0:p.pitch,yaw:(I=u.data)===null||I===void 0?void 0:I.yaw,stabilization:(m=u.data)===null||m===void 0?void 0:m.stabilization}}}),setExtraction:assign({diagnostic:(c,u)=>{var p,I;return{sampleDiagnostic:(p=u.data)===null||p===void 0?void 0:p.extractionResult.sampleDiagnostic,faceStabilized:(I=u.data)===null||I===void 0?void 0:I.extractionResult.faceStabilized,timeout:null}},extractionResult:(c,u)=>{var p;return((p=u.data)===null||p===void 0?void 0:p.extractionResult)||null}}),setTimeout:assign({diagnostic:(c,u)=>({sampleDiagnostic:null,faceStabilized:null,timeout:u.data})}),setFinishProcess:assign({engineMessage:(c,u)=>{var p;return((p=u.data)===null||p===void 0?void 0:p.message)||null},extractionResult:(c,u)=>u.data.tokenizedTemplate}),resetContext:assign({engineMessage:()=>null,extractionResult:()=>null,diagnostic:()=>({sampleDiagnostic:null,faceStabilized:null,timeout:null}),error:()=>null}),resetExtractionEnabled:assign({extractionEnabled:()=>null}),resetLiveness:assign({livenessMove:()=>({pitch:null,yaw:null,stabilization:null}),diagnostic:()=>({sampleDiagnostic:null,faceStabilized:null,timeout:null}),extractionResult:()=>null})},services:{init:async c=>{try{return c.engineConfig.advancedTracking&&initializeAdvancedTracking(),engineInstance=new FacephiEngine({minIOD:40,engineLocation:c.engineConfig.engineLocation}),await engineInstance.initializeEngine(),{message:"State machine and engine initialized and running..."}}catch(u){throw{message:`Engine ${u}`}}},analyzeLiveness:async(c,u)=>{var p,I;try{const m=(p=u.data)===null||p===void 0?void 0:p.image;let R;switch(u.data.extractionType){case EXTRACTION_TYPE.detect:R=await engineInstance.detect(m),c.extractionResult=R.face;break;case EXTRACTION_TYPE.extractionNextSmart:{let S=null;return((I=c.livenessMove)===null||I===void 0?void 0:I.stabilization)!==STABILIZATION_DIAGNOSTIC.Ok?(R=await engineInstance.nextLivenessMoveStabilization(m),S=R.faceStabilized,R.sampleDiagnostic===DIAGNOSTIC.Ok&&(R.faceStabilized===STABILIZATION_DIAGNOSTIC.Ok||R.faceStabilized===STABILIZATION_DIAGNOSTIC.OkGlasses)&&(S=STABILIZATION_DIAGNOSTIC.Ok)):(R=await engineInstance.detect(m),S=STABILIZATION_DIAGNOSTIC.Ok),{pitch:R.pitch,yaw:R.yaw,stabilization:S}}}}catch(m){throw{message:`Engine ${m}`}}},analyze:async(c,u)=>{var p;try{const I=(p=u.data)===null||p===void 0?void 0:p.image;let m;switch(u.data.extractionType){case EXTRACTION_TYPE.detect:return m=await engineInstance.detect(I),{extractionResult:m};case EXTRACTION_TYPE.extractionNextSmart:{addAdvancedTrackingBeginPhase(SelphiPhaseNames.Extraction);const R=Date.now();return m=await engineInstance.extractionNextSmart(I),addAdvancedTrackingExtractionEvent(R,Date.now()-R,m,I),{extractionResult:m}}case EXTRACTION_TYPE.nextLivenessMoveStabilization:{addAdvancedTrackingBeginPhase(SelphiPhaseNames.Stabilization);const R=Date.now();if(m=await engineInstance.nextLivenessMoveStabilization(I),addAdvancedTrackingExtractionEvent(R,Date.now()-R,m,I),m.sampleDiagnostic===DIAGNOSTIC.Ok&&(m.faceStabilized===STABILIZATION_DIAGNOSTIC.Ok||m.faceStabilized===STABILIZATION_DIAGNOSTIC.OkGlasses)){const S=m.faceStabilized;addAdvancedTrackingBeginPhase(SelphiPhaseNames.Extraction);const N=Date.now();return m=await engineInstance.extractionNextSmart(I),addAdvancedTrackingExtractionEvent(N,Date.now()-N,m,I),{extractionResult:Object.assign(Object.assign({},m),{faceStabilized:S})}}return{extractionResult:m}}}}catch(I){throw{message:`Engine ${I}`}}},finalize:async(c,u)=>{try{if(engineInstance!=null){let p=null;return u.data!==null&&(p=await engineInstance.tokenize(u.data.imageToTokenize)),await engineInstance.finalizeEngine(),{message:"Selphi engine instance has been finalized and worker has been destroyed",tokenizedTemplate:p}}}catch(p){throw{message:`Engine ${p}`}}}}});class SelphiService{getParams(c){return Object.assign({timestamp:new Date().getTime()},c.context)}constructor(c){const u=createSelphiMachine(c);SelphiService.interpreter=interpret(u).onTransition(p=>{if(p.changed){const I=Object.values(SelphiService.events);for(const{type:m,callback:R}of I)(m!=null&&m.includes(p.value)||m===p.value)&&R(this.getParams(p))}}),SelphiService.interpreter.start()}static createInstance(c){return SelphiService.interpreter=null,SelphiService.interpreter||(SelphiService.instance=new SelphiService(c)),SelphiService.instance}dispatch(c){SelphiService.interpreter.send(c)}checkSubscription(c,u){const p=SelphiService.interpreter.getSnapshot();p.matches(c)&&u(this.getParams(p))}subscribe(c,u){this.checkSubscription(c,u);const p=v4();return SelphiService.events[p]={type:c,callback:u},p}unsubscribe(c){c&&delete SelphiService.events[c]}stop(){var c;(c=SelphiService.interpreter)===null||c===void 0||c.stop(),delete SelphiService.instance}}SelphiService.events={};const v$3="5.9.0",fr$3=25,ip$3=0,op$3=40,w$3=1923,h$3=1923,nm$3="AA_ AUTH_Active Liveness_ Arrow_Down",ddd$3=0,assets$3=[],layers$3=[{ddd:0,ind:1,ty:4,nm:"anim_color_success_50",parent:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:1,s:[187.492,-563.626,0],to:[0,0,0],ti:[0,0,0]},{t:39,s:[187.492,653.374,0]}],ix:2,l:2},a:{a:0,k:[961.445,513.445,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-62.396,-25.673],[43.44,42.019],[26.284,-8.333],[62.396,-46.702]],c:!0},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Relleno 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[962.411,502.172],ix:2},a:{a:0,k:[24.227,-8.75],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:-102,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:1,op:39,st:1,bm:0},{ddd:0,ind:2,ty:4,nm:"anim_color_success_50",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[770.5,961.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[190.5,-561.5],[190.5,682.5]],c:!1},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:31.825,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Forma 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:1,s:[0]},{t:39,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Recortar trazados 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:1,op:39,st:1,bm:0}],markers$3=[{tm:0,cm:"1",dr:0},{tm:40,cm:"2",dr:0},{tm:75,cm:"3",dr:0}],activeLivenessArrowDown={v:v$3,fr:fr$3,ip:ip$3,op:op$3,w:w$3,h:h$3,nm:nm$3,ddd:ddd$3,assets:assets$3,layers:layers$3,markers:markers$3},v$2="5.9.0",fr$2=25,ip$2=0,op$2=49,w$2=1923,h$2=1923,nm$2="AA_FaceVerif_Active_Liveness_Arrow_Left",ddd$2=0,assets$2=[],layers$2=[{ddd:0,ind:1,ty:4,nm:"anim_color_success_50",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:3,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[961.445,1002.949,0],ix:2,l:2},a:{a:0,k:[961.445,961.445,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-62.396,-25.673],[41.422,46.702],[24.786,-6.096],[62.396,-46.702]],c:!0},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Relleno 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.333,y:0},t:0,s:[1258.885,1088.882],to:[-20.876,3.526],ti:[39.262,-6.632]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:5,s:[1460.678,1168.457],to:[-26.053,4.401],ti:[38.499,-3.917]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:9,s:[1378.65,1216.918],to:[-109.562,11.147],ti:[139.496,.426]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25,s:[975.651,1256.646],to:[-150.891,-.461],ti:[42.643,-7.203]},{t:38,s:[648.127,1233.25]}],ix:2},a:{a:0,k:[24.227,-6.75],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.299],y:[0]},t:0,s:[-175]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:2,s:[-181.171]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[-49.072]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:8,s:[-44.974]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:13,s:[-30.522]},{t:38,s:[0]}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-128.228,0],[0,49.373],[71.601,15.612]],o:[[86.174,15.225],[265.419,0],[0,-22.13],[0,0]],v:[[-405.741,49.128],[-74.841,73.695],[405.741,-15.703],[290.916,-73.696]],c:!1},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:1,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:3,s:[98]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[85]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:9,s:[76.545]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:11,s:[68]},{t:38,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:33,s:[100]},{t:48,s:[0]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Recortar trazados 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:31.825,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[1053.383,1185.862],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:48,st:0,bm:0}],markers$2=[],activeLivenessArrowLeft={v:v$2,fr:fr$2,ip:ip$2,op:op$2,w:w$2,h:h$2,nm:nm$2,ddd:ddd$2,assets:assets$2,layers:layers$2,markers:markers$2},v$1="5.9.0",fr$1=25,ip$1=0,op$1=53,w$1=1923,h$1=1923,nm$1="AA_FaceVerif_Active_Liveness_Arrow_Right",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"anim_color_success_50",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:2,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[961.445,1002.949,0],ix:2,l:2},a:{a:0,k:[961.445,961.445,0],ix:1,l:2},s:{a:0,k:[-100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-62.396,-25.673],[41.422,46.702],[24.786,-6.096],[62.396,-46.702]],c:!0},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Relleno 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.333,y:0},t:0,s:[1348.885,1114.882],to:[-20.876,3.526],ti:[39.262,-6.632]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:5,s:[1460.678,1168.457],to:[-26.053,4.401],ti:[38.499,-3.917]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:9,s:[1378.65,1216.918],to:[-109.562,11.147],ti:[139.496,.426]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:25,s:[975.651,1256.646],to:[-150.891,-.461],ti:[42.643,-7.203]},{t:38,s:[648.127,1233.25]}],ix:2},a:{a:0,k:[24.227,-6.75],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.333],y:[0]},t:0,s:[-175]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[-44.974]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:9,s:[-30.522]},{t:38,s:[0]}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-128.228,0],[0,49.373],[71.601,15.612]],o:[[86.174,15.225],[265.419,0],[0,-22.13],[0,0]],v:[[-405.741,49.128],[-74.841,73.695],[405.741,-15.703],[290.916,-73.696]],c:!1},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:24,s:[36.624]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:31,s:[23.421]},{t:38,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:29,s:[100]},{t:51,s:[0]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Recortar trazados 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:31.825,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[1053.383,1185.862],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:52,st:0,bm:0}],markers$1=[],activeLivenessArrowRight={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},v="5.9.0",fr=25,ip=0,op=40,w=1923,h=1923,nm="AA_ AUTH_Active Liveness_ Arrow_Up",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"anim_color_success_50",parent:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:1,s:[188.508,-561.374,0],to:[0,0,0],ti:[0,0,0]},{t:39,s:[188.508,659.626,0]}],ix:2,l:2},a:{a:0,k:[961.445,513.445,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-62.396,-25.673],[43.44,42.019],[26.284,-8.333],[62.396,-46.702]],c:!0},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Relleno 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[962.411,502.172],ix:2},a:{a:0,k:[24.227,-8.75],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:-102,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:1,op:39,st:1,bm:0},{ddd:0,ind:2,ty:4,nm:"anim_color_success_50",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:180,ix:10},p:{a:0,k:[958.5,1025.5,0],ix:2,l:2},a:{a:0,k:[188,64,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[190.5,-561.5],[190.5,682.5]],c:!1},ix:2},nm:"Trazado 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.372549019608,.788235353956,.509803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:31.825,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Forma 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:1,s:[0]},{t:39,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Recortar trazados 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:1,op:39,st:1,bm:0}],markers=[{tm:0,cm:"1",dr:0},{tm:40,cm:"2",dr:0},{tm:75,cm:"3",dr:0}],activeLivenessArrowUp={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},selphiWidgetCss=`:host {
    /* GENERIC CSS VARIABLES */
    /*Color variables*/
    --color-background: #FFFFFF;
    --color-primary: #3167FC;
    --color-secondary: #FFFFFF;
    --color-hover: #2B50B6;
    --color-primary-text: #2B303C;
    --color-secondary-text: #1D2C4D;
    --color-progress-bar-background: transparent;
    --color-progress-bar:#3167FC;
    --color-capture-fail: #EB184C;
    --color-capture-success:#07A13A;
    --color-capture-warning:#EB6A00;
    --color-liveness-arrow: #5FC982;
    --color-error-icon: #F24C45;
    --color-browser-icon-background: transparent;
    --color-debug-error-message: #FF0000;
    --color-loading-camera-background: #000000;
    /*Text variables*/
    --primary-font: "Poppins-Regular";
    --primary-font-weight: 400;
    --secondary-font: "Poppins-Semibold";
    --secondary-font-weight: 600;
    --text-font-size: 1em;
    --title-font-size: 1.4em;
    --line-height: 1.75em;
    --text-align: center;
    --vertical-align: center;
    /*Miscellaneous variables*/
    --progress-bar-width: 0.5em;
    --border-radius: 0.5em;
    /*Loading animation color*/
    --color-loading: #1D2C4D;
    /*Tutorial animation colors*/
    --color-tutorial-background: #EAEEF6;
    --color-tutorial-progress: #5FC982;
    --color-tutorial-tshirt: #3167FC;
    --color-tutorial-earrings: #F4A485;
    /*Toggle logo*/
    --display-logo: none;
    font-size: 16px;
}

/*******************************
 * Reset and normalize styles *
 *******************************/

/*
  1. Use a more-intuitive box-sizing model.
*/
*, *::before, *::after {
    box-sizing: border-box;
}
/*
2. Remove default margin
*/
* {
    margin: 0;
}
/*
Typographic tweaks!
3. Add accessible line-height
4. Improve text rendering
*/
body {
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
}
/*
6. Remove built-in form typography styles
*/
input, button, textarea, select {
    font: inherit;
}
/*
7. Avoid text overflows
*/
p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
}
/*
8. Create a root stacking context
*/
#root, #__next {
    isolation: isolate;
}

/*******************************
 * Common styles *
 *******************************/

.view__container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 1em;
    background: var(--color-background);

    .top__section {
        height: 4em;
        display: flex;
        align-items: center;

        widget-header {
            width: 100%;
        }
    }

    .main__bottom__wrapper {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        max-height: calc(100cqh - 5em);

        .main__section {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5em;
            min-height: 0;
            min-width: 0;

            .info-text {
                color: var(--color-secondary-text);
                font-family: var(--primary-font), "Verdana", sans-serif;
                font-weight: var(--primary-font-weight);
                font-size: var(--text-font-size);
                line-height: var(--line-height);
                width: 80%;
                max-width: 23em;
                text-align: center;
                margin: 0;
                min-height: 3.5em;
                display: flex;
                justify-content: center;
                align-items: var(--vertical-align);

                &.with-error {
                    color: var(--color-capture-fail);
                }
            }
        }

        .bottom__section {
            position: relative;
            display: grid;
            grid-template-columns: 0.5fr 2fr 0.5fr;
            grid-template-rows: 1fr;
            grid-column-gap: 1em;
            align-items: center;
            padding: 1em 0em;

            widget-button {
               display: flex;
               justify-content: center;
            }

            .bottom__section__actions {
                width: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 1em;
            }
        }
    }
}
:host {
  display: block;
  position: relative;
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  min-height: 280px;
  min-width: 280px;
}

.viewContainer,
.viewContainer > * {
  width: 100%;
  height: 100%;
  min-height: 460px;
  min-width: 300px;
  animation: fade-in 0.5s ease-in-out;
}

selphi-loading-view, selphi-capture-view, selphi-preview-view, selphi-tutorial-view, selphi-error-view {
  display: block;
}

.test__content {
  color: red;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}`,FacephiSelphiStyle0=selphiWidgetCss,SelphiWidget$1=class{constructor(c){registerInstance(this,c),this.widgetLoaded=createEvent(this,"widgetLoaded"),this.extractionFinish=createEvent(this,"extractionFinish"),this.extractionTimeout=createEvent(this,"extractionTimeout"),this.timeoutButtonClick=createEvent(this,"timeoutButtonClick"),this.exceptionCaptured=createEvent(this,"exceptionCaptured"),this.errorTimeout=createEvent(this,"errorTimeout"),this.userCancel=createEvent(this,"userCancel"),this.stabilizing=createEvent(this,"stabilizing"),this.trackStatus=createEvent(this,"trackStatus");var u,p;this.closeWidgetBeforeFullInitialization=!1,this.cameraMirror=CameraType.User,this.currentState=null,this.cameraNumber=0,this.allowedToGenerateCameraList=!0,this.fixedCameraId=null,this.videoBuffer=document.createElement("video"),this.validatedFrames=[],this.timeoutExecuted=!1,this.startExtractionWithoutInteractible=!1,this.onTutorialWhileExtracting=!1,this.recorder=null,this.recordedVideo=null,this.antispoofService=null,this.firstAntispoofInstance=!0,this.encryptedLivenessRaw=null,this.encryptedLiveness=null,this.livenessMoveResult=null,this.tokenizedLivenessMoveResult=null,this.livenessMoveTokenizingFailed=!1,this.widgetWasStopped=!1,this.diagnosticTracker=null,this.totalDiagnosticProcessTime=0,this.debugExceptionGenerated=!1,this.fileTag="controller",this.progressValue=1,this.isWidgetSettingsError=!1,this.settings=void 0,this.widgetView=WIDGETVIEWS.Loading_View,this.setProgress=0,this.faceExtracted=void 0,this.cameraStream=void 0,!((p=(u=this.settings)===null||u===void 0?void 0:u.graphicResources)===null||p===void 0)&&p.loadingAnimation&&(config_store.graphicResources.loadingAnimation=this.settings.graphicResources.loadingAnimation)}async updateWidgetSettings(){var c;try{this.settings&&(checkWidgetPropValues(this.settings),Object.assign(config_store,this.settings))}catch(u){!((c=this.settings)===null||c===void 0)&&c.language&&(Object.values(Language).includes(this.settings.language.toLowerCase().trim())?config_store.language=this.settings.language:await fetchCustomLanguage(this.settings.language)),this.generateException(ExceptionType.SettingsError,u),this.isWidgetSettingsError=!0,this.disconnectedCallback()}!this.isWidgetSettingsError&&config_store.debug&&console.table(Object.assign(Object.assign({},config_store),{externalCamera:config_store.externalCamera?config_store.externalCamera.getVideoTracks()[0].getSettings().deviceId:null,graphicResources:config_store.graphicResources?`loadingAnimation: ${config_store.graphicResources.loadingAnimation||'""'}, tutorialAnimations: [${config_store.graphicResources.tutorialAnimations.length?config_store.graphicResources.tutorialAnimations.join(","):""}], logo: ${config_store.graphicResources.logo||'""'}`:null}))}watchWidgetViewChange(c,u){u===WIDGETVIEWS.Loading_View&&c===WIDGETVIEWS.Selphi_Capture_View&&this.widgetLoaded.emit({eventType:EVENT_TYPE.WidgetLoaded,resolutionWidth:this.videoBuffer.width,resolutionHeight:this.videoBuffer.height,deviceType:this.deviceFeatures.isMobile?"Mobile / Tablet":"Computer",widgetVersion:WidgetVersion,camerasDeviceInfo:config_store.cameraSwitch?this.sortedDeviceCameras:"Camera selected by default",widgetConfiguration:{AdvancedTracking:config_store.advancedTracking,AndroidWebViewBehaviour:config_store.androidWebViewBehaviour,Antispoof:config_store.antispoof,Audible:config_store.audible,DisableTutorial:config_store.disableTutorial,DisableExit:config_store.disableExit,CameraHeight:config_store.cameraHeight,CameraId:this.fixedCameraId?`${this.fixedCameraId} (Fixed from value: ${config_store.cameraId})`:config_store.cameraId,CameraRotation:config_store.cameraRotation,CameraSwitch:config_store.cameraSwitch,CameraType:config_store.cameraType,CameraWidth:config_store.cameraWidth,CropFactor:config_store.cropFactor,Debug:config_store.debug,EngineLocation:config_store.engineLocation,ErrorTimer:config_store.errorTimer,ExternalCamera:config_store.externalCamera,FaceTracking:config_store.faceTracking,GraphicResources:config_store.graphicResources,ImageFormat:config_store.imageFormat,ImageQuality:config_store.imageQuality,Interactible:config_store.interactible,Language:config_store.language,LivenessMoveFailedAttempts:config_store.livenessMoveFailedAttempts,LivenessMoveSteps:config_store.livenessMoveSteps,LivenessMoveTimeout:config_store.livenessMoveTimeout,LogImages:config_store.logImages,PreviewImage:config_store.previewImage,SettingsStrictness:config_store.settingsStrictness,ShowLog:config_store.showLog,Stabilization:config_store.stabilization,TemplateFormat:config_store.templateFormat,Timeout:config_store.timeout,VideoRecord:config_store.videoRecord,VideoRecordAudio:config_store.videoRecordAudio,VideoRecordQuality:config_store.videoRecordQuality}}),u===WIDGETVIEWS.Selphi_Capture_View&&this.timeoutInstance&&(Logger.printInfo(this.fileTag,"Timeout instance with id",this.timeoutInstance," has been cleared"),clearTimeout(this.timeoutInstance),this.timeoutInstance=null),c===WIDGETVIEWS.Selphi_Capture_View&&(config_store.interactible?viewAsset_store.text=InlineDefaultMessages.StartExtractorTitle:viewAsset_store.text=InlineDefaultMessages.ExtractingTitle),config_store.audible&&c!==null&&SpeechSynthesisModule.CancelAudioTracks()}handleInfoClick(){this.previousView=this.widgetView,this.widgetView===WIDGETVIEWS.Selphi_Capture_View&&(this.onTutorialWhileExtracting=!0),addAdvancedTrackingBeginPhase(SelphiPhaseNames.Tutorial),addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonOpenTutorial),this.widgetView=WIDGETVIEWS.Tutorial_View,config_store.faceTracking&&this.enableFaceTrackingMode(!1),this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.tutorial)}async handleExitClick(){this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.exit),addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonClose),internal_store.widgetClosedByUserAction=!0;const c={eventType:EVENT_TYPE.UserCancel,message:"Widget has been closed by user action"};if(!config_store.debugException){const u=await getAdvancedTrackingBuffer();config_store.advancedTracking&&u&&(c.advancedTracking=u)}this.userCancel.emit(c),this.stateMachineService?this.stateMachineService.dispatch({type:EVENTS.finishProcess,data:null}):this.stopWidget()}handleBackClick(){this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.back),this.widgetView===WIDGETVIEWS.Tutorial_View&&(addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonCloseTutorial),this.previousView===WIDGETVIEWS.Preview_View&&addAdvancedTrackingBeginPhase(SelphiPhaseNames.ShowResultsFace),this.widgetView=this.previousView,config_store.faceTracking&&this.enableFaceTrackingMode(!0),Logger.printInfo(this.fileTag,`Going back to previous view (${this.previousView}) by user action, after showing tutorial`),config_store.livenessMoveSteps&&!activeLiveness_store.isSuccessful?this.restartActiveLiveness():this.widgetView===WIDGETVIEWS.Selphi_Capture_View&&(this.cleanExtractionVariables(),this.stateMachineService.dispatch({type:EVENTS.reinitialize})))}handleStartClick(){this.widgetView===WIDGETVIEWS.Tutorial_View&&this.onTutorialWhileExtracting||(config_store.audible&&SpeechSynthesisModule.CancelAudioTracks(),config_store.faceTracking&&this.enableFaceTrackingMode(!1),config_store.interactible||(this.startExtractionWithoutInteractible=!0),config_store.interactible&&addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonStart),viewAsset_store.text=InlineDefaultMessages.ExtractingTitle,config_store.livenessMoveSteps&&!activeLiveness_store.isSuccessful?this.startActiveLiveness():this.stateMachineService.dispatch({type:EVENTS.goToExtraction,data:!0}),this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.startCapture))}handleRepeatClick(){addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonRetry),this.cleanExtractionVariables(),config_store.faceTracking&&this.enableFaceTrackingMode(!0),this.widgetView=WIDGETVIEWS.Selphi_Capture_View,Logger.printInfo(this.fileTag,"Re-initiating image capture by user action"),this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.repeatExtraction),this.stateMachineService.dispatch({type:EVENTS.reinitialize})}async handleFinishClick(){if(config_store.previewImage&&addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonConfirm),config_store.livenessMoveSteps&&await this.tokenizeLivenessMove(!0),!this.livenessMoveTokenizingFailed){const c=generateBinaryStringImage(this.bestCapturedImage.image,config_store.imageFormat,config_store.imageQuality);this.stateMachineService.dispatch({type:EVENTS.finishProcess,data:{imageToTokenize:c}}),this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.finishExtraction)}}handleRetryClick(){this.errorTimeoutInstance&&(Logger.printInfo(this.fileTag,`Error timeout instance with id ${JSON.stringify(this.errorTimeoutInstance)} has been cleared`),clearTimeout(this.errorTimeoutInstance),this.errorTimeoutInstance=null),this.cleanExtractionVariables(),config_store.faceTracking&&this.enableFaceTrackingMode(!0),error_store.type===ExceptionType.ErrorTimeout&&this.timeoutButtonClick.emit({eventType:EVENT_TYPE.TimeoutButtonClick,message:"User is trying to capture image again after timeout event"}),addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonErrorRepeat),this.widgetView=WIDGETVIEWS.Selphi_Capture_View,Logger.printInfo(this.fileTag,"Re-initiating image capture by user action, after showing screen error"),this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.retryExtraction),this.stateMachineService.dispatch({type:EVENTS.reinitialize})}async handleSwitchCameraClick(){try{internal_store.userCameraLoaded=!1;let c;config_store.videoRecord&&this.recorder&&(c=await this.recorder.generateVideo(!1)),config_store.antispoof&&(internal_store.cameraIdUsed=null);const{newCameraInstance:u,facingMode:p}=await CameraModule.switchCamera(this.sortedDeviceCameras,this.cameraStream,config_store.cameraWidth,config_store.cameraHeight,getVideoRecordAudio());if(this.setCameraMirroringType(p),Logger.printInfo(this.fileTag,"Proceeding to switch the camera"),config_store.videoRecord&&this.recorder)try{c&&(this.recorder.replaceCurrentRecorder(u),this.recorder.startRecording().then(I=>{Logger.printDebug(this.fileTag,I)}))}catch(I){Logger.printError(this.fileTag,I)}this.cameraStream=u,await this.bindCameraStream(u),this.emitTrackStatus(TRACK_STATUS_TYPE.TapButton,TAP_BUTTON_TYPE.switchCamera),config_store.faceTracking&&config_store.interactible?this.waitingFaceStart():config_store.interactible||(this.timeoutExecuted=!1,this.handleRetryClick(),config_store.livenessMoveSteps&&!activeLiveness_store.isSuccessful&&this.restartActiveLiveness()),addAdvancedTrackingClickEvent(DataEventType.clickData,Date.now(),ClickableEventElements.buttonSwitchCamera)}catch(c){c.name===ExceptionType.CameraHardwareError?this.generateException(ExceptionType[c.name],c.message):(Logger.printInfo(this.fileTag,"Camera switch unsuccess."),Logger.printDebug(this.fileTag,c))}}async handleAntispoofErrorEvent(c){Logger.printError(this.fileTag,`Antispoof Error: ${c.detail.message}`),this.generateException(ExceptionType[c.detail.type],c.detail.message)}async handleAntiSpoofCaptureEvent(c){Logger.printDebug(this.fileTag,"Antispoof Capture successful, generating encrypted file..."),this.encryptedLivenessRaw=c.detail.encryptedLivenessRaw,this.encryptedLiveness=c.detail.encryptedLiveness}async handleStartWidgetFromAntispoof(c){Logger.printDebug(this.fileTag,"Setting antispoof video source..."),this.antispoofService=c.detail.component,this.firstAntispoofInstance&&(this.firstAntispoofInstance=!1,this.startWidget(performance.now()))}emitTrackStatus(c,u){this.trackStatus.emit({eventType:EVENT_TYPE.TrackStatus,[`${c}`]:u})}emitTimeout(c=EVENT_TYPE.ExtractionTimeout){this.extractionTimeout.emit({eventType:c,timeoutResult:{livenessMoveDiagnosticStatus:this.validatedFrames.length>0?DIAGNOSTIC[this.validatedFrames[this.validatedFrames.length-1].extractionResult.sampleDiagnostic]:DIAGNOSTIC[0],livenessMoveStabilizedStatus:STABILIZATION_DIAGNOSTIC[this.livenessMoveStabilizedStatus],images:this.validatedFrames.length}})}async emitErrorTimeout(c,u){const p={eventType:EVENT_TYPE.ErrorTimeout,exceptionType:c,message:u};if(!config_store.debugException){const I=await getAdvancedTrackingBuffer();config_store.advancedTracking&&I&&(p.advancedTracking=I)}config_store.livenessMoveSteps&&this.tokenizedLivenessMoveResult&&(p.livenessMoveResult=this.tokenizedLivenessMoveResult),this.errorTimeout.emit(p)}emitStabilizingEvent(c){this.stabilizing.emit({eventType:EVENT_TYPE.Stabilizing,diagnostic:c})}cleanExtractionVariables(){this.setProgress=0,this.validatedFrames=[],this.lastCapturedFrame=null,this.bestCapturedImage=null,this.extractedData=null,this.startExtractionWithoutInteractible=!1,this.diagnosticTracker=null,this.totalDiagnosticProcessTime=0,this.allowedToGenerateCameraList=!0,this.debugExceptionGenerated=!1,this.onTutorialWhileExtracting=!1}stopWidget(){if(this.widgetWasStopped=!0,!config_store.externalCamera&&this.cameraStream)for(const c of this.cameraStream.getTracks())c.stop(),Logger.printInfo(this.fileTag,`Media track from default camera stream with id: ${c.id} has been closed`);if(this.widgetView=null,this.cleanExtractionVariables(),this.errorTimeoutInstance&&(Logger.printInfo(this.fileTag,`Error timeout instance with id ${JSON.stringify(this.errorTimeoutInstance)} has been cleared`),clearTimeout(this.errorTimeoutInstance),this.errorTimeoutInstance=null),config_store.livenessMoveSteps&&LivenessMoveModule.clearTimeout(),this.stateMachineService!==null&&this.stateMachineService!==void 0&&(this.stateMachineService.unsubscribe(this.subscriptionInit),this.stateMachineService.unsubscribe(this.subscriptionReady),this.stateMachineService.unsubscribe(this.subscriptionLiveness),this.stateMachineService.unsubscribe(this.subscriptionError),this.stateMachineService.unsubscribe(this.subscriptionPreviewView),this.stateMachineService.unsubscribe(this.subscriptionEnd),Logger.printInfo(this.fileTag,"All subscriptions to state machine have been closed."),this.stateMachineService.stop(),this.stateMachineService=null,Logger.printInfo(this.fileTag,"State machine has been stopped and closed.")),reset_config_store(),reset_error_store(),reset_internal_store(),reset_viewAsset_store(),reset_activeLiveness_store(),this.recorder){const c=this.recorder.deinitializeEngine();Logger.printDebug(this.fileTag,c)}finalizeAdvancedTracking(),this.viewContainer&&this.viewContainer.remove()}enableFaceTrackingMode(c){this.isFaceTrackingEnabled=c}async bindCameraStream(c){if(this.videoBuffer){this.videoBuffer.playsInline=!0,this.videoBuffer.autoplay=!0,this.videoBuffer.muted=!0;const u=c.getVideoTracks()[0];let{width:p,height:I,deviceId:m}=u.getSettings();if(this.deviceFeatures.isAppleMobile&&!config_store.externalCamera?[p,I]=[I,p]:(this.deviceFeatures.isAppleDevice||this.deviceFeatures.isBrowserFirefox)&&window.screen.orientation.type.includes("portrait")&&p>I&&([p,I]=[I,p]),config_store.externalCamera&&(p>CAMERAWIDTH||I>CAMERAHEIGHT)){const{recalculatedBufferWidth:R,recalculatedBufferHeight:S}=calculateVideoResolution(p,I);this.videoBuffer.width=R,this.videoBuffer.height=S}else this.videoBuffer.width=p,this.videoBuffer.height=I;internal_store.cameraIdUsed=m,this.videoBuffer.onloadeddata=()=>{this.videoBuffer.play().catch(R=>{Logger.printError(this.fileTag,`Error binding the camera into internal buffer - ${R}`)})},this.videoBuffer.srcObject=c}}setCameraMirroringType(c){Logger.printInfo(this.fileTag,"Adjusting mirroring to selected camera.."),c===FacingMode.USER||(c==null?void 0:c[0])===FacingMode.USER||!c||!this.deviceFeatures.isMobile?this.cameraMirror=CameraType.User:(c===FacingMode.ENVIRONMENT||(c==null?void 0:c[0])===FacingMode.ENVIRONMENT)&&(this.cameraMirror=CameraType.Environment)}async setInitialCameraToPlay(c,u,p,I){try{const{cameraInstance:m,id:R,facingMode:S}=await CameraModule.getCamera(c,u,I,getVideoRecordAudio(),p);p===R?Logger.printInfo(this.fileTag,`We use the following camera for the authentication process: ${p}`):p?(this.fixedCameraId=R,Logger.printWarning(this.fileTag,"Camera ID provided by implementator is not present on the device, or there might be some misspelling mistake. Selecting the best camera for the authentication process")):Logger.printInfo(this.fileTag,"Selecting the best camera for the authentication process"),this.setCameraMirroringType(S),Logger.printDebug(this.fileTag,"Binding camera into internal buffer..."),this.cameraStream=m,await this.bindCameraStream(this.cameraStream)}catch(m){this.generateException(ExceptionType[m.name],m.message)}}generateException(c,u){Logger.printError(this.fileTag,u),c!==ExceptionType.ErrorTimeout&&(addAdvancedTrackingErrorEvent(c,u),addAdvancedTrackingBeginPhase(SelphiPhaseNames.ShowError),this.exceptionCaptured.emit({eventType:EVENT_TYPE.ExceptionCaptured,exceptionType:c,message:u})),error_store.type=c,c===ExceptionType.UnknownInternalError&&(error_store.message=u),this.widgetView=WIDGETVIEWS.Error_View,activeLiveness_store.isEnabled&&(activeLiveness_store.isEnabled=!1),this.errorTimeoutInstance=setTimeout(()=>{[ExceptionType.CameraPermissionDenied,ExceptionType.MicrophonePermissionDenied,ExceptionType.CameraHardwareError,ExceptionType.BrowserApiNotCompatible,ExceptionType.UnknownInternalError,ExceptionType.SpoofingDetected,ExceptionType.SettingsError,ExceptionType.ActiveLivenessError].includes(c)?(this.emitErrorTimeout(c,"The widget has been closed after showing the error screen"),this.stateMachineService?(this.debugExceptionGenerated=!1,this.stateMachineService.dispatch({type:EVENTS.finishProcess,data:null})):this.stopWidget()):config_store.interactible||this.handleRetryClick()},config_store.errorTimer*1e3)}displayInlineMessageOrErrorView(c){const u=performance.now();if(this.totalDiagnosticProcessTime===0&&(this.totalDiagnosticProcessTime=u),c!==this.diagnosticTracker&&(this.diagnosticTracker!==null&&(this.totalDiagnosticProcessTime=0),this.diagnosticTracker=c),u-this.totalDiagnosticProcessTime>=5e3&&!activeLiveness_store.isEnabled)this.generateException(ExceptionType[c],c);else{switch(c){case InlineDefaultMessages.EyesNotFound:case InlineDefaultMessages.NotStabilizedSunGlasses:viewAsset_store.text=InlineDefaultMessages.KeepEyesVisible;break;default:viewAsset_store.text=c;break}this.extracting()}}handleDiagnostic(c,u){const p=DIAGNOSTIC[c];if([DIAGNOSTIC.FaceNotFound,DIAGNOSTIC.EyesNotFound,DIAGNOSTIC.AngleExceeded,DIAGNOSTIC.TooManyFaces].includes(c))this.displayInlineMessageOrErrorView(p);else if((config_store.stabilization||config_store.livenessMoveSteps)&&u!==void 0){let I;I=STABILIZATION_DIAGNOSTIC[u],I==="NotStabilizedNoFrontalTooRight"&&this.cameraMirror===CameraType.User?I="NotStabilizedNoFrontalTooLeft":I==="NotStabilizedNoFrontalTooLeft"&&this.cameraMirror===CameraType.User&&(I="NotStabilizedNoFrontalTooRight"),[STABILIZATION_DIAGNOSTIC.NotStabilizedSunGlasses,STABILIZATION_DIAGNOSTIC.NotStabilizedNoColor].includes(u)?this.displayInlineMessageOrErrorView(I):viewAsset_store.text=I,this.extracting()}else viewAsset_store.text=p,this.extracting()}waitingFaceStart(){if(this.widgetView===WIDGETVIEWS.Tutorial_View&&this.onTutorialWhileExtracting)return;const c=()=>{if(this.stateMachineService&&!this.widgetWasStopped&&this.videoBuffer.videoWidth&&internal_store.userCameraLoaded){Logger.printInfo(this.fileTag,"Extracting face for tracking in progress...");const u=getFrameSample(this.videoBuffer,config_store.cameraRotation);this.stateMachineService.dispatch({type:EVENTS.faceTracking,data:{image:u,extractionType:EXTRACTION_TYPE.detect}})}else requestAnimationFrame(c)};c()}extracting(){if(this.widgetView===WIDGETVIEWS.Tutorial_View&&this.onTutorialWhileExtracting)return;this.stateMachineService&&!this.timeoutInstance&&config_store.timeout>0&&(this.timeoutInstance=setTimeout(()=>{this.widgetView===WIDGETVIEWS.Selphi_Capture_View&&(Logger.printInfo(this.fileTag,"Timeout instance has been initiated"),this.emitTimeout(EVENT_TYPE.ExtractionTimeout),this.timeoutExecuted=!0,this.widgetWasStopped||(addAdvancedTrackingTimeoutEvent(this.livenessMoveStabilizedStatus),addAdvancedTrackingBeginPhase(SelphiPhaseNames.ShowTimeout),this.stateMachineService.dispatch({type:EVENTS.timeout,data:TIMEOUT_DIAGNOSTIC})))},config_store.timeout*1e3));const c=()=>{if(this.stateMachineService&&!this.widgetWasStopped&&this.videoBuffer.videoWidth&&internal_store.userCameraLoaded){Logger.printInfo(this.fileTag,"Extracting image to analyze in progress...");const u=getFrameSample(this.videoBuffer,config_store.cameraRotation);this.lastCapturedFrame=u,activeLiveness_store.isEnabled?this.stateMachineService.dispatch({type:EVENTS.analyzeLiveness,data:{image:u,extractionType:EXTRACTION_TYPE.extractionNextSmart}}):config_store.stabilization?this.stateMachineService.dispatch({type:EVENTS.analyzeImage,data:{image:u,extractionType:EXTRACTION_TYPE.nextLivenessMoveStabilization}}):this.stateMachineService.dispatch({type:EVENTS.analyzeImage,data:{image:u,extractionType:EXTRACTION_TYPE.extractionNextSmart}})}else this.timeoutExecuted||requestAnimationFrame(c)};c()}async generateVideoUrl(){Logger.printDebug(this.fileTag,"Generating video..."),this.widgetView=WIDGETVIEWS.Recording_View;try{const c=await this.recorder.generateVideo(!0);this.recordedVideo=c}catch(c){Logger.printError(this.fileTag,"Error generating video",c)}}isPreviewImage(){this.widgetView===WIDGETVIEWS.Tutorial_View&&this.onTutorialWhileExtracting||(this.antispoofService&&this.antispoofService.takePhoto(),this.widgetWasStopped||(config_store.previewImage?(Logger.printInfo(this.fileTag,"Loading preview image, to visualize the image captured"),this.widgetView=WIDGETVIEWS.Preview_View,addAdvancedTrackingBeginPhase(SelphiPhaseNames.ShowResultsFace)):this.handleFinishClick()))}startActiveLiveness(){viewAsset_store.text=InlineDefaultMessages.LivenessStart,setTimeout(()=>{activeLiveness_store.isEnabled=!0,this.extracting()},2e3)}saveActiveLivenessResults(c,u){this.livenessMoveResult.push({diagnostic:c,expected:u})}restartActiveLiveness(){Logger.printInfo(this.fileTag,"Active liveness has been restarted with new expected results"),reset_activeLiveness_store(),LivenessMoveModule.restart(),viewAsset_store.animation=null,this.stateMachineService.dispatch({type:EVENTS.resetLiveness}),activeLiveness_store.expected=LivenessMoveModule.generateExpectedResults(config_store.livenessMoveSteps)}finishLivenessMove(c){let u;c===EVENTS.goToExtraction?u={type:EVENTS.goToExtraction,data:!0}:c===EVENTS.resetLiveness&&(u={type:EVENTS.resetLiveness}),setTimeout(()=>{c===EVENTS.goToExtraction&&(activeLiveness_store.isSuccessful=!0,viewAsset_store.text=InlineDefaultMessages.ExtractingTitle),LivenessMoveModule.restart(),this.stateMachineService.dispatch(u),activeLiveness_store.diagnostic=null},800)}async tokenizeLivenessMove(c){try{await TokenizerModule.addExtraData("default",{key:"livenessMove",data:{activeLiveness:this.livenessMoveResult||[],activeLivenessResult:c}});const u=await TokenizerModule.write("default");this.tokenizedLivenessMoveResult=await TokenizerModule.encryptBase64("default",u);try{const p=await TokenizerModule.destroyWorker();Logger.printDebug(this.fileTag,p)}catch(p){Logger.printError(this.fileTag,p)}}catch(u){console.error(u),this.livenessMoveTokenizingFailed=!0,this.generateException(ExceptionType.UnknownInternalError,"Tokenizing active liveness results failed")}}loadCaptureOrDebugErrorView(){if(this.widgetView===WIDGETVIEWS.Loading_View&&config_store.debug&&config_store.debugException){const c=ExceptionType[config_store.debugException];this.generateException(c,config_store.debugException),this.debugExceptionGenerated=!0}else this.widgetView=WIDGETVIEWS.Selphi_Capture_View}async componentDidLoad(){var c,u;if(this.viewContainer){const p=[{name:"Poppins-Regular",url:`data:font/truetype;base64,${PoppinsRegular}`},{name:"Poppins-SemiBold",url:`data:font/truetype;base64,${PoppinsSemiBold}`}];for(const m of p){const R=new FontFace(m.name,`url(${m.url})`);try{await R.load(),document.fonts.add(R)}catch(S){console.error("Failed to load font:",S)}}try{this.settings&&(checkWidgetPropValues(this.settings),Object.assign(config_store,this.settings))}catch(m){!((c=this.settings)===null||c===void 0)&&c.language&&(Object.values(Language).includes(this.settings.language.toLowerCase().trim())?config_store.language=this.settings.language:await fetchCustomLanguage(this.settings.language)),this.generateException(ExceptionType.SettingsError,m),this.isWidgetSettingsError=!0,this.disconnectedCallback()}Logger.setLoggerLevel(config_store.showLog?LoggerLevel.DEBUG:LoggerLevel.WARNING),Logger.setLoggerTag("selphi"),config_store.debug&&Logger.setDebugMode(config_store.debug),!this.isWidgetSettingsError&&config_store.debug&&console.table(Object.assign(Object.assign({},config_store),{externalCamera:config_store.externalCamera?config_store.externalCamera.getVideoTracks()[0].getSettings().deviceId:null,graphicResources:config_store.graphicResources?`loadingAnimation: ${config_store.graphicResources.loadingAnimation||'""'}, tutorialAnimations: [${config_store.graphicResources.tutorialAnimations.length?config_store.graphicResources.tutorialAnimations.join(","):""}], logo: ${config_store.graphicResources.logo||'""'}`:null})),Logger.printInfo(this.fileTag,`Initializing Selphi Widget Web - ${WidgetVersion}`),Object.values(Language).includes(config_store.language)?internal_store.languageLoaded=!0:await fetchCustomLanguage(config_store.language),this.deviceFeatures=checkUserDeviceTypeAndOS(),this.deviceFeatures.isAndroidMobile&&this.deviceFeatures.isWebView&&(config_store.videoRecordAudio=!1);const I=await checkCapabilities();if(!I.camera)this.generateException(ExceptionType.CameraHardwareError,"Your device does not pass the minimum requeriments to launch the authentication process, no valid cameras detected within the used device.");else if(!I.wasm)this.generateException(ExceptionType.BrowserApiNotCompatible,"Your device does not pass the minimum requeriments to launch the authentication process, please try again or use another compatible device.");else if(!I.browser)this.generateException(ExceptionType.BrowserApiNotCompatible,"Your device does not pass the minimum requeriments to launch the authentication process, please try again or use another compatible browser.");else if(this.deviceFeatures.isAndroidMobile&&config_store.androidWebViewBehaviour&&this.deviceFeatures.isWebView)this.generateException(ExceptionType.AndroidWebViewBehaviour,ExceptionType.AndroidWebViewBehaviour);else{if(Logger.printInfo(this.fileTag,"The device has met all the requirements, running it.",JSON.stringify(I)),config_store.externalCamera){const m=(u=config_store.externalCamera)===null||u===void 0?void 0:u.getVideoTracks()[0];if(CameraModule.filterFraudCamera(m))this.generateException(ExceptionType.CameraHardwareError,"Your device does not pass the minimum requeriments to launch the authentication process, no valid cameras detected within the used device.");else{if(Logger.printInfo(this.fileTag,"Waiting to mount the external camera before starting"),m&&(typeof m.getCapabilities=="function"||typeof m.getSettings()=="object")){const S=m.getCapabilities?m.getCapabilities():m.getSettings();this.setCameraMirroringType(S.facingMode)}this.cameraStream=config_store.externalCamera,Logger.printDebug(this.fileTag,"Binding external camera into internal buffer..."),this.cameraNumber=1,await this.bindCameraStream(this.cameraStream)}}else{if(Logger.printInfo(this.fileTag,"No detected external camera stream, reading the cameras present in the system..."),config_store.cameraSwitch){try{await CameraModule.grantVideoPermission(getVideoRecordAudio())}catch(m){this.allowedToGenerateCameraList=!1,this.generateException(ExceptionType[m.name],m.message)}if(this.allowedToGenerateCameraList)try{const m=await CameraModule.getAvailableCameras();if(this.deviceFeatures.isBrowserFirefox||this.deviceFeatures.isWebView)this.sortedDeviceCameras=m,this.cameraNumber=m.length,Logger.printDebug(this.fileTag,`${this.cameraNumber} cameras found.`),await this.setInitialCameraToPlay(config_store.cameraWidth,config_store.cameraHeight,config_store.cameraId,config_store.cameraType);else{Logger.printDebug(this.fileTag,`Camera enumeration, ${m.length}`);const{sortedCameras:R,loggerSortingCamerasMessages:S}=await CameraModule.sortCameras(m,config_store.cameraType,this.deviceFeatures.isMobile);if(Logger.printDebug(this.fileTag,`Device cameras classifying order: ${S.join(";")}`),this.sortedDeviceCameras=R,this.cameraNumber=this.sortedDeviceCameras.length,config_store.cameraId){const N=this.sortedDeviceCameras.findIndex(B=>B.deviceId===config_store.cameraId);if(N!==-1){const B=this.sortedDeviceCameras.splice(N,1);this.sortedDeviceCameras.unshift(B[0]),Logger.printInfo(this.fileTag,`Modified sorted camera list. Camera with ID: ${B[0].deviceId} is going to be used initially`)}else this.fixedCameraId=this.sortedDeviceCameras[0].deviceId,Logger.printWarning(this.fileTag,"Camera ID provided by implementator is not present on the device, or there might be some misspelling mistake. Selecting the best camera for the authentication process.")}await this.setInitialCameraToPlay(config_store.cameraWidth,config_store.cameraHeight,this.sortedDeviceCameras[0].deviceId,config_store.cameraType)}}catch(m){this.generateException(ExceptionType.CameraHardwareError,m.message)}}else this.cameraNumber=1,await this.setInitialCameraToPlay(config_store.cameraWidth,config_store.cameraHeight,config_store.cameraId,config_store.cameraType);Logger.printDebug(this.fileTag,`Hardware concurrency: ${window.navigator.hardwareConcurrency}`)}config_store.antispoof&&this.widgetView===WIDGETVIEWS.Loading_View?this.widgetView=WIDGETVIEWS.Selphi_Antispoof_Camera:this.startWidget(performance.now())}}}startWidget(c){var u,p;if(this.cameraStream)if((p=(u=window.screen)===null||u===void 0?void 0:u.orientation)===null||p===void 0||p.addEventListener("change",I=>{const m=this.cameraStream.getVideoTracks()[0].getSettings();I.target.type.includes("portrait")?(internal_store.videoAspectRatio="higher-video",internal_store.previewViewObjectFit="cover"):(internal_store.videoAspectRatio="wider-video",internal_store.previewViewObjectFit="fill"),this.deviceFeatures.isAppleMobile?(this.videoBuffer.width=m.height,this.videoBuffer.height=m.width):(this.deviceFeatures.isAppleDevice||this.deviceFeatures.isBrowserFirefox)&&I.target.type.includes("portrait")&&m.width>m.height?(this.videoBuffer.width=m.height,this.videoBuffer.height=m.width):(this.videoBuffer.width=m.width,this.videoBuffer.height=m.height)}),this.enableFaceTrackingMode(config_store.faceTracking),this.closeWidgetBeforeFullInitialization)this.isWidgetSettingsError||this.stopWidget();else{if(config_store.audible&&SpeechSynthesisModule.Initialize(),config_store.videoRecord){Logger.printDebug(this.fileTag,"Video recording enabled..."),this.recorder=RecorderFactory.generateInstance(),this.recorder.initializeEngine(this.cameraStream,config_store.videoRecordQuality,!1,getVideoRecordAudio(),config_store.cameraRotation),Logger.printDebug(this.fileTag,"Video recording engine initialized...");try{this.recorder.startRecording().then(I=>{Logger.printDebug(this.fileTag,I)})}catch(I){Logger.printDebug(this.fileTag,I)}}this.stateMachineService=SelphiService.createInstance({engineLocation:config_store.engineLocation,advancedTracking:config_store.advancedTracking,livenessMoveSteps:config_store.livenessMoveSteps}),this.subscriptionInit=this.stateMachineService.subscribe(STATES.initializing,()=>{this.currentState!==STATES.initializing&&(this.currentState=STATES.initializing,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.initializing)),Logger.printInfo(this.fileTag,"Initializing state machine and connecting to the engine"),Logger.printInfo(this.fileTag,`Going to State: ${(config_store.livenessMoveSteps?STATES.liveness:STATES.ready).toUpperCase()}`)}),this.subscriptionLiveness=this.stateMachineService.subscribe(STATES.liveness,async I=>{if(I.engineMessage&&(this.currentState!==STATES.liveness&&(this.currentState=STATES.liveness,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.liveness),LivenessMoveModule.start(config_store.livenessMoveTimeout),activeLiveness_store.expected=LivenessMoveModule.generateExpectedResults(config_store.livenessMoveSteps+config_store.livenessMoveFailedAttempts),this.livenessMoveResult=[]),Logger.printDebug(this.fileTag,I.engineMessage),Logger.printInfo(this.fileTag,`Total initialization time: ${performance.now()-c}ms`),Logger.printInfo(this.fileTag,"Starting liveness process"),this.loadCaptureOrDebugErrorView()),activeLiveness_store.diagnostic=null,!activeLiveness_store.isEnabled)config_store.interactible?this.isFaceTrackingEnabled&&!this.deviceFeatures.isMobile&&(I.extractionResult&&(this.faceExtracted=I.extractionResult),this.waitingFaceStart()):this.startActiveLiveness();else if(I.diagnostic.timeout===TIMEOUT_DIAGNOSTIC)config_store.livenessMoveSteps&&await this.tokenizeLivenessMove(!1),this.generateException(ExceptionType.ActiveLivenessError,"The user has failed the instructions during the active liveness process before the time limit");else if(I.livenessMove.stabilization===STABILIZATION_DIAGNOSTIC.NotStabilized)viewAsset_store.text=InlineDefaultMessages.LivenessStart,this.extracting();else if([STABILIZATION_DIAGNOSTIC.NotStabilizedNoFrontalTooDown,STABILIZATION_DIAGNOSTIC.NotStabilizedNoFrontalTooLeft,STABILIZATION_DIAGNOSTIC.NotStabilizedNoFrontalTooRight,STABILIZATION_DIAGNOSTIC.NotStabilizedNoFrontalTooUp].includes(I.livenessMove.stabilization))viewAsset_store.text=InlineDefaultMessages.LivenessComplete,this.extracting();else if(I.livenessMove.stabilization!==STABILIZATION_DIAGNOSTIC.Ok)this.handleDiagnostic(null,I.livenessMove.stabilization);else{this.timeoutInstance&&(Logger.printInfo(this.fileTag,`Liveness timeout instance with id ${JSON.stringify(this.timeoutInstance)} has been cleared`),clearTimeout(this.timeoutInstance),this.timeoutInstance=null);const m=activeLiveness_store.expected[activeLiveness_store.currentStep+activeLiveness_store.currentAttempt];switch(m){case LivenessMoveDirection$1.CenterUp:viewAsset_store.text=InlineDefaultMessages.LivenessUp,viewAsset_store.animation=activeLivenessArrowUp;break;case LivenessMoveDirection$1.CenterDown:viewAsset_store.text=InlineDefaultMessages.LivenessDown,viewAsset_store.animation=activeLivenessArrowDown;break;case LivenessMoveDirection$1.CenterRight:viewAsset_store.text=InlineDefaultMessages.LivenessRight,viewAsset_store.animation=this.cameraMirror?activeLivenessArrowLeft:activeLivenessArrowRight;break;case LivenessMoveDirection$1.CenterLeft:viewAsset_store.text=InlineDefaultMessages.LivenessLeft,viewAsset_store.animation=this.cameraMirror?activeLivenessArrowRight:activeLivenessArrowLeft;break}const R=LivenessMoveModule.testLivenessMove(m,I.livenessMove.pitch,I.livenessMove.yaw);activeLiveness_store.diagnostic=R,R===LivenessMoveDiagnostic$1.Analizing?this.extracting():R===LivenessMoveDiagnostic$1.LivenessDetected?(Logger.printInfo(this.fileTag,`Active liveness step (${activeLiveness_store.currentStep+1-activeLiveness_store.currentAttempt+1}/${config_store.livenessMoveSteps}) complete.`),viewAsset_store.animation=null,this.saveActiveLivenessResults(R,m),LivenessMoveModule.clearTimeout(),activeLiveness_store.currentStep>=config_store.livenessMoveSteps-1?(Logger.printInfo(this.fileTag,"Active liveness process complete. Starting extraction process..."),activeLiveness_store.isEnabled=!1,this.cleanExtractionVariables(),this.finishLivenessMove(EVENTS.goToExtraction)):(activeLiveness_store.currentStep++,this.finishLivenessMove(EVENTS.resetLiveness))):(viewAsset_store.animation=null,this.saveActiveLivenessResults(R,m),activeLiveness_store.currentAttempt>=config_store.livenessMoveFailedAttempts-1?(Logger.printInfo(this.fileTag,`Active liveness process has failed (${activeLiveness_store.currentAttempt+1}/${config_store.livenessMoveFailedAttempts})`),this.widgetWasStopped||(config_store.livenessMoveSteps&&await this.tokenizeLivenessMove(!1),activeLiveness_store.isEnabled=!1,this.generateException(ExceptionType.ActiveLivenessError,"The user has failed the instructions during the active liveness process"))):(Logger.printInfo(this.fileTag,`Active liveness has failed (${activeLiveness_store.currentAttempt+1}/${config_store.livenessMoveFailedAttempts}). Trying again...`),viewAsset_store.text=InlineDefaultMessages.LivenessStart,activeLiveness_store.currentAttempt++,this.finishLivenessMove(EVENTS.resetLiveness)))}}),this.subscriptionReady=this.stateMachineService.subscribe(STATES.ready,I=>{I.engineMessage?(this.currentState!==STATES.ready&&(this.currentState=STATES.ready,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.ready)),Logger.printDebug(this.fileTag,I.engineMessage),this.loadCaptureOrDebugErrorView(),Logger.printInfo(this.fileTag,`Total initialization time: ${performance.now()-c}ms`)):this.currentState!==STATES.analyzing&&(this.currentState=STATES.analyzing,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.analyzing)),Logger.printDebug(this.fileTag,"Data coming from state machine: ",I),I.diagnostic.timeout===TIMEOUT_DIAGNOSTIC?this.generateException(ExceptionType.ErrorTimeout,TIMEOUT_DIAGNOSTIC):I.diagnostic.sampleDiagnostic!==null||I.diagnostic.faceStabilized!==null?(I.diagnostic.faceStabilized!==void 0&&(this.livenessMoveStabilizedStatus=I.diagnostic.faceStabilized,this.emitStabilizingEvent(I.diagnostic.faceStabilized)),this.handleDiagnostic(I.diagnostic.sampleDiagnostic,I.diagnostic.faceStabilized)):!config_store.interactible&&!this.debugExceptionGenerated?this.startExtractionWithoutInteractible?this.extracting():this.handleStartClick():config_store.interactible&&this.isFaceTrackingEnabled&&!this.deviceFeatures.isMobile&&!this.debugExceptionGenerated?(I.extractionResult&&(this.faceExtracted=I.extractionResult),this.waitingFaceStart()):I.extractionEnabled&&this.extracting()}),this.subscriptionPreviewView=this.stateMachineService.subscribe(STATES.previewImage,I=>{if(this.currentState!==STATES.previewImage&&(this.currentState=STATES.previewImage,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.previewImage)),Logger.printDebug(this.fileTag,"Extraction image was successful - Sample Diagnostic code: ",I.diagnostic.sampleDiagnostic," Face Stabilized code: ",I.diagnostic.faceStabilized),this.antispoofService&&this.deviceFeatures.isAppleMobile&&(this.progressValue=7),config_store.stabilization){this.emitStabilizingEvent(I.diagnostic.faceStabilized),viewAsset_store.text=InlineDefaultMessages.ExtractingTitle;const m=setInterval(()=>{if(this.setProgress+=this.progressValue,this.setProgress>=100){if(clearInterval(m),this.extractedData=I.extractionResult,this.bestCapturedImage={image:this.lastCapturedFrame,extractionResult:this.extractedData},config_store.logImages)for(this.validatedFrames.push(this.bestCapturedImage);this.validatedFrames.length<config_store.logImages;){const R=getFrameSample(this.videoBuffer,config_store.cameraRotation);this.validatedFrames.push({image:R,extractionResult:this.extractedData})}this.isPreviewImage()}},7)}else if(this.validatedFrames.length===0||this.validatedFrames.length<config_store.logImages){this.validatedFrames.push({image:this.lastCapturedFrame,extractionResult:I.extractionResult}),viewAsset_store.text=InlineDefaultMessages.ExtractingTitle;const m=setInterval(()=>{this.setProgress+=this.progressValue;const R=config_store.logImages===0?100:100/config_store.logImages;this.setProgress>=this.validatedFrames.length*R&&(clearInterval(m),this.lastCapturedFrame=null,this.widgetWasStopped||this.stateMachineService.dispatch({type:EVENTS.reinitialize}),this.extracting())},7)}else this.validatedFrames.length>1&&(this.validatedFrames=orderImgArrayByScore(this.validatedFrames)),this.bestCapturedImage=this.validatedFrames[0],this.extractedData=this.validatedFrames[0].extractionResult,this.isPreviewImage()}),this.subscriptionError=this.stateMachineService.subscribe(STATES.error,I=>{this.currentState!==STATES.error&&(this.currentState=STATES.error,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.error)),this.generateException(ExceptionType.UnknownInternalError,I.error)}),this.subscriptionEnd=this.stateMachineService.subscribe(STATES.end,async I=>{if(this.currentState!==STATES.end&&(this.currentState=STATES.end,this.emitTrackStatus(TRACK_STATUS_TYPE.CurrentState,STATES.end)),Logger.printDebug(this.fileTag,I.engineMessage),I.extractionResult!==null){let m=[];config_store.logImages&&(m=this.validatedFrames.map(D=>({data:convertToEncImage(D.image,config_store.imageFormat,config_store.imageQuality),width:D.image.width,height:D.image.height,imageFormat:config_store.imageFormat})));const R=getImageCropped(this.bestCapturedImage,config_store.cropFactor),S={template:{data:config_store.templateFormat?arrayBufferToBase64(this.extractedData.template):this.extractedData.template,templateFormat:config_store.templateFormat===TemplateFormat$1.Base64?"Base64":"ByteArray"},bestImage:{data:convertToEncImage(this.bestCapturedImage.image,config_store.imageFormat,config_store.imageQuality),width:this.bestCapturedImage.image.width,height:this.bestCapturedImage.image.height,imageFormat:config_store.imageFormat},bestImageTokenized:I.extractionResult,bestImageCropped:{data:convertToEncImage(R,config_store.imageFormat,config_store.imageQuality),width:R.width,height:R.height,imageFormat:config_store.imageFormat},images:m,templateRaw:{data:config_store.templateFormat?arrayBufferToBase64(this.extractedData.templateRaw):this.extractedData.templateRaw,templateFormat:config_store.templateFormat===TemplateFormat$1.Base64?"Base64":"ByteArray"},faceStabilizedStatus:this.extractedData.faceStabilized,encryptedLivenessRaw:config_store.antispoof&&this.encryptedLivenessRaw,encryptedLiveness:config_store.antispoof&&this.encryptedLiveness,yaw:this.extractedData.yaw,pitch:this.extractedData.pitch};config_store.videoRecord&&this.recorder&&await this.generateVideoUrl();const N={eventType:EVENT_TYPE.ExtractionFinish,extractionData:S,cameraId:internal_store.cameraIdUsed,videoRecorded:this.recordedVideo},B=await getAdvancedTrackingBuffer().catch(D=>{Logger.printError(D)});if(config_store.livenessMoveSteps&&this.tokenizedLivenessMoveResult&&(N.livenessMoveResult=this.tokenizedLivenessMoveResult),config_store.advancedTracking&&B&&(N.advancedTracking=B),this.extractionFinish.emit(N),config_store.audible){const D=this;translate("Process completed",{isAudible:!0,callback:()=>{D.stopWidget()}}),Logger.printInfo(this.fileTag,"Audible module has been closed")}else this.stopWidget()}else this.stopWidget()})}}disconnectedCallback(){this.stateMachineService?this.stateMachineService.dispatch({type:EVENTS.finishProcess,data:null}):this.closeWidgetBeforeFullInitialization=!0}render(){return h$4("section",{key:"bfa59b5f4612a1eedb1312377597f30796a84a7f",class:"viewContainer",ref:c=>{this.viewContainer=c}},[WIDGETVIEWS.Loading_View,WIDGETVIEWS.Recording_View,WIDGETVIEWS.Selphi_Antispoof_Camera].includes(this.widgetView)&&h$4("selphi-loading-view",{key:"c1fded8cd0778dbd63d0a8bed12cd739d16d4f33",loadingType:this.widgetView}),this.widgetView===WIDGETVIEWS.Selphi_Capture_View&&h$4("selphi-capture-view",{key:"9177c6aa87892c2ce9a401ec67d3b3accecf827c",faceExtracted:this.faceExtracted,progress:this.setProgress,videoSource:this.cameraStream,cameraMirror:this.cameraMirror,cameraCount:this.cameraNumber}),this.widgetView===WIDGETVIEWS.Preview_View&&h$4("selphi-preview-view",{key:"9401061d5841b44e84e6254eb1b11d54e5a916dc",captureImage:this.bestCapturedImage.image}),this.widgetView===WIDGETVIEWS.Tutorial_View&&h$4("selphi-tutorial-view",{key:"8665dc02827143d11deffc12edde69f94e2fe4e8"}),this.widgetView===WIDGETVIEWS.Error_View&&h$4("selphi-error-view",{key:"41c456cf1487f9e1acf523f4a6d3e5de742bf202",cameraCount:this.cameraNumber}),config_store.antispoof&&internal_store.cameraIdUsed&&h$4("selphi-antispoof-camera",{key:"22084d626ca8c4b1833c900a5c06ecaa36c26c34"}),!1)}static get watchers(){return{settings:["updateWidgetSettings"],widgetView:["watchWidgetViewChange"]}}};SelphiWidget$1.style=FacephiSelphiStyle0;/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const globalScripts$1=()=>{};/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const defineCustomElements$1=async(A,c)=>{if(!(typeof window>"u"))return await globalScripts$1(),bootstrapLazy([["selphi-browser-error",[[2,"selphi-browser-error"]]],["widget-pagination-layout",[[2,"widget-pagination-layout",{currentSlide:[1026,"current-slide"],slidesQuantity:[2,"slides-quantity"],ariaLabelArrowNext:[1,"aria-label-arrow-next"],ariaLabelArrowPrev:[1,"aria-label-arrow-prev"],ariaLabelExit:[1,"aria-label-exit"]}]]],["selphi-camera",[[0,"selphi-camera",{videoStream:[16],cameraProgress:[2,"camera-progress"],cameraMovement:[1,"camera-movement"],cameraMirror:[2,"camera-mirror"],errorSpinnerColor:[4,"error-spinner-color"],faceExtracted:[16],videoAspectRatio:[32],loadingCamera:[32]},null,{videoStream:["handleSwitchVideoStream"],faceExtracted:["handleFaceExtracted"]}]]],["widget-animation",[[2,"widget-animation",{assetUrl:[1,"asset-url"],isLoop:[4,"is-loop"],alt:[1],width:[1],height:[1],margin:[1],padding:[1],fileFormat:[32]},null,{assetUrl:["handlePropsChangeValue"]}]]],["arrow-next-icon_33",[[2,"widget-logo",{isWhite:[4,"is-white"],alt:[1]}],[2,"widget-icon",{icon:[1],width:[1],height:[1],hidden:[4],ariaLabel:[1,"aria-label"],margin:[1],padding:[1],role:[1],backgroundColor:[1,"background-color"],borderRadius:[1,"border-radius"],isWhite:[4,"is-white"],opacity:[1],tabIndexOrder:[2,"tab-index-order"]}],[2,"arrow-next-icon"],[2,"arrow-previous-icon"],[2,"camera-icon"],[2,"chrome-browser-icon"],[2,"dot-icon"],[2,"edge-browser-icon"],[2,"error-browser-icon"],[2,"error-camera-icon"],[2,"error-document-icon"],[2,"error-face-angle-icon"],[2,"error-face-icon"],[2,"error-forbidden-icon"],[2,"error-fraud-icon"],[2,"error-generic-icon"],[2,"error-glasses-icon"],[2,"error-inactive-icon"],[2,"error-lightning-icon"],[2,"error-many-faces-icon"],[2,"error-memory-icon"],[2,"error-settings-icon"],[2,"error-timeout-icon"],[2,"exit-icon"],[2,"firefox-browser-icon"],[2,"info-icon"],[2,"media-pause-icon"],[2,"media-play-icon"],[2,"rotate-icon"],[2,"safari-browser-icon"],[2,"validation-fail-icon"],[2,"validation-ok-icon"],[2,"validation-warn-icon"]]],["widget-button_2",[[6,"widget-button",{inversedColors:[4,"inversed-colors"],hidden:[4]}],[2,"widget-header",{logo:[1],ariaLabelInfo:[1,"aria-label-info"],ariaLabelExit:[1,"aria-label-exit"],ariaLabelBack:[1,"aria-label-back"],altLogo:[1,"alt-logo"],showBackButton:[4,"show-back-button"],hideTutorial:[4,"hide-tutorial"],hideExit:[4,"hide-exit"],isWhite:[4,"is-white"]}]]],["selphi-antispoof-camera_7",[[2,"selphi-capture-view",{progress:[2],faceExtracted:[16],videoSource:[16],cameraMirror:[2,"camera-mirror"],cameraCount:[2,"camera-count"],cameraMove:[32],volume:[32]},null,{faceExtracted:["handleFaceExtracted"]}],[2,"selphi-error-view",{cameraCount:[2,"camera-count"],volume:[32]}],[2,"selphi-tutorial-view",{currentSlide:[32]},[[0,"updateAnimationSlide","handleChangeTutorialSlideTip"]]],[2,"selphi-preview-view",{captureImage:[16],testing:[4],volume:[32]}],[2,"selphi-loading-view",{loadingType:[1,"loading-type"]}],[0,"selphi-antispoof-camera"],[0,"selphi-debug-mode",{currentState:[1,"current-state"],videoBuffer:[16],validatedFramesQty:[2,"validated-frames-qty"],widgetView:[1,"widget-view"],faceExtracted:[16]}]]],["facephi-selphi",[[1,"facephi-selphi",{settings:[16],widgetView:[32],setProgress:[32],faceExtracted:[32],cameraStream:[32]},[[0,"handleClickInfoButton","handleInfoClick"],[0,"handleClickExitButton","handleExitClick"],[0,"handleClickBackButton","handleBackClick"],[0,"handleClickStartButton","handleStartClick"],[0,"handleClickRepeatButton","handleRepeatClick"],[0,"handleClickFinishButton","handleFinishClick"],[0,"handleClickRetryButton","handleRetryClick"],[0,"handleClickSwitchCameraButton","handleSwitchCameraClick"],[0,"antiSpoofErrorEvent","handleAntispoofErrorEvent"],[0,"antiSpoofCaptureEvent","handleAntiSpoofCaptureEvent"],[0,"antispoofVideoLoadedEvent","handleStartWidgetFromAntispoof"]],{settings:["updateWidgetSettings"],widgetView:["watchWidgetViewChange"]}]]]],c)};/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var A=HTMLElement;window.HTMLElement=function(){return Reflect.construct(A,[],this.constructor)},HTMLElement.prototype=A.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,A)}})();/*!
 * Built with Stencil
 * Copyright (c) 2023 Facephi Biometria, S.A.
 */const globalScripts=()=>{};/*!
 * Built with Stencil
 * Copyright (c) 2023 Facephi Biometria, S.A.
 */const defineCustomElements=async(A,c)=>{if(!(typeof window>"u"))return await globalScripts(),bootstrapLazy$1([["selphid-camera",[[4,"selphid-camera",{videoStream:[16],aspectRatio:[1,"aspect-ratio"],cameraMirror:[2,"camera-mirror"],failedAttemptCounter:[2,"failed-attempt-counter"],imageToPreview:[16],timeToDisplay:[2,"time-to-display"]},null,{videoStream:["handleSwitchVideoStream"],failedAttemptCounter:["watchFailedAttemptCounter"],imageToPreview:["handleImageToPreview"]}]]],["arrow-next-icon_34",[[2,"widget-header",{logo:[1],ariaLabelInfo:[1,"aria-label-info"],ariaLabelExit:[1,"aria-label-exit"],ariaLabelBack:[1,"aria-label-back"],altLogo:[1,"alt-logo"],showBackButton:[4,"show-back-button"],hideTutorial:[4,"hide-tutorial"],hideExit:[4,"hide-exit"],isWhite:[4,"is-white"]}],[2,"widget-logo",{isWhite:[4,"is-white"],alt:[1]}],[2,"widget-icon",{icon:[1],width:[1],height:[1],hidden:[4],ariaLabel:[1,"aria-label"],margin:[1],padding:[1],role:[1],backgroundColor:[1,"background-color"],borderRadius:[1,"border-radius"],isWhite:[4,"is-white"],opacity:[1],tabIndexOrder:[2,"tab-index-order"]}],[2,"arrow-next-icon"],[2,"arrow-previous-icon"],[2,"camera-icon"],[2,"chrome-browser-icon"],[2,"dot-icon"],[2,"edge-browser-icon"],[2,"error-browser-icon"],[2,"error-camera-icon"],[2,"error-document-icon"],[2,"error-face-angle-icon"],[2,"error-face-icon"],[2,"error-forbidden-icon"],[2,"error-fraud-icon"],[2,"error-generic-icon"],[2,"error-glasses-icon"],[2,"error-inactive-icon"],[2,"error-lightning-icon"],[2,"error-many-faces-icon"],[2,"error-memory-icon"],[2,"error-settings-icon"],[2,"error-timeout-icon"],[2,"exit-icon"],[2,"firefox-browser-icon"],[2,"info-icon"],[2,"media-pause-icon"],[2,"media-play-icon"],[2,"rotate-icon"],[2,"safari-browser-icon"],[2,"validation-fail-icon"],[2,"validation-ok-icon"],[2,"validation-warn-icon"]]],["selphid-browser-error_2",[[2,"selphid-browser-error"],[6,"widget-button",{inversedColors:[4,"inversed-colors"],hidden:[4]}]]],["widget-animation_2",[[2,"widget-pagination-layout",{currentSlide:[1026,"current-slide"],slidesQuantity:[2,"slides-quantity"],ariaLabelArrowNext:[1,"aria-label-arrow-next"],ariaLabelArrowPrev:[1,"aria-label-arrow-prev"],ariaLabelExit:[1,"aria-label-exit"]}],[2,"widget-animation",{assetUrl:[1,"asset-url"],isLoop:[4,"is-loop"],alt:[1],width:[1],height:[1],margin:[1],padding:[1],fileFormat:[32]},null,{assetUrl:["handlePropsChangeValue"]}]]],["selphid-capture-view_5",[[2,"selphid-error-view",{volume:[32]}],[2,"selphid-tutorial-view",{currentSlide:[32]},[[0,"updateAnimationSlide","handleChangeTutorialSlideTip"]]],[2,"selphid-capture-view",{documentSide:[2,"document-side"],cameraMirror:[2,"camera-mirror"],cameraCount:[2,"camera-count"],documentAspectRatio:[1,"document-aspect-ratio"],videoSource:[16],diagnostic:[1026],failedAttemptCounter:[2,"failed-attempt-counter"],imageToPreview:[16],testing:[4],volume:[32],updateTextAndIcon:[32]},null,{videoSource:["handleSwitchVideoStream"],diagnostic:["handleDisplayDiagnostic"],failedAttemptCounter:["handleDisplayFailedAttemptCounter"],imageToPreview:["handleImageToPreview"]}],[2,"selphid-preview-view",{imageToPreview:[16],documentAspectRatio:[1,"document-aspect-ratio"],testing:[4],volume:[32]}],[2,"selphid-loading-view",{loadingType:[1,"loading-type"]}]]],["facephi-selphid",[[1,"facephi-selphid",{settings:[16],widgetView:[32],cameraStream:[32],diagnostic:[32],retryCounter:[32],imageToPreview:[32]},[[0,"handleClickInfoButton","handleInfoClick"],[0,"handleClickExitButton","handleExitClick"],[0,"handleClickBackButton","handleBackClick"],[0,"handleClickRepeatButton","handleRepeatClick"],[0,"handleClickContinueButton","handleContinueClick"],[0,"handleClickRetryButton","handleRetryClick"],[0,"handleClickSwitchCameraButton","handleSwitchCameraClick"],[0,"handleRestartExtraction","handleExtraction"],[0,"handleGoToPreviewView","handlePreviewView"],[0,"handleRestartDocumentFilterStatus","handleRestartDocumentFilters"]],{settings:["updateWidgetSettings"],widgetView:["watchWidgetViewChange"]}]]]],c)};/*!
 * Built with Stencil
 * Copyright (c) 2023 Facephi Biometria, S.A.
 */(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var A=HTMLElement;window.HTMLElement=function(){return Reflect.construct(A,[],this.constructor)},HTMLElement.prototype=A.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,A)}})();var AgoraRTC_NProduction$1={exports:{}},AgoraRTC_NProduction=AgoraRTC_NProduction$1.exports,hasRequiredAgoraRTC_NProduction;function requireAgoraRTC_NProduction(){return hasRequiredAgoraRTC_NProduction||(hasRequiredAgoraRTC_NProduction=1,function(A,c){(function(u,p){A.exports=p()})(AgoraRTC_NProduction,function(){function u(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:{};function I(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m=function(e){try{return!!e()}catch{return!0}},R=!m(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),S=R,N=Function.prototype,B=N.call,D=S&&N.bind.bind(B,B),k=S?D:function(e){return function(){return B.apply(e,arguments)}},O=k({}.isPrototypeOf),P=function(e){return e&&e.Math==Math&&e},x=P(typeof globalThis=="object"&&globalThis)||P(typeof window=="object"&&window)||P(typeof self=="object"&&self)||P(typeof p=="object"&&p)||function(){return this}()||p||Function("return this")(),H=R,Ae=Function.prototype,q=Ae.apply,Z=Ae.call,te=typeof Reflect=="object"&&Reflect.apply||(H?Z.bind(q):function(){return Z.apply(q,arguments)}),re=k,Be=re({}.toString),de=re("".slice),pe=function(e){return de(Be(e),8,-1)},Ce=pe,he=k,Fe=function(e){if(Ce(e)==="Function")return he(e)},fe=typeof document=="object"&&document.all,Re={all:fe,IS_HTMLDDA:fe===void 0&&fe!==void 0},De=Re.all,Qe=Re.IS_HTMLDDA?function(e){return typeof e=="function"||e===De}:function(e){return typeof e=="function"},Ci={},ii=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),He=R,yt=Function.prototype.call,at=He?yt.bind(yt):function(){return yt.apply(yt,arguments)},Ht={},Yt={}.propertyIsEnumerable,Gi=Object.getOwnPropertyDescriptor,nn=Gi&&!Yt.call({1:2},1);Ht.f=nn?function(e){var t=Gi(this,e);return!!t&&t.enumerable}:Yt;var ni,rn,On=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Pn=m,li=pe,Ue=Object,_e=k("".split),ke=Pn(function(){return!Ue("z").propertyIsEnumerable(0)})?function(e){return li(e)=="String"?_e(e,""):Ue(e)}:Ue,We=function(e){return e==null},Je=We,It=TypeError,Zt=function(e){if(Je(e))throw It("Can't call method on "+e);return e},Pr=ke,pn=Zt,Vn=function(e){return Pr(pn(e))},gh=Qe,cA=Re.all,yn=Re.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:gh(e)||e===cA}:function(e){return typeof e=="object"?e!==null:gh(e)},Ln={},ph=Ln,Ih=x,cv=Qe,dI=function(e){return cv(e)?e:void 0},In=function(e,t){return arguments.length<2?dI(ph[e])||dI(Ih[e]):ph[e]&&ph[e][t]||Ih[e]&&Ih[e][t]},ws=typeof navigator<"u"&&String(navigator.userAgent)||"",lI=x,fh=ws,hI=lI.process,uI=lI.Deno,EI=hI&&hI.versions||uI&&uI.version,gI=EI&&EI.v8;gI&&(rn=(ni=gI.split("."))[0]>0&&ni[0]<4?1:+(ni[0]+ni[1])),!rn&&fh&&(!(ni=fh.match(/Edge\/(\d+)/))||ni[1]>=74)&&(ni=fh.match(/Chrome\/(\d+)/))&&(rn=+ni[1]);var ao=rn,pI=ao,dv=m,lv=x.String,xo=!!Object.getOwnPropertySymbols&&!dv(function(){var e=Symbol();return!lv(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&pI&&pI<41}),II=xo&&!Symbol.sham&&typeof Symbol.iterator=="symbol",hv=In,uv=Qe,Ev=O,gv=Object,dA=II?function(e){return typeof e=="symbol"}:function(e){var t=hv("Symbol");return uv(t)&&Ev(t.prototype,gv(e))},pv=String,Wo=function(e){try{return pv(e)}catch{return"Object"}},Iv=Qe,fv=Wo,mv=TypeError,Gn=function(e){if(Iv(e))return e;throw mv(fv(e)+" is not a function")},Cv=Gn,Rv=We,bc=function(e,t){var n=e[t];return Rv(n)?void 0:Cv(n)},fI=at,mI=Qe,CI=yn,Tv=TypeError,RI={exports:{}},TI=x,Nv=Object.defineProperty,Sv=function(e,t){try{Nv(TI,e,{value:t,configurable:!0,writable:!0})}catch{TI[e]=t}return t},NI="__core-js_shared__",mh=x[NI]||Sv(NI,{}),SI=mh;(RI.exports=function(e,t){return SI[e]||(SI[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Jo=RI.exports,Mv=Zt,yv=Object,Vr=function(e){return yv(Mv(e))},wv=Vr,Bv=k({}.hasOwnProperty),ji=Object.hasOwn||function(e,t){return Bv(wv(e),t)},Uv=k,vv=0,_v=Math.random(),Fv=Uv(1 .toString),Ch=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Fv(++vv+_v,36)},Qv=Jo,MI=ji,bv=Ch,Dv=xo,kv=II,Ho=x.Symbol,Rh=Qv("wks"),Yv=kv?Ho.for||Ho:Ho&&Ho.withoutSetter||bv,ri=function(e){return MI(Rh,e)||(Rh[e]=Dv&&MI(Ho,e)?Ho[e]:Yv("Symbol."+e)),Rh[e]},jv=at,yI=yn,wI=dA,Ov=bc,Pv=function(e,t){var n,r;if(mI(n=e.toString)&&!CI(r=fI(n,e))||mI(n=e.valueOf)&&!CI(r=fI(n,e)))return r;throw Tv("Can't convert object to primitive value")},Vv=TypeError,Lv=ri("toPrimitive"),Gv=function(e,t){if(!yI(e)||wI(e))return e;var n,r=Ov(e,Lv);if(r){if(n=jv(r,e,t),!yI(n)||wI(n))return n;throw Vv("Can't convert object to primitive value")}return Pv(e)},zv=dA,Dc=function(e){var t=Gv(e,"string");return zv(t)?t:t+""},BI=yn,Th=x.document,xv=BI(Th)&&BI(Th.createElement),Nh=function(e){return xv?Th.createElement(e):{}},Wv=Nh,UI=!ii&&!m(function(){return Object.defineProperty(Wv("div"),"a",{get:function(){return 7}}).a!=7}),Jv=ii,Hv=at,Zv=Ht,Xv=On,Kv=Vn,qv=Dc,$v=ji,e_=UI,vI=Object.getOwnPropertyDescriptor;Ci.f=Jv?vI:function(e,t){if(e=Kv(e),t=qv(t),e_)try{return vI(e,t)}catch{}if($v(e,t))return Xv(!Hv(Zv.f,e,t),e[t])};var t_=m,i_=Qe,n_=/#|\.prototype\./,lA=function(e,t){var n=s_[r_(e)];return n==a_||n!=o_&&(i_(t)?t_(t):!!t)},r_=lA.normalize=function(e){return String(e).replace(n_,".").toLowerCase()},s_=lA.data={},o_=lA.NATIVE="N",a_=lA.POLYFILL="P",_I=lA,A_=Gn,c_=R,d_=Fe(Fe.bind),Bs=function(e,t){return A_(e),t===void 0?e:c_?d_(e,t):function(){return e.apply(t,arguments)}},nr={},FI=ii&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),l_=yn,h_=String,u_=TypeError,cn=function(e){if(l_(e))return e;throw u_(h_(e)+" is not an object")},E_=ii,g_=UI,p_=FI,kc=cn,QI=Dc,I_=TypeError,Sh=Object.defineProperty,f_=Object.getOwnPropertyDescriptor,Mh="enumerable",yh="configurable",wh="writable";nr.f=E_?p_?function(e,t,n){if(kc(e),t=QI(t),kc(n),typeof e=="function"&&t==="prototype"&&"value"in n&&wh in n&&!n[wh]){var r=f_(e,t);r&&r[wh]&&(e[t]=n.value,n={configurable:yh in n?n[yh]:r[yh],enumerable:Mh in n?n[Mh]:r[Mh],writable:!1})}return Sh(e,t,n)}:Sh:function(e,t,n){if(kc(e),t=QI(t),kc(n),g_)try{return Sh(e,t,n)}catch{}if("get"in n||"set"in n)throw I_("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var m_=nr,C_=On,Us=ii?function(e,t,n){return m_.f(e,t,C_(1,n))}:function(e,t,n){return e[t]=n,e},Yc=x,R_=te,T_=Fe,N_=Qe,S_=Ci.f,M_=_I,Zo=Ln,y_=Bs,Xo=Us,bI=ji,w_=function(e){var t=function(n,r,s){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,s)}return R_(e,this,arguments)};return t.prototype=e.prototype,t},Ct=function(e,t){var n,r,s,o,a,d,l,E,g,f=e.target,C=e.global,T=e.stat,Q=e.proto,U=C?Yc:T?Yc[f]:(Yc[f]||{}).prototype,_=C?Zo:Zo[f]||Xo(Zo,f,{})[f],b=_.prototype;for(o in t)r=!(n=M_(C?o:f+(T?".":"#")+o,e.forced))&&U&&bI(U,o),d=_[o],r&&(l=e.dontCallGetSet?(g=S_(U,o))&&g.value:U[o]),a=r&&l?l:t[o],r&&typeof d==typeof a||(E=e.bind&&r?y_(a,Yc):e.wrap&&r?w_(a):Q&&N_(a)?T_(a):a,(e.sham||a&&a.sham||d&&d.sham)&&Xo(E,"sham",!0),Xo(_,o,E),Q&&(bI(Zo,s=f+"Prototype")||Xo(Zo,s,{}),Xo(Zo[s],o,a),e.real&&b&&(n||!b[o])&&Xo(b,o,a)))},B_=Math.ceil,U_=Math.floor,v_=Math.trunc||function(e){var t=+e;return(t>0?U_:B_)(t)},__=v_,Bh=function(e){var t=+e;return t!=t||t===0?0:__(t)},F_=Bh,Q_=Math.max,b_=Math.min,Uh=function(e,t){var n=F_(e);return n<0?Q_(n+t,0):b_(n,t)},D_=Bh,k_=Math.min,DI=function(e){return e>0?k_(D_(e),9007199254740991):0},Y_=DI,ds=function(e){return Y_(e.length)},j_=Vn,O_=Uh,P_=ds,kI=function(e){return function(t,n,r){var s,o=j_(t),a=P_(o),d=O_(r,a);if(e&&n!=n){for(;a>d;)if((s=o[d++])!=s)return!0}else for(;a>d;d++)if((e||d in o)&&o[d]===n)return e||d||0;return!e&&-1}},vh={includes:kI(!0),indexOf:kI(!1)},V_=vh.includes;Ct({target:"Array",proto:!0,forced:m(function(){return!Array(1).includes()})},{includes:function(e){return V_(this,e,arguments.length>1?arguments[1]:void 0)}});var L_=Ln,rr=function(e){return L_[e+"Prototype"]},G_=rr("Array").includes,z_=yn,x_=pe,W_=ri("match"),YI=function(e){var t;return z_(e)&&((t=e[W_])!==void 0?!!t:x_(e)=="RegExp")},J_=YI,H_=TypeError,jI={};jI[ri("toStringTag")]="z";var _h=String(jI)==="[object z]",Z_=_h,X_=Qe,jc=pe,K_=ri("toStringTag"),q_=Object,$_=jc(function(){return arguments}())=="Arguments",Lr=Z_?jc:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=function(s,o){try{return s[o]}catch{}}(t=q_(e),K_))=="string"?n:$_?jc(t):(r=jc(t))=="Object"&&X_(t.callee)?"Arguments":r},eF=Lr,tF=String,zn=function(e){if(eF(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return tF(e)},iF=ri("match"),nF=Ct,rF=function(e){if(J_(e))throw H_("The method doesn't accept regular expressions");return e},sF=Zt,OI=zn,oF=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[iF]=!1,"/./"[e](t)}catch{}}return!1},aF=k("".indexOf);nF({target:"String",proto:!0,forced:!oF("includes")},{includes:function(e){return!!~aF(OI(sF(this)),OI(rF(e)),arguments.length>1?arguments[1]:void 0)}});var AF=rr("String").includes,PI=O,cF=G_,dF=AF,Fh=Array.prototype,Qh=String.prototype,lF=function(e){var t=e.includes;return e===Fh||PI(Fh,e)&&t===Fh.includes?cF:typeof e=="string"||e===Qh||PI(Qh,e)&&t===Qh.includes?dF:t},ge=I(lF),hF=Gn,uF=Vr,EF=ke,gF=ds,pF=TypeError,IF=function(e){return function(t,n,r,s){hF(n);var o=uF(t),a=EF(o),d=gF(o),l=e?d-1:0,E=e?-1:1;if(r<2)for(;;){if(l in a){s=a[l],l+=E;break}if(l+=E,e?l<0:d<=l)throw pF("Reduce of empty array with no initial value")}for(;e?l>=0:d>l;l+=E)l in a&&(s=n(s,a[l],l,o));return s}},fF={left:IF(!1)},mF=m,Oc=function(e,t){var n=[][e];return!!n&&mF(function(){n.call(null,t||function(){return 1},1)})},Ko=typeof process<"u"&&pe(process)=="process",CF=fF.left;Ct({target:"Array",proto:!0,forced:!Ko&&ao>79&&ao<83||!Oc("reduce")},{reduce:function(e){var t=arguments.length;return CF(this,e,t,t>1?arguments[1]:void 0)}});var RF=rr("Array").reduce,TF=O,NF=RF,bh=Array.prototype,SF=function(e){var t=e.reduce;return e===bh||TF(bh,e)&&t===bh.reduce?NF:t},VI=SF,Mr=I(VI);let LI=!0,GI=!0;function Pc(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Ao(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(a,d){if(a!==t)return s.apply(this,arguments);const l=E=>{const g=n(E);g&&(d.handleEvent?d.handleEvent(g):d(g))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(d,l),s.apply(this,[a,l])};const o=r.removeEventListener;r.removeEventListener=function(a,d){if(a!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(d))return o.apply(this,arguments);const l=this._eventMap[t].get(d);return this._eventMap[t].delete(d),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[a,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function MF(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(LI=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function yF(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(GI=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function zI(){if(typeof window=="object"){if(LI)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Dh(e,t){GI&&console.warn(e+" is deprecated, please use "+t+" instead.")}function xI(e){return Object.prototype.toString.call(e)==="[object Object]"}function WI(e){var t;return xI(e)?Mr(t=Object.keys(e)).call(t,function(n,r){const s=xI(e[r]),o=s?WI(e[r]):e[r],a=s&&!Object.keys(o).length;return o===void 0||a?n:Object.assign(n,{[r]:o})},{}):e}function kh(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?kh(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{kh(e,e.get(s),n)})}))}function JI(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const o=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&o.push(a)}),o.forEach(a=>{e.forEach(d=>{d.type===r&&d.trackId===a.id&&kh(e,d,s)})}),s}var wF=Ch,HI=Jo("keys"),Vc=function(e){return HI[e]||(HI[e]=wF(e))},BF=!m(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),UF=ji,vF=Qe,_F=Vr,FF=BF,ZI=Vc("IE_PROTO"),Yh=Object,QF=Yh.prototype,jh=FF?Yh.getPrototypeOf:function(e){var t=_F(e);if(UF(t,ZI))return t[ZI];var n=t.constructor;return vF(n)&&t instanceof n?n.prototype:t instanceof Yh?QF:null},bF=k,DF=Gn,kF=Qe,YF=String,jF=TypeError,OF=function(e,t,n){try{return bF(DF(Object.getOwnPropertyDescriptor(e,t)[n]))}catch{}},PF=cn,VF=function(e){if(typeof e=="object"||kF(e))return e;throw jF("Can't set "+YF(e)+" as a prototype")},LF=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=OF(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch{}return function(r,s){return PF(r),VF(s),t?e(r,s):r.__proto__=s,r}}():void 0),Lc={},Gc={},Oh=ji,GF=Vn,zF=vh.indexOf,xF=Gc,XI=k([].push),KI=function(e,t){var n,r=GF(e),s=0,o=[];for(n in r)!Oh(xF,n)&&Oh(r,n)&&XI(o,n);for(;t.length>s;)Oh(r,n=t[s++])&&(~zF(o,n)||XI(o,n));return o},Ph=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],WF=KI,JF=Ph.concat("length","prototype");Lc.f=Object.getOwnPropertyNames||function(e){return WF(e,JF)};var hA={};hA.f=Object.getOwnPropertySymbols;var HF=In,ZF=Lc,XF=hA,KF=cn,qF=k([].concat),$F=HF("Reflect","ownKeys")||function(e){var t=ZF.f(KF(e)),n=XF.f;return n?qF(t,n(e)):t},qI=ji,eQ=$F,tQ=Ci,iQ=nr,Vh={},nQ=KI,rQ=Ph,zc=Object.keys||function(e){return nQ(e,rQ)},sQ=ii,oQ=FI,aQ=nr,AQ=cn,cQ=Vn,dQ=zc;Vh.f=sQ&&!oQ?Object.defineProperties:function(e,t){AQ(e);for(var n,r=cQ(t),s=dQ(t),o=s.length,a=0;o>a;)aQ.f(e,n=s[a++],r[n]);return e};var xc,$I=In("document","documentElement"),lQ=cn,hQ=Vh,ef=Ph,uQ=Gc,EQ=$I,gQ=Nh,Lh="prototype",Gh="script",tf=Vc("IE_PROTO"),zh=function(){},nf=function(e){return"<"+Gh+">"+e+"</"+Gh+">"},rf=function(e){e.write(nf("")),e.close();var t=e.parentWindow.Object;return e=null,t},Wc=function(){try{xc=new ActiveXObject("htmlfile")}catch{}var e,t,n;Wc=typeof document<"u"?document.domain&&xc?rf(xc):(t=gQ("iframe"),n="java"+Gh+":",t.style.display="none",EQ.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(nf("document.F=Object")),e.close(),e.F):rf(xc);for(var r=ef.length;r--;)delete Wc[Lh][ef[r]];return Wc()};uQ[tf]=!0;var uA=Object.create||function(e,t){var n;return e!==null?(zh[Lh]=lQ(e),n=new zh,zh[Lh]=null,n[tf]=e):n=Wc(),t===void 0?n:hQ.f(n,t)},pQ=yn,IQ=Us,sf=Error,fQ=k("".replace),mQ=String(sf("zxcasd").stack),of=/\n\s*at [^:]*:[^\n]*/,CQ=of.test(mQ),RQ=On,TQ=!m(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",RQ(1,7)),e.stack!==7)}),NQ=Us,SQ=function(e,t){if(CQ&&typeof e=="string"&&!sf.prepareStackTrace)for(;t--;)e=fQ(e,of,"");return e},MQ=TQ,af=Error.captureStackTrace,co={},yQ=co,wQ=ri("iterator"),BQ=Array.prototype,Af=function(e){return e!==void 0&&(yQ.Array===e||BQ[wQ]===e)},UQ=Lr,cf=bc,vQ=We,_Q=co,FQ=ri("iterator"),Jc=function(e){if(!vQ(e))return cf(e,FQ)||cf(e,"@@iterator")||_Q[UQ(e)]},QQ=at,bQ=Gn,DQ=cn,kQ=Wo,YQ=Jc,jQ=TypeError,xh=function(e,t){var n=arguments.length<2?YQ(e):t;if(bQ(n))return DQ(QQ(n,e));throw jQ(kQ(e)+" is not iterable")},OQ=at,df=cn,PQ=bc,lf=function(e,t,n){var r,s;df(e);try{if(!(r=PQ(e,"return"))){if(t==="throw")throw n;return n}r=OQ(r,e)}catch(o){s=!0,r=o}if(t==="throw")throw n;if(s)throw r;return df(r),n},VQ=Bs,LQ=at,GQ=cn,zQ=Wo,xQ=Af,WQ=ds,hf=O,JQ=xh,HQ=Jc,uf=lf,ZQ=TypeError,Hc=function(e,t){this.stopped=e,this.result=t},Ef=Hc.prototype,EA=function(e,t,n){var r,s,o,a,d,l,E,g=n&&n.that,f=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),Q=!(!n||!n.INTERRUPTED),U=VQ(t,g),_=function(Y){return r&&uf(r,"normal",Y),new Hc(!0,Y)},b=function(Y){return f?(GQ(Y),Q?U(Y[0],Y[1],_):U(Y[0],Y[1])):Q?U(Y,_):U(Y)};if(C)r=e.iterator;else if(T)r=e;else{if(!(s=HQ(e)))throw ZQ(zQ(e)+" is not iterable");if(xQ(s)){for(o=0,a=WQ(e);a>o;o++)if((d=b(e[o]))&&hf(Ef,d))return d;return new Hc(!1)}r=JQ(e,s)}for(l=C?e.next:r.next;!(E=LQ(l,r)).done;){try{d=b(E.value)}catch(Y){uf(r,"throw",Y)}if(typeof d=="object"&&d&&hf(Ef,d))return d}return new Hc(!1)},XQ=zn,KQ=Ct,qQ=O,$Q=jh,Zc=LF,eb=function(e,t,n){for(var r=eQ(t),s=iQ.f,o=tQ.f,a=0;a<r.length;a++){var d=r[a];qI(e,d)||n&&qI(n,d)||s(e,d,o(t,d))}},gf=uA,Wh=Us,Jh=On,tb=function(e,t){pQ(t)&&"cause"in t&&IQ(e,"cause",t.cause)},ib=function(e,t,n,r){MQ&&(af?af(e,t):NQ(e,"stack",SQ(n,r)))},nb=EA,rb=function(e,t){return e===void 0?arguments.length<2?"":t:XQ(e)},sb=ri("toStringTag"),Xc=Error,ob=[].push,qo=function(e,t){var n,r=qQ(Hh,this);Zc?n=Zc(Xc(),r?$Q(this):Hh):(n=r?this:gf(Hh),Wh(n,sb,"Error")),t!==void 0&&Wh(n,"message",rb(t)),ib(n,qo,n.stack,1),arguments.length>2&&tb(n,arguments[2]);var s=[];return nb(e,ob,{that:s}),Wh(n,"errors",s),n};Zc?Zc(qo,Xc):eb(qo,Xc,{name:!0});var Hh=qo.prototype=gf(Xc.prototype,{constructor:Jh(1,qo),message:Jh(1,""),name:Jh(1,"AggregateError")});KQ({global:!0},{AggregateError:qo});var Kc,gA,qc,ab=Qe,pf=x.WeakMap,Ab=ab(pf)&&/native code/.test(String(pf)),If=x,cb=yn,db=Us,Zh=ji,Xh=mh,lb=Vc,hb=Gc,ff="Object already initialized",Kh=If.TypeError,ub=If.WeakMap;if(Ab||Xh.state){var Gr=Xh.state||(Xh.state=new ub);Gr.get=Gr.get,Gr.has=Gr.has,Gr.set=Gr.set,Kc=function(e,t){if(Gr.has(e))throw Kh(ff);return t.facade=e,Gr.set(e,t),t},gA=function(e){return Gr.get(e)||{}},qc=function(e){return Gr.has(e)}}else{var $o=lb("state");hb[$o]=!0,Kc=function(e,t){if(Zh(e,$o))throw Kh(ff);return t.facade=e,db(e,$o,t),t},gA=function(e){return Zh(e,$o)?e[$o]:{}},qc=function(e){return Zh(e,$o)}}var lo,mf,Cf,ho={set:Kc,get:gA,has:qc,enforce:function(e){return qc(e)?gA(e):Kc(e,{})},getterFor:function(e){return function(t){var n;if(!cb(t)||(n=gA(t)).type!==e)throw Kh("Incompatible receiver, "+e+" required");return n}}},qh=ii,Eb=ji,Rf=Function.prototype,gb=qh&&Object.getOwnPropertyDescriptor,Tf=Eb(Rf,"name"),Nf={PROPER:Tf&&(function(){}).name==="something",CONFIGURABLE:Tf&&(!qh||qh&&gb(Rf,"name").configurable)},pb=Us,vs=function(e,t,n,r){return r&&r.enumerable?e[t]=n:pb(e,t,n),e},Ib=m,fb=Qe,mb=yn,Cb=uA,Sf=jh,Rb=vs,$h=ri("iterator"),Mf=!1;[].keys&&("next"in(Cf=[].keys())?(mf=Sf(Sf(Cf)))!==Object.prototype&&(lo=mf):Mf=!0);var Tb=!mb(lo)||Ib(function(){var e={};return lo[$h].call(e)!==e});fb((lo=Tb?{}:Cb(lo))[$h])||Rb(lo,$h,function(){return this});var yf={IteratorPrototype:lo,BUGGY_SAFARI_ITERATORS:Mf},Nb=Lr,Sb=_h?{}.toString:function(){return"[object "+Nb(this)+"]"},Mb=_h,yb=nr.f,wb=Us,Bb=ji,Ub=Sb,wf=ri("toStringTag"),_s=function(e,t,n,r){if(e){var s=n?e:e.prototype;Bb(s,wf)||yb(s,wf,{configurable:!0,value:t}),r&&!Mb&&wb(s,"toString",Ub)}},vb=yf.IteratorPrototype,_b=uA,Fb=On,Qb=_s,bb=co,Db=function(){return this},eu=function(e,t,n,r){var s=t+" Iterator";return e.prototype=_b(vb,{next:Fb(+!r,n)}),Qb(e,s,!1,!0),bb[s]=Db,e},kb=Ct,Yb=at,jb=Nf,Ob=eu,Pb=jh,Vb=_s,Bf=vs,Uf=co,Lb=yf,Gb=jb.PROPER,$c=Lb.BUGGY_SAFARI_ITERATORS,tu=ri("iterator"),vf="keys",ed="values",_f="entries",zb=function(){return this},Ff=function(e,t,n,r,s,o,a){Ob(n,t,r);var d,l,E,g=function(b){if(b===s&&U)return U;if(!$c&&b in T)return T[b];switch(b){case vf:case ed:case _f:return function(){return new n(this,b)}}return function(){return new n(this)}},f=t+" Iterator",C=!1,T=e.prototype,Q=T[tu]||T["@@iterator"]||s&&T[s],U=!$c&&Q||g(s),_=t=="Array"&&T.entries||Q;if(_&&(d=Pb(_.call(new e)))!==Object.prototype&&d.next&&(Vb(d,f,!0,!0),Uf[f]=zb),Gb&&s==ed&&Q&&Q.name!==ed&&(C=!0,U=function(){return Yb(Q,this)}),s)if(l={values:g(ed),keys:o?U:g(vf),entries:g(_f)},a)for(E in l)($c||C||!(E in T))&&Bf(T,E,l[E]);else kb({target:t,proto:!0,forced:$c||C},l);return a&&T[tu]!==U&&Bf(T,tu,U,{}),Uf[t]=U,l},iu=function(e,t){return{value:e,done:t}},xb=Vn,Qf=co,bf=ho;nr.f;var Wb=Ff,Df=iu,kf="Array Iterator",Jb=bf.set,Hb=bf.getterFor(kf);Wb(Array,"Array",function(e,t){Jb(this,{type:kf,target:xb(e),index:0,kind:t})},function(){var e=Hb(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,Df(void 0,!0)):Df(n=="keys"?r:n=="values"?t[r]:[r,t[r]],!1)},"values"),Qf.Arguments=Qf.Array;var Zb=nr,td=function(e,t,n){return Zb.f(e,t,n)},Xb=In,Kb=td,qb=ii,Yf=ri("species"),$b=O,eD=TypeError,nu=function(e,t){if($b(t,e))return e;throw eD("Incorrect invocation")},tD=Qe,ru=mh,iD=k(Function.toString);tD(ru.inspectSource)||(ru.inspectSource=function(e){return iD(e)});var jf=ru.inspectSource,nD=k,rD=m,Of=Qe,sD=Lr,oD=jf,Pf=function(){},aD=[],Vf=In("Reflect","construct"),su=/^\s*(?:class|function)\b/,AD=nD(su.exec),cD=!su.exec(Pf),pA=function(e){if(!Of(e))return!1;try{return Vf(Pf,aD,e),!0}catch{return!1}},Lf=function(e){if(!Of(e))return!1;switch(sD(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return cD||!!AD(su,oD(e))}catch{return!0}};Lf.sham=!0;var IA,ea,Gf,ou,id=!Vf||rD(function(){var e;return pA(pA.call)||!pA(Object)||!pA(function(){e=!0})||e})?Lf:pA,dD=id,lD=Wo,hD=TypeError,zf=cn,uD=function(e){if(dD(e))return e;throw hD(lD(e)+" is not a constructor")},ED=We,gD=ri("species"),au=function(e,t){var n,r=zf(e).constructor;return r===void 0||ED(n=zf(r)[gD])?t:uD(n)},nd=k([].slice),pD=TypeError,ta=function(e,t){if(e<t)throw pD("Not enough arguments");return e},xf=/(?:ipad|iphone|ipod).*applewebkit/i.test(ws),xn=x,ID=te,fD=Bs,Wf=Qe,mD=ji,Jf=m,Hf=$I,CD=nd,Zf=Nh,RD=ta,TD=xf,ND=Ko,Au=xn.setImmediate,cu=xn.clearImmediate,SD=xn.process,du=xn.Dispatch,MD=xn.Function,Xf=xn.MessageChannel,yD=xn.String,lu=0,fA={},Kf="onreadystatechange";Jf(function(){IA=xn.location});var hu=function(e){if(mD(fA,e)){var t=fA[e];delete fA[e],t()}},uu=function(e){return function(){hu(e)}},qf=function(e){hu(e.data)},$f=function(e){xn.postMessage(yD(e),IA.protocol+"//"+IA.host)};Au&&cu||(Au=function(e){RD(arguments.length,1);var t=Wf(e)?e:MD(e),n=CD(arguments,1);return fA[++lu]=function(){ID(t,void 0,n)},ea(lu),lu},cu=function(e){delete fA[e]},ND?ea=function(e){SD.nextTick(uu(e))}:du&&du.now?ea=function(e){du.now(uu(e))}:Xf&&!TD?(ou=(Gf=new Xf).port2,Gf.port1.onmessage=qf,ea=fD(ou.postMessage,ou)):xn.addEventListener&&Wf(xn.postMessage)&&!xn.importScripts&&IA&&IA.protocol!=="file:"&&!Jf($f)?(ea=$f,xn.addEventListener("message",qf,!1)):ea=Kf in Zf("script")?function(e){Hf.appendChild(Zf("script"))[Kf]=function(){Hf.removeChild(this),hu(e)}}:function(e){setTimeout(uu(e),0)});var rd={set:Au,clear:cu},em=function(){this.head=null,this.tail=null};em.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return(this.head=e.next)===null&&(this.tail=null),e.item}};var ia,Eu,gu,pu,tm,im=em,wD=/ipad|iphone|ipod/i.test(ws)&&typeof Pebble<"u",BD=/web0s(?!.*chrome)/i.test(ws),uo=x,rm=Bs,UD=Ci.f,Iu=rd.set,vD=im,_D=xf,FD=wD,QD=BD,fu=Ko,sm=uo.MutationObserver||uo.WebKitMutationObserver,om=uo.document,am=uo.process,sd=uo.Promise,Am=UD(uo,"queueMicrotask"),mu=Am&&Am.value;if(!mu){var od=new vD,ad=function(){var e,t;for(fu&&(e=am.domain)&&e.exit();t=od.get();)try{t()}catch(n){throw od.head&&ia(),n}e&&e.enter()};_D||fu||QD||!sm||!om?!FD&&sd&&sd.resolve?((pu=sd.resolve(void 0)).constructor=sd,tm=rm(pu.then,pu),ia=function(){tm(ad)}):fu?ia=function(){am.nextTick(ad)}:(Iu=rm(Iu,uo),ia=function(){Iu(ad)}):(Eu=!0,gu=om.createTextNode(""),new sm(ad).observe(gu,{characterData:!0}),ia=function(){gu.data=Eu=!Eu}),mu=function(e){od.head||ia(),od.add(e)}}var cm=mu,na=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Eo=x.Promise,dm=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",bD=!dm&&!Ko&&typeof window=="object"&&typeof document=="object",DD=x,mA=Eo,kD=Qe,YD=_I,jD=jf,OD=ri,PD=bD,VD=dm,Cu=ao,lm=mA&&mA.prototype,LD=OD("species"),hm=kD(DD.PromiseRejectionEvent),GD=YD("Promise",function(){var e=jD(mA),t=e!==String(mA);if(!t&&Cu===66||!lm.catch||!lm.finally)return!0;if(!Cu||Cu<51||!/native code/.test(e)){var n=new mA(function(s){s(1)}),r=function(s){s(function(){},function(){})};if((n.constructor={})[LD]=r,!(n.then(function(){})instanceof r))return!0}return!t&&(PD||VD)&&!hm}),CA={CONSTRUCTOR:GD,REJECTION_EVENT:hm},zr={},um=Gn,zD=TypeError,xD=function(e){var t,n;this.promise=new e(function(r,s){if(t!==void 0||n!==void 0)throw zD("Bad Promise constructor");t=r,n=s}),this.resolve=um(t),this.reject=um(n)};zr.f=function(e){return new xD(e)};var Ru,Em,WD=Ct,Ad=Ko,Fs=x,RA=at,JD=vs,HD=_s,ZD=function(e){var t=Xb(e);qb&&t&&!t[Yf]&&Kb(t,Yf,{configurable:!0,get:function(){return this}})},XD=Gn,Tu=Qe,KD=yn,qD=nu,$D=au,gm=rd.set,Nu=cm,ek=function(e,t){try{arguments.length==1?console.error(e):console.error(e,t)}catch{}},tk=na,ik=im,pm=ho,Su=Eo,Im=CA,fm=zr,cd="Promise",mm=Im.CONSTRUCTOR,nk=Im.REJECTION_EVENT,Mu=pm.getterFor(cd),rk=pm.set,sk=Su&&Su.prototype,TA=Su,yu=sk,Cm=Fs.TypeError,wu=Fs.document,Bu=Fs.process,Uu=fm.f,ak=Uu,Ak=!!(wu&&wu.createEvent&&Fs.dispatchEvent),Rm="unhandledrejection",Tm=function(e){var t;return!(!KD(e)||!Tu(t=e.then))&&t},Nm=function(e,t){var n,r,s,o=t.value,a=t.state==1,d=a?e.ok:e.fail,l=e.resolve,E=e.reject,g=e.domain;try{d?(a||(t.rejection===2&&dk(t),t.rejection=1),d===!0?n=o:(g&&g.enter(),n=d(o),g&&(g.exit(),s=!0)),n===e.promise?E(Cm("Promise-chain cycle")):(r=Tm(n))?RA(r,n,l,E):l(n)):E(o)}catch(f){g&&!s&&g.exit(),E(f)}},Sm=function(e,t){e.notified||(e.notified=!0,Nu(function(){for(var n,r=e.reactions;n=r.get();)Nm(n,e);e.notified=!1,t&&!e.rejection&&ck(e)}))},Mm=function(e,t,n){var r,s;Ak?((r=wu.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Fs.dispatchEvent(r)):r={promise:t,reason:n},!nk&&(s=Fs["on"+e])?s(r):e===Rm&&ek("Unhandled promise rejection",n)},ck=function(e){RA(gm,Fs,function(){var t,n=e.facade,r=e.value;if(ym(e)&&(t=tk(function(){Ad?Bu.emit("unhandledRejection",r,n):Mm(Rm,n,r)}),e.rejection=Ad||ym(e)?2:1,t.error))throw t.value})},ym=function(e){return e.rejection!==1&&!e.parent},dk=function(e){RA(gm,Fs,function(){var t=e.facade;Ad?Bu.emit("rejectionHandled",t):Mm("rejectionhandled",t,e.value)})},ra=function(e,t,n){return function(r){e(t,r,n)}},sa=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Sm(e,!0))},vu=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Cm("Promise can't be resolved itself");var r=Tm(t);r?Nu(function(){var s={done:!1};try{RA(r,t,ra(vu,s,e),ra(sa,s,e))}catch(o){sa(s,o,e)}}):(e.value=t,e.state=1,Sm(e,!1))}catch(s){sa({done:!1},s,e)}}};mm&&(yu=(TA=function(e){qD(this,yu),XD(e),RA(Ru,this);var t=Mu(this);try{e(ra(vu,t),ra(sa,t))}catch(n){sa(t,n)}}).prototype,(Ru=function(e){rk(this,{type:cd,done:!1,notified:!1,parent:!1,reactions:new ik,rejection:!1,state:0,value:void 0})}).prototype=JD(yu,"then",function(e,t){var n=Mu(this),r=Uu($D(this,TA));return n.parent=!0,r.ok=!Tu(e)||e,r.fail=Tu(t)&&t,r.domain=Ad?Bu.domain:void 0,n.state==0?n.reactions.add(r):Nu(function(){Nm(r,n)}),r.promise}),Em=function(){var e=new Ru,t=Mu(e);this.promise=e,this.resolve=ra(vu,t),this.reject=ra(sa,t)},fm.f=Uu=function(e){return e===TA||e===void 0?new Em(e):ak(e)}),WD({global:!0,wrap:!0,forced:mm},{Promise:TA}),HD(TA,cd,!1,!0),ZD(cd);var wm=ri("iterator"),Bm=!1;try{var lk=0,Um={next:function(){return{done:!!lk++}},return:function(){Bm=!0}};Um[wm]=function(){return this},Array.from(Um,function(){throw 2})}catch{}var hk=Eo,uk=function(e,t){if(!Bm)return!1;var n=!1;try{var r={};r[wm]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},dd=CA.CONSTRUCTOR||!uk(function(e){hk.all(e).then(void 0,function(){})}),Ek=at,gk=Gn,pk=zr,Ik=na,fk=EA;Ct({target:"Promise",stat:!0,forced:dd},{all:function(e){var t=this,n=pk.f(t),r=n.resolve,s=n.reject,o=Ik(function(){var a=gk(t.resolve),d=[],l=0,E=1;fk(e,function(g){var f=l++,C=!1;E++,Ek(a,t,g).then(function(T){C||(C=!0,d[f]=T,--E||r(d))},s)}),--E||r(d)});return o.error&&s(o.value),n.promise}});var mk=Ct,Ck=CA.CONSTRUCTOR;Eo&&Eo.prototype,mk({target:"Promise",proto:!0,forced:Ck,real:!0},{catch:function(e){return this.then(void 0,e)}});var Rk=at,Tk=Gn,Nk=zr,Sk=na,Mk=EA;Ct({target:"Promise",stat:!0,forced:dd},{race:function(e){var t=this,n=Nk.f(t),r=n.reject,s=Sk(function(){var o=Tk(t.resolve);Mk(e,function(a){Rk(o,t,a).then(n.resolve,r)})});return s.error&&r(s.value),n.promise}});var yk=at,wk=zr;Ct({target:"Promise",stat:!0,forced:CA.CONSTRUCTOR},{reject:function(e){var t=wk.f(this);return yk(t.reject,void 0,e),t.promise}});var Bk=cn,Uk=yn,vk=zr,vm=function(e,t){if(Bk(e),Uk(t)&&t.constructor===e)return t;var n=vk.f(e);return(0,n.resolve)(t),n.promise},_k=Ct,Fk=Eo,Qk=CA.CONSTRUCTOR,bk=vm,Dk=In("Promise"),kk=!Qk;_k({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return bk(kk&&this===Dk?Fk:this,e)}});var Yk=at,jk=Gn,Ok=zr,Pk=na,Vk=EA;Ct({target:"Promise",stat:!0,forced:dd},{allSettled:function(e){var t=this,n=Ok.f(t),r=n.resolve,s=n.reject,o=Pk(function(){var a=jk(t.resolve),d=[],l=0,E=1;Vk(e,function(g){var f=l++,C=!1;E++,Yk(a,t,g).then(function(T){C||(C=!0,d[f]={status:"fulfilled",value:T},--E||r(d))},function(T){C||(C=!0,d[f]={status:"rejected",reason:T},--E||r(d))})}),--E||r(d)});return o.error&&s(o.value),n.promise}});var Lk=at,Gk=Gn,zk=In,xk=zr,Wk=na,Jk=EA,_m="No one promise resolved";Ct({target:"Promise",stat:!0,forced:dd},{any:function(e){var t=this,n=zk("AggregateError"),r=xk.f(t),s=r.resolve,o=r.reject,a=Wk(function(){var d=Gk(t.resolve),l=[],E=0,g=1,f=!1;Jk(e,function(C){var T=E++,Q=!1;g++,Lk(d,t,C).then(function(U){Q||f||(f=!0,s(U))},function(U){Q||f||(Q=!0,l[T]=U,--g||o(new n(l,_m)))})}),--g||o(new n(l,_m))});return a.error&&o(a.value),r.promise}});var Hk=Ct,_u=Eo,Zk=m,Xk=In,Kk=Qe,qk=au,Fm=vm,$k=_u&&_u.prototype;Hk({target:"Promise",proto:!0,real:!0,forced:!!_u&&Zk(function(){$k.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=qk(this,Xk("Promise")),n=Kk(e);return this.then(n?function(r){return Fm(t,e()).then(function(){return r})}:e,n?function(r){return Fm(t,e()).then(function(){throw r})}:e)}});var Fu=k,eY=Bh,tY=zn,iY=Zt,nY=Fu("".charAt),Qm=Fu("".charCodeAt),rY=Fu("".slice),bm=function(e){return function(t,n){var r,s,o=tY(iY(t)),a=eY(n),d=o.length;return a<0||a>=d?e?"":void 0:(r=Qm(o,a))<55296||r>56319||a+1===d||(s=Qm(o,a+1))<56320||s>57343?e?nY(o,a):r:e?rY(o,a,a+2):s-56320+(r-55296<<10)+65536}},Qu={codeAt:bm(!1),charAt:bm(!0)},sY=Qu.charAt,oY=zn,Dm=ho,aY=Ff,km=iu,Ym="String Iterator",AY=Dm.set,cY=Dm.getterFor(Ym);aY(String,"String",function(e){AY(this,{type:Ym,string:oY(e),index:0})},function(){var e,t=cY(this),n=t.string,r=t.index;return r>=n.length?km(void 0,!0):(e=sY(n,r),t.index+=e.length,km(e,!1))});var dY=Ln.Promise,lY={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hY=x,uY=Lr,EY=Us,jm=co,Om=ri("toStringTag");for(var bu in lY){var Pm=hY[bu],Du=Pm&&Pm.prototype;Du&&uY(Du)!==Om&&EY(Du,Om,bu),jm[bu]=jm.Array}var Vm=dY,Ie=I(Vm);const Lm=zI;function Gm(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const d={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const E=typeof a[l]=="object"?a[l]:{ideal:a[l]};E.exact!==void 0&&typeof E.exact=="number"&&(E.min=E.max=E.exact);const g=function(f,C){return f?f+C.charAt(0).toUpperCase()+C.slice(1):C==="deviceId"?"sourceId":C};if(E.ideal!==void 0){d.optional=d.optional||[];let f={};typeof E.ideal=="number"?(f[g("min",l)]=E.ideal,d.optional.push(f),f={},f[g("max",l)]=E.ideal,d.optional.push(f)):(f[g("",l)]=E.ideal,d.optional.push(f))}E.exact!==void 0&&typeof E.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",l)]=E.exact):["min","max"].forEach(f=>{E[f]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(f,l)]=E[f])})}),a.advanced&&(d.optional=(d.optional||[]).concat(a.advanced)),d},s=function(a,d){if(t.version>=61)return d(a);if((a=JSON.parse(JSON.stringify(a)))&&typeof a.audio=="object"){const l=function(E,g,f){g in E&&!(f in E)&&(E[f]=E[g],delete E[g])};l((a=JSON.parse(JSON.stringify(a))).audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const E=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||E)){let g;if(delete a.video.facingMode,l.exact==="environment"||l.ideal==="environment"?g=["back","rear"]:l.exact!=="user"&&l.ideal!=="user"||(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(f=>{let C=(f=f.filter(T=>T.kind==="videoinput")).find(T=>g.some(Q=>{var U;return ge(U=T.label.toLowerCase()).call(U,Q)}));return!C&&f.length&&ge(g).call(g,"back")&&(C=f[f.length-1]),C&&(a.video.deviceId=l.exact?{exact:C.deviceId}:{ideal:C.deviceId}),a.video=r(a.video),Lm("chrome: "+JSON.stringify(a)),d(a)})}a.video=r(a.video)}return Lm("chrome: "+JSON.stringify(a)),d(a)},o=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=(function(a,d,l){s(a,E=>{n.webkitGetUserMedia(E,d,g=>{l&&l(o(g))})})}).bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return s(d,l=>a(l).then(E=>{if(l.audio&&!E.getAudioTracks().length||l.video&&!E.getVideoTracks().length)throw E.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return E},E=>Ie.reject(o(E))))}}}function zm(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function xm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",r=>{let s;s=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===r.track.id):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(r=>{let s;s=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===r.id):{track:r};const o=new Event("track");o.track=r,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ao(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Wm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=s.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,d){let l=s.apply(this,arguments);return l||(l=t(this,a),this._senders.push(l)),l};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);const d=this._senders.indexOf(a);d!==-1&&this._senders.splice(d,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(d=>d.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Jm(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[n,r,s]=arguments;if(arguments.length>0&&typeof n=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof n!="function"))return t.apply(this,[]);const o=function(d){const l={};return d.result().forEach(E=>{const g={id:E.id,timestamp:E.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[E.type]||E.type};E.names().forEach(f=>{g[f]=E.stat(f)}),l[g.id]=g}),l},a=function(d){return new Map(Object.keys(d).map(l=>[l,d[l]]))};if(arguments.length>=2){const d=function(l){r(a(o(l)))};return t.apply(this,[d,n])}return new Ie((d,l)=>{t.apply(this,[function(E){d(a(o(E)))},l])}).then(r,s)}}function Hm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>JI(o,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Ao(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(s=>JI(s,r.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let r,s,o;return this.getSenders().forEach(a=>{a.track===n&&(r?o=!0:r=a)}),this.getReceivers().forEach(a=>(a.track===n&&(s?o=!0:s=a),a.track===n)),o||r&&s?Ie.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():s?s.getStats():Ie.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Zm(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(d)===-1&&this._shimmedLocalStreams[a.id].push(d):this._shimmedLocalStreams[a.id]=[a,d],d};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(g=>g.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(d)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const d=this._shimmedLocalStreams[a].indexOf(o);d!==-1&&this._shimmedLocalStreams[a].splice(d,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function Xm(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Zm(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const l=n.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(E=>this._reverseStreams[E.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(E=>{if(this.getSenders().find(f=>f.track===E))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const E=new e.MediaStream(l.getTracks());this._streams[l.id]=E,this._reverseStreams[E.id]=l,l=E}r.apply(this,[l])};const s=e.RTCPeerConnection.prototype.removeStream;function o(l,E){let g=E.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const C=l._reverseStreams[f],T=l._streams[C.id];g=g.replace(new RegExp(T.id,"g"),C.id)}),new RTCSessionDescription({type:E.type,sdp:g})}e.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},e.RTCPeerConnection.prototype.addTrack=function(l,E){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const g=[].slice.call(arguments,1);if(g.length!==1||!g[0].getTracks().find(T=>T===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(T=>T.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[E.id];if(C)C.addTrack(l),Ie.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const T=new e.MediaStream([l]);this._streams[E.id]=T,this._reverseStreams[T.id]=E,this.addStream(T)}return this.getSenders().find(T=>T.track===l)},["createOffer","createAnswer"].forEach(function(l){const E=e.RTCPeerConnection.prototype[l],g={[l](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?E.apply(this,[C=>{const T=o(this,C);f[0].apply(null,[T])},C=>{f[1]&&f[1].apply(null,C)},arguments[2]]):E.apply(this,arguments).then(C=>o(this,C))}};e.RTCPeerConnection.prototype[l]=g[l]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(l,E){let g=E.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const C=l._reverseStreams[f],T=l._streams[C.id];g=g.replace(new RegExp(C.id,"g"),T.id)}),new RTCSessionDescription({type:E.type,sdp:g})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const d=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=d.get.apply(this);return l.type===""?l:o(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(l._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let E;this._streams=this._streams||{},Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(f=>l.track===f)&&(E=this._streams[g])}),E&&(E.getTracks().length===1?this.removeStream(this._reverseStreams[E.id]):E.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ku(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function Km(e,t){Ao(e,"negotiationneeded",n=>{const r=n.target;if(!(t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")||r.signalingState==="stable")return n})}var qm=Object.freeze({__proto__:null,fixNegotiationNeeded:Km,shimAddTrackRemoveTrack:Xm,shimAddTrackRemoveTrackWithNative:Zm,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(typeof t=="function"?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(r=>{const s=n.video&&n.video.width,o=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,maxFrameRate:a||3}},s&&(n.video.mandatory.maxWidth=s),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:Wm,shimGetStats:Jm,shimGetUserMedia:Gm,shimMediaStream:zm,shimOnTrack:xm,shimPeerConnection:ku,shimSenderReceiverGetStats:Hm});function $m(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,o,a){Dh("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(o,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(a,d,l){d in a&&!(l in a)&&(a[l]=a[d],delete a[d])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a.audio,"autoGainControl","mozAutoGainControl"),s(a.audio,"noiseSuppression","mozNoiseSuppression")),o(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const d=a.apply(this,arguments);return s(d,"mozAutoGainControl","autoGainControl"),s(d,"mozNoiseSuppression","noiseSuppression"),d}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),s(d,"autoGainControl","mozAutoGainControl"),s(d,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[d])}}}}function eC(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Yu(e,t){if(typeof e!="object"||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const o=e.RTCPeerConnection.prototype[s],a={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=a[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(d=>{if(t.version<53&&!o)try{d.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;d.forEach((E,g)=>{d.set(g,Object.assign({},E,{type:n[E.type]||E.type}))})}return d}).then(o,a)}}function tC(e){if(typeof e!="object"||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Ie.resolve(new Map)}}function iC(e){if(typeof e!="object"||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n}),Ao(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function nC(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(t){Dh("removeStream","removeTrack"),this.getSenders().forEach(n=>{var r;n.track&&ge(r=t.getTracks()).call(r,n.track)&&this.removeTrack(n)})})}function rC(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function sC(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const r=n.length>0;r&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(r){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function oC(e){if(typeof e!="object"||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function aC(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Ie.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function AC(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Ie.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var cC=Object.freeze({__proto__:null,shimAddTransceiver:sC,shimCreateAnswer:AC,shimCreateOffer:aC,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Ie.reject(r)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:oC,shimGetUserMedia:$m,shimOnTrack:eC,shimPeerConnection:Yu,shimRTCDataChannel:rC,shimReceiverGetStats:iC,shimRemoveStream:nC,shimSenderGetStats:tC});function dC(e){if(typeof e=="object"&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var r;this._localStreams||(this._localStreams=[]),ge(r=this._localStreams).call(r,n)||this._localStreams.push(n),n.getAudioTracks().forEach(s=>t.call(this,s,n)),n.getVideoTracks().forEach(s=>t.call(this,s,n))},e.RTCPeerConnection.prototype.addTrack=function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s&&s.forEach(a=>{var d;this._localStreams?ge(d=this._localStreams).call(d,a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(t);if(n===-1)return;this._localStreams.splice(n,1);const r=t.getTracks();this.getSenders().forEach(s=>{ge(r).call(r,s.track)&&this.removeTrack(s)})})}}function lC(e){if(typeof e=="object"&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{var o;if(this._remoteStreams||(this._remoteStreams=[]),ge(o=this._remoteStreams).call(o,s))return;this._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,this.dispatchEvent(a)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,n.dispatchEvent(o)})}),t.apply(n,arguments)}}}function hC(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(l,E){const g=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[g]);return E?(f.then(l,E),Ie.resolve()):f},t.createAnswer=function(l,E){const g=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[g]);return E?(f.then(l,E),Ie.resolve()):f};let d=function(l,E,g){const f=s.apply(this,[l]);return g?(f.then(E,g),Ie.resolve()):f};t.setLocalDescription=d,d=function(l,E,g){const f=o.apply(this,[l]);return g?(f.then(E,g),Ie.resolve()):f},t.setRemoteDescription=d,d=function(l,E,g){const f=a.apply(this,[l]);return g?(f.then(E,g),Ie.resolve()):f},t.addIceCandidate=d}function uC(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(EC(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(n,r,s){t.mediaDevices.getUserMedia(n).then(r,s)}).bind(t))}function EC(e){return e&&e.video!==void 0?Object.assign({},e,{video:WI(e.video)}):e}function gC(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,r){if(n&&n.iceServers){const s=[];for(let o=0;o<n.iceServers.length;o++){let a=n.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(Dh("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(n.iceServers[o])}n.iceServers=s}return new t(n,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function pC(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function IC(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){n.offerToReceiveAudio!==void 0&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const r=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveAudio!==!0||r||this.addTransceiver("audio",{direction:"recvonly"}),n.offerToReceiveVideo!==void 0&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo!==!0||s||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function fC(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var mC=Object.freeze({__proto__:null,shimAudioContext:fC,shimCallbacksAPI:hC,shimConstraints:EC,shimCreateOfferLegacy:IC,shimGetUserMedia:uC,shimLocalStreamsAPI:dC,shimRTCIceServerUrls:gC,shimRemoteStreamsAPI:lC,shimTrackEventTransceiver:pC}),CC=`	
\v\f\r                　\u2028\u2029\uFEFF`,gY=Zt,pY=zn,ju=CC,RC=k("".replace),IY=RegExp("^["+ju+"]+"),fY=RegExp("(^|[^"+ju+"])["+ju+"]+$"),mY=function(e){return function(t){var n=pY(gY(t));return 1&e&&(n=RC(n,IY,"")),2&e&&(n=RC(n,fY,"$1")),n}},CY={trim:mY(3)},RY=Nf.PROPER,TY=m,TC=CC,NY=CY.trim;Ct({target:"String",proto:!0,forced:function(e){return TY(function(){return!!TC[e]()||"​᠎"[e]()!=="​᠎"||RY&&TC[e].name!==e})}("trim")},{trim:function(){return NY(this)}});var SY=rr("String").trim,MY=O,yY=SY,Ou=String.prototype,wY=function(e){var t=e.trim;return typeof e=="string"||e===Ou||MY(Ou,e)&&t===Ou.trim?yY:t},zi=I(wY),NC={exports:{}};(function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((r,s)=>(s>0?"m="+r:r).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;r=n.indexOf("a=candidate:")===0?n.substring(12).split(" "):n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":s.relatedAddress=r[o+1];break;case"rport":s.relatedPort=parseInt(r[o+1],10);break;case"tcptype":s.tcpType=r[o+1];break;case"ufrag":s.ufrag=r[o+1],s.usernameFragment=r[o+1];break;default:s[r[o]]===void 0&&(s[r[o]]=r[o+1])}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const o=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<o.length;a++)s=o[a].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?o.push(a+"="+n.parameters[a]):o.push(a)}),r+="a=fmtp:"+s+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+s+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(s.attribute=n.substring(r+1,o),s.value=n.substring(o+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{s+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&o?{usernameFragment:s.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(n)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const d=s[a],l=t.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(l){const E=t.parseRtpMap(l),g=t.matchPrefix(n,"a=fmtp:"+d+" ");switch(E.parameters=g.length?t.parseFmtp(g[0]):{},E.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(t.parseRtcpFb),r.codecs.push(E),E.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(E.name.toUpperCase())}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(d=>{a.rtcpFeedback.find(l=>l.type===d.type&&l.parameter===d.parameter)||a.rtcpFeedback.push(d)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(a=>{s+=t.writeRtpMap(a),s+=t.writeFmtp(a),s+=t.writeRtcpFb(a)});let o=0;return r.codecs.forEach(a=>{a.maxptime>o&&(o=a.maxptime)}),o>0&&(s+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(a=>{s+=t.writeExtmap(a)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),o=s.fecMechanisms.indexOf("RED")!==-1,a=s.fecMechanisms.indexOf("ULPFEC")!==-1,d=t.matchPrefix(n,"a=ssrc:").map(C=>t.parseSsrcMedia(C)).filter(C=>C.attribute==="cname"),l=d.length>0&&d[0].ssrc;let E;const g=t.matchPrefix(n,"a=ssrc-group:FID").map(C=>C.substring(17).split(" ").map(T=>parseInt(T,10)));g.length>0&&g[0].length>1&&g[0][0]===l&&(E=g[0][1]),s.codecs.forEach(C=>{if(C.name.toUpperCase()==="RTX"&&C.parameters.apt){let T={ssrc:l,codecPayloadType:parseInt(C.parameters.apt,10)};l&&E&&(T.rtx={ssrc:E}),r.push(T),o&&(T=JSON.parse(JSON.stringify(T)),T.fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},r.push(T))}}),r.length===0&&l&&r.push({ssrc:l});let f=t.matchPrefix(n,"b=");return f.length&&(f=f[0].indexOf("b=TIAS:")===0?parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?1e3*parseInt(f[0].substring(5),10)*.95-16e3:void 0,r.forEach(C=>{C.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const a=t.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");return o.length>0?(r=o[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let o;s.length>0&&(o=parseInt(s[0].substring(19),10)),isNaN(o)&&(o=65536);const a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const d=t.matchPrefix(n,"a=sctpmap:");if(d.length>0){const l=d[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){let s=[];return s=n.protocol!=="DTLS/SCTP"?["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let o;const a=r!==void 0?r:2;return o=n||t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+o+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let o=0;o<s.length;o++)switch(s[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[o].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const r=t.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(n){const r=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(NC);var SC=NC.exports,oa=I(SC),BY=u({__proto__:null,default:oa},[SC]);function ld(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&((n=JSON.parse(JSON.stringify(n))).candidate=n.candidate.substr(2)),n.candidate&&n.candidate.length){const r=new t(n),s=oa.parseCandidate(n.candidate),o=Object.assign(r,s);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,Ao(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Pu(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Ao(e,"icecandidate",t=>{if(t.candidate){const n=oa.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function hd(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const n=function(d){if(!d||!d.sdp)return!1;const l=oa.splitSections(d.sdp);return l.shift(),l.some(E=>{const g=oa.parseMLine(E);return g&&g.kind==="application"&&g.protocol.indexOf("SCTP")!==-1})},r=function(d){const l=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const E=parseInt(l[1],10);return E!=E?-1:E},s=function(d){let l=65536;return t.browser==="firefox"&&(l=t.version<57?d===-1?16384:2147483637:t.version<60?t.version===57?65535:65536:2147483637),l},o=function(d,l){let E=65536;t.browser==="firefox"&&t.version===57&&(E=65535);const g=oa.matchPrefix(d.sdp,"a=max-message-size:");return g.length>0?E=parseInt(g[0].substr(19),10):t.browser==="firefox"&&l!==-1&&(E=2147483637),E},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=r(arguments[0]),l=s(d),E=o(arguments[0],d);let g;g=l===0&&E===0?Number.POSITIVE_INFINITY:l===0||E===0?Math.max(l,E):Math.min(l,E);const f={};Object.defineProperty(f,"maxMessageSize",{get:()=>g}),this._sctp=f}return a.apply(this,arguments)}}function ud(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const o=r.send;r.send=function(){const a=arguments[0],d=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&d>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return t(r,this),r},Ao(e,"datachannel",r=>(t(r.channel,r.target),r))}function Vu(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const o=s.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const a=new Event("connectionstatechange",s);o.dispatchEvent(a)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Lu(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=r.sdp.split(`
`).filter(o=>zi(o).call(o)!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&r instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:r.type,sdp:s}):r.sdp=s}return n.apply(this,arguments)}}function Ed(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&n.length!==0&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Ie.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Ie.resolve())})}function gd(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&n.length!==0&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer"}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var UY=Object.freeze({__proto__:null,removeExtmapAllowMixed:Lu,shimAddIceCandidateNullOrEmpty:Ed,shimConnectionState:Vu,shimMaxMessageSize:hd,shimParameterlessSetLocalDescription:gd,shimRTCIceCandidate:ld,shimRTCIceCandidateRelayProtocol:Pu,shimSendThrowTypeError:ud});(function(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=zI,r=function(o){const a={browser:null,version:null};if(o===void 0||!o.navigator)return a.browser="Not a browser.",a;const{navigator:d}=o;if(d.mozGetUserMedia)a.browser="firefox",a.version=Pc(d.userAgent,/Firefox\/(\d+)\./,1);else if(d.webkitGetUserMedia||o.isSecureContext===!1&&o.webkitRTCPeerConnection)a.browser="chrome",a.version=Pc(d.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!o.RTCPeerConnection||!d.userAgent.match(/AppleWebKit\/(\d+)\./))return a.browser="Not a supported browser.",a;a.browser="safari",a.version=Pc(d.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=o.RTCRtpTransceiver&&"currentDirection"in o.RTCRtpTransceiver.prototype}return a}(e),s={browserDetails:r,commonShim:UY,extractVersion:Pc,disableLog:MF,disableWarnings:yF,sdp:BY};switch(r.browser){case"chrome":if(!qm||!ku||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=qm,Ed(e,r),gd(e),Gm(e,r),zm(e),ku(e,r),xm(e),Xm(e,r),Wm(e),Jm(e),Hm(e),Km(e,r),ld(e),Pu(e),Vu(e),hd(e,r),ud(e),Lu(e,r);break;case"firefox":if(!cC||!Yu||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=cC,Ed(e,r),gd(e),$m(e,r),Yu(e,r),eC(e),nC(e),tC(e),iC(e),rC(e),sC(e),oC(e),aC(e),AC(e),ld(e),Vu(e),hd(e,r),ud(e);break;case"safari":if(!mC||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=mC,Ed(e,r),gd(e),gC(e),IC(e),hC(e),dC(e),lC(e),pC(e),uC(e),fC(e),ld(e),Pu(e),hd(e,r),ud(e),Lu(e,r);break;default:n("Unsupported browser!")}})({window:typeof window>"u"?void 0:window});var vY=rr("Array").keys,_Y=Lr,FY=ji,QY=O,bY=vY,Gu=Array.prototype,DY={DOMTokenList:!0,NodeList:!0},kY=function(e){var t=e.keys;return e===Gu||QY(Gu,e)&&t===Gu.keys||FY(DY,_Y(e))?bY:t},wn=I(kY),MC=Wo,YY=TypeError,jY=Dc,OY=nr,PY=On,pd=function(e,t,n){var r=jY(t);r in e?OY.f(e,r,PY(0,n)):e[r]=n},yC=Uh,VY=ds,LY=pd,GY=Array,zY=Math.max,zu=function(e,t,n){for(var r=VY(e),s=yC(t,r),o=yC(n===void 0?r:n,r),a=GY(zY(o-s,0)),d=0;s<o;s++,d++)LY(a,d,e[s]);return a.length=d,a},wC=zu,xY=Math.floor,xu=function(e,t){var n=e.length,r=xY(n/2);return n<8?WY(e,t):JY(e,xu(wC(e,0,r),t),xu(wC(e,r),t),t)},WY=function(e,t){for(var n,r,s=e.length,o=1;o<s;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},JY=function(e,t,n,r){for(var s=t.length,o=n.length,a=0,d=0;a<s||d<o;)e[a+d]=a<s&&d<o?r(t[a],n[d])<=0?t[a++]:n[d++]:a<s?t[a++]:n[d++];return e},BC=xu,UC=ws.match(/firefox\/(\d+)/i),HY=!!UC&&+UC[1],ZY=/MSIE|Trident/.test(ws),vC=ws.match(/AppleWebKit\/(\d+)\./),XY=!!vC&&+vC[1],KY=Ct,_C=k,qY=Gn,$Y=Vr,FC=ds,e1=function(e,t){if(!delete e[t])throw YY("Cannot delete property "+MC(t)+" of "+MC(e))},QC=zn,Wu=m,t1=BC,i1=Oc,bC=HY,n1=ZY,DC=ao,kC=XY,Qs=[],YC=_C(Qs.sort),r1=_C(Qs.push),s1=Wu(function(){Qs.sort(void 0)}),o1=Wu(function(){Qs.sort(null)}),a1=i1("sort"),jC=!Wu(function(){if(DC)return DC<70;if(!(bC&&bC>3)){if(n1)return!0;if(kC)return kC<603;var e,t,n,r,s="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Qs.push({k:t+r,v:n})}for(Qs.sort(function(o,a){return a.v-o.v}),r=0;r<Qs.length;r++)t=Qs[r].k.charAt(0),s.charAt(s.length-1)!==t&&(s+=t);return s!=="DGBEFHACIJK"}});KY({target:"Array",proto:!0,forced:s1||!o1||!a1||!jC},{sort:function(e){e!==void 0&&qY(e);var t=$Y(this);if(jC)return e===void 0?YC(t):YC(t,e);var n,r,s=[],o=FC(t);for(r=0;r<o;r++)r in t&&r1(s,t[r]);for(t1(s,function(a){return function(d,l){return l===void 0?-1:d===void 0?1:a!==void 0?+a(d,l)||0:QC(d)>QC(l)?1:-1}}(e)),n=FC(s),r=0;r<n;)t[r]=s[r++];for(;r<o;)e1(t,r++);return t}});var A1=rr("Array").sort,c1=O,d1=A1,Ju=Array.prototype,l1=function(e){var t=e.sort;return e===Ju||c1(Ju,e)&&t===Ju.sort?d1:t},NA=I(l1),Hu={exports:{}};(function(e,t){(function(n,r){var s="function",o="undefined",a="object",d="string",l="major",E="model",g="name",f="type",C="vendor",T="version",Q="architecture",U="console",_="mobile",b="tablet",Y="smarttv",G="wearable",W="embedded",J="Amazon",K="Apple",ne="ASUS",le="BlackBerry",oe="Browser",ye="Chrome",Xe="Firefox",lt="Google",vt="Huawei",di="LG",Ot="Microsoft",Sr="Motorola",ie="Opera",ce="Samsung",Me="Sharp",Le="Sony",ct="Xiaomi",Ee="Zebra",y="Facebook",V="Chromium OS",z="Mac OS",ae=function(ei){for(var Ei={},bt=0;bt<ei.length;bt++)Ei[ei[bt].toUpperCase()]=ei[bt];return Ei},Ge=function(ei,Ei){return typeof ei===d&&mt(Ei).indexOf(mt(ei))!==-1},mt=function(ei){return ei.toLowerCase()},mi=function(ei,Ei){if(typeof ei===d)return ei=ei.replace(/^\s\s*/,""),typeof Ei===o?ei:ei.substring(0,350)},En=function(ei,Ei){for(var bt,Mn,cs,ti,dt,gn,oo=0;oo<Ei.length&&!dt;){var Or=Ei[oo],ov=Ei[oo+1];for(bt=Mn=0;bt<Or.length&&!dt&&Or[bt];)if(dt=Or[bt++].exec(ei))for(cs=0;cs<ov.length;cs++)gn=dt[++Mn],typeof(ti=ov[cs])===a&&ti.length>0?ti.length===2?typeof ti[1]==s?this[ti[0]]=ti[1].call(this,gn):this[ti[0]]=ti[1]:ti.length===3?typeof ti[1]!==s||ti[1].exec&&ti[1].test?this[ti[0]]=gn?gn.replace(ti[1],ti[2]):r:this[ti[0]]=gn?ti[1].call(this,gn,ti[2]):r:ti.length===4&&(this[ti[0]]=gn?ti[3].call(this,gn.replace(ti[1],ti[2])):r):this[ti]=gn||r;oo+=2}},ys=function(ei,Ei){for(var bt in Ei)if(typeof Ei[bt]===a&&Ei[bt].length>0){for(var Mn=0;Mn<Ei[bt].length;Mn++)if(Ge(Ei[bt][Mn],ei))return bt==="?"?r:bt}else if(Ge(Ei[bt],ei))return bt==="?"?r:bt;return ei},uh={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Eh={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[T,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[T,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,T],[/opios[\/ ]+([\w\.]+)/i],[T,[g,ie+" Mini"]],[/\bopr\/([\w\.]+)/i],[T,[g,ie]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,T],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[T,[g,"UC"+oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[T,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[T,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[T,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[T,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[T,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+oe],T],[/\bfocus\/([\w\.]+)/i],[T,[g,Xe+" Focus"]],[/\bopt\/([\w\.]+)/i],[T,[g,ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[T,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[T,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[T,[g,ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[T,[g,"MIUI "+oe]],[/fxios\/([-\w\.]+)/i],[T,[g,Xe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+oe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+oe],T],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],T],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,T],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,y],T],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,T],[/\bgsa\/([\w\.]+) .*safari\//i],[T,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[T,[g,ye+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,ye+" WebView"],T],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[T,[g,"Android "+oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,T],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[T,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[T,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[T,ys,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[g,T],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],T],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[T,[g,Xe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[g,T],[/(cobalt)\/([\w\.]+)/i],[g,[T,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Q,"amd64"]],[/(ia32(?=;))/i],[[Q,mt]],[/((?:i[346]|x)86)[;\)]/i],[[Q,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Q,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Q,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Q,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Q,/ower/,"",mt]],[/(sun4\w)[;\)]/i],[[Q,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Q,mt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[C,ce],[f,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[E,[C,ce],[f,_]],[/\((ip(?:hone|od)[\w ]*);/i],[E,[C,K],[f,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[C,K],[f,b]],[/(macintosh);/i],[E,[C,K]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[C,Me],[f,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[E,[C,vt],[f,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[C,vt],[f,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[E,/_/g," "],[C,ct],[f,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[E,/_/g," "],[C,ct],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[C,"OPPO"],[f,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[C,"Vivo"],[f,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[E,[C,"Realme"],[f,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[C,Sr],[f,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[C,Sr],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[C,di],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[C,di],[f,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[E,[C,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[E,/_/g," "],[C,"Nokia"],[f,_]],[/(pixel c)\b/i],[E,[C,lt],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[C,lt],[f,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[C,Le],[f,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[C,Le],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[C,"OnePlus"],[f,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[C,J],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[C,J],[f,_]],[/(playbook);[-\w\),; ]+(rim)/i],[E,C,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[C,le],[f,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[C,ne],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[C,ne],[f,_]],[/(nexus 9)/i],[E,[C,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[C,[E,/_/g," "],[f,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[C,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[C,"Meizu"],[f,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[C,E,[f,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[C,E,[f,b]],[/(surface duo)/i],[E,[C,Ot],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[C,"Fairphone"],[f,_]],[/(u304aa)/i],[E,[C,"AT&T"],[f,_]],[/\bsie-(\w*)/i],[E,[C,"Siemens"],[f,_]],[/\b(rct\w+) b/i],[E,[C,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[E,[C,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[E,[C,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[E,[C,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[E,[C,"NuVision"],[f,b]],[/\b(k88) b/i],[E,[C,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[E,[C,"ZTE"],[f,_]],[/\b(gen\d{3}) b.+49h/i],[E,[C,"Swiss"],[f,_]],[/\b(zur\d{3}) b/i],[E,[C,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[E,[C,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[C,"Dragon Touch"],E,[f,b]],[/\b(ns-?\w{0,9}) b/i],[E,[C,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[E,[C,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[C,"Voice"],E,[f,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[C,"LvTel"],E,[f,_]],[/\b(ph-1) /i],[E,[C,"Essential"],[f,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[E,[C,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[E,[C,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[E,[C,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[E,[C,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[C,E,[f,_]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[C,Ot],[f,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[C,Ee],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[C,Ee],[f,_]],[/smart-tv.+(samsung)/i],[C,[f,Y]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[C,ce],[f,Y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[C,di],[f,Y]],[/(apple) ?tv/i],[C,[E,K+" TV"],[f,Y]],[/crkey/i],[[E,ye+"cast"],[C,lt],[f,Y]],[/droid.+aft(\w)( bui|\))/i],[E,[C,J],[f,Y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[C,Me],[f,Y]],[/(bravia[\w ]+)( bui|\))/i],[E,[C,Le],[f,Y]],[/(mitv-\w{5}) bui/i],[E,[C,ct],[f,Y]],[/Hbbtv.*(technisat) (.*);/i],[C,E,[f,Y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[C,mi],[E,mi],[f,Y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,Y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[C,E,[f,U]],[/droid.+; (shield) bui/i],[E,[C,"Nvidia"],[f,U]],[/(playstation [345portablevi]+)/i],[E,[C,Le],[f,U]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[C,Ot],[f,U]],[/((pebble))app/i],[C,E,[f,G]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[E,[C,K],[f,G]],[/droid.+; (glass) \d/i],[E,[C,lt],[f,G]],[/droid.+; (wt63?0{2,3})\)/i],[E,[C,Ee],[f,G]],[/(quest( 2| pro)?)/i],[E,[C,y],[f,G]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[C,[f,W]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[E,[f,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[E,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,_]],[/(android[-\w\. ]{0,9});.+buil/i],[E,[C,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[T,[g,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[T,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[g,T],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[T,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,T],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[T,ys,uh]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[T,ys,uh]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[T,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,z],[T,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[T,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,T],[/\(bb(10);/i],[T,[g,le]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[T,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[T,[g,Xe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[T,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[T,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[T,[g,ye+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,V],T],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,T],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],T],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[g,T]]},ir=function(ei,Ei){if(typeof ei===a&&(Ei=ei,ei=r),!(this instanceof ir))return new ir(ei,Ei).getResult();var bt=typeof n!==o&&n.navigator?n.navigator:r,Mn=ei||(bt&&bt.userAgent?bt.userAgent:""),cs=bt&&bt.userAgentData?bt.userAgentData:r,ti=Ei?function(dt,gn){var oo={};for(var Or in dt)gn[Or]&&gn[Or].length%2==0?oo[Or]=gn[Or].concat(dt[Or]):oo[Or]=dt[Or];return oo}(Eh,Ei):Eh;return this.getBrowser=function(){var dt={};return dt[g]=r,dt[T]=r,En.call(dt,Mn,ti.browser),dt[l]=function(gn){return typeof gn===d?gn.replace(/[^\d\.]/g,"").split(".")[0]:r}(dt[T]),bt&&bt.brave&&typeof bt.brave.isBrave==s&&(dt[g]="Brave"),dt},this.getCPU=function(){var dt={};return dt[Q]=r,En.call(dt,Mn,ti.cpu),dt},this.getDevice=function(){var dt={};return dt[C]=r,dt[E]=r,dt[f]=r,En.call(dt,Mn,ti.device),!dt[f]&&cs&&cs.mobile&&(dt[f]=_),dt[E]=="Macintosh"&&bt&&typeof bt.standalone!==o&&bt.maxTouchPoints&&bt.maxTouchPoints>2&&(dt[E]="iPad",dt[f]=b),dt},this.getEngine=function(){var dt={};return dt[g]=r,dt[T]=r,En.call(dt,Mn,ti.engine),dt},this.getOS=function(){var dt={};return dt[g]=r,dt[T]=r,En.call(dt,Mn,ti.os),!dt[g]&&cs&&cs.platform!="Unknown"&&(dt[g]=cs.platform.replace(/chrome os/i,V).replace(/macos/i,z)),dt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Mn},this.setUA=function(dt){return Mn=typeof dt===d&&dt.length>350?mi(dt,350):dt,this},this.setUA(Mn),this};ir.VERSION="0.7.34",ir.BROWSER=ae([g,T,l]),ir.CPU=ae([Q]),ir.DEVICE=ae([E,C,f,U,_,Y,b,G,W]),ir.ENGINE=ir.OS=ae([g,T]),e.exports&&(t=e.exports=ir),t.UAParser=ir;var so=typeof n!==o&&(n.jQuery||n.Zepto);if(so&&!so.ua){var aA=new ir;so.ua=aA.getResult(),so.ua.get=function(){return aA.getUA()},so.ua.set=function(ei){aA.setUA(ei);var Ei=aA.getResult();for(var bt in Ei)so.ua[bt]=Ei[bt]}}})(typeof window=="object"?window:p)})(Hu,Hu.exports);var h1=I(Hu.exports),u1=Lr,E1=ji,g1=We,p1=co,I1=ri("iterator"),f1=Object,m1=function(e){if(g1(e))return!1;var t=f1(e);return t[I1]!==void 0||"@@iterator"in t||E1(p1,u1(t))},C1=I(m1),Zu=x;Ct({global:!0,forced:Zu.globalThis!==Zu},{globalThis:Zu});var OC=I(x),PC=rd.clear;Ct({global:!0,bind:!0,forced:x.clearImmediate!==PC},{clearImmediate:PC});var R1=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",VC=x,T1=te,N1=Qe,S1=R1,M1=ws,y1=nd,w1=ta,B1=VC.Function,U1=/MSIE .\./.test(M1)||S1&&function(){var e=VC.Bun.version.split(".");return e.length<3||e[0]==0&&(e[1]<3||e[1]==3&&e[2]==0)}(),v1=Ct,LC=x,GC=rd.set,_1=function(e,t){var n=1;return U1?function(r,s){var o=w1(arguments.length,1)>n,a=N1(r)?r:B1(r),d=o?y1(arguments,n):[],l=o?function(){T1(a,this,d)}:a;return e(l)}:e},zC=LC.setImmediate?_1(GC):GC;v1({global:!0,bind:!0,forced:LC.setImmediate!==zC},{setImmediate:zC});var xC=I(Ln.setImmediate),F1=Ct,Q1=cm,b1=Gn,D1=ta,k1=Ko,Y1=x.process;F1({global:!0,dontCallGetSet:!0},{queueMicrotask:function(e){D1(arguments.length,1),b1(e);var t=k1&&Y1.domain;Q1(t?t.bind(e):e)}});var WC=I(Ln.queueMicrotask);function JC(e,t){return function(){return e.apply(t,arguments)}}const{toString:j1}=Object.prototype,{getPrototypeOf:Xu}=Object,Id=(Ku=Object.create(null),e=>{const t=j1.call(e);return Ku[t]||(Ku[t]=t.slice(8,-1).toLowerCase())});var Ku;const yr=e=>(e=e.toLowerCase(),t=>Id(t)===e),fd=e=>t=>typeof t===e,{isArray:aa}=Array,SA=fd("undefined"),HC=yr("ArrayBuffer"),O1=fd("string"),Wn=fd("function"),ZC=fd("number"),md=e=>e!==null&&typeof e=="object",Cd=e=>{if(Id(e)!=="object")return!1;const t=Xu(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.toStringTag in e||C1(e))},P1=yr("Date"),V1=yr("File"),L1=yr("Blob"),G1=yr("FileList"),z1=yr("URLSearchParams"),[x1,W1,J1,H1]=["ReadableStream","Request","Response","Headers"].map(yr);function MA(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e!=null)if(typeof e!="object"&&(e=[e]),aa(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const o=s?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let d;for(n=0;n<a;n++)d=o[n],t.call(null,e[d],d,e)}}function XC(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const go=OC!==void 0?OC:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,KC=e=>!SA(e)&&e!==go,Z1=(qu=typeof Uint8Array<"u"&&Xu(Uint8Array),e=>qu&&e instanceof qu);var qu;const X1=yr("HTMLFormElement"),qC=(e=>{let{hasOwnProperty:t}=e;return(n,r)=>t.call(n,r)})(Object.prototype),K1=yr("RegExp"),$C=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};MA(n,(s,o)=>{let a;(a=t(s,o,e))!==!1&&(r[o]=a||s)}),Object.defineProperties(e,r)},$u="abcdefghijklmnopqrstuvwxyz",eR="0123456789",tR={DIGIT:eR,ALPHA:$u,ALPHA_DIGIT:$u+$u.toUpperCase()+eR},q1=yr("AsyncFunction"),iR=(nR=typeof xC=="function",rR=Wn(go.postMessage),nR?xC:rR?(eE="axios@".concat(Math.random()),Rd=[],go.addEventListener("message",e=>{let{source:t,data:n}=e;t===go&&n===eE&&Rd.length&&Rd.shift()()},!1),e=>{Rd.push(e),go.postMessage(eE,"*")}):e=>setTimeout(e));var nR,rR,eE,Rd;const $1=WC!==void 0?WC.bind(go):typeof process<"u"&&process.nextTick||iR;var ue={isArray:aa,isArrayBuffer:HC,isBuffer:function(e){return e!==null&&!SA(e)&&e.constructor!==null&&!SA(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((t=Id(e))==="formdata"||t==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},isArrayBufferView:function(e){let t;return t=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&HC(e.buffer),t},isString:O1,isNumber:ZC,isBoolean:e=>e===!0||e===!1,isObject:md,isPlainObject:Cd,isReadableStream:x1,isRequest:W1,isResponse:J1,isHeaders:H1,isUndefined:SA,isDate:P1,isFile:V1,isBlob:L1,isRegExp:K1,isFunction:Wn,isStream:e=>md(e)&&Wn(e.pipe),isURLSearchParams:z1,isTypedArray:Z1,isFileList:G1,forEach:MA,merge:function e(){const{caseless:t}=KC(this)&&this||{},n={},r=(s,o)=>{const a=t&&XC(n,o)||o;Cd(n[a])&&Cd(s)?n[a]=e(n[a],s):Cd(s)?n[a]=e({},s):aa(s)?n[a]=s.slice():n[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&MA(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return MA(t,(s,o)=>{n&&Wn(s)?e[o]=JC(s,n):e[o]=s},{allOwnKeys:r}),e},trim:e=>zi(e)?zi(e).call(e):e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,o,a;const d={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],r&&!r(a,e,t)||d[a]||(t[a]=e[a],d[a]=!0);e=n!==!1&&Xu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Id,kindOfTest:yr,endsWith:(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},toArray:e=>{if(!e)return null;if(aa(e))return e;let t=e.length;if(!ZC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},isHTMLForm:X1,hasOwnProperty:qC,hasOwnProp:qC,reduceDescriptors:$C,freezeMethods:e=>{$C(e,(t,n)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];Wn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return aa(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,findKey:XC,global:go,isContextDefined:KC,ALPHABET:tR,generateString:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tR.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Wn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(r,s)=>{if(md(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=aa(r)?[]:{};return MA(r,(a,d)=>{const l=n(a,s+1);!SA(l)&&(o[d]=l)}),t[s]=void 0,o}}return r};return n(e,0)},isAsyncFn:q1,isThenable:e=>e&&(md(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),setImmediate:iR,asap:$1};function Rt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ue.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const sR=Rt.prototype,oR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oR[e]={value:e}}),Object.defineProperties(Rt,oR),Object.defineProperty(sR,"isAxiosError",{value:!0}),Rt.from=(e,t,n,r,s,o)=>{const a=Object.create(sR);return ue.toFlatObject(e,a,function(d){return d!==Error.prototype},d=>d!=="isAxiosError"),Rt.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};function tE(e){return ue.isPlainObject(e)||ue.isArray(e)}function aR(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function AR(e,t,n){return e?e.concat(t).map(function(r,s){return r=aR(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}const ej=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Td(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!ue.isUndefined(T[C])})).metaTokens,s=n.visitor||E,o=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(s))throw new TypeError("visitor must be a function");function l(C){if(C===null)return"";if(ue.isDate(C))return C.toISOString();if(!d&&ue.isBlob(C))throw new Rt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(C)||ue.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function E(C,T,Q){let U=C;if(C&&!Q&&typeof C=="object"){if(ue.endsWith(T,"{}"))T=r?T:T.slice(0,-2),C=JSON.stringify(C);else if(ue.isArray(C)&&function(_){return ue.isArray(_)&&!_.some(tE)}(C)||(ue.isFileList(C)||ue.endsWith(T,"[]"))&&(U=ue.toArray(C)))return T=aR(T),U.forEach(function(_,b){!ue.isUndefined(_)&&_!==null&&t.append(a===!0?AR([T],b,o):a===null?T:T+"[]",l(_))}),!1}return!!tE(C)||(t.append(AR(Q,T,o),l(C)),!1)}const g=[],f=Object.assign(ej,{defaultVisitor:E,convertValue:l,isVisitable:tE});if(!ue.isObject(e))throw new TypeError("data must be an object");return function C(T,Q){if(!ue.isUndefined(T)){if(g.indexOf(T)!==-1)throw Error("Circular reference detected in "+Q.join("."));g.push(T),ue.forEach(T,function(U,_){(!(ue.isUndefined(U)||U===null)&&s.call(t,U,ue.isString(_)?zi(_).call(_):_,Q,f))===!0&&C(U,Q?Q.concat(_):[_])}),g.pop()}}(e),t}function cR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function iE(e,t){this._pairs=[],e&&Td(e,this,t)}const dR=iE.prototype;function tj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lR(e,t,n){if(!t)return e;const r=n&&n.encode||tj,s=n&&n.serialize;let o;if(o=s?s(t,n):ue.isURLSearchParams(t)?t.toString():new iE(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}dR.append=function(e,t){this._pairs.push([e,t])},dR.toString=function(e){const t=e?function(n){return e.call(this,n,cR)}:cR;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};var hR=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(t){t!==null&&e(t)})}},uR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ER={exports:{}},ij=Ct,nj=ii,gR=nr.f;ij({target:"Object",stat:!0,forced:Object.defineProperty!==gR,sham:!nj},{defineProperty:gR});var pR=Ln.Object,rj=ER.exports=function(e,t,n){return pR.defineProperty(e,t,n)};pR.defineProperty.sham&&(rj.sham=!0);var IR=I(ER.exports),sj=pe,yA=Array.isArray||function(e){return sj(e)=="Array"},oj=TypeError,fR=yA,aj=id,Aj=yn,cj=ri("species"),mR=Array,dj=function(e){var t;return fR(e)&&(t=e.constructor,(aj(t)&&(t===mR||fR(t.prototype))||Aj(t)&&(t=t[cj])===null)&&(t=void 0)),t===void 0?mR:t},CR=function(e,t){return new(dj(e))(t===0?0:t)},lj=m,hj=ao,uj=ri("species"),RR=function(e){return hj>=51||!lj(function(){var t=[];return(t.constructor={})[uj]=function(){return{foo:1}},t[e](Boolean).foo!==1})},Ej=Ct,gj=m,pj=yA,Ij=yn,fj=Vr,mj=ds,TR=function(e){if(e>9007199254740991)throw oj("Maximum allowed index exceeded");return e},NR=pd,Cj=CR,Rj=RR,Tj=ao,SR=ri("isConcatSpreadable"),Nj=Tj>=51||!gj(function(){var e=[];return e[SR]=!1,e.concat()[0]!==e}),Sj=function(e){if(!Ij(e))return!1;var t=e[SR];return t!==void 0?!!t:pj(e)};Ej({target:"Array",proto:!0,forced:!Nj||!Rj("concat")},{concat:function(e){var t,n,r,s,o,a=fj(this),d=Cj(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(Sj(o=t===-1?a:arguments[t]))for(s=mj(o),TR(l+s),n=0;n<s;n++,l++)n in o&&NR(d,l,o[n]);else TR(l+1),NR(d,l++,o);return d.length=l,d}});var MR={},Mj=pe,yj=Vn,yR=Lc.f,wj=zu,wR=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];MR.f=function(e){return wR&&Mj(e)=="Window"?function(t){try{return yR(t)}catch{return wj(wR)}}(e):yR(yj(e))};var Aa={},Bj=ri;Aa.f=Bj;var BR=Ln,Uj=ji,vj=Aa,_j=nr.f,_i=function(e){var t=BR.Symbol||(BR.Symbol={});Uj(t,e)||_j(t,e,{value:vj.f(e)})},Fj=at,Qj=In,bj=ri,Dj=vs,UR=function(){var e=Qj("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=bj("toPrimitive");t&&!t[r]&&Dj(t,r,function(s){return Fj(n,this)},{})},kj=Bs,Yj=ke,jj=Vr,Oj=ds,Pj=CR,vR=k([].push),Vj=function(e){var t=e==1,n=e==2,r=e==3,s=e==4,o=e==6,a=e==7,d=e==5||o;return function(l,E,g,f){for(var C,T,Q=jj(l),U=Yj(Q),_=kj(E,g),b=Oj(U),Y=0,G=f||Pj,W=t?G(l,b):n||a?G(l,0):void 0;b>Y;Y++)if((d||Y in U)&&(T=_(C=U[Y],Y,Q),e))if(t)W[Y]=T;else if(T)switch(e){case 3:return!0;case 5:return C;case 6:return Y;case 2:vR(W,C)}else switch(e){case 4:return!1;case 7:vR(W,C)}return o?-1:r||s?s:W}},_R={forEach:Vj(0)},Nd=Ct,nE=x,rE=at,Lj=k,ca=ii,da=xo,Gj=m,Zi=ji,zj=O,sE=cn,Sd=Vn,oE=Dc,xj=zn,aE=On,wA=uA,FR=zc,Wj=Lc,QR=MR,Jj=hA,bR=Ci,DR=nr,Hj=Vh,kR=Ht,YR=vs,Zj=td,AE=Jo,jR=Gc,OR=Ch,Xj=ri,Kj=Aa,qj=_i,$j=UR,eO=_s,PR=ho,Md=_R.forEach,Bn=Vc("hidden"),yd="Symbol",BA="prototype",tO=PR.set,VR=PR.getterFor(yd),wr=Object[BA],po=nE.Symbol,wd=po&&po[BA],iO=nE.TypeError,cE=nE.QObject,LR=bR.f,Io=DR.f,GR=QR.f,nO=kR.f,zR=Lj([].push),ls=AE("symbols"),UA=AE("op-symbols"),rO=AE("wks"),dE=!cE||!cE[BA]||!cE[BA].findChild,lE=ca&&Gj(function(){return wA(Io({},"a",{get:function(){return Io(this,"a",{value:7}).a}})).a!=7})?function(e,t,n){var r=LR(wr,t);r&&delete wr[t],Io(e,t,n),r&&e!==wr&&Io(wr,t,r)}:Io,hE=function(e,t){var n=ls[e]=wA(wd);return tO(n,{type:yd,tag:e,description:t}),ca||(n.description=t),n},Bd=function(e,t,n){e===wr&&Bd(UA,t,n),sE(e);var r=oE(t);return sE(n),Zi(ls,r)?(n.enumerable?(Zi(e,Bn)&&e[Bn][r]&&(e[Bn][r]=!1),n=wA(n,{enumerable:aE(0,!1)})):(Zi(e,Bn)||Io(e,Bn,aE(1,{})),e[Bn][r]=!0),lE(e,r,n)):Io(e,r,n)},uE=function(e,t){sE(e);var n=Sd(t),r=FR(n).concat(HR(n));return Md(r,function(s){ca&&!rE(xR,n,s)||Bd(e,s,n[s])}),e},xR=function(e){var t=oE(e),n=rE(nO,this,t);return!(this===wr&&Zi(ls,t)&&!Zi(UA,t))&&(!(n||!Zi(this,t)||!Zi(ls,t)||Zi(this,Bn)&&this[Bn][t])||n)},WR=function(e,t){var n=Sd(e),r=oE(t);if(n!==wr||!Zi(ls,r)||Zi(UA,r)){var s=LR(n,r);return!s||!Zi(ls,r)||Zi(n,Bn)&&n[Bn][r]||(s.enumerable=!0),s}},JR=function(e){var t=GR(Sd(e)),n=[];return Md(t,function(r){Zi(ls,r)||Zi(jR,r)||zR(n,r)}),n},HR=function(e){var t=e===wr,n=GR(t?UA:Sd(e)),r=[];return Md(n,function(s){!Zi(ls,s)||t&&!Zi(wr,s)||zR(r,ls[s])}),r};da||(po=function(){if(zj(wd,this))throw iO("Symbol is not a constructor");var e=arguments.length&&arguments[0]!==void 0?xj(arguments[0]):void 0,t=OR(e),n=function(r){this===wr&&rE(n,UA,r),Zi(this,Bn)&&Zi(this[Bn],t)&&(this[Bn][t]=!1),lE(this,t,aE(1,r))};return ca&&dE&&lE(wr,t,{configurable:!0,set:n}),hE(t,e)},YR(wd=po[BA],"toString",function(){return VR(this).tag}),YR(po,"withoutSetter",function(e){return hE(OR(e),e)}),kR.f=xR,DR.f=Bd,Hj.f=uE,bR.f=WR,Wj.f=QR.f=JR,Jj.f=HR,Kj.f=function(e){return hE(Xj(e),e)},ca&&Zj(wd,"description",{configurable:!0,get:function(){return VR(this).description}})),Nd({global:!0,wrap:!0,forced:!da,sham:!da},{Symbol:po}),Md(FR(rO),function(e){qj(e)}),Nd({target:yd,stat:!0,forced:!da},{useSetter:function(){dE=!0},useSimple:function(){dE=!1}}),Nd({target:"Object",stat:!0,forced:!da,sham:!ca},{create:function(e,t){return t===void 0?wA(e):uE(wA(e),t)},defineProperty:Bd,defineProperties:uE,getOwnPropertyDescriptor:WR}),Nd({target:"Object",stat:!0,forced:!da},{getOwnPropertyNames:JR}),$j(),eO(po,yd),jR[Bn]=!0;var ZR=xo&&!!Symbol.for&&!!Symbol.keyFor,sO=Ct,oO=In,aO=ji,AO=zn,XR=Jo,cO=ZR,EE=XR("string-to-symbol-registry"),dO=XR("symbol-to-string-registry");sO({target:"Symbol",stat:!0,forced:!cO},{for:function(e){var t=AO(e);if(aO(EE,t))return EE[t];var n=oO("Symbol")(t);return EE[t]=n,dO[n]=t,n}});var lO=Ct,hO=ji,uO=dA,EO=Wo,gO=ZR,KR=Jo("symbol-to-string-registry");lO({target:"Symbol",stat:!0,forced:!gO},{keyFor:function(e){if(!uO(e))throw TypeError(EO(e)+" is not a symbol");if(hO(KR,e))return KR[e]}});var qR=yA,pO=Qe,$R=pe,IO=zn,eT=k([].push),fO=Ct,tT=In,iT=te,mO=at,vA=k,nT=m,rT=Qe,sT=dA,oT=nd,CO=function(e){if(pO(e))return e;if(qR(e)){for(var t=e.length,n=[],r=0;r<t;r++){var s=e[r];typeof s=="string"?eT(n,s):typeof s!="number"&&$R(s)!="Number"&&$R(s)!="String"||eT(n,IO(s))}var o=n.length,a=!0;return function(d,l){if(a)return a=!1,l;if(qR(this))return l;for(var E=0;E<o;E++)if(n[E]===d)return l}}},RO=xo,TO=String,bs=tT("JSON","stringify"),Ud=vA(/./.exec),aT=vA("".charAt),NO=vA("".charCodeAt),SO=vA("".replace),MO=vA(1 .toString),yO=/[\uD800-\uDFFF]/g,AT=/^[\uD800-\uDBFF]$/,cT=/^[\uDC00-\uDFFF]$/,dT=!RO||nT(function(){var e=tT("Symbol")();return bs([e])!="[null]"||bs({a:e})!="{}"||bs(Object(e))!="{}"}),lT=nT(function(){return bs("\uDF06\uD834")!=='"\\udf06\\ud834"'||bs("\uDEAD")!=='"\\udead"'}),wO=function(e,t){var n=oT(arguments),r=CO(t);if(rT(r)||e!==void 0&&!sT(e))return n[1]=function(s,o){if(rT(r)&&(o=mO(r,this,TO(s),o)),!sT(o))return o},iT(bs,null,n)},BO=function(e,t,n){var r=aT(n,t-1),s=aT(n,t+1);return Ud(AT,e)&&!Ud(cT,s)||Ud(cT,e)&&!Ud(AT,r)?"\\u"+MO(NO(e,0),16):e};bs&&fO({target:"JSON",stat:!0,forced:dT||lT},{stringify:function(e,t,n){var r=oT(arguments),s=iT(dT?wO:bs,null,r);return lT&&typeof s=="string"?SO(s,yO,BO):s}});var hT=hA,UO=Vr;Ct({target:"Object",stat:!0,forced:!xo||m(function(){hT.f(1)})},{getOwnPropertySymbols:function(e){var t=hT.f;return t?t(UO(e)):[]}}),_i("asyncIterator"),_i("hasInstance"),_i("isConcatSpreadable"),_i("iterator"),_i("match"),_i("matchAll"),_i("replace"),_i("search"),_i("species"),_i("split");var vO=UR;_i("toPrimitive"),vO();var _O=In,FO=_s;_i("toStringTag"),FO(_O("Symbol"),"Symbol"),_i("unscopables"),_s(x.JSON,"JSON",!0);var QO=Ln.Symbol,bO=ri,DO=nr.f,uT=bO("metadata"),ET=Function.prototype;ET[uT]===void 0&&DO(ET,uT,{value:null}),_i("dispose"),_i("metadata");var kO=QO;_i("asyncDispose");var YO=k,gE=In("Symbol"),jO=gE.keyFor,OO=YO(gE.prototype.valueOf),gT=gE.isRegisteredSymbol||function(e){try{return jO(OO(e))!==void 0}catch{return!1}};Ct({target:"Symbol",stat:!0},{isRegisteredSymbol:gT});for(var PO=Jo,pT=In,VO=k,LO=dA,zO=ri,vd=pT("Symbol"),IT=vd.isWellKnownSymbol,fT=pT("Object","getOwnPropertyNames"),xO=VO(vd.prototype.valueOf),mT=PO("wks"),pE=0,CT=fT(vd),WO=CT.length;pE<WO;pE++)try{var RT=CT[pE];LO(vd[RT])&&zO(RT)}catch{}var TT=function(e){if(IT&&IT(e))return!0;try{for(var t=xO(e),n=0,r=fT(mT),s=r.length;n<s;n++)if(mT[r[n]]==t)return!0}catch{}return!1};Ct({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:TT}),_i("matcher"),_i("observable"),Ct({target:"Symbol",stat:!0},{isRegistered:gT}),Ct({target:"Symbol",stat:!0,forced:!0},{isWellKnown:TT}),_i("metadataKey"),_i("patternMatch"),_i("replaceAll");var la=I(kO),NT=I(Aa.f("iterator"));function _A(e){return _A=typeof la=="function"&&typeof NT=="symbol"?function(t){return typeof t}:function(t){return t&&typeof la=="function"&&t.constructor===la&&t!==la.prototype?"symbol":typeof t},_A(e)}var JO=I(Aa.f("toPrimitive"));function HO(e){var t=function(n,r){if(_A(n)!=="object"||n===null)return n;var s=n[JO];if(s!==void 0){var o=s.call(n,r);if(_A(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return _A(t)==="symbol"?t:String(t)}function F(e,t,n){return(t=HO(t))in e?IR(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZO=m,XO=ri("iterator"),IE=!ZO(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2"),r="";return e.pathname="c%20d",t.forEach(function(s,o){t.delete("b"),r+=o+s}),n.delete("a",2),!e.toJSON||!n.has("a",1)||n.has("a",2)||!t.size&&!0||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[XO]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"}),KO=vs,fE=Ct,ha=x,_d=at,xr=k,ua=ii,ST=IE,MT=vs,qO=td,$O=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:KO(e,r,t[r],n);return e},eP=_s,tP=eu,mE=ho,yT=nu,CE=Qe,iP=ji,nP=Bs,rP=Lr,sP=cn,wT=yn,fn=zn,oP=uA,BT=On,RE=xh,aP=Jc,Ea=ta,AP=BC,cP=ri("iterator"),FA="URLSearchParams",UT=FA+"Iterator",vT=mE.set,sr=mE.getterFor(FA),dP=mE.getterFor(UT),lP=Object.getOwnPropertyDescriptor,TE=function(e){if(!ua)return ha[e];var t=lP(ha,e);return t&&t.value},_T=TE("fetch"),Fd=TE("Request"),QA=TE("Headers"),NE=Fd&&Fd.prototype,FT=QA&&QA.prototype,hP=ha.RegExp,uP=ha.TypeError,QT=ha.decodeURIComponent,EP=ha.encodeURIComponent,gP=xr("".charAt),bT=xr([].join),fo=xr([].push),SE=xr("".replace),pP=xr([].shift),DT=xr([].splice),kT=xr("".split),IP=xr("".slice),fP=/\+/g,YT=Array(4),mP=function(e){return YT[e-1]||(YT[e-1]=hP("((?:%[\\da-f]{2}){"+e+"})","gi"))},CP=function(e){try{return QT(e)}catch{return e}},jT=function(e){var t=SE(e,fP," "),n=4;try{return QT(t)}catch{for(;n;)t=SE(t,mP(n--),CP);return t}},RP=/[!'()~]|%20/g,TP={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},NP=function(e){return TP[e]},OT=function(e){return SE(EP(e),RP,NP)},ME=tP(function(e,t){vT(this,{type:UT,iterator:RE(sr(e).entries),kind:t})},"Iterator",function(){var e=dP(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value=t==="keys"?r.key:t==="values"?r.value:[r.key,r.value]),n},!0),VT=function(e){this.entries=[],this.url=null,e!==void 0&&(wT(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?gP(e,0)==="?"?IP(e,1):e:fn(e)))};VT.prototype={type:FA,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,s,o,a,d,l=aP(e);if(l)for(n=(t=RE(e,l)).next;!(r=_d(n,t)).done;){if(o=(s=RE(sP(r.value))).next,(a=_d(o,s)).done||(d=_d(o,s)).done||!_d(o,s).done)throw uP("Expected sequence with length 2");fo(this.entries,{key:fn(a.value),value:fn(d.value)})}else for(var E in e)iP(e,E)&&fo(this.entries,{key:E,value:fn(e[E])})},parseQuery:function(e){if(e)for(var t,n,r=kT(e,"&"),s=0;s<r.length;)(t=r[s++]).length&&(n=kT(t,"="),fo(this.entries,{key:jT(pP(n)),value:jT(bT(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],fo(n,OT(e.key)+"="+OT(e.value));return bT(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Qd=function(){yT(this,ga);var e=vT(this,new VT(arguments.length>0?arguments[0]:void 0));ua||(this.size=e.entries.length)},ga=Qd.prototype;if($O(ga,{append:function(e,t){var n=sr(this);Ea(arguments.length,2),fo(n.entries,{key:fn(e),value:fn(t)}),ua||this.length++,n.updateURL()},delete:function(e){for(var t=sr(this),n=Ea(arguments.length,1),r=t.entries,s=fn(e),o=n<2?void 0:arguments[1],a=o===void 0?o:fn(o),d=0;d<r.length;){var l=r[d];if(l.key!==s||a!==void 0&&l.value!==a)d++;else if(DT(r,d,1),a!==void 0)break}ua||(this.size=r.length),t.updateURL()},get:function(e){var t=sr(this).entries;Ea(arguments.length,1);for(var n=fn(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=sr(this).entries;Ea(arguments.length,1);for(var n=fn(e),r=[],s=0;s<t.length;s++)t[s].key===n&&fo(r,t[s].value);return r},has:function(e){for(var t=sr(this).entries,n=Ea(arguments.length,1),r=fn(e),s=n<2?void 0:arguments[1],o=s===void 0?s:fn(s),a=0;a<t.length;){var d=t[a++];if(d.key===r&&(o===void 0||d.value===o))return!0}return!1},set:function(e,t){var n=sr(this);Ea(arguments.length,1);for(var r,s=n.entries,o=!1,a=fn(e),d=fn(t),l=0;l<s.length;l++)(r=s[l]).key===a&&(o?DT(s,l--,1):(o=!0,r.value=d));o||fo(s,{key:a,value:d}),ua||(this.size=s.length),n.updateURL()},sort:function(){var e=sr(this);AP(e.entries,function(t,n){return t.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=sr(this).entries,r=nP(e,arguments.length>1?arguments[1]:void 0),s=0;s<n.length;)r((t=n[s++]).value,t.key,this)},keys:function(){return new ME(this,"keys")},values:function(){return new ME(this,"values")},entries:function(){return new ME(this,"entries")}},{enumerable:!0}),MT(ga,cP,ga.entries,{}),MT(ga,"toString",function(){return sr(this).serialize()},{enumerable:!0}),ua&&qO(ga,"size",{get:function(){return sr(this).entries.length},configurable:!0,enumerable:!0}),eP(Qd,FA),fE({global:!0,forced:!ST},{URLSearchParams:Qd}),!ST&&CE(QA)){var SP=xr(FT.has),MP=xr(FT.set),LT=function(e){if(wT(e)){var t,n=e.body;if(rP(n)===FA)return t=e.headers?new QA(e.headers):new QA,SP(t,"content-type")||MP(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),oP(e,{body:BT(0,fn(n)),headers:BT(0,t)})}return e};if(CE(_T)&&fE({global:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return _T(e,arguments.length>1?LT(arguments[1]):{})}}),CE(Fd)){var yE=function(e){return yT(this,NE),new Fd(e,arguments.length>1?LT(arguments[1]):{})};NE.constructor=yE,yE.prototype=NE,fE({global:!0,dontCallGetSet:!0,forced:!0},{Request:yE})}}var yP={URLSearchParams:Qd,getState:sr},GT=I(Ln.URLSearchParams),wP={isBrowser:!0,classes:{URLSearchParams:GT!==void 0?GT:iE,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]};const wE=typeof window<"u"&&typeof document<"u",BE=typeof navigator=="object"&&navigator||void 0,BP=wE&&(!BE||["ReactNative","NativeScript","NS"].indexOf(BE.product)<0),UP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vP=wE&&window.location.href||"http://localhost";function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Un=xT(xT({},Object.freeze({__proto__:null,hasBrowserEnv:wE,hasStandardBrowserEnv:BP,hasStandardBrowserWebWorkerEnv:UP,navigator:BE,origin:vP})),wP),_P=cn,FP=at,QP=ji,bP=O,DP=function(){var e=_P(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},WT=RegExp.prototype,JT=function(e){var t=e.flags;return t!==void 0||"flags"in WT||QP(e,"flags")||!bP(WT,e)?t:FP(DP,e)},kP=Qu.charAt,HT=at,YP=cn,jP=Qe,OP=pe,PP=/./.exec,VP=TypeError,LP=Ct,ZT=at,XT=Fe,GP=eu,bd=iu,KT=Zt,qT=DI,bA=zn,zP=cn,xP=We,WP=pe,JP=YI,$T=JT,HP=bc,ZP=m,XP=au,KP=function(e,t,n){return t+(n?kP(e,t).length:1)},qP=function(e,t){var n=e.exec;if(jP(n)){var r=HT(n,e,t);return r!==null&&YP(r),r}if(OP(e)==="RegExp")return HT(PP,e,t);throw VP("RegExp#exec called on incompatible receiver")},eN=ho,$P=ri("matchAll"),tN="RegExp String",iN=tN+" Iterator",eV=eN.set,tV=eN.getterFor(iN),iV=TypeError,UE=XT("".indexOf),Dd=XT("".matchAll),vE=!!Dd&&!ZP(function(){Dd("a",/./)}),nV=GP(function(e,t,n,r){eV(this,{type:iN,regexp:e,string:t,global:n,unicode:r,done:!1})},tN,function(){var e=tV(this);if(e.done)return bd(void 0,!0);var t=e.regexp,n=e.string,r=qP(t,n);return r===null?(e.done=!0,bd(void 0,!0)):e.global?(bA(r[0])===""&&(t.lastIndex=KP(n,qT(t.lastIndex),e.unicode)),bd(r,!1)):(e.done=!0,bd(r,!1))}),nN=function(e){var t,n,r,s=zP(this),o=bA(e),a=XP(s,RegExp),d=bA($T(s));return t=new a(a===RegExp?s.source:s,d),n=!!~UE(d,"g"),r=!!~UE(d,"u"),t.lastIndex=qT(s.lastIndex),new nV(t,o,n,r)};LP({target:"String",proto:!0,forced:vE},{matchAll:function(e){var t,n,r,s,o=KT(this);if(xP(e)){if(vE)return Dd(o,e)}else{if(JP(e)&&(t=bA(KT($T(e))),!~UE(t,"g")))throw iV("`.matchAll` does not allow non-global regexes");if(vE)return Dd(o,e);if((r=HP(e,$P))===void 0&&WP(e)=="RegExp"&&(r=nN),r)return ZT(r,e,o)}return n=bA(o),s=new RegExp(e,"g"),ZT(nN,s,n)}});var rV=rr("String").matchAll,sV=O,oV=rV,_E=String.prototype,aV=function(e){var t=e.matchAll;return typeof e=="string"||e===_E||sV(_E,e)&&t===_E.matchAll?oV:t},AV=I(aV);function rN(e){function t(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const d=Number.isFinite(+a),l=o>=n.length;return a=!a&&ue.isArray(s)?s.length:a,l?(ue.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!d):(s[a]&&ue.isObject(s[a])||(s[a]=[]),t(n,r,s[a],o)&&ue.isArray(s[a])&&(s[a]=function(E){const g={},f=Object.keys(E);let C;const T=f.length;let Q;for(C=0;C<T;C++)Q=f[C],g[Q]=E[Q];return g}(s[a])),!d)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(r,s)=>{t(function(o){return AV(ue).call(ue,/\w+|\[(\w*)]/g,o).map(a=>a[0]==="[]"?"":a[1]||a[0])}(r),s,n,0)}),n}return null}const FE={transitional:uR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=ue.isObject(e);if(s&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return r?JSON.stringify(rN(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(a,d){return Td(a,new Un.classes.URLSearchParams,Object.assign({visitor:function(l,E,g,f){return Un.isNode&&ue.isBuffer(l)?(this.append(E,l.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},d))}(e,this.formSerializer).toString();if((o=ue.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Td(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(a,d,l){if(ue.isString(a))try{return(d||JSON.parse)(a),zi(ue).call(ue,a)}catch(E){if(E.name!=="SyntaxError")throw E}return(l||JSON.stringify)(a)}(e)):e}],transformResponse:[function(e){const t=this.transitional||FE.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(n&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Rt.from(o,Rt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{FE.headers[e]={}});var QE=FE;const cV=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sN=Symbol("internals");function DA(e){var t;return e&&zi(t=String(e)).call(t).toLowerCase()}function kd(e){return e===!1||e==null?e:ue.isArray(e)?e.map(kd):String(e)}function bE(e,t,n,r,s){return ue.isFunction(r)?r.call(this,t,n):(s&&(t=n),ue.isString(t)?ue.isString(r)?t.indexOf(r)!==-1:ue.isRegExp(r)?r.test(t):void 0:void 0)}class Yd{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(l,E,g){const f=DA(E);if(!f)throw new Error("header name must be a non-empty string");const C=ue.findKey(s,f);(!C||s[C]===void 0||g===!0||g===void 0&&s[C]!==!1)&&(s[C||E]=kd(l))}const a=(l,E)=>ue.forEach(l,(g,f)=>o(g,f,E));if(ue.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(ue.isString(t)&&(t=zi(t).call(t))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(zi(d=t).call(d)))a((l=>{const E={};let g,f,C;return l&&l.split(`
`).forEach(function(T){var Q,U;C=T.indexOf(":"),g=zi(Q=T.substring(0,C)).call(Q).toLowerCase(),f=zi(U=T.substring(C+1)).call(U),!g||E[g]&&cV[g]||(g==="set-cookie"?E[g]?E[g].push(f):E[g]=[f]:E[g]=E[g]?E[g]+", "+f:f)}),E})(t),n);else if(ue.isHeaders(t))for(const[l,E]of t.entries())o(E,l,r);else t!=null&&o(n,t,r);var d;return this}get(t,n){if(t=DA(t)){const r=ue.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return function(o){const a=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=d.exec(o);)a[l[1]]=l[2];return a}(s);if(ue.isFunction(n))return n.call(this,s,r);if(ue.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=DA(t)){const r=ue.findKey(this,t);return!(!r||this[r]===void 0||n&&!bE(0,this[r],r,n))}return!1}delete(t,n){const r=this;let s=!1;function o(a){if(a=DA(a)){const d=ue.findKey(r,a);!d||n&&!bE(0,r[d],d,n)||(delete r[d],s=!0)}}return ue.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];t&&!bE(0,this[o],o,t,!0)||(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return ue.forEach(this,(s,o)=>{var a;const d=ue.findKey(r,o);if(d)return n[d]=kd(s),void delete n[o];const l=t?function(E){return zi(E).call(E).toLowerCase().replace(/([a-z\d])(\w*)/g,(g,f,C)=>f.toUpperCase()+C)}(o):zi(a=String(o)).call(a);l!==o&&delete n[o],n[l]=kd(s),r[l]=!0}),this}concat(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.constructor.concat(this,...n)}toJSON(t){const n=Object.create(null);return ue.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(t=>{let[n,r]=t;return n+": "+r}).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const n=new this(t);for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[sN]=this[sN]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=DA(o);n[a]||(function(d,l){const E=ue.toCamelCase(" "+l);["get","set","has"].forEach(g=>{Object.defineProperty(d,g+E,{value:function(f,C,T){return this[g].call(this,l,f,C,T)},configurable:!0})})}(r,o),n[a]=!0)}return ue.isArray(t)?t.forEach(s):s(t),this}}Yd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ue.reduceDescriptors(Yd.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(s){this[r]=s}}}),ue.freezeMethods(Yd);var Br=Yd;function DE(e,t){const n=this||QE,r=t||n,s=Br.from(r.headers);let o=r.data;return ue.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function oN(e){return!(!e||!e.__CANCEL__)}function pa(e,t,n){Rt.call(this,e??"canceled",Rt.ERR_CANCELED,t,n),this.name="CanceledError"}function aN(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Rt("Request failed with status code "+n.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}ue.inherits(pa,Rt,{__CANCEL__:!0});const jd=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,r=0;const s=function(o,a){o=o||10;const d=new Array(o),l=new Array(o);let E,g=0,f=0;return a=a!==void 0?a:1e3,function(C){const T=Date.now(),Q=l[f];E||(E=T),d[g]=C,l[g]=T;let U=f,_=0;for(;U!==g;)_+=d[U++],U%=o;if(g=(g+1)%o,g===f&&(f=(f+1)%o),T-E<a)return;const b=Q&&T-Q;return b?Math.round(1e3*_/b):void 0}}(50,250);return function(o,a){let d,l,E=0,g=1e3/a;const f=function(C){E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Date.now(),d=null,l&&(clearTimeout(l),l=null),o.apply(null,C)};return[function(){const C=Date.now(),T=C-E;for(var Q=arguments.length,U=new Array(Q),_=0;_<Q;_++)U[_]=arguments[_];T>=g?f(U,C):(d=U,l||(l=setTimeout(()=>{l=null,f(d)},g-T)))},()=>d&&f(d)]}(o=>{const a=o.loaded,d=o.lengthComputable?o.total:void 0,l=a-r,E=s(l);r=a,e({loaded:a,total:d,progress:d?a/d:void 0,bytes:l,rate:E||void 0,estimated:E&&d&&a<=d?(d-a)/E:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0})},n)},AN=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},cN=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue.asap(()=>e(...n))};var dV=Un.hasStandardBrowserEnv?function(){const e=Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent),t=document.createElement("a");let n;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(s){const o=ue.isString(s)?r(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return!0},lV=Un.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const a=[e+"="+encodeURIComponent(t)];ue.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ue.isString(r)&&a.push("path="+r),ue.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function dN(e,t){return e&&!function(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}(t)?function(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}(e,t):t}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}const hN=e=>e instanceof Br?function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?lN(Object(r),!0).forEach(function(s){F(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}({},e):e;function mo(e,t){t=t||{};const n={};function r(E,g,f){return ue.isPlainObject(E)&&ue.isPlainObject(g)?ue.merge.call({caseless:f},E,g):ue.isPlainObject(g)?ue.merge({},g):ue.isArray(g)?g.slice():g}function s(E,g,f){return ue.isUndefined(g)?ue.isUndefined(E)?void 0:r(void 0,E,f):r(E,g,f)}function o(E,g){if(!ue.isUndefined(g))return r(void 0,g)}function a(E,g){return ue.isUndefined(g)?ue.isUndefined(E)?void 0:r(void 0,E):r(void 0,g)}function d(E,g,f){return f in t?r(E,g):f in e?r(void 0,E):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:d,headers:(E,g)=>s(hN(E),hN(g),!0)};return ue.forEach(Object.keys(Object.assign({},e,t)),function(E){const g=l[E]||s,f=g(e[E],t[E],E);ue.isUndefined(f)&&g!==d||(n[E]=f)}),n}var uN=e=>{const t=mo({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:d,auth:l}=t;if(t.headers=d=Br.from(d),t.url=lR(dN(t.baseURL,t.url),e.params,e.paramsSerializer),l&&d.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ue.isFormData(r)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((n=d.getContentType())!==!1){const[E,...g]=n?n.split(";").map(f=>zi(f).call(f)).filter(Boolean):[];d.setContentType([E||"multipart/form-data",...g].join("; "))}}if(Un.hasStandardBrowserEnv&&(s&&ue.isFunction(s)&&(s=s(t)),s||s!==!1&&dV(t.url))){const E=o&&a&&lV.read(a);E&&d.set(o,E)}return t},hV=typeof XMLHttpRequest<"u"&&function(e){return new Ie(function(t,n){const r=uN(e);let s=r.data;const o=Br.from(r.headers).normalize();let a,d,l,E,g,{responseType:f,onUploadProgress:C,onDownloadProgress:T}=r;function Q(){E&&E(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let U=new XMLHttpRequest;function _(){if(!U)return;const Y=Br.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders());aN(function(G){t(G),Q()},function(G){n(G),Q()},{data:f&&f!=="text"&&f!=="json"?U.response:U.responseText,status:U.status,statusText:U.statusText,headers:Y,config:e,request:U}),U=null}U.open(r.method.toUpperCase(),r.url,!0),U.timeout=r.timeout,"onloadend"in U?U.onloadend=_:U.onreadystatechange=function(){U&&U.readyState===4&&(U.status!==0||U.responseURL&&U.responseURL.indexOf("file:")===0)&&setTimeout(_)},U.onabort=function(){U&&(n(new Rt("Request aborted",Rt.ECONNABORTED,e,U)),U=null)},U.onerror=function(){n(new Rt("Network Error",Rt.ERR_NETWORK,e,U)),U=null},U.ontimeout=function(){let Y=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const G=r.transitional||uR;r.timeoutErrorMessage&&(Y=r.timeoutErrorMessage),n(new Rt(Y,G.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,e,U)),U=null},s===void 0&&o.setContentType(null),"setRequestHeader"in U&&ue.forEach(o.toJSON(),function(Y,G){U.setRequestHeader(G,Y)}),ue.isUndefined(r.withCredentials)||(U.withCredentials=!!r.withCredentials),f&&f!=="json"&&(U.responseType=r.responseType),T&&([l,g]=jd(T,!0),U.addEventListener("progress",l)),C&&U.upload&&([d,E]=jd(C),U.upload.addEventListener("progress",d),U.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(a=Y=>{U&&(n(!Y||Y.type?new pa(null,e,U):Y),U.abort(),U=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const b=function(Y){const G=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Y);return G&&G[1]||""}(r.url);b&&Un.protocols.indexOf(b)===-1?n(new Rt("Unsupported protocol "+b+":",Rt.ERR_BAD_REQUEST,e)):U.send(s||null)})},uV=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r,s=new AbortController;const o=function(E){if(!r){r=!0,d();const g=E instanceof Error?E:this.reason;s.abort(g instanceof Rt?g:new pa(g instanceof Error?g.message:g))}};let a=t&&setTimeout(()=>{a=null,o(new Rt("timeout ".concat(t," of ms exceeded"),Rt.ETIMEDOUT))},t);const d=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(E=>{E.unsubscribe?E.unsubscribe(o):E.removeEventListener("abort",o)}),e=null)};e.forEach(E=>E.addEventListener("abort",o));const{signal:l}=s;return l.unsubscribe=()=>ue.asap(d),l}},EV=Vm,gV=zr;Ct({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var e=gV.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var pV=zr,IV=na;Ct({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=pV.f(this),n=IV(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var kE=I(EV),gN=Aa.f("asyncIterator"),fV=I(gN);function YE(e,t){this.v=e,this.k=t}function kA(e){var t,n;function r(o,a){try{var d=e[o](a),l=d.value,E=l instanceof YE;kE.resolve(E?l.v:l).then(function(g){if(E){var f=o==="return"?"return":"next";if(!l.k||g.done)return r(f,g);g=e[f](g).value}s(d.done?"return":"normal",g)},function(g){r("throw",g)})}catch(g){s("throw",g)}}function s(o,a){switch(o){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(o,a){return new kE(function(d,l){var E={key:o,arg:a,resolve:d,reject:l,next:null};n?n=n.next=E:(t=n=E,r(o,a))})},typeof e.return!="function"&&(this.return=void 0)}function Jn(e){return function(){return new kA(e.apply(this,arguments))}}function it(e){return new YE(e,0)}function Od(e){var t={},n=!1;function r(s,o){return n=!0,{done:!1,value:new YE(o=new kE(function(a){a(e[s](o))}),1)}}return t[la!==void 0&&NT||"@@iterator"]=function(){return this},t.next=function(s){return n?(n=!1,s):r("next",s)},typeof e.throw=="function"&&(t.throw=function(s){if(n)throw n=!1,s;return r("throw",s)}),typeof e.return=="function"&&(t.return=function(s){return n?(n=!1,s):r("return",s)}),t}kA.prototype[typeof la=="function"&&fV||"@@asyncIterator"]=function(){return this},kA.prototype.next=function(e){return this._invoke("next",e)},kA.prototype.throw=function(e){return this._invoke("throw",e)},kA.prototype.return=function(e){return this._invoke("return",e)};var jE=I(gN);function OE(e){var t,n,r,s=2;for(typeof Symbol<"u"&&(n=jE,r=Symbol.iterator);s--;){if(n&&(t=e[n])!=null)return t.call(e);if(r&&(t=e[r])!=null)return new Pd(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Pd(e){function t(n){if(Object(n)!==n)return Ie.reject(new TypeError(n+" is not an object."));var r=n.done;return Ie.resolve(n.value).then(function(s){return{value:s,done:r}})}return Pd=function(n){this.s=n,this.n=n.next},Pd.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Ie.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Ie.reject(n):t(r.apply(this.s,arguments))}},new Pd(e)}const mV=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},CV=function(){var e=Jn(function*(t,n){var r,s=!1,o=!1;try{for(var a,d=OE(RV(t));s=!(a=yield it(d.next())).done;s=!1){const l=a.value;yield*Od(OE(mV(l,n)))}}catch(l){o=!0,r=l}finally{try{s&&d.return!=null&&(yield it(d.return()))}finally{if(o)throw r}}});return function(t,n){return e.apply(this,arguments)}}(),RV=function(){var e=Jn(function*(t){if(t[jE])return void(yield*Od(OE(t)));const n=t.getReader();try{for(;;){const{done:r,value:s}=yield it(n.read());if(r)break;yield s}}finally{yield it(n.cancel())}});return function(t){return e.apply(this,arguments)}}(),pN=(e,t,n,r)=>{const s=CV(e,t);let o,a=0,d=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:E,value:g}=await s.next();if(E)return d(),void l.close();let f=g.byteLength;if(n){let C=a+=f;n(C)}l.enqueue(new Uint8Array(g))}catch(E){throw d(E),E}},cancel:l=>(d(l),s.return())},{highWaterMark:2})};function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Vd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mN=Vd&&typeof ReadableStream=="function",TV=Vd&&(typeof TextEncoder=="function"?(CN=new TextEncoder,e=>CN.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var CN;const RN=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch{return!1}},NV=mN&&RN(()=>{let e=!1;const t=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),PE=mN&&RN(()=>ue.isReadableStream(new Response("").body)),Ld={stream:PE&&(e=>e.body)};var TN;Vd&&(TN=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ld[e]&&(Ld[e]=ue.isFunction(TN[e])?t=>t[e]():(t,n)=>{throw new Rt("Response type '".concat(e,"' is not supported"),Rt.ERR_NOT_SUPPORT,n)})}));const SV=async(e,t)=>{const n=ue.toFiniteNumber(e.getContentLength());return n??(async r=>r==null?0:ue.isBlob(r)?r.size:ue.isSpecCompliantForm(r)?(await new Request(Un.origin,{method:"POST",body:r}).arrayBuffer()).byteLength:ue.isArrayBufferView(r)||ue.isArrayBuffer(r)?r.byteLength:(ue.isURLSearchParams(r)&&(r+=""),ue.isString(r)?(await TV(r)).byteLength:void 0))(t)};var MV=Vd&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:a,onDownloadProgress:d,onUploadProgress:l,responseType:E,headers:g,withCredentials:f="same-origin",fetchOptions:C}=uN(e);E=E?(E+"").toLowerCase():"text";let T,Q=uV([s,o&&o.toAbortSignal()],a);const U=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let _;try{if(l&&NV&&n!=="get"&&n!=="head"&&(_=await SV(g,r))!==0){let J,K=new Request(t,{method:"POST",body:r,duplex:"half"});if(ue.isFormData(r)&&(J=K.headers.get("content-type"))&&g.setContentType(J),K.body){const[ne,le]=AN(_,jd(cN(l)));r=pN(K.body,65536,ne,le)}}ue.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;T=new Request(t,fN(fN({},C),{},{signal:Q,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0}));let Y=await fetch(T);const G=PE&&(E==="stream"||E==="response");if(PE&&(d||G&&U)){const J={};["status","statusText","headers"].forEach(oe=>{J[oe]=Y[oe]});const K=ue.toFiniteNumber(Y.headers.get("content-length")),[ne,le]=d&&AN(K,jd(cN(d),!0))||[];Y=new Response(pN(Y.body,65536,ne,()=>{le&&le(),U&&U()}),J)}E=E||"text";let W=await Ld[ue.findKey(Ld,E)||"text"](Y,e);return!G&&U&&U(),await new Ie((J,K)=>{aN(J,K,{data:W,headers:Br.from(Y.headers),status:Y.status,statusText:Y.statusText,config:e,request:T})})}catch(b){throw U&&U(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,e,T),{cause:b.cause||b}):Rt.from(b,b&&b.code,e,T)}});const VE={http:null,xhr:hV,fetch:MV};ue.forEach(VE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const NN=e=>"- ".concat(e),yV=e=>ue.isFunction(e)||e===null||e===!1;var SN={getAdapter:e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){let a;if(n=e[o],r=n,!yV(n)&&(r=VE[(a=String(n)).toLowerCase()],r===void 0))throw new Rt("Unknown adapter '".concat(a,"'"));if(r)break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(a=>{let[d,l]=a;return"adapter ".concat(d," ")+(l===!1?"is not supported by the environment":"is not available in the build")});throw new Rt("There is no suitable adapter to dispatch the request "+(t?o.length>1?`since :
`+o.map(NN).join(`
`):" "+NN(o[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:VE};function LE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pa(null,e)}function MN(e){return LE(e),e.headers=Br.from(e.headers),e.data=DE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SN.getAdapter(e.adapter||QE.adapter)(e).then(function(t){return LE(e),t.data=DE.call(e,e.transformResponse,t),t.headers=Br.from(t.headers),t},function(t){return oN(t)||(LE(e),t&&t.response&&(t.response.data=DE.call(e,e.transformResponse,t.response),t.response.headers=Br.from(t.response.headers))),Ie.reject(t)})}const yN="1.7.7",GE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{GE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const wN={};GE.transitional=function(e,t,n){function r(s,o){return"[Axios v"+yN+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Rt(r(o," has been removed"+(t?" in "+t:"")),Rt.ERR_DEPRECATED);return t&&!wN[o]&&(wN[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,o,a)}};var zE={assertOptions:function(e,t,n){if(typeof e!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],a=t[o];if(a){const d=e[o],l=d===void 0||a(d,o,e);if(l!==!0)throw new Rt("option "+o+" must be "+l,Rt.ERR_BAD_OPTION_VALUE)}else if(n!==!0)throw new Rt("Unknown option "+o,Rt.ERR_BAD_OPTION)}},validators:GE};const Ds=zE.validators;let Gd=class{constructor(e){this.defaults=e,this.interceptors={request:new hR,response:new hR}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{}).url=e:t=e||{},t=mo(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;n!==void 0&&zE.assertOptions(n,{silentJSONParsing:Ds.transitional(Ds.boolean),forcedJSONParsing:Ds.transitional(Ds.boolean),clarifyTimeoutError:Ds.transitional(Ds.boolean)},!1),r!=null&&(ue.isFunction(r)?t.paramsSerializer={serialize:r}:zE.assertOptions(r,{encode:Ds.function,serialize:Ds.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ue.merge(s.common,s[t.method]);s&&ue.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),t.headers=Br.concat(o,s);const a=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(d=d&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const l=[];let E;this.interceptors.response.forEach(function(T){l.push(T.fulfilled,T.rejected)});let g,f=0;if(!d){const T=[MN.bind(this),void 0];for(T.unshift.apply(T,a),T.push.apply(T,l),g=T.length,E=Ie.resolve(t);f<g;)E=E.then(T[f++],T[f++]);return E}g=a.length;let C=t;for(f=0;f<g;){const T=a[f++],Q=a[f++];try{C=T(C)}catch(U){Q.call(this,U);break}}try{E=MN.call(this,C)}catch(T){return Ie.reject(T)}for(f=0,g=l.length;f<g;)E=E.then(l[f++],l[f++]);return E}getUri(e){return lR(dN((e=mo(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Gd.prototype[e]=function(t,n){return this.request(mo(n||{},{method:e,url:t,data:(n||{}).data}))}}),ue.forEach(["post","put","patch"],function(e){function t(n){return function(r,s,o){return this.request(mo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Gd.prototype[e]=t(),Gd.prototype[e+"Form"]=t(!0)});var zd=Gd;class xE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Ie(function(s){n=s});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Ie(d=>{r.subscribe(d),o=d}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},t(function(s,o,a){r.reason||(r.reason=new pa(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new xE(function(n){t=n}),cancel:t}}}var wV=xE;const WE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(WE).forEach(e=>{let[t,n]=e;WE[n]=t});var BV=WE;const Li=function e(t){const n=new zd(t),r=JC(zd.prototype.request,n);return ue.extend(r,zd.prototype,n,{allOwnKeys:!0}),ue.extend(r,n,null,{allOwnKeys:!0}),r.create=function(s){return e(mo(t,s))},r}(QE);Li.Axios=zd,Li.CanceledError=pa,Li.CancelToken=wV,Li.isCancel=oN,Li.VERSION=yN,Li.toFormData=Td,Li.AxiosError=Rt,Li.Cancel=Li.CanceledError,Li.all=function(e){return Ie.all(e)},Li.spread=function(e){return function(t){return e.apply(null,t)}},Li.isAxiosError=function(e){return ue.isObject(e)&&e.isAxiosError===!0},Li.mergeConfig=mo,Li.AxiosHeaders=Br,Li.formToJSON=e=>rN(ue.isHTMLForm(e)?new FormData(e):e),Li.getAdapter=SN.getAdapter,Li.HttpStatusCode=BV,Li.default=Li;var sn=Li;const UV=()=>{};function YA(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:UV};return e.promise=new Ie((t,n)=>{e.resolve=r=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(r),e.value=r)},e.reject=r=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,n(r))}}),e}const xd=new Map,Wd=new Map,Wr=new Map;let Ri=function(e){return e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot",e}({}),ht=function(e){return e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger",e}({});const BN=new h1;let Ur=BN.getResult(),JE=null;function st(e){if(!JE){Ur=BN.getResult();const t=function(d){if(d.engine.name==="Blink"&&d.browser.name!=="WeChat")return ht.CHROME;switch(d.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return ht.CHROME;case"Safari":case"Mobile Safari":return ht.SAFARI;case"Edge":return ht.EDGE;case"Firefox":return ht.FIREFOX;case"QQ":case"QQBrowser":return ht.QQ;case"Opera":return ht.OPERA;case"WeChat":return ht.WECHAT;default:return d.browser.name||""}}(Ur),n=UN(Ur),r=function(d){return d.os.name==="Windows"?d.os.version?d.os.name+" "+d.os.version:d.os.name:d.os.name||""}(Ur),s=Ur.os.version,o=UN(Ur,!1),a=Ur.device.type;if(!(t&&n&&r&&s))return{name:t,version:n,os:r,osVersion:s,browserVersion:o,deviceType:a};JE={name:t,version:n,os:r,osVersion:s,browserVersion:o,deviceType:a}}return JE}function UN(e){let t,n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t=e.engine.name==="Blink"?e.engine.version||"":e.browser.version||"",n?t.split(".")[0]:t}function Jd(){return st().os}function vN(){const e=st();return"".concat(e.os," ").concat(e.osVersion)}function Hd(){const e=st();return!!(Ur.engine.name==="WebKit"&&e.os===Ri.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==ht.SAFARI||Xi()&&e.name!==ht.SAFARI)}function ks(){return st().name===ht.CHROME}function Fi(){return st().name===ht.SAFARI}function _N(){return st().name===ht.EDGE}function Gt(){return st().name===ht.FIREFOX}function Xi(){return st().os===Ri.IOS}function HE(e){const t=st();return!(t.name!==ht.CHROME||!t.osVersion)&&Number(t.version)>=e}function FN(e){const t=st();return!(t.name!==ht.CHROME||!t.osVersion)&&Number(t.version)<e}function QN(e){const t=st();return!(t.name!==ht.EDGE||!t.osVersion)&&Number(t.version)>=e}function bN(e){const t=st();return!(t.name!==ht.SAFARI||!t.osVersion)&&Number(t.version)>=e}function DN(e,t,n){const r=st();if(r.os!==Ri.IOS||!r.osVersion)return!1;const s=r.osVersion.split(".");return t&&Number(s[0])===e&&Number(s[1])<t||Number(s[0])<e}function kN(e,t,n){const r=st();if(r.name!==ht.SAFARI||!r.osVersion||!r.browserVersion)return!1;const s=r.browserVersion.split(".");return n?t&&Number(s[0])===e&&Number(s[1])<t||Number(s[0])<e:t?Number(s[0])===e&&Number(s[1])<=t||Number(s[0])<e:Number(s[0])<=e}function YN(e){const t=st();return!(t.name!==ht.OPERA||!t.osVersion)&&Number(t.version)>=e}function jN(){const e=st();if(e.os!==Ri.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||Number(t[0])===14&&Number(t[1])<=6}function Ia(){const e=st();if(e.os!==Ri.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])===15}function ZE(){const e=st();if(e.os!==Ri.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])===16}function ON(){const e=st();if(e.os!==Ri.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])===15&&Number(t[1])>=1}function or(){return Fi()&&navigator.maxTouchPoints>0}function PN(){return st().name===ht.WECHAT}function VN(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)!==null&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function XE(){const e=Jd();return function(){const{deviceType:t}=st();return t==="mobile"||t==="tablet"}()||e===Ri.ANDROID||e===Ri.IOS||e===Ri.HARMONY_OS}function Ys(){const e=st();return e.name!==ht.EDGE&&e.name!==ht.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function Zd(){return Jd()===Ri.ANDROID}function jA(){const e=st();return Zd()&&(e.name===ht.CHROME||e.name===ht.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function Ft(e,t,n){return(t=function(r){var s=function(o,a){if(typeof o!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var l=d.call(o,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(r);return typeof s=="symbol"?s:s+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){Ft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let j=function(e){return e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",e}({}),$=class extends Error{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),Ft(this,"code",void 0),Ft(this,"message",void 0),Ft(this,"data",void 0),Ft(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"".concat(this.message,`
data: `).concat(JSON.stringify(this.data)):this.message}print(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return e==="error"&&(t||console).error(this.toString()),e==="warning"&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}};function hs(e,t){if(typeof e!="boolean")throw new $(j.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function fi(e,t,n){if(!ge(n).call(n,e))throw new $(j.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function Tt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(s){return typeof s=="number"&&s%1==0}(e))throw new $(j.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function KE(e,t){if(typeof e!="number"){if(!(e.min||e.max||e.ideal||e.exact))throw new $(j.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));e.min!==void 0&&Tt(e.min,"".concat(t,".min"),0,1/0),e.max!==void 0&&Tt(e.max,"".concat(t,".max"),1,1/0),e.exact!==void 0&&Tt(e.exact,"".concat(t,".exact"),1,1/0),e.ideal!==void 0&&Tt(e.ideal,"".concat(t,".ideal"),1,1/0)}else Tt(e,t,1,1/0)}function Mi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(e==null)throw new $(j.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!GN(e,n,r,s))throw new $(j.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(s?" ASCII characters only.":""))}function us(e,t){if(!Array.isArray(e))throw new $(j.INVALID_PARAMS,"".concat(t," should be an array"))}function Pt(e){return e==null}function GN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof e=="string"&&e.length<=n&&e.length>=t&&(!r||function(s){if(typeof s!="string")return!1;for(let o=0;o<s.length;o+=1){const a=s.charCodeAt(o);if(a<0||a>255)return!1}return!0}(e))}var OA=function(e){return e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE",e}(OA||{}),qE=function(e){return e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",e}(qE||{});const zN=new class{constructor(){Ft(this,"_clientSize",null),Ft(this,"getClientWidth",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),Ft(this,"getClientHeight",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),Ft(this,"getStyle",e=>window.getComputedStyle(e,null)),Ft(this,"checkCssVisibleProperty",e=>{var t;let n=!0;const r=this.getStyle(e),{display:s,visibility:o,opacity:a,filter:d}=r;return(s==="none"||ge(t=["hidden","collapse"]).call(t,o)||Number(a)<.1)&&(n=!1),!!n&&(d&&d.split(" ").filter(l=>{var E;const g=l.split("(")[0];return ge(E=["brightness","blur","opacity"]).call(E,g)}).map(l=>{const[E,g]=l.split(/\(|\)/);return[E,Number(g.match(/^[0-9\.]+/))]}).forEach(l=>{const[E,g]=l;switch(E){case"brightness":(g<.1||g>3)&&(n=!1);break;case"blur":g>3&&(n=!1);break;case"opacity":g<.1&&(n=!1)}}),n)}),Ft(this,"checkPropertyUpToAllParentNodes",(e,t)=>{let n=!0,r=!0;const s=a=>t(a);let o=e;for(;o&&r;)s(o)||(n=!1,r=!1),o=o.parentElement,o||(r=!1);return n}),Ft(this,"checkActualCssVisibleIncludeInherit",e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty)),Ft(this,"getSizeAboutClient",e=>{const{width:t,height:n,left:r,right:s,top:o,bottom:a}=e.getBoundingClientRect(),d=this.getClientWidth(),l=this.getClientHeight();return{width:t,height:n,left:r,right:s,top:o,bottom:a,clientWidth:d,clientHeight:l,clientMin:Math.min(d,l)}}),Ft(this,"checkActualSize",()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)}),Ft(this,"elementFromPoint",(e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null),Ft(this,"checkCoverForAPoint",(e,t,n)=>{const r=this.elementFromPoint(e,t);return r!==null&&r!==n}),Ft(this,"getPointPositionList",()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,s=e/6,o=t/6,a=[],d=10**6;for(let l=0;l<5;l++)for(let E=0;E<5;E++){const g=(n*d+(l===0?.1:l===4?(s*l*d-1e5)/d:s*l)*d)/d,f=(r*d+(E===0?.1:E===4?(o*E*d-1e5)/d:o*E)*d)/d;a.push({x:g,y:f})}return[...a]}),Ft(this,"checkElementCover",e=>this.getPointPositionList().map(t=>this.checkCoverForAPoint(t.x,t.y,e)).filter(t=>!!t).length>6),Ft(this,"checkSizeIsVisible",(e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10)),Ft(this,"checkSizeOfPartInClient",()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:s,clientWidth:o,clientMin:a}=this._clientSize;let d,l,E,g;if(e<0)d=0;else{if(!(e<o))return!1;d=e}if(t<0)return!1;if(l=t<o?t:o,n<0)E=0;else{if(!(n<s))return!1;E=n}if(r<0)return!1;g=r<s?r:s;const f=l-d,C=g-E;return this.checkSizeIsVisible(f,C,a)}),Ft(this,"returnHiddenResult",e=>(this._clientSize=null,{visible:!1,reason:e})),Ft(this,"checkOneElementVisible",e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(OA.COVERED);{const t=this.checkActualSize(),n=this.checkSizeOfPartInClient();return t&&!n?this.returnHiddenResult(OA.POSITION):t?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(OA.SIZE)}}return this.returnHiddenResult(OA.STYLE)}return this.returnHiddenResult(qE.UNMOUNTED)}return this.returnHiddenResult(qE.INVALID_HTML_ELEMENT)}),Ft(this,"checkElementIsMountedOnDom",e=>this.checkPropertyUpToAllParentNodes(e,t=>t.nodeName.toUpperCase()!=="HTML"?t.parentElement!==null:!!document.documentElement))}};function $E(e){return new TextEncoder().encode(e)}const xN=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},eg=async e=>function(t,n){let r="";return new Uint8Array(t).forEach(s=>{r+=s.toString(n).padStart(2,"0")}),r}(await crypto.subtle.digest("SHA-256",$E(e)),16);class Vt{constructor(){Ft(this,"_events",{}),Ft(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map(n=>n.listener):[]}on(t,n){this._events[t]||(this._events[t]=[]);const r=this._events[t];this._indexOfListener(r,n)===-1&&r.push({listener:n,once:!1})}once(t,n){this._events[t]||(this._events[t]=[]);const r=this._events[t];this._indexOfListener(r,n)===-1&&r.push({listener:n,once:!0})}off(t,n){if(!this._events[t])return;const r=this._events[t],s=this._indexOfListener(r,n);s!==-1&&r.splice(s,1),this._events[t].length===0&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const n=this._events[t].map(a=>a);for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];for(let a=0;a<n.length;a+=1){const d=n[a];d.once&&this.off(t,d.listener),d.listener.apply(this,s||[])}}safeEmit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];[...this._events[t]||[]].forEach(o=>{o.once&&this.off(t,o.listener);try{o.listener.apply(this,r)}catch(a){console.error("safeEmit event:".concat(t," error ").concat(a==null?void 0:a.toString()))}})}_indexOfListener(t,n){let r=t.length;for(;r--;)if(t[r].listener===n)return r;return-1}}let PA=null;function WN(){if(PA)return PA;if(window.electron)return PA=window.electron;if(!window.require)return null;try{return PA=window.require("electron"),PA}catch{return null}}let gi=function(e){return e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.PRELOAD="PRELOAD",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload",e}({}),zt=function(e){return e.TRACER="tracer",e}({});function JN(e){return Tt(e.timeout,"config.timeout",0,1e5),Tt(e.timeoutFactor,"config.timeoutFactor",0,100,!1),Tt(e.maxRetryCount,"config.maxRetryConfig",0,1/0),Tt(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let vV=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",e}({}),gt=function(e){return e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.FALLBACK="FALLBACK",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e}({});function Xd(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach(t=>{if(!t.urls)throw Error()})}catch{return!1}return!0}function HN(e){return Mi(e.turnServerURL,"turnServerURL"),Mi(e.username,"username"),Mi(e.password,"password"),e.udpport&&Tt(e.udpport,"udpport",1,99999,!0),e.forceturn&&hs(e.forceturn,"forceturn"),e.security&&hs(e.security,"security"),e.tcpport&&Tt(e.tcpport,"tcpport",1,99999,!0),!0}function ZN(e){return e.level!==void 0&&fi(e.level,"level",[1,2,3]),e.delay!==void 0&&Tt(e.delay,"delay",0,3e3,!0),!0}let $e=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",e}({}),Qi=function(e){return e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK",e}({}),mn=function(e){return e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({}),fa=function(e){return e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({});function bi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return e.getListeners(t).length===0?Ie.reject(new $(j.UNEXPECTED_ERROR,"can not emit promise")):new Ie((o,a)=>{e.emit(t,...r,o,a)})}function St(e,t){if(e.getListeners(t).length===0)return Ie.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return bi(e,t,...r)}function Hn(e,t){if(e.getListeners(t).length===0)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return VA(e,t,...r)}function VA(e,t){let n=null,r=null;for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];if(e.emit(t,...o,d=>{n=d},d=>{r=d}),r!==null)throw r;if(n===null)throw new $(j.UNEXPECTED_ERROR,"handler is not sync");return n}const si=new class extends Vt{set networkState(e){this.emit(fa.NETWORK_STATE_CHANGE,e,this._networkState),e===mn.ONLINE?this.emit(fa.ONLINE):e===mn.OFFLINE&&(this.onlineWaiter=new Ie(t=>{this.once(fa.ONLINE,()=>{this.onlineWaiter=void 0,t(mn.ONLINE)})}),this.emit(fa.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===mn.ONLINE}constructor(){super(),Ft(this,"_moduleName","network-indicator"),Ft(this,"_networkState",mn.ONLINE),Ft(this,"onlineWaiter",void 0),window.addEventListener("online",()=>{this.networkState=mn.ONLINE}),window.addEventListener("offline",()=>{this.networkState=mn.OFFLINE})}};function Kd(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function ma(e){const t=[];return e.forEach(n=>{t.indexOf(n)===-1&&t.push(n)}),t}function qd(e){Ie!==void 0?Ie.resolve().then(e):setTimeout(e,0)}function Xt(e){return JSON.parse(JSON.stringify(e))}function Co(e){try{return Xt(e)}catch{return e}}const XN={};function js(e,t){XN[t]||(XN[t]=!0,e())}function Ro(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n}function Os(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function KN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=new TextEncoder().encode(e);if(n.length>t)n=n.slice(0,t);else if(n.length<t){const r=new Uint8Array(t);r.set(n),n=r}return n}function qN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Mr(t).call(t,(a,d)=>a+d.length,0),s=new Uint8Array(new ArrayBuffer(r));let o=0;return t.forEach(a=>{s.set(a,o),o+=a.length}),s}function Jr(e){return window.TextEncoder?new TextEncoder().encode(e).length:e.length}function $N(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach(n=>{t+=typeof n=="string"?Jr(n):n.size}),t+138}function _V(e){const t=new $(j.TIMEOUT,"timeout");return new Ie((n,r)=>{window.setTimeout(()=>r(t),e)})}function yi(e){return new Ie(t=>{window.setTimeout(t,e)})}function wt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+wt(e-n.length,"")}function Ca(){return wt(32,"").toUpperCase()}const $d=()=>{},eS=new class{constructor(){Ft(this,"fnMap",new Map)}throttleByKey(e,t,n,r){for(var s=arguments.length,o=new Array(s>4?s-4:0),a=4;a<s;a++)o[a-4]=arguments[a];if(this.fnMap.has(t)){const d=this.fnMap.get(t);if(d.threshold!==n){d.fn(...d.args),clearTimeout(d.timer);const l=window.setTimeout(()=>{const E=this.fnMap.get(t);E&&E.fn(...E.args),this.fnMap.delete(t)},n);this.fnMap.set(t,{fn:e,threshold:n,timer:l,args:o,skipFn:r})}else d.skipFn&&d.skipFn(...d.args),this.fnMap.set(t,we(we({},d),{},{fn:e,args:o,skipFn:r}))}else{const d=window.setTimeout(()=>{const l=this.fnMap.get(t);l&&l.fn(...l.args),this.fnMap.delete(t)},n);this.fnMap.set(t,{fn:e,threshold:n,timer:d,args:o,skipFn:r})}}},tS=eS.throttleByKey.bind(eS);function iS(e){return typeof e=="object"&&e!==null&&!(e instanceof RegExp)}function tg(e,t){if(!iS(e)||!iS(t)||Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const n=[...e];for(let r=0;r<t.length;r++)n[r]=tg(e[r],t[r]);return n}{const n=we({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)?n[r]=tg(e[r],t[r]):n[r]=t[r]);return n}}function nS(e,t){let n=[0];if(n=new Array(t).fill(0),e===0)return n;let r=0;for(;e>0&&(n[r]=255&e,e>>=8,r++,r!==t););return n}function ig(e){return typeof e=="number"?e:e.exact||e.ideal||e.max||e.min||0}function rS(e){const t="0123456789abcdef";function n(G){let W,J="";for(W=0;W<=3;W++)J+=t.charAt(G>>8*W+4&15)+t.charAt(G>>8*W&15);return J}function r(G,W){const J=(65535&G)+(65535&W);return(G>>16)+(W>>16)+(J>>16)<<16|65535&J}function s(G,W,J,K,ne,le){return r(function(oe,ye){return oe<<ye|oe>>>32-ye}(r(r(W,G),r(K,le)),ne),J)}function o(G,W,J,K,ne,le,oe){return s(W&J|~W&K,G,W,ne,le,oe)}function a(G,W,J,K,ne,le,oe){return s(W&K|J&~K,G,W,ne,le,oe)}function d(G,W,J,K,ne,le,oe){return s(W^J^K,G,W,ne,le,oe)}function l(G,W,J,K,ne,le,oe){return s(J^(W|~K),G,W,ne,le,oe)}const E=function(G){let W;const J=1+(G.length+8>>6),K=new Array(16*J);for(W=0;W<16*J;W++)K[W]=0;for(W=0;W<G.length;W++)K[W>>2]|=G.charCodeAt(W)<<W%4*8;return K[W>>2]|=128<<W%4*8,K[16*J-2]=8*G.length,K}(e);let g,f,C,T,Q,U=1732584193,_=-271733879,b=-1732584194,Y=271733878;for(g=0;g<E.length;g+=16)f=U,C=_,T=b,Q=Y,U=o(U,_,b,Y,E[g+0],7,-680876936),Y=o(Y,U,_,b,E[g+1],12,-389564586),b=o(b,Y,U,_,E[g+2],17,606105819),_=o(_,b,Y,U,E[g+3],22,-1044525330),U=o(U,_,b,Y,E[g+4],7,-176418897),Y=o(Y,U,_,b,E[g+5],12,1200080426),b=o(b,Y,U,_,E[g+6],17,-1473231341),_=o(_,b,Y,U,E[g+7],22,-45705983),U=o(U,_,b,Y,E[g+8],7,1770035416),Y=o(Y,U,_,b,E[g+9],12,-1958414417),b=o(b,Y,U,_,E[g+10],17,-42063),_=o(_,b,Y,U,E[g+11],22,-1990404162),U=o(U,_,b,Y,E[g+12],7,1804603682),Y=o(Y,U,_,b,E[g+13],12,-40341101),b=o(b,Y,U,_,E[g+14],17,-1502002290),_=o(_,b,Y,U,E[g+15],22,1236535329),U=a(U,_,b,Y,E[g+1],5,-165796510),Y=a(Y,U,_,b,E[g+6],9,-1069501632),b=a(b,Y,U,_,E[g+11],14,643717713),_=a(_,b,Y,U,E[g+0],20,-373897302),U=a(U,_,b,Y,E[g+5],5,-701558691),Y=a(Y,U,_,b,E[g+10],9,38016083),b=a(b,Y,U,_,E[g+15],14,-660478335),_=a(_,b,Y,U,E[g+4],20,-405537848),U=a(U,_,b,Y,E[g+9],5,568446438),Y=a(Y,U,_,b,E[g+14],9,-1019803690),b=a(b,Y,U,_,E[g+3],14,-187363961),_=a(_,b,Y,U,E[g+8],20,1163531501),U=a(U,_,b,Y,E[g+13],5,-1444681467),Y=a(Y,U,_,b,E[g+2],9,-51403784),b=a(b,Y,U,_,E[g+7],14,1735328473),_=a(_,b,Y,U,E[g+12],20,-1926607734),U=d(U,_,b,Y,E[g+5],4,-378558),Y=d(Y,U,_,b,E[g+8],11,-2022574463),b=d(b,Y,U,_,E[g+11],16,1839030562),_=d(_,b,Y,U,E[g+14],23,-35309556),U=d(U,_,b,Y,E[g+1],4,-1530992060),Y=d(Y,U,_,b,E[g+4],11,1272893353),b=d(b,Y,U,_,E[g+7],16,-155497632),_=d(_,b,Y,U,E[g+10],23,-1094730640),U=d(U,_,b,Y,E[g+13],4,681279174),Y=d(Y,U,_,b,E[g+0],11,-358537222),b=d(b,Y,U,_,E[g+3],16,-722521979),_=d(_,b,Y,U,E[g+6],23,76029189),U=d(U,_,b,Y,E[g+9],4,-640364487),Y=d(Y,U,_,b,E[g+12],11,-421815835),b=d(b,Y,U,_,E[g+15],16,530742520),_=d(_,b,Y,U,E[g+2],23,-995338651),U=l(U,_,b,Y,E[g+0],6,-198630844),Y=l(Y,U,_,b,E[g+7],10,1126891415),b=l(b,Y,U,_,E[g+14],15,-1416354905),_=l(_,b,Y,U,E[g+5],21,-57434055),U=l(U,_,b,Y,E[g+12],6,1700485571),Y=l(Y,U,_,b,E[g+3],10,-1894986606),b=l(b,Y,U,_,E[g+10],15,-1051523),_=l(_,b,Y,U,E[g+1],21,-2054922799),U=l(U,_,b,Y,E[g+8],6,1873313359),Y=l(Y,U,_,b,E[g+15],10,-30611744),b=l(b,Y,U,_,E[g+6],15,-1560198380),_=l(_,b,Y,U,E[g+13],21,1309151649),U=l(U,_,b,Y,E[g+4],6,-145523070),Y=l(Y,U,_,b,E[g+11],10,-1120210379),b=l(b,Y,U,_,E[g+2],15,718787259),_=l(_,b,Y,U,E[g+9],21,-343485551),U=r(U,f),_=r(_,C),b=r(b,T),Y=r(Y,Q);return n(U)+n(_)+n(b)+n(Y)}let FV=1,sS=console,Oi=class{static setLogger(e){sS=e}constructor(e,t){Ft(this,"id",void 0),Ft(this,"lockingPromise",Ie.resolve()),Ft(this,"locks",0),Ft(this,"name",""),Ft(this,"lockId",void 0),this.lockId=FV++,e&&(this.name=e),t&&(this.id=t),this.logger("created")}logger(e,t){const n=(this.id?"[".concat(this.id,"]"):"")+"[lock-".concat(this.name,"-").concat(this.lockId,"]"),r=e==="created"?"is ".concat(e,"."):"is ".concat(e,", current queue ").concat(this.locks,". ").concat(t??"");sS.debug("".concat(n," ").concat(r))}setId(e){this.id=e}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,this.logger("locked",e);const n=new Ie(s=>{t=()=>{this.locks-=1,this.logger("unlocked",e),s()}}),r=this.lockingPromise.then(()=>t);return this.lockingPromise=this.lockingPromise.then(()=>n),r}};function Ra(e,t){return function(n,r,s){const o=s.value;if(typeof o!="function")throw new Error("Cannot use mutex on object property.");return s.value=async function(){const a=this[t];if(!a)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const d=await a.lock("From ".concat(e,".").concat(r));try{for(var l=arguments.length,E=new Array(l),g=0;g<l;g++)E[g]=arguments[g];return await o.apply(this,E)}finally{d()}},s}}const hi={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function ng(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function vr(e,t,n,r){const s=Object.assign({},hi,r);let o=s.timeout;const a=async()=>{await function(E){return new Ie(g=>{window.setTimeout(g,E)})}(o),o*=s.timeoutFactor,o=Math.min(s.maxRetryTimeout,o)};let d=!1;const l=new Ie(async(E,g)=>{t=t||(()=>!1),n=n||(()=>!0);for(let f=0;f<s.maxRetryCount;f+=1){if(d)return g(new $(j.OPERATION_ABORTED));try{const C=await e();if(!t(C,f)||f+1===s.maxRetryCount)return E(C);await a()}catch(C){if(!n(C,f)||f+1===s.maxRetryCount)return g(C);await a()}}});return l.cancel=()=>d=!0,l}class oS{constructor(t){Ft(this,"input",[]),Ft(this,"size",void 0),this.size=t}add(t){this.input.push(t),this.input.length>this.size&&this.input.splice(0,1)}mean(){var t;return this.input.length===0?0:Mr(t=this.input).call(t,(n,r)=>n+r)/this.input.length}}let el,tl=0,rg=0;function sg(e,t,n,r){return new Ie((s,o)=>{t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),tl+=Jr(t.data)):n&&(t.data.size?tl+=t.data.size:t.data instanceof FormData?tl+=$N(t.data):tl+=Jr(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,sn.request(t).then(a=>{typeof a.data=="string"?rg+=Jr(a.data):a.data instanceof ArrayBuffer||a.data instanceof Uint8Array?rg+=a.data.byteLength:rg+=Jr(JSON.stringify(a.data)),s(a.data)}).catch(a=>{sn.isCancel(a)?o(new $(j.OPERATION_ABORTED,"cancel token canceled")):a.code==="ECONNABORTED"?o(new $(j.NETWORK_TIMEOUT,a.message)):a.response?o(new $(j.NETWORK_RESPONSE_ERROR,a.response.status)):o(new $(j.NETWORK_ERROR,a.message))})})}async function QV(e,t){const n=new Blob([t.data],{type:"buffer"});return await sg(e,we(we({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const aS=()=>window.isSecureContext!==void 0,Zn=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(t&&t[1]&&t[2]){const n=t[1],r=t[2];return"".concat(n,".").concat(r)}return"4.0.0.999"}("4.22.2"),og=function(){try{return JSON.parse("true")===!0}catch{return!0}}();let To=function(e){return e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn",e}({});const Di=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const r=n.join(""),s=[];for(let d=0;d<6;d++)s.push("1");const o=s.join(""),a={};return a[e]=r,a[t]=o,Object.assign(a,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=Di;const ag={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},Ag="v4.22.2-0-g4caa29bb(10/28/2024, 2:37:34 PM)",Kt=we(we({PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:ag,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:"",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"]});function Nt(e,t,n){var r,s,o;ge(r=Object.keys(Kt)).call(r,e)&&(!n&&ge(s=Object.keys(Ps)).call(s,e)||(Kt[e]=t,e==="ENABLE_VIDEO_SEI"&&t===!0&&(Kt.ENABLE_ENCODED_TRANSFORM=!0),e==="USE_NEW_NETWORK_CONFIG"&&t&&(o=!!t,Kt.USE_NEW_NETWORK_CONFIG=o,o&&(Kt.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],Kt.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],Kt.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],Kt.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],Kt.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",Kt.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",Kt.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),e==="ENABLE_PRE_SUB"&&t&&(Kt.ENABLE_INSTANT_VIDEO=!0,Kt.ENABLE_PREALLOC_PC=!0),e==="ENABLE_SVC"&&t&&(Kt.ENABLE_AUT_CC=!0)))}function L(e){return Kt[e]}og||(Kt.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],Kt.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],Kt.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],Kt.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],Kt.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],Kt.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],Kt.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",Kt.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",Kt.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",Kt.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",Kt.AREAS=["NORTH_AMERICA","OVERSEA"]);const Ps={};var Ke=function(e){return e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",e}(Ke||{});class bV{constructor(t,n,r,s){Ft(this,"state",void 0),this.state={codec:t,audioCodec:n,mode:r,clientId:s,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:To.Default}}dispatch(t){this.state=function(n,r){switch(r.type){case Ke.SET_SESSION_ID:return we(we({},n),{},{sessionId:r.sessionId});case Ke.SET_P2P_ID:return we(we({},n),{},{p2pId:r.p2pId});case Ke.SET_UID:return we(we({},n),{},{uid:r.uid});case Ke.SET_INT_UID:return we(we({},n),{},{intUid:r.intUid});case Ke.SET_PUB_ID:return we(we({},n),{},{pubId:r.pubId});case Ke.KEY_METRIC_CLIENT_CREATED:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{clientCreated:r.metric})});case Ke.KEY_METRIC_JOIN_START:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{joinStart:r.metric})});case Ke.AVOID_JOIN_START:return we(we({},n),{},{avoidJoinStart:r.avoidJoinStart});case Ke.KEY_METRIC_JOIN_END:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{joinEnd:r.metric})});case Ke.KEY_METRIC_REQUEST_AP_START:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{requestAPStart:r.metric})});case Ke.KEY_METRIC_REQUEST_AP_END:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{requestAPEnd:r.metric})});case Ke.KEY_METRIC_JOIN_GATEWAY_START:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{joinGatewayStart:r.metric})});case Ke.KEY_METRIC_JOIN_GATEWAY_END:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{joinGatewayEnd:r.metric})});case Ke.KEY_METRIC_PEER_CONNECTION_START:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{peerConnectionStart:r.metric})});case Ke.KEY_METRIC_PEER_CONNECTION_END:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{peerConnectionEnd:r.metric})});case Ke.KEY_METRIC_DESCRIPTION_START:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{descriptionStart:r.metric})});case Ke.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{signalChannelOpen:r.metric})});case Ke.KEY_METRIC_ICE_CONNECTION_END:return we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{iceConnectionEnd:r.metric})});case Ke.KEY_METRIC_PUBLISH:{const s=n.keyMetrics.publish,o=s.findIndex(a=>a.trackId===r.metric.trackId);return o!==-1?(s[o]=we(we({},s[o]),r.metric),we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{publish:[...s]})})):we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{publish:[...n.keyMetrics.publish,r.metric]})})}case Ke.KEY_METRIC_SUBSCRIBE:{const s=n.keyMetrics.subscribe,o=s.findIndex(a=>a.userId===r.metric.userId&&a.type===r.metric.type);return o!==-1?(s[o]=we(we({},s[o]),r.metric),we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{subscribe:[...s]})})):we(we({},n),{},{keyMetrics:we(we({},n.keyMetrics),{},{subscribe:[...n.keyMetrics.subscribe,r.metric]})})}case Ke.SET_CLOUD_PROXY_SERVER_MODE:return n.cloudProxyServerMode=r.mode,n;case Ke.RECORD_JOIN_CHANNEL_SERVICE:return typeof r.index!="number"?n.joinChannelServiceRecords=[...n.joinChannelServiceRecords,r.record]:(n.joinChannelServiceRecords[r.index]=we(we({},n.joinChannelServiceRecords[r.index]),r.record),n.joinChannelServiceRecords=[...n.joinChannelServiceRecords]),n;case Ke.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return n.joinChannelServiceRecords=[],n;case Ke.RESET_KEY_METRICS:return n.keyMetrics={publish:[],subscribe:[]},n;case Ke.SET_USE_P2P:return we(we({},n),{},{useP2P:r.val});case Ke.SET_TRANSPORT_TYPE:return we(we({},n),{},{p2pTransport:r.val});default:return n}}(this.state,t)}set sessionId(t){this.dispatch({type:Ke.SET_SESSION_ID,sessionId:t})}get sessionId(){return this.state.sessionId}set codec(t){this.state.codec=t}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(t){this.dispatch({type:Ke.SET_P2P_ID,p2pId:t})}get p2pId(){return this.state.p2pId}set dcId(t){this.dispatch({type:Ke.SET_DC_ID,dcId:t})}get dcId(){return this.state.dcId}set uid(t){this.dispatch({type:Ke.SET_UID,uid:t})}get uid(){return this.state.uid}set intUid(t){this.dispatch({type:Ke.SET_INT_UID,intUid:t})}get intUid(){return this.state.intUid}set pubId(t){this.dispatch({type:Ke.SET_PUB_ID,pubId:t})}get pubId(){return this.state.pubId}set cloudProxyServerMode(t){this.dispatch({type:Ke.SET_CLOUD_PROXY_SERVER_MODE,mode:t})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(t){this.dispatch({type:Ke.SET_USE_P2P,val:t})}get useP2P(){return this.state.useP2P}set p2pTransport(t){this.dispatch({type:Ke.SET_TRANSPORT_TYPE,val:t})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:Ke.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Ke.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Ke.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Ke.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Ke.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Ke.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Ke.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Ke.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Ke.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Ke.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Ke.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Ke.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(t,n,r,s){this.dispatch({type:Ke.KEY_METRIC_PUBLISH,metric:we(we({trackId:t,type:n},r&&{publishStart:r}),s&&{publishEnd:s})})}subscribe(t,n,r,s,o,a,d){this.dispatch({type:Ke.KEY_METRIC_SUBSCRIBE,metric:we(we(we(we(we({userId:t,type:n},r&&{subscribeStart:r}),s&&{subscribeEnd:s}),o&&{firstFrame:o}),a&&{streamAdded:a}),d&&{firstDecoded:d})})}massSubscribe(t,n,r,s){t.forEach(o=>{this.dispatch({type:Ke.KEY_METRIC_SUBSCRIBE,metric:we(we(we({userId:o.userId,type:o.type},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),s&&{firstFrame:s})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(t,n){t.service==="gateway"&&Array.isArray(t.urls)&&(t.urls=t.urls.map(r=>r.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")));try{return typeof n!="number"?(this.dispatch({type:Ke.RECORD_JOIN_CHANNEL_SERVICE,record:we(we({},t),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(n<0||n>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Ke.RECORD_JOIN_CHANNEL_SERVICE,record:t,index:n}),n)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Ke.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Ke.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(t){this.dispatch({type:Ke.AVOID_JOIN_START,avoidJoinStart:t})}}let il=function(e){return e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1",e}({});(function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"})({});const AS=128,DV=96,cS=1e3,Ta=10;let kV=0;function xt(e,t,n){return(t=function(r){var s=function(o,a){if(typeof o!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var l=d.call(o,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(r);return typeof s=="symbol"?s:s+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(n),!0).forEach(function(r){xt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const lS=new class extends Vt{constructor(){super(...arguments),xt(this,"currentUploadLogID",0)}reportLogUploadError(e){const{errorRange:t}=e;t[t.length-1]&&t[t.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t[t.length-1],this.emit("REPORT_LOG_UPLOAD",e))}};class YV{constructor(t){xt(this,"logger",void 0),xt(this,"prefixLists",[]),this.logger=t}debug(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logger.debug(...this.prefixLists,...n)}info(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logger.info(...this.prefixLists,...n)}warning(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logger.warning(...this.prefixLists,...n)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logger.error(...this.prefixLists,...n)}prefix(t){return this.prefixLists.push(t),this}popPrefix(){return this.prefixLists.pop(),this}}function cg(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function hS(){const e=new Date,t=/((\d+:){2}\d+)/.exec(new Date().toUTCString());return t?(t==null?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const Xn={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},nl=Date.now(),LA=e=>{for(const t in Xn)if(Object.prototype.hasOwnProperty.call(Xn,t)&&Xn[t]===e)return t;return"DEFAULT"},M=new class{constructor(){xt(this,"proxyServerURL",void 0),xt(this,"logLevel",Xn.DEBUG),xt(this,"uploadState","collecting"),xt(this,"uploadLogWaitingList",[]),xt(this,"uploadLogUploadingList",[]),xt(this,"uploadErrorCount",0),xt(this,"currentLogID",0),xt(this,"url",void 0),xt(this,"extLog",(e,t)=>{this.appendLogToWaitingList(e,...t)})}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[Xn.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[Xn.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[Xn.WARNING].concat(t);this.log.apply(this,r)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[Xn.ERROR].concat(t);this.log.apply(this,r)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[Xn.DEBUG].concat(t);this.uploadLog.apply(this,r)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){Nt("UPLOAD_LOG",!0)}disableLogUpload(){Nt("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new YV(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-nl<100)return void setTimeout(()=>{this.log(...t)},Date.now()-nl);const r=Math.max(0,Math.min(4,t[0]));if(t[0]=cg()+" Agora-SDK [".concat(LA(r),"]:"),this.appendLogToWaitingList(r,...t),r<this.logLevel)return;const s=cg()+" %cAgora-SDK [".concat(LA(r),"]:");let o=[];if(!L("USE_NEW_LOG"))switch(r){case Xn.DEBUG:o=[s,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,o);break;case Xn.INFO:o=[s,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,o);break;case Xn.WARNING:o=[s,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,o);break;case Xn.ERROR:o=[s,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-nl<100)return void setTimeout(()=>{this.uploadLog(...t)},Date.now()-nl);const r=Math.max(0,Math.min(4,t[0]));t[0]=cg()+" Agora-SDK [".concat(LA(r),"]:"),this.appendLogToWaitingList(r,...t)}appendLogToWaitingList(e){if(!L("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Array.isArray(n[0])?n[0][0]=hS()+" Agora-SDK [".concat(LA(e),"]:"):n[0]=hS()+" Agora-SDK [".concat(LA(e),"]:");let s="";n.forEach(o=>{typeof o=="object"&&(o=JSON.stringify(o)),s+="".concat(o," ")}),this.uploadLogWaitingList.push({payload_str:s,log_level:e,log_item_id:this.currentLogID++}),this.uploadState==="uploading"&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:Zn,process_id:L("PROCESS_ID"),payload:JSON.stringify(e)};return vr(async()=>{const n=await sn.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(L("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(L("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if(n.data!=="OK"){const r=new Error("unexpected upload log response");throw r.response=n,r}},()=>(this.uploadLogUploadingList=[],!1),n=>{const r={status:-1,message:n.message,errorRange:e.map(s=>s.log_item_id)};return n.response?(r.status=n.response.status,r.data=n.response.data,r.headers=n.response.headers):n.request&&(r.status=n.request.status),lS.reportLogUploadError(r),!0},{timeout:L("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:L("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,L("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),L("UPLOAD_LOG_INTERVAL"))}).catch(e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),L("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout(()=>this.uploadLogInterval(),L("UPLOAD_LOG_RETRY_INTERVAL_V1"))}))}};var uS;function jV(e){return Mi(e.reportId,"params.reportId",0,100,!1),Mi(e.category,"params.category",0,100,!1),Mi(e.event,"params.event",0,100,!1),Mi(e.label,"params.label",0,100,!1),Tt(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(uS={}).FREE="free",uS.UPLOADING="uploading",function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}({});const OV={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let wi=function(e){return e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics",e.PC_STATS="pc_stats",e.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",e}({}),Lt=function(e){return e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",e.PC_STATS="io.agora.pb.Wrtc.PCStats",e.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",e}({});(function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"})({});let PV=function(e){return e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",e}({});function Ye(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(t,n,r){const s=r.value;if(typeof s=="function"){const o=e.className||t.__className__||(t.constructor.name==="AgoraRTCClient"?"Client":t.constructor.name);r.value=function(){for(var a,d=arguments.length,l=new Array(d),E=0;E<d;E++)l[E]=arguments[E];let g=l;if(e.argsMap)try{g=e.argsMap(this,...l)}catch(C){M.warning(C),g=[]}try{JSON.stringify(g)}catch{M.warning("arguments for method ".concat(o,".").concat(String(n)," not serializable for apiInvoke.")),g=[]}const f=(e.report||ve).reportApiInvoke(this._sessionId||null,{id:this._clientId||((a=this.store)===null||a===void 0?void 0:a.clientId)||this._ID,name:"".concat(o,".").concat(String(n)),options:g,tag:zt.TRACER,reportResult:e.reportResult},e.throttleTime);try{const C=s.apply(this,l);return C instanceof Ie?C.then(T=>(f.onSuccess(e.reportResult&&T),T)).catch(T=>{throw f.onError(T),T}):(f.onSuccess(e.reportResult&&C),C)}catch(C){throw f.onError(C),C}}}return r}}const ve=new class{constructor(){xt(this,"baseInfoMap",new Map),xt(this,"proxyServer",void 0),xt(this,"eventUploadTimer",void 0),xt(this,"setSessionIdTimer",void 0),xt(this,"url",void 0),xt(this,"sids",new Set),xt(this,"backupUrl",void 0),xt(this,"_appId",void 0),xt(this,"keyEventUploadPendingItems",[]),xt(this,"normalEventUploadPendingItems",[]),xt(this,"apiInvokeUploadPendingItems",[]),xt(this,"apiInvokeCount",0),xt(this,"apiInvokeLoggedCount",0),xt(this,"ltsList",[]),xt(this,"lastSendNormalEventTime",Date.now()),xt(this,"customReportCounterTimer",void 0),xt(this,"customReportCount",0),xt(this,"extApiInvoke",async e=>{for(const t of e){const n=xe(xe({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:zt.TRACER});this.sendApiInvoke(n)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),L("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),L("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=t.reportResult===void 0||t.reportResult;const r=Date.now();this.apiInvokeCount+=1;const s=this.apiInvokeCount,o=!!L("SHOW_REPORT_INVOKER_LOG"),a=!!L("SHOW_REPORT_USER_INVOKER_LOG"),d=o||a&&t.id;d&&(this.apiInvokeLoggedCount+=1);const l=this.apiInvokeLoggedCount;function E(T,Q){if(d){let U="[apiInvoke-".concat(l,"]");t.id&&(U+="[".concat(t.id,"]")),t.name&&(U+="[".concat(t.name,"]")),M.info("".concat(U," ").concat(T),T==="start"?t.options:Q||"")}}const g=()=>({tag:t.tag,invokeId:s,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null});E("start");let f=!1;yi(t.timeout).then(()=>{f||(this.sendApiInvoke(xe(xe({},g()),{},{error:j.API_INVOKE_TIMEOUT,success:!1})),E("timeout"))});const C=new $(j.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:T=>{const Q=()=>{if(f)throw C;return f=!0,this.sendApiInvoke(xe(xe({},g()),{},{success:!0},t.reportResult&&{result:T})),E("onSuccess"),T};return n?tS(Q,t.name+"Success",n,()=>f=!0):Q()},onError:T=>{const Q=()=>{if(f)throw T;f=!0,this.sendApiInvoke(xe(xe({},g()),{},{success:!1,error:T})),E("onFailure",T.toString())};return n?tS(Q,t.name+"Error",n,()=>f=!0):Q()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;const s=Object.assign({},{willUploadConsoleLog:L("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:og?"global":"oversea",areas:L("AREAS")&&L("AREAS").join(",")},t.extend),{stringUid:o,channelProfile:a,channelMode:d,isABTestSuccess:l,lsid:E,clientRole:g}=t,f=Date.now(),C=xe(xe({},r),{},{eventType:wi.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,buildFormat:t.buildFormat,build:Ag,lts:f,elapse:f-n,extend:JSON.stringify(s),mode:t.mode,process:L("PROCESS_ID"),appType:L("APP_TYPE"),success:!0,version:Zn,stringUid:o,channelProfile:a,channelMode:d,isABTestSuccess:l,lsid:E,clientType:ge(T=window.navigator.userAgent).call(T,"AgoraWebView")?42:20,clientRole:g,serviceId:L("PROCESS_ID"),extensionID:L("PLUGIN_INFO").join(",")||""});var T;this.send({type:Lt.SESSION,data:C},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{eventType:wi.JOIN_CHOOSE_SERVER,lts:s,eventElapse:t.elapse||s-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:s-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3,corssRegionTagReq:t.corssRegionTagReq||void 0,corssRegionTagRes:t.corssRegionTagRes||void 0});this.send({type:Lt.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{eventType:wi.REQ_USER_ACCOUNT,lts:s,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:t.elapse||s-n.startTime,eventElapse:s-t.lts,extend:JSON.stringify(t.extend)});this.send({type:Lt.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;const s=Date.now(),{firstSuccess:o,avoidJoinStartTime:a}=t,d=s-(o&&a?a:n.startTime),l=xe(xe({},r),{},{eventType:wi.JOIN_GATEWAY,lts:s,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,errorMsg:t.errorMsg||"",elapse:d,eventElapse:s-t.lts,firstSuccess:o,signalChannel:t.signalChannel,preload:t.preload?1:0});t.succ&&(n.lastJoinSuccessTime=s),this.send({type:Lt.JOIN_GATEWAY,data:l},!0)}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=Date.now(),s=xe(xe({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:Lt.JOIN_CHANNEL_TIMEOUT,data:s},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{eventType:wi.PUBLISH,lts:s,eventElapse:t.eventElapse,elapse:s-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:Lt.PUBLISH,data:o},!0)}subscribe(e,t,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=xe(xe({},s),{},{eventType:wi.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid,preSsrc:t.preSsrc?1:0},n&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof t.peerid=="string"?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:Lt.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...wn(t=this.baseInfoMap).call(t)],r=n.length?n[0]:"UnableToGetSid",s=this.baseInfoMap.get(r);if(!s)return;const o=s.info,a=Date.now(),d=xe(xe({},o),{},{eventType:wi.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-s.startTime,status:e.status?1:2});this.send({type:Lt.WS_COMPRESSOR_INIT,data:d},!0)}firstRemoteVideoDecode(e,t,n,r){const s=this.baseInfoMap.get(e);if(!s)return;const o=s.info,a=Date.now(),d=xe(xe(xe({},o),r),{},{elapse:a-s.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max((r.firstFrame||a)-s.startTime,0),apEnd:Math.max(r.apEnd-s.startTime,0),apStart:Math.max(r.apStart-s.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-s.startTime,0),joinGwStart:Math.max(r.joinGwStart-s.startTime,0),pcEnd:Math.max(r.pcEnd-s.startTime,0),pcStart:Math.max(r.pcStart-s.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-s.startTime,0),subscriberStart:Math.max(r.subscriberStart-s.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-s.startTime,0)});this.send({type:n,data:d},!0)}firstRemoteFrame(e,t,n,r){const s=this.baseInfoMap.get(e);if(!s)return;const o=s.info,a=Date.now(),d=xe(xe(xe({},o),r),{},{elapse:a-s.startTime,eventType:t,lts:a});this.send({type:n,data:d},!0)}pcStats(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe(xe({},r),t),{},{vid:r.vid===void 0?0:Number(r.vid),elapse:s-n.startTime,eventType:wi.PC_STATS,lts:s,preallocation:t.preallocation?1:0});this.send({type:Lt.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(e,t){if(e){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe(xe({},r),t),{},{vid:r.vid===void 0?0:Number(r.vid),eventType:wi.UPDATE_REMOTE_RTPCAPABILITIES,lts:s});this.send({type:Lt.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(e,t,n,r){const s=this.baseInfoMap.get(e);if(!s)return;const o=s.info,a=Date.now(),d=xe(xe(xe({},o),r),{},{eventType:t,lts:a});this.send({type:n,data:d},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{eventType:wi.STREAM_SWITCH,lts:s,isDual:t.isdual,elapse:s-n.startTime,success:t.succ});this.send({type:Lt.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{eventType:wi.REQUEST_PROXY_APPCENTER,lts:s,eventElapse:s-t.lts,elapse:s-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:Lt.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{eventType:wi.REQUEST_PROXY_WORKER_MANAGER,lts:s,eventElapse:s-t.lts,elapse:s-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:Lt.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?M.debug("reportProxyServerurl: ".concat(e)):M.debug("disable reportProxyServerurl: ".concat(e))}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:s,elapse:s-n.startTime,joinChannelSuccessElapse:s-(n.lastJoinSuccessTime||s),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:Lt.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now();(function(o,a,d){const l=o[a];if(!l||typeof l!="string")return[o];o[a]="";const E=Jr(JSON.stringify(o));let g=0;const f=[];let C=0;for(let T=0;T<l.length;T++)C+=l.charCodeAt(T)<=127?1:3,C<=d-E||(f[f.length]=we(we({},o),{},{[a]:l.substring(g,T)}),g=T,C=l.charCodeAt(T)<=127?1:3);return g!==l.length-1&&(f[f.length]=we(we({},o),{},{[a]:l.substring(g)})),f})(xe(xe(xe({},r),t),{},{elapse:s-n.startTime,lts:s,productType:"WebRTC"}),"payload",1300).forEach(o=>this.send({type:Lt.WORKER_EVENT,data:o},!0))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe(xe({},r),t),{},{elapse:s-n.startTime,lts:s});this.send({type:Lt.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe(xe({},r),t),{},{elapse:s-n.startTime,lts:s,extend:t.extend||void 0});this.send({type:Lt.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=xe(xe(xe({},r),t),{},{elapse:s-n.startTime,lts:s});this.send({type:Lt.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>L("CUSTOM_REPORT_LIMIT"))throw new $(j.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const n=Date.now(),r=t.map(s=>({type:Lt.USER_ANALYTICS,data:xe(xe({sid:e},s),{},{lts:n})}));try{L("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(r):await this.postDataToStatsCollector(r)}catch(s){throw M.error("send custom report message failed",s.toString()),new $(j.CUSTOM_REPORT_SEND_FAILED,s.message)}}sendApiInvoke(e){const t=L("NOT_REPORT_EVENT");if(e.tag&&ge(t)&&ge(t).call(t,e.tag))return!1;if(e.sid===null)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:r,uid:s,cid:o}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof $){const{code:l,message:E}=e.error;a=l||E||e.error.toString()}else a=e.error.toString();const d={invokeId:e.invokeId,sid:e.sid,cname:r,cid:o,uid:s,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:Lt.API_INVOKE,data:d},!1),!0}addSid(e){this.sids.add(e)}removeSid(e){this.sids.delete(e)}appendSessionId(){const e=this.apiInvokeUploadPendingItems;if(e.length===0)return;const t=Array.from(this.sids).find(n=>n!==null);t&&e.forEach(n=>{n&&(n.sid=t,this.sendApiInvoke(Object.assign({},n)))}),e.length=0}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>L("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],r=[];for(;e.length;){const o=e.shift();n.length<20?n.push(o):r.push(o)}e.push(...r);for(const o of[...n]){var s;this.ltsList.indexOf(o.data.lts)!==-1?(o.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(o.data.lts)):(this.ltsList.push(o.data.lts),NA(s=this.ltsList).call(s,(a,d)=>a-d))}return t||(this.lastSendNormalEventTime=Date.now()),L("ENABLE_EVENT_REPORT")&&n.length&&(L("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((o=>a=>{L("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(o):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(o),this.normalEventUploadPendingItems.length>L("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-L("NORMAL_EVENT_QUEUE_CAPACITY")),M.warning("report: drop normal events"))))})(n)),e}async postDataToStatsCollector2(e){si.networkState===mn.OFFLINE&&await Ie.race([si.onlineWaiter,yi(2*hi.maxRetryTimeout)]);const t=s=>{let o=new Uint8Array;return s.forEach(a=>{const d=$E(JSON.stringify(a.data)),l=new ArrayBuffer(5),E=(f=>{let C=0;return Object.entries(Lt).forEach(T=>{let[Q,U]=T;U===f.type&&(C=PV[Q])}),C})(a),g=new DataView(l);g.setUint16(0,d.byteLength,!0),g.setUint8(2,255&E),g.setUint8(3,E>>>8&255),g.setUint8(4,E>>>16&255),o=xN(o,new Uint8Array(l)),o=xN(o,d)}),o},n="event";let r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(L("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(L("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let s=0;s<2;s+=1){s===1&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(L("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(L("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await sg(r,{timeout:1e4,data:t(e),headers:xe(xe({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(o){if(s===1)throw o;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map(o=>JSON.stringify(o)),vid:(o=>{const a=o&&o.data.sid&&this.baseInfoMap.get(o.data.sid);return a&&a.info.vid&&+a.info.vid||0})(e[0])};si.networkState===mn.OFFLINE&&await Ie.race([si.onlineWaiter,yi(2*hi.maxRetryTimeout)]);const r=t?"/events/proto-raws":"/events/messages";let s=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(L("EVENT_REPORT_DOMAIN"),"&p=").concat(L("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(L("EVENT_REPORT_DOMAIN"),":").concat(L("STATS_COLLECTOR_PORT")).concat(r));for(let o=0;o<2;o+=1){o===1&&(s=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(L("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(L("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(L("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(L("STATS_COLLECTOR_PORT")).concat(r)));try{t?await QV(s,{timeout:1e4,data:n}):await sg(s,{timeout:1e4,data:n})}catch(a){if(o===1)throw a;continue}return}}createBaseInfo(e,t){const n=Object.assign({},OV);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:zt.TRACER}).onSuccess()}};lS.on("REPORT_LOG_UPLOAD",e=>{e.networkState=si.networkState,ve.reportApiInvoke(null,{name:"logUploadError",options:e,tag:zt.TRACER}).onSuccess("logUploadError")});class X extends ${constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",arguments.length>2?arguments[2]:void 0),xt(this,"name","AgoraRTCException")}print(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error";return super.print(t,M)}throw(){super.throw(M)}}const VV=["CHINA","GLOBAL"],gS=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],No=[];function So(e,t){return!!t&&No.some(n=>n.uid===e&&n.channelName===t)}var LV=_R.forEach,pS=Oc("forEach")?[].forEach:function(e){return LV(this,e,arguments.length>1?arguments[1]:void 0)};Ct({target:"Array",proto:!0,forced:[].forEach!=pS},{forEach:pS});var GV=rr("Array").forEach,zV=Lr,xV=ji,WV=O,JV=GV,dg=Array.prototype,HV={DOMTokenList:!0,NodeList:!0},ZV=function(e){var t=e.forEach;return e===dg||WV(dg,e)&&t===dg.forEach||xV(HV,zV(e))?JV:t},XV=I(ZV),KV=Vr,IS=zc;Ct({target:"Object",stat:!0,forced:m(function(){IS(1)})},{keys:function(e){return IS(KV(e))}});var fS=I(Ln.Object.keys),qV=I(VI),$V=Ct,eL=yA,tL=k([].reverse),mS=[1,2];$V({target:"Array",proto:!0,forced:String(mS)===String(mS.reverse())},{reverse:function(){return eL(this)&&(this.length=this.length),tL(this)}});var iL=rr("Array").reverse,nL=O,rL=iL,lg=Array.prototype,sL=function(e){var t=e.reverse;return e===lg||nL(lg,e)&&t===lg.reverse?rL:t},CS=sL,oL=I(CS),aL=Ct,RS=yA,AL=id,cL=yn,TS=Uh,dL=ds,lL=Vn,hL=pd,uL=ri,EL=nd,gL=RR("slice"),pL=uL("species"),hg=Array,IL=Math.max;aL({target:"Array",proto:!0,forced:!gL},{slice:function(e,t){var n,r,s,o=lL(this),a=dL(o),d=TS(e,a),l=TS(t===void 0?a:t,a);if(RS(o)&&(n=o.constructor,(AL(n)&&(n===hg||RS(n.prototype))||cL(n)&&(n=n[pL])===null)&&(n=void 0),n===hg||n===void 0))return EL(o,d,l);for(r=new(n===void 0?hg:n)(IL(l-d,0)),s=0;d<l;d++,s++)d in o&&hL(r,s,o[d]);return r.length=s,r}});var fL=rr("Array").slice,mL=O,CL=fL,ug=Array.prototype,RL=function(e){var t=e.slice;return e===ug||mL(ug,e)&&t===ug.slice?CL:t},TL=I(RL);function Se(e,t,n,r,s){var o,a,d,l={};return XV(o=fS(r)).call(o,function(E){l[E]=r[E]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=qV(a=oL(d=TL(n).call(n)).call(d)).call(a,function(E,g){return g(e,t,E)||E},l),s&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(s):void 0,l.initializer=void 0),l.initializer===void 0&&(IR(e,t,l),l=null),l}let Eg=function(e){return e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L1T3_KEY="L1T3_KEY",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY",e}({}),vn=function(e){return e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver",e}({}),rl=function(e){return e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",e}({}),gg=function(e){return e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e}({}),ar=function(e){return e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",e}({}),Ki=function(e){return e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",e}({}),be=function(e){return e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",e}({}),Ut=function(e){return e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed",e}({}),Ve=function(e){return e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.PRE_CONNECT_PC="pre_connect_pc",e.P2P_CONNECTION="p2p_connection",e.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",e.P2P_SUBSCRIBE="p2p_subscribe",e.P2P_UNSUBSCRIBE="p2p_unsubscribe",e.P2P_EXCHANGE_SDP="p2p_exchange_sdp",e.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",e.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",e.RECOVER_NOTIFICATION="recover_notification",e}({}),Pe=function(e){return e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.PUBLISH_DATASTREAM="publish_datastream",e.UNPUBLISH="unpublish",e.UNPUBLISH_DATASTREAM="unpublish_datastream",e.SUBSCRIBE="subscribe",e.PRE_SUBSCRIBE="pre_subscribe",e.SUBSCRIBE_DATASTREAM="subscribe_datastream",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter",e.SET_RTM2_FLAG="set_rtm2_flag",e}({}),GA=function(e){return e.WRTC_STATS="wrtc_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats",e}({}),qe=function(e){return e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",e.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",e.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list",e}({}),qi=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({}),ze=function(e){return e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",e}({});function sl(e){if(typeof e!="string"||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw M.error("Invalid Channel Name ".concat(e)),new X(j.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function ol(e){if(!function(t){return typeof t=="number"&&Math.floor(t)===t&&0<=t&&t<=4294967295}(e)&&!GN(e,1,255))throw new X(j.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");typeof e=="string"&&M.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let Es=function(e){return e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e}({});const NL={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},pg={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Ig(e,t){Mi(e.url,"".concat(t,".url"),1,1e3,!1),Pt(e.x)||Tt(e.x,"".concat(t,".x"),0,1e4),Pt(e.y)||Tt(e.y,"".concat(t,".y"),0,1e4),Pt(e.width)||Tt(e.width,"".concat(t,".width"),0,1e4),Pt(e.height)||Tt(e.height,"".concat(t,".height"),0,1e4),Pt(e.zOrder)||Tt(e.zOrder,"".concat(t,".zOrder"),0,255),Pt(e.alpha)||Tt(e.alpha,"".concat(t,".alpha"),0,1,!1)}const SL={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let Vs=function(e){return e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address",e}({}),fg=function(e){return e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",e}({}),pi=function(e){return e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",e}({});function NS(e){if(!e.channelName)throw new X(j.INVALID_PARAMS,"invalid channelName in info");if(typeof e.uid!="number")throw new X(j.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&Mi(e.token,"info.token",1,2047),ol(e.uid),sl(e.channelName),!0}let $i=function(e){return e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile",e}({}),gs=function(e){return e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",e}({}),dn=function(e){return e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",e}({}),Na=function(e){return e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",e}({}),ut=function(e){return e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low",e}({}),ki=function(e){return e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.PRE_CONNECT_PC="pre-connect_pc",e}({}),al=function(e){return e.P2P_DISCONNECTED="P2P_DISCONNECTED",e.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",e.TIMEOUT="TIMEOUT",e.UNKNOWN_REASON="UNKNOWN_REASON",e}({}),Ti=function(e){return e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data",e[e.DataStream0=256]="DataStream0",e[e.DataStream1=512]="DataStream1",e[e.DataStream2=1024]="DataStream2",e[e.DataStream3=2048]="DataStream3",e[e.DataStream4=4096]="DataStream4",e[e.DataStream5=8192]="DataStream5",e[e.DataStream6=16384]="DataStream6",e[e.DataStream7=32768]="DataStream7",e}({}),At=function(e){return e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="EXTENSIONS",e}({});const SS=[At.AFRICA,At.ASIA,At.CHINA,At.EUROPE,At.GLOBAL,At.INDIA,At.JAPAN,At.NORTH_AMERICA,At.OCEANIA,At.OVERSEA,At.SOUTH_AMERICA];let Pi=function(e){return e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="GLOBAL",e}({});const Al={CHINA:{},ASIA:{CODE:Pi.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:Pi.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:Pi.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:Pi.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:Pi.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:Pi.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:Pi.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:Pi.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:Pi.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:Pi.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:Pi.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:Pi.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:Pi.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};og&&(Al.CHINA={CODE:Pi.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let mg=function(e){return e.UPDATE_BITRATE_LIMIT="update_bitrate_limit",e}({});class MS extends Vt{constructor(t,n){super(),F(this,"onICEConnectionStateChange",void 0),F(this,"onConnectionStateChange",void 0),F(this,"onDTLSTransportStateChange",void 0),F(this,"onDTLSTransportError",void 0),F(this,"onICETransportStateChange",void 0),F(this,"onFirstAudioReceived",void 0),F(this,"onFirstVideoReceived",void 0),F(this,"onFirstAudioDecoded",void 0),F(this,"onFirstVideoDecoded",void 0),F(this,"onFirstVideoDecodedTimeout",void 0),F(this,"onSelectedLocalCandidateChanged",void 0),F(this,"onSelectedRemoteCandidateChanged",void 0),F(this,"getLocalVideoStats",void 0)}}class yS extends MS{constructor(t,n){super(t,n),F(this,"establishPromise",void 0)}}let Ne=function(e){return e.VIDEO="video",e.AUDIO="audio",e}({}),Cn=function(e){return e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.RELAY=2]="RELAY",e}({}),ps=function(e){return e[e.FIRST_CONNECTION=0]="FIRST_CONNECTION",e[e.TCP_RESTART=1]="TCP_RESTART",e[e.RELAY_RESTART=2]="RELAY_RESTART",e[e.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",e[e.OLD_RESTART=11]="OLD_RESTART",e[e.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",e}({}),se=function(e){return e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack",e}({}),Et=function(e){return e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected",e}({}),je=function(e){return e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestRePublishDataChannel="requestRePublishDataChannel",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.RequestUpload="requestUpload",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState",e.LocalCandidate="LocalCandidate",e.RequestP2PMuteLocal="requestP2PMuteLocal",e.RequestP2PUnPublish="RequestP2PUnPublish",e.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",e.RequestP2PMuteRemote="RequestP2PMuteRemote",e.RequestP2PRestartICE="RequestP2PRestartICE",e}({}),Ar=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),cr=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),Ni=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),wS=function(e){return e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback",e.PRE_CONNECT_PC="transmitter:pre_connect_pc",e}({}),Hr=function(e){return e.CAMERA_CHANGED="camera-changed",e.MICROPHONE_CHANGED="microphone-changed",e.PLAYBACK_DEVICE_CHANGED="playback-device-changed",e.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",e.AUTOPLAY_FAILED="autoplay-failed",e.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",e.SECURITY_POLICY_VIOLATION="security-policy-violation",e}({}),Kn=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),_r=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),Sa=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),qt=function(e){return e.CALL="call",e.CANDIDATE="candidate",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.CONTROL="control",e.RESTART_ICE="restart_ice",e.ACK="ack",e.RESPONSE="response",e.JOIN="join",e.CHECK="check",e}({}),Ma=function(e){return e.ABORT="abort",e}({}),Ls=function(e){return e.MUTE_LOCAL_AUDIO="mute_local_audio",e.MUTE_LOCAL_VIDEO="mute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video",e}({}),ML=function(e){return e.P2P_TOKEN_TIMEOUT="p2p_token_timeout",e.P2P_TOKEN_CHANGED="p2p_token_changed",e}({});const yL={[rl.ACCESS_POINT]:{[Ki.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[Ki.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[Ki.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[Ki.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[Ki.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[Ki.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[Ki.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[rl.UNILBS]:{[ar.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[ar.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[ar.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[ar.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[ar.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[ar.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[ar.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[ar.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[ar.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[ar.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[ar.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[ar.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[rl.STRING_UID_ALLOCATOR]:{[gg.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[gg.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[gg.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function ya(e){const t=yL[Math.floor(e/1e4)];if(!t)return{desc:"unknown error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===rl.ACCESS_POINT){const r=e%1e4;if(r.toString()[0]==="1")return{desc:e.toString(),retry:!1};if(r.toString()[0]==="2")return{desc:e.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return n}const wL={[be.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[be.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[be.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[be.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[be.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[be.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[be.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[be.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[be.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[be.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[be.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[be.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[be.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[be.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[be.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[be.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[be.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[be.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[be.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[be.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[be.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[be.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[be.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[be.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[be.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[be.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[be.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[be.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[be.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[be.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[be.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[be.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[be.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[be.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[be.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[be.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[be.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[be.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[be.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[be.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[be.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[be.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[be.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[be.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[be.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[be.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[be.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[be.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[be.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[be.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[be.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[be.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[be.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[be.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[be.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[be.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[be.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[be.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[be.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[be.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[be.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[be.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[be.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function zA(e){return wL[e]||{desc:"UNKNOWN_ERROR_".concat(e),action:"failed"}}function BS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function US(e){return e.every(t=>t.readyState===WebSocket.CLOSED||t.readyState===WebSocket.CLOSING)}function vS(e,t){if(typeof e=="string")return e;const{proxy:n,host:r,port:s}=e;if(t){const o=L("JOIN_GATEWAY_FALLBACK_PORT")||443;return o===443?"wss://".concat(r,"/ws/?p=").concat(Number(s)+150):"wss://".concat(r,":").concat(o,"/ws/?p=").concat(Number(s)+150)}return n?"wss://".concat(n,"/ws/?h=").concat(r,"&p=").concat(s):"wss://".concat(r,":").concat(s)}const BL=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,UL=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,vL=/wss:\/\/(.+):([0-9]+)\/?/,_L=/wss:\/\/(.[^\/]+)\/?/;let FL=0;class QL{constructor(t,n){F(this,"id",0),F(this,"store",void 0),F(this,"recordIndex",void 0),F(this,"websockets",[]),F(this,"try443PortDuration",2e3),F(this,"forceCloseWSDuration",5e3),F(this,"try443PortTimeout",null),F(this,"forceCloseTimeout",null),F(this,"isTry443PortFailed",!1),F(this,"isNormalPortFailed",!1),F(this,"useDoubleDomain",!1),F(this,"useProxy",!1),F(this,"startTime",Date.now()),this.id=++FL,this.try443PortDuration=L("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=t||5e3,this.store=n}closeAllWebsockets(){this.websockets.forEach(t=>{t.onopen=null,t.onclose=null,t.onmessage=null,t.close()}),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var t;const n=Date.now()-this.startTime;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];M.debug("[choose-best-ws ".concat((t=this.store)===null||t===void 0?void 0:t.clientId," ").concat(this.id,"] ").concat(n,"ms:"),...s)}createWebSocket(t,n,r){this.logger("createWebSocket:",t,{isTry443Port:n,hasTimeoutDetection:r});const s=L("GATEWAY_DOMAINS"),o=Date.now(),a=[],d=s.find(g=>{var f;return ge(f=t.host).call(f,g)});d||(this.useDoubleDomain=!1);const l=[];if(this.useDoubleDomain)s.forEach(g=>{l.push(vS(Cg(Cg({},t),{},{host:t.host.replace(d,g)}),n))});else{const g=Cg({},t);if(n&&d){const f=s.find(C=>C!==d);f&&(g.host=g.host.replace(d,f))}l.push(vS(g,n))}try{l.forEach(g=>{const f=new WebSocket(g);f.binaryType="arraybuffer",a.push(f),this.logger("ws is connecting:",f.url)})}catch(g){if(this.logger("ws create failed"),a.forEach(f=>f.close()),a.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(t,n,r);if(!n&&Number(t.port)!==443)return this.createWebSocket(t,!0,r);throw new X(j.WS_ERR,"init websocket failed! Error: ".concat(g.toString()))}const E=YA();return this.store&&this.store.recordJoinChannelService({urls:a.map(g=>g.url),service:"gateway"},this.recordIndex),a.forEach(g=>{g.onopen=()=>{this.logger("onopen: ws ".concat(g.url," open cost ").concat(Date.now()-o,"ms")),this.websockets.forEach(f=>{f!==g&&(f.onopen=null,f.onclose=null,f.onmessage=null,f.close(),this.logger("close backup websocket: ".concat(f.url)))}),this.websockets.length=0,E.resolve(g)},g.onclose=f=>{this.logger("onclose: ws ".concat(g.url," closed cost ").concat(Date.now()-o,"ms state: ").concat(g.readyState)),n?this.isTry443PortFailed=US(a):this.isNormalPortFailed=US(a),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(n&&this.isTry443PortFailed||!n&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(f.reason)),E.reject({code:f.code,reason:al.A_ROUND_WS_FAILED}))},g.onmessage=f=>this.logger("".concat(g.url," onmessage: ").concat(f.data))}),this.websockets.push(...a),r||(()=>{const g=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",E.isResolved),this.websockets.forEach(f=>f.readyState!==WebSocket.OPEN&&f.close())};if(n||this.useProxy)return this.logger("add 5s timeout at ".concat(n?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(g,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger("2s timeout, isWebsocket created: ",E.isResolved),E.isResolved)return g();st().os===Ri.MAC_OS&&Gt()&&g(),this.createWebSocket(t,!0,!0).then(f=>E.resolve(f)).catch(f=>{this.isNormalPortFailed&&E.reject(f),this.logger("try 443 port to create ws failed")}),this.forceCloseTimeout=window.setTimeout(g,this.forceCloseWSDuration)},this.try443PortDuration)})(),E.promise}chooseBestWebsocket(t,n,r,s){return this.useDoubleDomain=!!n,typeof t=="string"&&(t=function(o){let a,d,l;return[,a,d,l]=o.match(BL)||[],a||([,d,l]=o.match(UL)||[]),d&&l||([,d,l]=o.match(vL)||[]),d&&l||([,d]=o.match(_L)||[]),d||M.warning("un-destructible url: ",o),{proxy:a,host:d,port:l||"443"}}(t)),this.recordIndex=s,this.useProxy=!!t.proxy,r&&this.useProxy&&(M.warn("cannot use 443 only when use proxy"),r=!1),this.createWebSocket(t,!!r,!1).finally(()=>this.clearTimeout())}}function _S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}class FS extends Vt{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(t){var n;ge(n=["tryNext","recover"]).call(n,t)&&this.resetReconnectCount(t),this._reconnectMode=t}get state(){return this._state}set state(t){t!==this._state&&(this._state=t,this._state==="reconnecting"?this.emit(ze.RECONNECTING,this.reconnectReason):this._state==="connected"?this.emit(ze.CONNECTED):this._state==="closed"?this.emit(ze.CLOSED):this._state==="failed"&&this.emit(ze.FAILED))}resetReconnectCount(t){M.debug("websocket reset reconnect count, reason: "+t),this.reconnectCount=0}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=arguments.length>5?arguments[5]:void 0;super(),F(this,"connectionID",0),F(this,"currentURLIndex",0),F(this,"urls",[]),F(this,"_reconnectMode","tryNext"),F(this,"reconnectReason",void 0),F(this,"_initMutex",void 0),F(this,"name",void 0),F(this,"_state","closed"),F(this,"reconnectInterrupter",void 0),F(this,"websocket",void 0),F(this,"retryConfig",void 0),F(this,"reconnectCount",0),F(this,"forceCloseTimeout",5e3),F(this,"onlineReconnectListener",void 0),F(this,"useCompress",void 0),F(this,"tryDoubleDomain",!1),F(this,"use443PortOnly",!1),F(this,"wsInflateLength",0),F(this,"wsDeflateLength",0),F(this,"closeEstablishingWs",()=>{}),F(this,"store",void 0),F(this,"joinGatewayRecordIndex",void 0),this.store=a,this.name=t,this.retryConfig=function(f){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?_S(Object(T),!0).forEach(function(Q){F(f,Q,T[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(T)):_S(Object(T)).forEach(function(Q){Object.defineProperty(f,Q,Object.getOwnPropertyDescriptor(T,Q))})}return f}({},n),this.useCompress=r,this.tryDoubleDomain=s,this.use443PortOnly=o,this._initMutex=new Oi("websocket",a?a.clientId:void 0);const{timeout:d,timeoutFactor:l}=n,E=Math.max(300,Math.floor(3*d/5)),g=Math.max(1.2,Math.floor(8*l)/10);mn.ONLINE&&(this.retryConfig.timeout=E,this.retryConfig.timeoutFactor=g),si.on(fa.NETWORK_STATE_CHANGE,(f,C)=>{f!==C&&(this.resetReconnectCount("network state change: ".concat(C," -> ").concat(f)),f===mn.ONLINE?(this.retryConfig.timeout=E,this.retryConfig.timeoutFactor=g):(this.retryConfig.timeout=d,this.retryConfig.timeoutFactor=l))})}getConnection(){return this.websocket||void 0}async init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const r=await this._initMutex.lock();this.forceCloseTimeout=n,this.urls=t,this.state="connecting";try{const s=YA(),o=this.urls[this.currentURLIndex];L("ENABLE_PREALLOC_PC")&&this.emit(wS.PRE_CONNECT_PC),this.createWebSocketConnection(o).then(s.resolve).catch(s.reject),this.once(ze.CLOSED,()=>{s.reject(new $(j.WS_DISCONNECT))}),this.once(ze.CONNECTED,s.resolve),await s.promise}catch{}finally{r()}}close(t,n){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const r=this.websocket;n?setTimeout(()=>r.close(),500):r.close(),this.websocket=void 0}this.state=t?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(t,n){if(!this.websocket)return void M.warning("[".concat(this.name,"] can not reconnect, no websocket"));t!==void 0&&(this.reconnectMode=t),M.debug("[".concat(this.name,"] reconnect is triggered initiative")),typeof this.joinGatewayRecordIndex=="number"&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(n)]},this.joinGatewayRecordIndex);const r=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),r&&r.bind(this.websocket)({code:9999,reason:n})}sendMessage(t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new $(j.WS_ABORT,"websocket is not ready");try{n||(t=JSON.stringify(t)),this.websocket.send(t)}catch(r){throw new $(j.WS_ERR,"send websocket message error"+r.toString())}}setWsInflateData(t){this.wsDeflateLength=this.wsDeflateLength+t.originLength,this.wsInflateLength=this.wsInflateLength+t.compressedLength}getWsInflateData(){const t=this.wsInflateLength,n=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:t,wsDeflateLength:n}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(t){var n;const r=YA();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const s=g=>{var f;(f=this.store)===null||f===void 0||f.signalChannelOpen(),M.debug("[".concat(this.name,"] websocket opened:"),g),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),r.resolve()},o=async g=>{var f;if(M.debug("[".concat(this.name,"] websocket close ").concat((f=this.websocket)===null||f===void 0?void 0:f.url,", code: ").concat(g.code,", reason: ").concat(g.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)r.reject(new $(j.WS_DISCONNECT,"websocket close: ".concat(g.code))),this.close();else{this.state==="connected"&&(this.reconnectReason=g.reason,this.state="reconnecting");const C=Hn(this,ze.WILL_RECONNECT,this.reconnectMode,g.reason)||this.reconnectMode,T=await this.reconnectWithAction(C);if(this.state==="closed")return void M.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!T)return r.reject(new $(j.WS_DISCONNECT,"websocket reconnect failed: ".concat(g.code))),this.close(!0);r.resolve()}},a=g=>{this.emit(ze.ON_MESSAGE,g)},d=g=>{M.warn("[".concat(this.connectionID,"] ws open error ").concat(g))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),L("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(t=L("GATEWAY_WSS_ADDRESS")),M.debug("[".concat(this.name,"] start connect, url:"),t);const l=(n=this.store)===null||n===void 0?void 0:n.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var E;const g=await this.chooseBestWebsocketConnection(t);this.websocket=g,s&&s(this.websocket.url),this.websocket.onclose=o,this.websocket.onmessage=a,this.websocket.onerror=d,(E=this.store)===null||E===void 0||E.recordJoinChannelService({endTs:Date.now(),status:"success"},l),this.joinGatewayRecordIndex=l}catch(g){const f=this.state==="closed",C=g instanceof $,T=C&&g.code===j.WS_ABORT,Q=C&&g.code===j.WS_ERR,U=C?g.message:g&&(g.reason||g.toString());M.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(U)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:T?"aborted":"error",errors:[g]},l),f||Q?(r.reject(f?new $(j.WS_DISCONNECT,"websocket is closed: ".concat(U)):new $(j.WS_ERR,"init websocket failed: ".concat(U))),Q&&M.error("[".concat(this.name,"] init websocket failed: ").concat(U))):o&&o(g)}return r.promise}async reconnectWithAction(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state==="closed")return!1;M.warning("[choose-best-ws] action: =>",t),this.onlineReconnectListener||si.isOnline||!si.onlineWaiter||(this.onlineReconnectListener=si.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let r=!0;if(this.reconnectInterrupter=()=>r=!1,n){const a=ng(this.reconnectCount,this.retryConfig);M.debug("[".concat(this.name,"] wait ").concat(a,"ms to reconnect websocket, mode: ").concat(t)),await Ie.race([yi(a),this.onlineReconnectListener||new Ie(()=>{})])}if(this._state==="closed"||!r)return!1;this.reconnectCount+=1;const s=async(a,d)=>{this.emit(ze.RECONNECT_CREATE_CONNECTION,d),await this.createWebSocketConnection(a)};try{if(t==="retry")await s(this.urls[this.currentURLIndex],t);else if(t==="tryNext"){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);M.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),await s(this.urls[this.currentURLIndex],t)}else t==="recover"&&(M.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.urls=await bi(this,ze.REQUEST_NEW_URLS),this.currentURLIndex=0,await s(this.urls[this.currentURLIndex],t))}catch(a){var o;M.error("[".concat(this.name,"] reconnect failed ").concat(a&&a.toString()));const d=a==null||(o=a.data)===null||o===void 0?void 0:o.desc;return Array.isArray(d)&&ge(d).call(d,"dynamic key expired")?(this.emit(ze.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(t,n)}return!0}}class Rg extends FS{constructor(t,n){super(t,n,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(t,n){const r=YA(),s=function(a,d){return new QL(a,d)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{M.debug("[choose-best-ws] close establishing websockets"),s.closeAllWebsockets(),r.reject(new $(j.WS_ABORT,"choose best websocket aborted"))};const o=L("GATEWAY_DOMAINS");return M.debug("[choose-best-ws] currentDomain: ",t,", domains: ",o,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),s.chooseBestWebsocket(t,this.tryDoubleDomain,this.use443PortOnly,n).then(r.resolve).catch(r.reject),r.promise.finally(()=>{this.closeEstablishingWs=void 0})}}class xA extends FS{constructor(t,n){super(t,n,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(t,n){return new Ie((r,s)=>{let o=!1;const a=[];this.closeEstablishingWs=()=>{M.debug("[choose-best-ws] close establishing websockets"),a.forEach(Q=>{Q.onclose=null,Q.onopen=null,Q.onmessage=null,Q.close()}),s(new $(j.WS_ABORT,"choose best websocket aborted"))};const d=L("GATEWAY_DOMAINS");let l;const E=t.indexOf("?h="),g=d.find(Q=>E!==-1?ge(t).call(t,Q,E):ge(t).call(t,Q));M.debug("[choose-best-ws] currentDomain: ",g,", domains: ",d);let f=!this.tryDoubleDomain||!g;if(!f&&g){var C;const Q=Date.now();try{d.forEach(U=>{const _=E===-1?t.replace(g,U):t.substr(0,E)+t.substr(E).replace(g,U),b=new WebSocket(_);b.binaryType="arraybuffer",a.push(b),M.debug("[choose-best-ws] ws is connecting:",b.url)})}catch{for(M.debug("[choose-best-ws] ws create failed, fallback to single url"),a.forEach(_=>_.close());a.length;)a.pop();f=!0}(C=this.store)===null||C===void 0||C.recordJoinChannelService({urls:a.map(U=>U.url),service:"gateway"},n),a.forEach(U=>{U.onopen=()=>{if(o)return;const _=Date.now()-Q;M.debug("[choose-best-ws] ws open cost ".concat(_,"ms")),a.filter(b=>b!==U).forEach(b=>{M.debug("[choose-best-ws]close backup websocket: ".concat(b.url)),b.close()}),o=!0,r(U)},U.onclose=_=>{l=_,!o&&(a.find(b=>!(b.readyState===WebSocket.CLOSED||b.readyState===WebSocket.CLOSING))||(M.debug("[choose-best-ws] all websocket is closed"),o=!0,s(l)))},U.onmessage=_=>{M.debug("[choose-best-ws]".concat(U.url," onmessage: ").concat(_.data))}}),yi(this.forceCloseTimeout).then(()=>{a.forEach(U=>{U.readyState!==WebSocket.OPEN&&U.close()})})}if(f){var T;let Q;M.debug("[choose-best-ws] use single url: ",t),(T=this.store)===null||T===void 0||T.recordJoinChannelService({urls:[t],service:"gateway"},n);try{Q=new WebSocket(t),a.push(Q),Q.binaryType="arraybuffer"}catch(U){const _=new $(j.WS_ERR,"init websocket failed! Error: ".concat(U.toString()));return M.error("[".concat(this.name,"]").concat(_)),void s(_)}Q.onopen=()=>{r(Q)},Q.onclose=U=>{s(U)},Q.onmessage=U=>{M.debug("[choose-best-ws]".concat(Q.url," onmessage: ").concat(U.data))},yi(this.forceCloseTimeout).then(()=>{Q&&Q.readyState!==WebSocket.OPEN&&Q.close()})}}).then(r=>(this.closeEstablishingWs=void 0,r)).catch(r=>{throw this.closeEstablishingWs=void 0,r})}}class bL extends Vt{get connectionState(){return this._connectionState}set connectionState(t){t!==this._connectionState&&(this._connectionState=t,t===Ut.CONNECTED?this.emit(Ve.WS_CONNECTED):t===Ut.RECONNECTING?this.emit(Ve.WS_RECONNECTING,this._websocketReconnectReason):t===Ut.CLOSED&&this.emit(Ve.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(t,n){super(),F(this,"_disconnectedReason",void 0),F(this,"_websocketReconnectReason",void 0),F(this,"_connectionState",Ut.CLOSED),F(this,"reconnectToken",void 0),F(this,"websocket",void 0),F(this,"openConnectionTime",void 0),F(this,"clientId",void 0),F(this,"lastMsgTime",Date.now()),F(this,"uploadCache",[]),F(this,"uploadCacheInterval",void 0),F(this,"rttRolling",new oS(5)),F(this,"pingpongTimer",void 0),F(this,"wsInflateDataTimer",void 0),F(this,"pingpongTimeoutCount",0),F(this,"joinResponse",void 0),F(this,"multiIpOption",void 0),F(this,"initError",void 0),F(this,"spec",void 0),F(this,"store",void 0),F(this,"onWebsocketMessage",r=>{if(r.data instanceof ArrayBuffer)return void this.emit(Ve.ON_BINARY_DATA,r.data);const s=JSON.parse(r.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(s,"_id")){const o="res-@".concat(s._id);this.emit(o,s._result,s._message)}else if(Object.prototype.hasOwnProperty.call(s,"_type")){if(this.emit(s._type,s._message),s._type===qe.ON_NOTIFICATION&&this.handleNotification(s._message),s._type===qe.ON_USER_BANNED)switch(s._message.error_code){case 14:this.close(gt.UID_BANNED);break;case 15:this.close(gt.IP_BANNED);break;case 16:this.close(gt.CHANNEL_BANNED)}if(s._type===qe.ON_USER_LICENSE_BANNED)switch(s._message.error_code){case be.ERR_LICENSE_MISSING:this.close(gt.LICENSE_MISSING);break;case be.ERR_LICENSE_EXPIRED:this.close(gt.LICENSE_EXPIRED);break;case be.ERR_LICENSE_MINUTES_EXCEEDED:this.close(gt.LICENSE_MINUTES_EXCEEDED);break;case be.ERR_LICENSE_PERIOD_INVALID:this.close(gt.LICENSE_PERIOD_INVALID);break;case be.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(gt.LICENSE_MULTIPLE_SDK_SERVICE);break;case be.ERR_LICENSE_ILLEGAL:this.close(gt.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=t.clientId,this.spec=t,this.store=n,this.websocket=new Rg("gateway-".concat(this.clientId),this.spec.retryConfig,!0,L("JOIN_GATEWAY_USE_DUAL_DOMAIN"),L("JOIN_GATEWAY_USE_443PORT_ONLY"),n),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===Ut.CONNECTED&&this.reconnect("retry",Qi.OFFLINE)})}async request(t,n,r,s){const o=wt(6,""),a={_id:o,_type:t,_message:n},d=this.websocket.connectionID,l=()=>new Ie((Q,U)=>{if(this.connectionState===Ut.CONNECTED)return Q();const _=()=>{this.off(Ve.WS_CLOSED,b),Q()},b=()=>{this.off(Ve.WS_CONNECTED,_),U(new X(j.WS_ABORT))};this.once(Ve.WS_CONNECTED,_),this.once(Ve.WS_CLOSED,b),t!==Pe.PUBLISH&&t!==Pe.PUBLISH_DATASTREAM&&t!==Pe.SUBSCRIBE&&t!==Pe.SUBSCRIBE_DATASTREAM&&t!==Pe.UNSUBSCRIBE&&t!==Pe.UNSUBSCRIBE_DATASTREAM&&t!==Pe.UNPUBLISH&&t!==Pe.UNPUBLISH_DATASTREAM&&t!==Pe.CONTROL&&t!==Pe.RESTART_ICE||this.once(Ve.DISCONNECT_P2P,()=>{U(new X(j.DISCONNECT_P2P))}),t!==Pe.PUBLISH&&t!==Pe.RESTART_ICE||this.once(Ve.ABORT_P2P_EXECUTION,()=>{U(new X(j.DISCONNECT_P2P))})});if(this.connectionState!==Ut.CONNECTING&&this.connectionState!==Ut.RECONNECTING||t===Pe.JOIN||t===Pe.REJOIN||await l(),this.websocket.sendMessage(a,!0),s)return;const E=new Ie((Q,U)=>{let _=!1;const b=(G,W)=>{_=!0,Q({isSuccess:G==="success",message:W||{}}),this.off(Ve.WS_CLOSED,Y),this.off(Ve.WS_RECONNECTING,Y),this.emit(Ve.REQUEST_SUCCESS,t,n)};this.once("res-@".concat(o),b);const Y=()=>{U(new X(j.WS_ABORT,"type: ".concat(t))),this.off(Ve.WS_CLOSED,Y),this.off(Ve.WS_RECONNECTING,Y),this.off("res-@".concat(o),b)};this.once(Ve.WS_CLOSED,Y),this.once(Ve.WS_RECONNECTING,Y),yi(L("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==d||_||(M.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(t)),this.emit(Ve.REQUEST_TIMEOUT,t,n))})});let g=null;try{g=await E}catch(Q){if(this.connectionState===Ut.CLOSED||t===Pe.LEAVE)throw new X(j.WS_ABORT);return!this.spec.forceWaitGatewayResponse||r?Q.throw():t===Pe.JOIN||t===Pe.REJOIN?null:(await l(),await this.request(t,n))}if(g.isSuccess)return g.message;const f=Number(g.message.error_code||g.message.code),C=zA(f),T=new X(j.UNEXPECTED_RESPONSE,"".concat(C.desc,": ").concat(g.message.error_str),{code:f,data:g.message,desc:C.desc});return C.action==="success"?g.message:(M.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(f,", message: ").concat(C.desc,", action: ").concat(C.action)),f===be.ERR_TOO_MANY_BROADCASTERS?((t===Pe.JOIN||t===Pe.REJOIN)&&(this.initError=T,this.close()),T.throw()):C.action==="failed"?T.throw():C.action==="quit"?(this.initError=T,this.close(),T.throw()):(f===be.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=g.message.option,M.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Qi.MULTI_IP)):this.reconnect(C.action,Qi.SERVER_ERROR),t===Pe.JOIN||t===Pe.REJOIN?null:await this.request(t,n)))}waitMessage(t,n){return new Ie(r=>{const s=o=>{(!n||n(o))&&(this.off(t,s),r(o))};this.on(t,s)})}uploadWRTCStats(t){if(!this.store.sessionId)return void M.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const n={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:t};this.upload(GA.WRTC_STATS,n)}upload(t,n){const r={_type:t,_message:n};try{this.websocket.sendMessage(r)}catch{const o=L("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(r),this.uploadCache.length>o&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Ut.CONNECTED)return;const a=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(a._type,a._message)},L("UPLOAD_CACHE_INTERVAL")||2e3))}}send(t,n){const r={_type:t,_message:n};this.websocket.sendMessage(r)}init(t,n){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Ie((r,s)=>{this.once(Ve.WS_CONNECTED,()=>r(this.joinResponse)),this.once(Ve.WS_CLOSED,()=>s(this.initError||new X(j.WS_ABORT))),this.connectionState=Ut.CONNECTING,this.websocket.init(t).catch(s),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4)})}close(t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=t||gt.LEAVE,this.connectionState=Ut.CLOSED,M.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(Ve.ABORT_P2P_EXECUTION);const t=await bi(this,Ve.REQUEST_JOIN_INFO),n=await this.request(Pe.JOIN,t);if(!n)return this.emit(Ve.REPORT_JOIN_GATEWAY,al.TIMEOUT,this.url||""),!1;this.joinResponse=n,this.emit(Ve.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ut.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new X(j.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const t=VA(this,Ve.REQUEST_REJOIN_INFO);t.token=this.reconnectToken;const n=await this.request(Pe.REJOIN,t);return!!n&&(this.connectionState=Ut.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),n.peers&&n.peers.forEach(r=>{this.emit(qe.ON_USER_ONLINE,{uid:r.uid}),r.audio&&this.emit(qe.ON_ADD_AUDIO_STREAM,{uid:r.uid,uint_id:r.uint_id,audio:!0,ssrcId:r.audio_ssrc}),r.video&&this.emit(qe.ON_ADD_VIDEO_STREAM,{uid:r.uid,uint_id:r.uint_id,video:!0,ssrcId:r.video_ssrc}),r.audio_mute?this.emit(qe.MUTE_AUDIO,{uid:r.uid}):this.emit(qe.UNMUTE_AUDIO,{uid:r.uid}),r.video_mute?this.emit(qe.MUTE_VIDEO,{uid:r.uid}):this.emit(qe.UNMUTE_VIDEO,{uid:r.uid}),r.audio_enable_local?this.emit(qe.ENABLE_LOCAL_AUDIO,{uid:r.uid}):this.emit(qe.DISABLE_LOCAL_AUDIO,{uid:r.uid}),r.video_enable_local?this.emit(qe.ENABLE_LOCAL_VIDEO,{uid:r.uid}):this.emit(qe.DISABLE_LOCAL_VIDEO,{uid:r.uid}),r.audio||r.video||this.emit(qe.ON_REMOVE_STREAM,{uid:r.uid,uint_id:r.uint_id})}),!0)}reconnect(t,n){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(t,n)}handleNotification(t){M.debug("[".concat(this.clientId,"] receive notification: "),t);const n=zA(t.code);if(t.code===28&&"detail"in t&&(M.info("[".concat(this.clientId,"] receive recover notification: "),t.detail),this.emit(Ve.RECOVER_NOTIFICATION,t.detail)),n.action!=="success"){if(n.action!=="failed")return n.action==="quit"?(n.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(gt.UID_BANNED),void this.close()):void this.reconnect(n.action,Qi.SERVER_ERROR);M.error("[".concat(this.clientId,"] ignore error: "),n.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const t=L("PING_PONG_TIME_OUT"),n=Date.now();this.pingpongTimeoutCount>=t&&(M.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(n-this.lastMsgTime,"ms")),n-this.lastMsgTime>L("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",Qi.TIMEOUT):this.request(Pe.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const r=Date.now()-n;this.rttRolling.add(r),L("REPORT_STATS")&&this.send(Pe.PING_BACK,{pingpongElapse:r})}).catch(r=>{})}handleWsInflateData(){const{wsInflateLength:t,wsDeflateLength:n}=this.websocket.getWsInflateData();t!==0&&n!==0&&this.upload(GA.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:n,ws_inflate_length:t})}handleWebsocketEvents(){this.websocket.on(ze.RECONNECT_CREATE_CONNECTION,t=>{this.emit(Ve.WS_RECONNECT_CREATE_CONNECTION,t)}),this.websocket.on(ze.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(ze.CLOSED,()=>{this.connectionState=Ut.CLOSED}),this.websocket.on(ze.FAILED,()=>{this._disconnectedReason=gt.NETWORK_ERROR,this.connectionState=Ut.CLOSED}),this.websocket.on(ze.RECONNECTING,t=>{this._websocketReconnectReason=t,this.joinResponse=void 0,this.connectionState===Ut.CONNECTED?this.connectionState=Ut.RECONNECTING:this.connectionState=Ut.CONNECTING}),this.websocket.on(ze.WILL_RECONNECT,(t,n,r)=>{const s=VA(this,Ve.IS_P2P_DISCONNECTED),o=s||t!=="retry";s&&t==="retry"&&(M.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),t="tryNext",n=al.P2P_DISCONNECTED),o&&(M.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(t)),this.emit(Ve.REPORT_JOIN_GATEWAY,n||al.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(Ve.DISCONNECT_P2P)),r(t)}),this.websocket.on(ze.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(t=>{M.warning("[".concat(this.clientId,"] rejoin failed ").concat(t)),this.reconnect("tryNext",Qi.SERVER_ERROR)}):this.join().catch(t=>{if(this.emit(Ve.REPORT_JOIN_GATEWAY,t,this.url||""),t instanceof X){if(t.code===j.UNEXPECTED_RESPONSE&&t.data.code===be.ERR_NO_AUTHORIZED)return this.initError=new X(j.CAN_NOT_GET_GATEWAY_SERVER,"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired"),M.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",Qi.SERVER_ERROR);M.error("[".concat(this.clientId,"] join gateway request failed"),t.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",Qi.SERVER_ERROR):(this.initError=t,this.close())}})}),this.websocket.on(ze.REQUEST_NEW_URLS,(t,n)=>{bi(this,Ve.REQUEST_RECOVER,this.multiIpOption).then(t).catch(n)}),this.websocket.on(ze.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(qe.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(wS.PRE_CONNECT_PC,()=>{this.emit(Ve.PRE_CONNECT_PC)})}}let oi=function(e){return e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",e}({});function QS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wa(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(L("TURN_DOMAIN")):(M.debug("Cannot recognized as ip address: ".concat(e,", use as host")),e)}function Tg(e,t){e.addresses||(e.addresses=[]);const n=function(d,l){if(L("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return d.map(f=>{let{ip:C,port:T}=f;return{address:"".concat(C,":").concat(T)}});const E=L("GATEWAY_DOMAINS");let g=E[1]&&ge(l).call(l,E[1])?1:0;return d.map(f=>{let{domain_prefix:C,port:T,ip:Q}=f;if(C)return{address:"".concat(C,".").concat(E[g++%E.length],":").concat(T)};const U=/^[\.\:\d]+$/.test(Q),_=U?"".concat(Q.replace(/[^\d]/g,"-"),".").concat(E[g++%E.length],":").concat(T):"".concat(Q,":").concat(T);return U||M.debug("Cannot recognized as ip address: ".concat(Q,", use as host")),{ip:Q,port:T,address:_}})}(e.addresses,t),r=Array.isArray(e.detail)&&e.detail[18];if(r&&typeof r=="string"){const d=r.split(";");for(let l=0;l<d.length;l++){var s;const E=zi(s=d[l]).call(s);n[l]&&E&&(n[l].ip6=E)}}const o=e.detail&&e.detail.candidate;let a;if(o){const[d,l]=o.split(":");d&&l&&(a={port:Number(l),ip:d,address:"".concat(d,":").concat(l)})}return{gatewayAddrs:n,apGatewayAddress:a,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function Rn(e){return typeof e=="number"?e:e.exact||e.ideal||e.max||e.min||0}function bS(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(Rn(t.width),"x").concat(Rn(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return typeof t.frameRate=="number"?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function DS(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function WA(e,t){let n,r,s;switch(t){case oi.CHOOSE_SERVER:r=4096,s="choose server";break;case oi.CLOUD_PROXY:r=1048576,s="proxy";break;case oi.CLOUD_PROXY_5:r=4194304,s="proxy5";break;case oi.CLOUD_PROXY_FALLBACK:r=4194310,s="proxy fallback";break;default:throw new X(j.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach(o=>{o.buffer&&o.buffer.flag===r&&(n={code:o.buffer.code,addresses:(o.buffer.edges_services||[]).map(a=>cl(cl({},a),{},{ticket:o.buffer.cert})),server_ts:e.enter_ts,uid:o.buffer.uid,cid:o.buffer.cid,cname:o.buffer.cname,detail:cl(cl({},o.buffer.detail),e.detail),flag:o.buffer.flag,opid:e.opid,cert:o.buffer.cert})}),!n)throw new X(j.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(s," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return n}async function kS(e,t){return await Ie.all(e.addresses.map(async n=>({address:wa(n.ip),tcpport:n.port,udpport:n.port,username:t&&L("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():Di.username,password:t&&L("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await eg(t.toString()):Di.password})))}function Ng(e,t){const n=t.getMediaStreamTrack(!0).getSettings(),r=t.videoHeight||n.height,s=t.videoWidth||n.width;return r&&s?Math.max(Math.min(r,s)/Math.min(Rn(e.height),Rn(e.width)),1):(M.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function Gs(e){let{candidateType:t,relayProtocol:n,type:r,address:s,port:o,protocol:a}=e;const d={candidateType:t,relayProtocol:n,protocol:a};if(r!=="local-candidate"){const l=s.split(".");l.length>=4&&(l[1]="*",l[2]="*"),d.address=l.join("."),d.port=o}return d}var dr,DL=I(CS),kL=rr("Array").values,YL=Lr,jL=ji,OL=O,PL=kL,Sg=Array.prototype,VL={DOMTokenList:!0,NodeList:!0},LL=function(e){var t=e.values;return e===Sg||OL(Sg,e)&&t===Sg.values||jL(VL,YL(e))?PL:t},Is=I(LL),YS=ii,GL=k,zL=at,xL=m,Mg=zc,WL=hA,JL=Ht,HL=Vr,ZL=ke,Ba=Object.assign,jS=Object.defineProperty,XL=GL([].concat),KL=!Ba||xL(function(){if(YS&&Ba({b:1},Ba(jS({},"a",{enumerable:!0,get:function(){jS(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(s){t[s]=s}),Ba({},e)[n]!=7||Mg(Ba({},t)).join("")!=r})?function(e,t){for(var n=HL(e),r=arguments.length,s=1,o=WL.f,a=JL.f;r>s;)for(var d,l=ZL(arguments[s++]),E=o?XL(Mg(l),o(l)):Mg(l),g=E.length,f=0;g>f;)d=E[f++],YS&&!zL(a,l,d)||(n[d]=l[d]);return n}:Ba,qL=cn,$L=lf,e2=Bs,t2=at,i2=Vr,n2=function(e,t,n,r){try{return r?t(qL(n)[0],n[1]):t(n)}catch(s){$L(e,"throw",s)}},r2=Af,s2=id,o2=ds,OS=pd,a2=xh,A2=Jc,PS=Array,Mo=k,yg=2147483647,c2=/[^\0-\u007E]/,VS=/[.\u3002\uFF0E\uFF61]/g,LS="Overflow: input needs wider integers to process",GS=RangeError,d2=Mo(VS.exec),Ua=Math.floor,wg=String.fromCharCode,zS=Mo("".charCodeAt),xS=Mo([].join),zs=Mo([].push),l2=Mo("".replace),h2=Mo("".split),u2=Mo("".toLowerCase),WS=function(e){return e+22+75*(e<26)},E2=function(e,t,n){var r=0;for(e=n?Ua(e/700):e>>1,e+=Ua(e/t);e>455;)e=Ua(e/35),r+=36;return Ua(r+36*e/(e+38))},g2=function(e){var t=[];e=function(b){for(var Y=[],G=0,W=b.length;G<W;){var J=zS(b,G++);if(J>=55296&&J<=56319&&G<W){var K=zS(b,G++);(64512&K)==56320?zs(Y,((1023&J)<<10)+(1023&K)+65536):(zs(Y,J),G--)}else zs(Y,J)}return Y}(e);var n,r,s=e.length,o=128,a=0,d=72;for(n=0;n<e.length;n++)(r=e[n])<128&&zs(t,wg(r));var l=t.length,E=l;for(l&&zs(t,"-");E<s;){var g=yg;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<g&&(g=r);var f=E+1;if(g-o>Ua((yg-a)/f))throw GS(LS);for(a+=(g-o)*f,o=g,n=0;n<e.length;n++){if((r=e[n])<o&&++a>yg)throw GS(LS);if(r==o){for(var C=a,T=36;;){var Q=T<=d?1:T>=d+26?26:T-d;if(C<Q)break;var U=C-Q,_=36-Q;zs(t,wg(WS(Q+U%_))),C=Ua(U/_),T+=36}zs(t,wg(WS(C))),d=E2(a,f,E==l),a=0,E++}}a++,o++}return xS(t,"")},p2=Ct,Bg=ii,I2=IE,Ug=x,JS=Bs,lr=k,dl=vs,hr=td,f2=nu,vg=ji,_g=KL,va=function(e){var t=i2(e),n=s2(this),r=arguments.length,s=r>1?arguments[1]:void 0,o=s!==void 0;o&&(s=e2(s,r>2?arguments[2]:void 0));var a,d,l,E,g,f,C=A2(t),T=0;if(!C||this===PS&&r2(C))for(a=o2(t),d=n?new this(a):PS(a);a>T;T++)f=o?s(t[T],T):t[T],OS(d,T,f);else for(g=(E=a2(t,C)).next,d=n?new this:[];!(l=t2(g,E)).done;T++)f=o?n2(E,s,[l.value,T],!0):l.value,OS(d,T,f);return d.length=T,d},Fr=zu,m2=Qu.codeAt,C2=function(e){var t,n,r=[],s=h2(l2(u2(e),VS,"."),".");for(t=0;t<s.length;t++)n=s[t],zs(r,d2(c2,n)?"xn--"+g2(n):n);return xS(r,".")},fs=zn,R2=_s,T2=ta,HS=yP,ZS=ho,N2=ZS.set,ll=ZS.getterFor("URL"),S2=HS.URLSearchParams,M2=HS.getState,JA=Ug.URL,Fg=Ug.TypeError,hl=Ug.parseInt,y2=Math.floor,XS=Math.pow,ur=lr("".charAt),Qr=lr(/./.exec),HA=lr([].join),w2=lr(1 .toString),B2=lr([].pop),Fa=lr([].push),Qg=lr("".replace),U2=lr([].shift),v2=lr("".split),ZA=lr("".slice),ul=lr("".toLowerCase),_2=lr([].unshift),bg="Invalid scheme",yo="Invalid host",KS="Invalid port",qS=/[a-z]/i,F2=/[\d+-.a-z]/i,Dg=/\d/,Q2=/^0x/i,b2=/^[0-7]+$/,D2=/^\d+$/,$S=/^[\da-f]+$/i,k2=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Y2=/[\0\t\n\r #/:<>?@[\\\]^|]/,j2=/^[\u0000-\u0020]+/,O2=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,P2=/[\t\n\r]/g,XA=function(e){var t,n,r,s;if(typeof e=="number"){for(t=[],n=0;n<4;n++)_2(t,e%256),e=y2(e/256);return HA(t,".")}if(typeof e=="object"){for(t="",r=function(o){for(var a=null,d=1,l=null,E=0,g=0;g<8;g++)o[g]!==0?(E>d&&(a=l,d=E),l=null,E=0):(l===null&&(l=g),++E);return E>d&&(a=l,d=E),a}(e),n=0;n<8;n++)s&&e[n]===0||(s&&(s=!1),r===n?(t+=n?":":"::",s=!0):(t+=w2(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},El={},eM=_g({},El,{" ":1,'"':1,"<":1,">":1,"`":1}),tM=_g({},eM,{"#":1,"?":1,"{":1,"}":1}),kg=_g({},tM,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xs=function(e,t){var n=m2(e,0);return n>32&&n<127&&!vg(t,e)?e:encodeURIComponent(e)},gl={ftp:21,file:null,http:80,https:443,ws:80,wss:443},KA=function(e,t){var n;return e.length==2&&Qr(qS,ur(e,0))&&((n=ur(e,1))==":"||!t&&n=="|")},iM=function(e){var t;return e.length>1&&KA(ZA(e,0,2))&&(e.length==2||(t=ur(e,2))==="/"||t==="\\"||t==="?"||t==="#")},V2=function(e){return e==="."||ul(e)==="%2e"},Yg={},nM={},jg={},rM={},sM={},Og={},oM={},aM={},pl={},Il={},Pg={},Vg={},Lg={},Gg={},AM={},zg={},Qa={},Zr={},cM={},wo={},ms={},xg=function(e,t,n){var r,s,o,a=fs(e);if(t){if(s=this.parse(a))throw Fg(s);this.searchParams=null}else{if(n!==void 0&&(r=new xg(n,!0)),s=this.parse(a,null,r))throw Fg(s);(o=M2(new S2)).bindURL(this),this.searchParams=o}};xg.prototype={type:"URL",parse:function(e,t,n){var r,s,o,a,d,l=this,E=t||Yg,g=0,f="",C=!1,T=!1,Q=!1;for(e=fs(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=Qg(e,j2,""),e=Qg(e,O2,"$1")),e=Qg(e,P2,""),r=va(e);g<=r.length;){switch(s=r[g],E){case Yg:if(!s||!Qr(qS,s)){if(t)return bg;E=jg;continue}f+=ul(s),E=nM;break;case nM:if(s&&(Qr(F2,s)||s=="+"||s=="-"||s=="."))f+=ul(s);else{if(s!=":"){if(t)return bg;f="",E=jg,g=0;continue}if(t&&(l.isSpecial()!=vg(gl,f)||f=="file"&&(l.includesCredentials()||l.port!==null)||l.scheme=="file"&&!l.host))return;if(l.scheme=f,t)return void(l.isSpecial()&&gl[l.scheme]==l.port&&(l.port=null));f="",l.scheme=="file"?E=Gg:l.isSpecial()&&n&&n.scheme==l.scheme?E=rM:l.isSpecial()?E=aM:r[g+1]=="/"?(E=sM,g++):(l.cannotBeABaseURL=!0,Fa(l.path,""),E=cM)}break;case jg:if(!n||n.cannotBeABaseURL&&s!="#")return bg;if(n.cannotBeABaseURL&&s=="#"){l.scheme=n.scheme,l.path=Fr(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,E=ms;break}E=n.scheme=="file"?Gg:Og;continue;case rM:if(s!="/"||r[g+1]!="/"){E=Og;continue}E=pl,g++;break;case sM:if(s=="/"){E=Il;break}E=Zr;continue;case Og:if(l.scheme=n.scheme,s==dr)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Fr(n.path),l.query=n.query;else if(s=="/"||s=="\\"&&l.isSpecial())E=oM;else if(s=="?")l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Fr(n.path),l.query="",E=wo;else{if(s!="#"){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Fr(n.path),l.path.length--,E=Zr;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Fr(n.path),l.query=n.query,l.fragment="",E=ms}break;case oM:if(!l.isSpecial()||s!="/"&&s!="\\"){if(s!="/"){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,E=Zr;continue}E=Il}else E=pl;break;case aM:if(E=pl,s!="/"||ur(f,g+1)!="/")continue;g++;break;case pl:if(s!="/"&&s!="\\"){E=Il;continue}break;case Il:if(s=="@"){C&&(f="%40"+f),C=!0,o=va(f);for(var U=0;U<o.length;U++){var _=o[U];if(_!=":"||Q){var b=xs(_,kg);Q?l.password+=b:l.username+=b}else Q=!0}f=""}else if(s==dr||s=="/"||s=="?"||s=="#"||s=="\\"&&l.isSpecial()){if(C&&f=="")return"Invalid authority";g-=va(f).length+1,f="",E=Pg}else f+=s;break;case Pg:case Vg:if(t&&l.scheme=="file"){E=zg;continue}if(s!=":"||T){if(s==dr||s=="/"||s=="?"||s=="#"||s=="\\"&&l.isSpecial()){if(l.isSpecial()&&f=="")return yo;if(t&&f==""&&(l.includesCredentials()||l.port!==null))return;if(a=l.parseHost(f))return a;if(f="",E=Qa,t)return;continue}s=="["?T=!0:s=="]"&&(T=!1),f+=s}else{if(f=="")return yo;if(a=l.parseHost(f))return a;if(f="",E=Lg,t==Vg)return}break;case Lg:if(!Qr(Dg,s)){if(s==dr||s=="/"||s=="?"||s=="#"||s=="\\"&&l.isSpecial()||t){if(f!=""){var Y=hl(f,10);if(Y>65535)return KS;l.port=l.isSpecial()&&Y===gl[l.scheme]?null:Y,f=""}if(t)return;E=Qa;continue}return KS}f+=s;break;case Gg:if(l.scheme="file",s=="/"||s=="\\")E=AM;else{if(!n||n.scheme!="file"){E=Zr;continue}if(s==dr)l.host=n.host,l.path=Fr(n.path),l.query=n.query;else if(s=="?")l.host=n.host,l.path=Fr(n.path),l.query="",E=wo;else{if(s!="#"){iM(HA(Fr(r,g),""))||(l.host=n.host,l.path=Fr(n.path),l.shortenPath()),E=Zr;continue}l.host=n.host,l.path=Fr(n.path),l.query=n.query,l.fragment="",E=ms}}break;case AM:if(s=="/"||s=="\\"){E=zg;break}n&&n.scheme=="file"&&!iM(HA(Fr(r,g),""))&&(KA(n.path[0],!0)?Fa(l.path,n.path[0]):l.host=n.host),E=Zr;continue;case zg:if(s==dr||s=="/"||s=="\\"||s=="?"||s=="#"){if(!t&&KA(f))E=Zr;else if(f==""){if(l.host="",t)return;E=Qa}else{if(a=l.parseHost(f))return a;if(l.host=="localhost"&&(l.host=""),t)return;f="",E=Qa}continue}f+=s;break;case Qa:if(l.isSpecial()){if(E=Zr,s!="/"&&s!="\\")continue}else if(t||s!="?")if(t||s!="#"){if(s!=dr&&(E=Zr,s!="/"))continue}else l.fragment="",E=ms;else l.query="",E=wo;break;case Zr:if(s==dr||s=="/"||s=="\\"&&l.isSpecial()||!t&&(s=="?"||s=="#")){if((d=ul(d=f))===".."||d==="%2e."||d===".%2e"||d==="%2e%2e"?(l.shortenPath(),s=="/"||s=="\\"&&l.isSpecial()||Fa(l.path,"")):V2(f)?s=="/"||s=="\\"&&l.isSpecial()||Fa(l.path,""):(l.scheme=="file"&&!l.path.length&&KA(f)&&(l.host&&(l.host=""),f=ur(f,0)+":"),Fa(l.path,f)),f="",l.scheme=="file"&&(s==dr||s=="?"||s=="#"))for(;l.path.length>1&&l.path[0]==="";)U2(l.path);s=="?"?(l.query="",E=wo):s=="#"&&(l.fragment="",E=ms)}else f+=xs(s,tM);break;case cM:s=="?"?(l.query="",E=wo):s=="#"?(l.fragment="",E=ms):s!=dr&&(l.path[0]+=xs(s,El));break;case wo:t||s!="#"?s!=dr&&(s=="'"&&l.isSpecial()?l.query+="%27":l.query+=s=="#"?"%23":xs(s,El)):(l.fragment="",E=ms);break;case ms:s!=dr&&(l.fragment+=xs(s,eM))}g++}},parseHost:function(e){var t,n,r;if(ur(e,0)=="["){if(ur(e,e.length-1)!="]"||(t=function(s){var o,a,d,l,E,g,f,C=[0,0,0,0,0,0,0,0],T=0,Q=null,U=0,_=function(){return ur(s,U)};if(_()==":"){if(ur(s,1)!=":")return;U+=2,Q=++T}for(;_();){if(T==8)return;if(_()!=":"){for(o=a=0;a<4&&Qr($S,_());)o=16*o+hl(_(),16),U++,a++;if(_()=="."){if(a==0||(U-=a,T>6))return;for(d=0;_();){if(l=null,d>0){if(!(_()=="."&&d<4))return;U++}if(!Qr(Dg,_()))return;for(;Qr(Dg,_());){if(E=hl(_(),10),l===null)l=E;else{if(l==0)return;l=10*l+E}if(l>255)return;U++}C[T]=256*C[T]+l,++d!=2&&d!=4||T++}if(d!=4)return;break}if(_()==":"){if(U++,!_())return}else if(_())return;C[T++]=o}else{if(Q!==null)return;U++,Q=++T}}if(Q!==null)for(g=T-Q,T=7;T!=0&&g>0;)f=C[T],C[T--]=C[Q+g-1],C[Q+--g]=f;else if(T!=8)return;return C}(ZA(e,1,-1)),!t))return yo;this.host=t}else if(this.isSpecial()){if(e=C2(e),Qr(k2,e)||(t=function(s){var o,a,d,l,E,g,f,C=v2(s,".");if(C.length&&C[C.length-1]==""&&C.length--,(o=C.length)>4)return s;for(a=[],d=0;d<o;d++){if((l=C[d])=="")return s;if(E=10,l.length>1&&ur(l,0)=="0"&&(E=Qr(Q2,l)?16:8,l=ZA(l,E==8?1:2)),l==="")g=0;else{if(!Qr(E==10?D2:E==8?b2:$S,l))return s;g=hl(l,E)}Fa(a,g)}for(d=0;d<o;d++)if(g=a[d],d==o-1){if(g>=XS(256,5-o))return null}else if(g>255)return null;for(f=B2(a),d=0;d<a.length;d++)f+=a[d]*XS(256,3-d);return f}(e),t===null))return yo;this.host=t}else{if(Qr(Y2,e))return yo;for(t="",n=va(e),r=0;r<n.length;r++)t+=xs(n[r],El);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return vg(gl,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||this.scheme=="file"&&t==1&&KA(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,s=e.host,o=e.port,a=e.path,d=e.query,l=e.fragment,E=t+":";return s!==null?(E+="//",e.includesCredentials()&&(E+=n+(r?":"+r:"")+"@"),E+=XA(s),o!==null&&(E+=":"+o)):t=="file"&&(E+="//"),E+=e.cannotBeABaseURL?a[0]:a.length?"/"+HA(a,"/"):"",d!==null&&(E+="?"+d),l!==null&&(E+="#"+l),E},setHref:function(e){var t=this.parse(e);if(t)throw Fg(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e=="blob")try{return new ba(e.path[0]).origin}catch{return"null"}return e!="file"&&this.isSpecial()?e+"://"+XA(this.host)+(t!==null?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(fs(e)+":",Yg)},getUsername:function(){return this.username},setUsername:function(e){var t=va(fs(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=xs(t[n],kg)}},getPassword:function(){return this.password},setPassword:function(e){var t=va(fs(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=xs(t[n],kg)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?XA(e):XA(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Pg)},getHostname:function(){var e=this.host;return e===null?"":XA(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Vg)},getPort:function(){var e=this.port;return e===null?"":fs(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||((e=fs(e))==""?this.port=null:this.parse(e,Lg))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+HA(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Qa))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){(e=fs(e))==""?this.query=null:(ur(e,0)=="?"&&(e=ZA(e,1)),this.query="",this.parse(e,wo)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){(e=fs(e))!=""?(ur(e,0)=="#"&&(e=ZA(e,1)),this.fragment="",this.parse(e,ms)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var ba=function(e){var t=f2(this,Tn),n=T2(arguments.length,1)>1?arguments[1]:void 0,r=N2(t,new xg(e,!1,n));Bg||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Tn=ba.prototype,Er=function(e,t){return{get:function(){return ll(this)[e]()},set:t&&function(n){return ll(this)[t](n)},configurable:!0,enumerable:!0}};if(Bg&&(hr(Tn,"href",Er("serialize","setHref")),hr(Tn,"origin",Er("getOrigin")),hr(Tn,"protocol",Er("getProtocol","setProtocol")),hr(Tn,"username",Er("getUsername","setUsername")),hr(Tn,"password",Er("getPassword","setPassword")),hr(Tn,"host",Er("getHost","setHost")),hr(Tn,"hostname",Er("getHostname","setHostname")),hr(Tn,"port",Er("getPort","setPort")),hr(Tn,"pathname",Er("getPathname","setPathname")),hr(Tn,"search",Er("getSearch","setSearch")),hr(Tn,"searchParams",Er("getSearchParams")),hr(Tn,"hash",Er("getHash","setHash"))),dl(Tn,"toJSON",function(){return ll(this).serialize()},{enumerable:!0}),dl(Tn,"toString",function(){return ll(this).serialize()},{enumerable:!0}),JA){var dM=JA.createObjectURL,lM=JA.revokeObjectURL;dM&&dl(ba,"createObjectURL",JS(dM,JA)),lM&&dl(ba,"revokeObjectURL",JS(lM,JA))}R2(ba,"URL"),p2({global:!0,forced:!I2,sham:!Bg},{URL:ba});var L2=Ct,G2=m,z2=ta,hM=zn,x2=IE,uM=In("URL");L2({target:"URL",stat:!0,forced:!(x2&&G2(function(){uM.canParse()}))},{canParse:function(e){var t=z2(arguments.length,1),n=hM(e),r=t<2||arguments[1]===void 0?void 0:hM(arguments[1]);try{return!!new uM(n,r)}catch{return!1}}});var EM=I(Ln.URL);const Bi={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function ot(){return Bi}function gM(){return"setSinkId"in HTMLAudioElement.prototype&&(!L("RESTRICTION_SET_PLAYBACK_DEVICE")||(ks()||_N())&&!XE())}function pM(){return!Bi.supportUnifiedPlan||L("CHROME_FORCE_PLAN_B")&&Ys()}let Ui=function(e){return e.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",e.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change",e}({});function Da(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function nt(e,t,n,r,s){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:s}}function gr(e,t,n,r,s){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:s}}function Wg(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}const W2={"90p":nt(160,90),"90p_1":nt(160,90),"120p":nt(160,120,15,30,65),"120p_1":nt(160,120,15,30,65),"120p_3":nt(120,120,15,30,50),"120p_4":nt(212,120),"180p":nt(320,180,15,30,140),"180p_1":nt(320,180,15,30,140),"180p_3":nt(180,180,15,30,100),"180p_4":nt(240,180,15,30,120),"240p":nt(320,240,15,40,200),"240p_1":nt(320,240,15,40,200),"240p_3":nt(240,240,15,40,140),"240p_4":nt(424,240,15,40,220),"360p":nt(640,360,15,80,400),"360p_1":nt(640,360,15,80,400),"360p_3":nt(360,360,15,80,260),"360p_4":nt(640,360,30,80,600),"360p_6":nt(360,360,30,80,400),"360p_7":nt(480,360,15,80,320),"360p_8":nt(480,360,30,80,490),"360p_9":nt(640,360,15,80,800),"360p_10":nt(640,360,24,80,800),"360p_11":nt(640,360,24,80,1e3),"480p":nt(640,480,15,100,500),"480p_1":nt(640,480,15,100,500),"480p_2":nt(640,480,30,100,1e3),"480p_3":nt(480,480,15,100,400),"480p_4":nt(640,480,30,100,750),"480p_6":nt(480,480,30,100,600),"480p_8":nt(848,480,15,100,610),"480p_9":nt(848,480,30,100,930),"480p_10":nt(640,480,10,100,400),"720p":nt(1280,720,15,120,1130),"720p_auto":nt(1280,720,30,900,3e3),"720p_1":nt(1280,720,15,120,1130),"720p_2":nt(1280,720,30,120,2e3),"720p_3":nt(1280,720,30,120,1710),"720p_5":nt(960,720,15,120,910),"720p_6":nt(960,720,30,120,1380),"1080p":nt(1920,1080,15,120,2080),"1080p_1":nt(1920,1080,15,120,2080),"1080p_2":nt(1920,1080,30,120,3e3),"1080p_3":nt(1920,1080,30,120,3150),"1080p_5":nt(1920,1080,60,120,4780),"1440p":nt(2560,1440,30,120,4850),"1440p_1":nt(2560,1440,30,120,4850),"1440p_2":nt(2560,1440,60,120,7350),"4k":nt(3840,2160,30,120,8910),"4k_1":nt(3840,2160,30,120,8910),"4k_3":nt(3840,2160,60,120,13500)},J2={"480p":gr(640,480,5),"480p_1":gr(640,480,5),"480p_2":gr(640,480,30),"480p_3":gr(640,480,15),"720p":gr(1280,720,5),"720p_auto":nt(1280,720,30,900,3e3),"720p_1":gr(1280,720,5),"720p_2":gr(1280,720,30),"720p_3":gr(1280,720,15),"1080p":gr(1920,1080,5),"1080p_1":gr(1920,1080,5),"1080p_2":gr(1920,1080,30),"1080p_3":gr(1920,1080,15)},H2={"1SL1TL":Wg(1,1),"3SL3TL":Wg(3,3),"2SL3TL":Wg(2,3)};function Xr(e){return e||(e="480p_1"),typeof e=="string"?Object.assign({},W2[e]):e}function Jg(e){return typeof e=="string"?Object.assign({},J2[e]):e}function fl(e){return typeof e=="string"?Object.assign({},H2[e]):e}const Z2={speech_low_quality:Da(16e3,!1),speech_standard:Da(32e3,!1,18),music_standard:Da(48e3,!1),standard_stereo:Da(48e3,!0,56),high_quality:Da(48e3,!1,128),high_quality_stereo:Da(48e3,!0,192)};function ml(e){return typeof e=="string"?Object.assign({},Z2[e]):e}const ka=[];function IM(e){return fi(e,"mediaSource",["screen","window","application"]),!0}let Te=function(e){return e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_RTC_STATS="@get_rtc_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track",e}({}),Bt=function(e){return e.SCREEN_TRACK="screen_track",e.CUSTOM_TRACK="custome_track",e.LOW_STREAM="low_stream",e.SCREEN_LOW_TRACK="screen_low_track",e}({}),Ya=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e}({}),X2=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.HIGH_STREAM_LAYER1=4]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=5]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=6]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=7]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=8]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=9]="HIGH_STREAM_LAYER6",e}({}),K2=function(e){return e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY",e[e.HIGH_STREAM_LAYER1=3]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=4]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=5]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=6]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=7]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=8]="HIGH_STREAM_LAYER6",e}({}),Bo=function(e){return e.TRANSCEIVER_UPDATED="transceiver-updated",e.SEI_TO_SEND="sei-to-send",e.SEI_RECEIVED="sei-received",e.TRACK_UPDATED="track-updated",e}({}),ja=function(e){return e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed",e}({}),Oa=function(e){return e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.VIDEO_STATE_CHANGED="video-state-changed",e}({}),Pa=function(e){return e.AUDIO="audio",e.VIDEO="video",e.DATA="data",e}({}),_n=function(e){return e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source",e}({});(function(e){e.UPDATE_TRACK_SOURCE="update-track-source"})({});const Hg={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},Zg={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},fM={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},q2={uplinkNetworkQuality:0,downlinkNetworkQuality:0},mM={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let en=function(e){return e.ON_TRACK="on_track",e.ON_NODE="on_node",e}({}),Fn=function(e){return e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints",e}({}),qA=function(e){return e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND",e}({}),Uo=function(e){return e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",e}({}),xi=function(e){return e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata",e}({}),Kr=function(e){return e[e.VideoStateStopped=0]="VideoStateStopped",e[e.VideoStateStarting=1]="VideoStateStarting",e[e.VideoStateDecoding=2]="VideoStateDecoding",e[e.VideoStateFrozen=3]="VideoStateFrozen",e}({});const Xg={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let Cl=function(e){return e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.CLOSING="closing",e.ERROR="error",e}({});function rt(e,t,n,r,s){var o,a,d={};return Object.keys(r).forEach(function(l){d[l]=r[l]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=Mr(o=DL(a=n.slice()).call(a)).call(o,function(l,E){return E(e,t,l)||l},d),s&&d.initializer!==void 0&&(d.value=d.initializer?d.initializer.call(s):void 0,d.initializer=void 0),d.initializer===void 0&&(Object.defineProperty(e,t,d),d=null),d}function ee(e,t,n){return(t=function(r){var s=function(o,a){if(typeof o!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var l=d.call(o,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(r);return typeof s=="symbol"?s:s+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class RM extends Vt{set _mediaStreamTrack(t){t!==this.mediaStreamTrack&&(this.safeEmit(Bo.TRACK_UPDATED,t),this.mediaStreamTrack=t)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(t,n){super(),ee(this,"trackMediaType",void 0),ee(this,"_ID",void 0),ee(this,"_rtpTransceiver",void 0),ee(this,"_lowRtpTransceiver",void 0),ee(this,"_hints",[]),ee(this,"_isClosed",!1),ee(this,"_originMediaStreamTrack",void 0),ee(this,"mediaStreamTrack",void 0),ee(this,"_external",{}),this._ID=n||wt(8,"track-"),this._originMediaStreamTrack=t,this.mediaStreamTrack=t,function(r){ge(ka).call(ka,r)||ka.push(r)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(t){return t||js(()=>{var n;ve.reportApiInvoke(null,{name:gi.GET_MEDIA_STREAM_TRACK,options:[],tag:zt.TRACER}).onSuccess(((n=this._mediaStreamTrack)===null||n===void 0?void 0:n.label)||"")},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(t){return t===Ya.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(t){const n=ka.indexOf(t);n!==-1&&ka.splice(n,1)}(this),this.emit(ja.CLOSED),this.removeAllListeners(Bo.SEI_RECEIVED)}_updateRtpTransceiver(t,n){if(n===Ya.LOW_STREAM){if(this._lowRtpTransceiver===t)return;this._lowRtpTransceiver=t}else{if(this._rtpTransceiver===t)return;this._rtpTransceiver=t}this.emit(Bo.TRANSCEIVER_UPDATED,t,n)}}class Va extends RM{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(t,n){super(t,n),ee(this,"_enabled",!0),ee(this,"_muted",!1),ee(this,"_isExternalTrack",!1),ee(this,"_isClosed",!1),ee(this,"_enabledMutex",void 0),ee(this,"processor",void 0),ee(this,"_processorContext",void 0),ee(this,"_handleTrackEnded",()=>{this.onTrackEnded()}),this._enabledMutex=new Oi("".concat(this.getTrackId())),t.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var t,n;return(t=(n=this._originMediaStreamTrack)===null||n===void 0?void 0:n.label)!==null&&t!==void 0?t:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,M.debug("[".concat(this.getTrackId(),"] close")),this.emit(Te.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._isExternalTrack=r,t!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop()),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await St(this,Te.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){M.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(ja.TRACK_ENDED)}stateCheck(t,n){if(M.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(t,": ").concat(n,"]")),hs(n,t),this._enabled&&this._muted&&t==="enabled"&&n===!1)throw new $(j.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",M);if(!this._enabled&&!this._muted&&t==="muted"&&n===!0)throw new $(j.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",M)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():Ie.resolve([])}}const TM=window.AudioContext||window.webkitAudioContext;let Qn=null;const ft=new class extends Vt{constructor(){super(...arguments),ee(this,"prevState",void 0),ee(this,"curState",void 0),ee(this,"currentTime",void 0),ee(this,"currentTimeStuckAt",void 0),ee(this,"interruptDetectorTrack",void 0),ee(this,"onLocalAudioTrackMute",()=>{M.info("ios15-interruption-start"),this.emit(Ui.IOS_15_16_INTERRUPTION_START)}),ee(this,"onLocalAudioTrackUnmute",async()=>{M.info("ios15-interruption-end"),this.curState!=="running"||this.duringInterruption?M.info("ios15-interruption-end-canceled"):(Qn&&await Qn.suspend(),this.emit(Ui.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return this.prevState==="running"&&this.curState==="interrupted"}bindInterruptDetectorTrack(e){M.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){M.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function La(){if(!Qn){if(function(){if(!TM)return void M.error("your browser is not support web audio");M.info("create audio context");const e=Dt({},L("WEBAUDIO_INIT_OPTIONS"));M.debug("audio context init option:",JSON.stringify(e)),Qn=new TM(e),ft.curState=Qn.state,Qn.onstatechange=()=>{ft.prevState=ft.curState,ft.curState=Qn?Qn.state:void 0;const{prevState:t,curState:n}=ft,r=n==="running",s=n==="interrupted",o=t==="running",a=t==="suspended",d=t==="interrupted",l=st().osVersion;(Xi()||or())&&o&&s&&(M.info("ios".concat(l,"-interruption-start")),ft.emit(Ui.IOS_INTERRUPTION_START)),(Xi()||or())&&(a||d)&&r&&(M.info("ios".concat(l,"-interruption-end")),ft.emit(Ui.IOS_INTERRUPTION_END)),t!==n&&ft.emit(Ui.STATE_CHANGE,n,t)},setInterval(()=>{var t;const n=(t=Qn)===null||t===void 0?void 0:t.currentTime;ft.currentTime!==n?(ft.currentTimeStuckAt&&(M.debug("AudioContext current time resume at ".concat(n)),ft.currentTimeStuckAt=void 0),ft.currentTime=n):(n!==ft.currentTimeStuckAt&&(ve.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:n},tag:zt.TRACER}).onSuccess(),M.warning("AudioContext current time stuck at ".concat(n))),ft.currentTimeStuckAt=n)},5e3),async function(t){const n=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let r,s=!1,o=!1,a=!1;function d(U){t.state==="running"?l(!1):Xi()||or()?t.state==="suspended"&&(l(!0),U&&t.resume().then(E,E)):t.state!=="closed"&&(l(!0),U&&t.resume().then(E,E))}function l(U){if(s!==U){s=U;for(let _=0,b=n;_<b.length;_+=1){const Y=b[_];U?window.addEventListener(Y,g,{capture:!0,passive:!0}):window.removeEventListener(Y,g,{capture:!0,passive:!0})}}}function E(){d(!1)}function g(){d(!0)}function f(U){if(!a)if(r.paused)if(U){let _;C(!1),a=!0;try{_=r.play(),_?_.then(T,T):(r.addEventListener("playing",T),r.addEventListener("abort",T),r.addEventListener("error",T))}catch{T()}}else C(!0);else C(!1)}function C(U){if(o!==U){o=U;for(let _=0,b=n;_<b.length;_++){const Y=b[_];U?window.addEventListener(Y,Q,{capture:!0,passive:!0}):window.removeEventListener(Y,Q,{capture:!0,passive:!0})}}}function T(){r.removeEventListener("playing",T),r.removeEventListener("abort",T),r.removeEventListener("error",T),a=!1,f(!1)}function Q(){f(!0)}if(Xi()){const U=t.createMediaStreamDestination(),_=document.createElement("div");_.innerHTML="<audio x-webkit-airplay='deny'></audio>",r=_.children.item(0),r.controls=!1,r.disableRemotePlayback=!0,r.preload="auto",r.srcObject=U.stream,f(!0)}ft.on(Ui.STATE_CHANGE,function(){d(!0)}),d(!1)}(Qn)}(),!Qn)throw new $(j.NOT_SUPPORTED,"can not create audio context");return Qn}return Qn}function vo(e){if(function(){if(Kg!==null)return Kg;const r=La(),s=r.createBufferSource(),o=r.createGain(),a=r.createGain();s.connect(o),s.connect(a),s.disconnect(o);let d=!1;try{s.disconnect(o)}catch{d=!0}return s.disconnect(),Kg=d,d}())return;const t=e.connect,n=e.disconnect;e.connect=(r,s,o)=>{var a;return e._inputNodes||(e._inputNodes=[]),ge(a=e._inputNodes).call(a,r)||(r instanceof AudioNode?(e._inputNodes.push(r),t.call(e,r,s,o)):t.call(e,r,s)),e},e.disconnect=(r,s,o)=>{n.call(e),r?Kd(e._inputNodes,r):e._inputNodes=[];for(const a of e._inputNodes)t.call(e,a)}}let Kg=null;function qg(e,t){let n=!1;const r=1/t;if(L("DISABLE_WEBAUDIO")){const s=window.setInterval(()=>{n?window.clearInterval(s):e(performance.now()/1e3)},1e3*r)}else{const s=La();let o=s.createGain();o.gain.value=0,o.connect(s.destination);const a=()=>{if(n)return void(o=null);const d=s.createOscillator();d.onended=a,d.connect(o),d.start(0),d.stop(s.currentTime+r),e(s.currentTime)};a()}return()=>{n=!0}}class NM{constructor(){ee(this,"context",void 0),ee(this,"analyserNode",void 0),ee(this,"sourceNode",void 0),this.context=La(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(t){if(t!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch{}this.sourceNode=t,t==null||t.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode||(!this.context||Xi()||or()||this.context.state!=="running"&&this.context.resume(),!this.analyserNode))return 0;const t=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(t);else{const r=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(r);for(let s=0;s<t.length;++s)t[s]=r[s]/128-1}const n=Mr(t).call(t,(r,s)=>r+s*s,0)/t.length;return Math.max(10*Math.log10(n)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var t,n;(t=this.sourceNode)===null||t===void 0||t.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(n=this.sourceNode)===null||n===void 0||n.connect(this.analyserNode)}catch{M.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class SM extends Vt{get processSourceNode(){return this.sourceNode}set processedNode(t){var n;if(!this.isDestroyed&&this._processedNode!==t){try{var r;(r=this.sourceNode)===null||r===void 0||r.disconnect(this.outputNode)}catch{}(n=this._processedNode)===null||n===void 0||n.disconnect(),this._processedNode=t,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),ee(this,"outputNode",void 0),ee(this,"outputTrack",void 0),ee(this,"isPlayed",!1),ee(this,"sourceNode",void 0),ee(this,"context",void 0),ee(this,"audioBufferNode",void 0),ee(this,"destNode",void 0),ee(this,"audioOutputLevel",0),ee(this,"volumeLevelAnalyser",void 0),ee(this,"_processedNode",void 0),ee(this,"playNode",void 0),ee(this,"isDestroyed",!1),ee(this,"onNoAudioInput",void 0),ee(this,"isNoAudioInput",!1),ee(this,"_noAudioInputCount",0),this.context=La(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),vo(this.outputNode),this.volumeLevelAnalyser=new NM}startGetAudioBuffer(t){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(t),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=n=>{this.emit(_n.ON_AUDIO_BUFFER,function(r){for(let s=0;s<r.outputBuffer.numberOfChannels;s+=1){const o=r.outputBuffer.getChannelData(s);for(let a=0;a<o.length;a+=1)o[a]=0}return r.inputBuffer}(n))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!ot().webAudioMediaStreamDest)throw new $(j.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(t){this.context.state!=="running"&&qd(()=>{ft.emit("autoplay-failed")}),this.isPlayed=!0,this.playNode=t||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch{}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(t>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;Xi()||or()?this.context.state==="suspended"&&this.context.resume():this.context.state!=="running"&&this.context.resume();const n=this.volumeLevelAnalyser.getAnalyserNode();let r;n.getFloatTimeDomainData?(r=new Float32Array(n.fftSize),n.getFloatTimeDomainData(r)):(r=new Uint8Array(n.fftSize),n.getByteTimeDomainData(r));let s=!1;for(let o=0;o<r.length;o++)r[o]!==0&&(s=!0);return s?(this.isNoAudioInput=!1,!0):(await yi(200),await this.checkHasAudioInput(t?t+1:1)&&s)}getAudioVolume(){return this.outputNode.gain.value}setVolume(t){this.outputNode.gain.setValueAtTime(t,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var t,n;(t=this.processedNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var t;this.processedNode?(t=this.processedNode)===null||t===void 0||t.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class MM extends SM{get isFreeze(){return!1}constructor(t,n,r){var s;if(super(),ee(this,"sourceNode",void 0),ee(this,"track",void 0),ee(this,"clonedTrack",void 0),ee(this,"audioElement",void 0),ee(this,"isCurrentTrackCloned",!1),ee(this,"isRemoteTrack",!1),ee(this,"originVolumeLevelAnalyser",void 0),ee(this,"rebuildWebAudio",async()=>{if(M.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void M.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then(()=>M.info("resume success")),M.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const d=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?d.stop():this.isCurrentTrackCloned=!0;const l=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(l),vo(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const E=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(E,this.context.currentTime),vo(this.outputNode),this.emit(_n.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=l,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),t.kind!=="audio")throw new $(j.UNEXPECTED_ERROR);this.track=t;const o=new MediaStream([this.track]);if(this.isRemoteTrack=!!n,this.sourceNode=this.context.createMediaStreamSource(o),vo(this.sourceNode),r){const d=r.clone();d.enabled=!0,this.clonedTrack=d,M.debug("create an unmuted track ".concat(d.id," from the original track ").concat(r.id," to get the volume"));const l=this.context.createMediaStreamSource(new MediaStream([d]));vo(l),this.originVolumeLevelAnalyser=new NM,this.originVolumeLevelAnalyser.updateSource(l)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=o;const a=st();n&&a.os===Ri.IOS&&Number((s=a.osVersion)===null||s===void 0?void 0:s.split(".")[0])<15&&(ft.on(Ui.STATE_CHANGE,()=>{this.context.state==="suspended"?document.body.addEventListener("click",this.rebuildWebAudio,!0):this.context.state==="running"&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(d=>{d||document.body.addEventListener("click",this.rebuildWebAudio,!0)}))}updateTrack(t){this.sourceNode.disconnect(),this.track=t,this.isCurrentTrackCloned=!1;const n=new MediaStream([t]);this.sourceNode=this.context.createMediaStreamSource(n),vo(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(_n.UPDATE_SOURCE),this.audioElement.srcObject=n}destroy(){var t;this.audioElement.srcObject=null,this.audioElement.remove(),ft.off("state-change",this.rebuildWebAudio),(t=this.originVolumeLevelAnalyser)===null||t===void 0||t.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(t){return this.context.createMediaStreamSource(new MediaStream([t]))}updateOriginTrack(t){const n=t.clone();n.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=n),M.debug("create an unmuted track ".concat(n.id," from the original track ").concat(t.id," to get the volume"));const r=this.context.createMediaStreamSource(new MediaStream([n]));vo(r),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(r)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function yM(e,t,n){const r=(o,a)=>o?typeof o!="number"?o.max||o.exact||o.ideal||o.min||a:o:a,s={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:r(t.height,1080),maxWidth:r(t.width,1920)}}};return t.frameRate&&typeof t.frameRate!="number"?(s.video.mandatory.maxFrameRate=t.frameRate.max,s.video.mandatory.minFrameRate=t.frameRate.min):typeof t.frameRate=="number"&&(s.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(s)}async function $2(e,t){const n=await wM(e.mediaSource),{sourceId:r,audio:s}=await function(o){let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Ie((d,l)=>{const E=document.createElement("div");E.innerText="share screen",E.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const g=document.createElement("div");g.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const f=document.createElement("div");f.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",f.setAttribute("style","height: 12%;");const C=document.createElement("div");C.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const T=document.createElement("div");T.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const Q=document.createElement("button");Q.innerHTML="cancel",Q.setAttribute("style","width: 85px;"),Q.onclick=()=>{document.body.removeChild(b);const Y=new Error("NotAllowedError");Y.name="NotAllowedError",l(Y)};let U=a;const _=document.createElement("div");if(a){const Y=document.createElement("input");Y.setAttribute("type","checkbox");const G=document.createElement("span");Y.setAttribute("style","margin-right: 6px;"),G.innerText="Share audio",Y.checked=U,Y.onchange=()=>{U=Y.checked},_.appendChild(Y),_.appendChild(G)}T.appendChild(_),T.appendChild(Q),g.appendChild(f),g.appendChild(C),g.appendChild(T);const b=document.createElement("div");b.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),b.appendChild(E),b.appendChild(g),document.body.appendChild(b),o.map(Y=>{if(Y.id){const G=document.createElement("div");G.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let W=Y.thumbnail;try{const{width:J}=W.getSize();J>1920&&(W=W.resize({width:1920}))}catch(J){throw J&&J.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),J}G.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+W.toDataURL()+' /></div><span style="	height: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+Y.name.replace(/[\u00A0-\u9999<>\&]/g,function(J){return"&#"+J.charCodeAt(0)+";"})+"</span>",G.onclick=()=>{document.body.removeChild(b),d({sourceId:Y.id,audio:U})},C.appendChild(G)}})})}(n,t);return await yM(r,e,s)}async function wM(e){let t=["window","screen"];e!=="application"&&e!=="window"||(t=["window"]),e==="screen"&&(t=["screen"]);const n=WN();if(!n)throw console.error("failed to fetch electron, please mount it to window"),new $(j.ELECTRON_IS_NULL);let r=null;try{var s;r=((s=n.desktopCapturer)===null||s===void 0?void 0:s.getSources({types:t}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:t})}catch{r=null}r&&r.then||(r=new Ie((o,a)=>{n.desktopCapturer.getSources({types:t},(d,l)=>{d?a(d):o(l)})}));try{return await r}catch(o){throw new $(j.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,o.toString())}}const $g=new Oi("safari");let BM=!1,UM=!1;async function bn(e,t){let n=0,r=null;for(;n<2;)try{r=await eG(e,t,n>0);break}catch(s){if(s instanceof $)throw M.error("[".concat(t,"] ").concat(s.toString())),s;const o=Rl(s.name||s.code||s,s.message);if(o.code===j.MEDIA_OPTION_INVALID){M.debug("[".concat(t,"] detect media option invalid, retry")),n+=1,await yi(500);continue}throw M.error("[".concat(t,"] ").concat(o.toString())),o}if(!r)throw new $(j.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return r}async function eG(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new $(j.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const r=ot(),s=new MediaStream;if(e.audioSource&&s.addTrack(e.audioSource),e.videoSource&&s.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return M.debug("Using Video Source/ Audio Source"),s;if(e.screen)if(WN())e.screen.sourceId?Ga(s,await yM(e.screen.sourceId,e.screen,!!e.screenAudio)):Ga(s,await $2(e.screen,!!e.screenAudio));else if(ks()&&e.screen.extensionId&&e.screen.mandatory){if(!r.getStreamFromExtension)throw new $(j.NOT_SUPPORTED,"This browser does not support screen sharing");M.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"'));const C=await(a=e.screen.extensionId,d=t,new Ie((T,Q)=>{try{chrome.runtime.sendMessage(a,{getStream:!0},U=>{if(!U||!U.streamId)return M.error("[".concat(d,"] No response from Chrome Plugin. Plugin not installed properly"),U),void Q(new $(j.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));T(U.streamId)})}catch(U){M.error("[".concat(d,"] AgoraRTC screensharing plugin is not accessible(").concat(a,")"),U.toString()),Q(new $(j.CHROME_PLUGIN_NOT_INSTALL))}}));e.screen.mandatory.chromeMediaSourceId=C,Ga(s,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(r.getDisplayMedia){var o;e.screen.mediaSource&&IM(e.screen.mediaSource);const C={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:(o=e.screen.displaySurface)!==null&&o!==void 0?o:e.screen.mediaSource==="screen"?"monitor":e.screen.mediaSource},{selfBrowserSurface:T,surfaceSwitching:Q,systemAudio:U}=e.screen,_={selfBrowserSurface:T,surfaceSwitching:Q,systemAudio:U};!T&&delete _.selfBrowserSurface,!Q&&delete _.surfaceSwitching,!U&&delete _.systemAudio,M.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:C,audio:e.screenAudio,controls:_})),Ga(s,await navigator.mediaDevices.getDisplayMedia(Dt({video:C,audio:e.screenAudio},_)))}else{if(!Gt())throw M.error("[".concat(t,"] This browser does not support screenSharing")),new $(j.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&IM(e.screen.mediaSource);const C={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};M.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(C))),Ga(s,await navigator.mediaDevices.getUserMedia(C))}}var a,d;if(!e.video&&!e.audio)return s;let l={video:e.video,audio:e.audio},E=L("MEDIA_DEVICE_CONSTRAINTS");if(E)try{typeof E=="string"&&(E=JSON.parse(E)),l=tg(l,E)}catch{}M.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(l)),st();let g,f=null;(Fi()||Xi()||Hd())&&(f=await $g.lock());try{g=await navigator.mediaDevices.getUserMedia(l)}catch(C){throw f&&f(),C}return l.audio&&(BM=!0),l.video&&(UM=!0),Ga(s,g),f&&f(),s}function Rl(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new $(j.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new $(j.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new $(j.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new $(j.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new $(j.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new $(j.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return M.error("getUserMedia unexpected error",e),new $(j.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function Ga(e,t){const n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],s=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(r&&e.removeTrack(r),e.addTrack(o)),s&&(n&&e.removeTrack(n),e.addTrack(s))}const Dn=new class extends Vt{get state(){return this._state}set state(e){e!==this._state&&(this.emit(Uo.STATE_CHANGE,e),this._state=e)}constructor(){super(),ee(this,"_state",qA.IDLE),ee(this,"isAccessMicrophonePermission",!1),ee(this,"isAccessCameraPermission",!1),ee(this,"lastAccessMicrophonePermission",!1),ee(this,"lastAccessCameraPermission",!1),ee(this,"checkdeviceMatched",!1),ee(this,"deviceInfoMap",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(L("ENUMERATE_DEVICES_INTERVAL")||(Zd()||Jd()===Ri.HARMONY_OS)&&Ys())&&this.updateDevicesInfo()},L("ENUMERATE_DEVICES_INTERVAL_TIME"))}).catch(e=>M.error(e.toString()))}async enumerateDevices(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new $(j.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const r=await navigator.mediaDevices.enumerateDevices(),s=this.checkMediaDeviceInfoIsOk(r);let o=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;s.audio&&(o=!1),s.video&&(a=!1);let d=null,l=null,E=null;if(!n&&(o||a)){if($g.isLocked&&(M.debug("[device manager] wait GUM lock"),(await $g.lock())(),M.debug("[device manager] GUM unlock")),BM&&(o=!1,this.isAccessMicrophonePermission=!0),UM&&(a=!1,this.isAccessCameraPermission=!0),M.debug("[device manager] check media device permissions",e,t,o,a),o&&a){try{E=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(g){const f=Rl(g.name||g.code||g,g.message);if(f.code===j.PERMISSION_DENIED)throw f;M.warning("getUserMedia failed in getDevices",f)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{d=await navigator.mediaDevices.getUserMedia({audio:e})}catch(g){const f=Rl(g.name||g.code||g,g.message);if(f.code===j.PERMISSION_DENIED)throw f;M.warning("getUserMedia failed in getDevices",f)}this.isAccessMicrophonePermission=!0}else if(a){try{l=await navigator.mediaDevices.getUserMedia({video:t})}catch(g){const f=Rl(g.name||g.code||g,g.message);if(f.code===j.PERMISSION_DENIED)throw f;M.warning("getUserMedia failed in getDevices",f)}this.isAccessCameraPermission=!0}M.debug("[device manager] mic permission",e,"cam permission",t)}try{const g=await navigator.mediaDevices.enumerateDevices();return d&&d.getTracks().forEach(f=>f.stop()),l&&l.getTracks().forEach(f=>f.stop()),E&&E.getTracks().forEach(f=>f.stop()),d=null,l=null,E=null,g}catch(g){return d&&d.getTracks().forEach(f=>f.stop()),l&&l.getTracks().forEach(f=>f.stop()),E&&E.getTracks().forEach(f=>f.stop()),d=null,l=null,E=null,new $(j.ENUMERATE_DEVICES_FAILED,g.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter(t=>t.kind==="audioinput")}async getCamerasDevices(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter(t=>t.kind==="videoinput")}async getSpeakers(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter(t=>t.kind==="audiooutput")}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach(n=>{n.device.label===e&&(t=n.device.deviceId)}),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find(n=>n.deviceId===e);if(!t)throw new $(j.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=qA.INITING;try{await this.updateDevicesInfo(),this.state=qA.INITEND}catch(e){throw M.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=qA.IDLE,(typeof isSecureContext=="boolean"?isSecureContext:location.protocol==="https:"||location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="::1")||new $(j.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&this.checkdeviceMatched===!1){this.checkdeviceMatched=!0;const s=e.find(a=>a.kind==="audioinput"&&a.deviceId==="default"),o=e.find(a=>a.kind==="audiooutput"&&a.deviceId==="default");s&&o?o.groupId===s.groupId?M.debug("[device-check] default input ".concat(s.label," and output ").concat(o.label," is the same group")):M.debug("[device-check] default input ".concat(s.label," and output ").concat(o.label," is not the same group")):M.debug("[device-check] default input or output not found")}const r=this.checkMediaDeviceInfoIsOk(e);if(e.forEach(s=>{if(!s.deviceId)return;const o=this.deviceInfoMap.get("".concat(s.kind,"_").concat(s.deviceId));if((o?o.state:"INACTIVE")!=="ACTIVE"){const a={initAt:t,updateAt:t,device:s,state:"ACTIVE"};this.deviceInfoMap.set("".concat(s.kind,"_").concat(s.deviceId),a),n.push(a)}o&&(o.updateAt=t)}),this.deviceInfoMap.forEach((s,o)=>{s.state==="ACTIVE"&&s.updateAt!==t&&(s.state="INACTIVE",n.push(s))}),this.state!==qA.INITEND)return r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach(s=>{switch(s.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Uo.RECORDING_DEVICE_CHANGED,s);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Uo.CAMERA_DEVICE_CHANGED,s);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Uo.PLAYOUT_DEVICE_CHANGED,s)}}),r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter(s=>s.kind==="audioinput"),n=e.filter(s=>s.kind==="videoinput"),r={audio:!1,video:!1};for(const s of t)if(s.label&&s.deviceId){r.audio=!0;break}for(const s of n)if(s.label&&s.deviceId){r.video=!0;break}return r}};let ep=!1;const kn=new class extends Vt{constructor(){super(...arguments),ee(this,"onAutoplayFailed",void 0),ee(this,"onAudioAutoplayFailed",void 0)}};function vM(){if(st(),!ep){const e=t=>{t.preventDefault(),ep=!1,jA()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};ep=!0,jA()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),M.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),kn.onAutoplayFailed?kn.onAutoplayFailed():kn.onAudioAutoplayFailed?M.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.

  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):M.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.

  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.

  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),kn.emit("autoplay-failed")}}function _M(e,t,n,r){if(!e)return;const s=ve.getBaseInfoBySessionId(e);if(!s)return;const o=s.info,a=Date.now(),d=Dt(Dt({},o),{},{vid:o.vid===void 0?0:Number(o.vid),lts:a,elapse:a-s.startTime,cbRegistered:kn.onAutoplayFailed||kn.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});ve.send({type:Lt.AUTOPLAY_FAILED,data:d},!0)}const tG=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],on=new class{constructor(){ee(this,"onAutoplayFailed",void 0),ee(this,"elementMap",new Map),ee(this,"elementStateMap",new Map),ee(this,"elementsNeedToResume",[]),ee(this,"sinkIdMap",new Map),ee(this,"autoResumeAfterInterruption",e=>{Array.from(this.elementMap.entries()).forEach(t=>{let[n,r]=t;const s=this.elementStateMap.get(n),o=r.srcObject.getAudioTracks()[0],a=o&&o.readyState;if(M.debug("resume after interrupted, ele: ".concat(s," audio: ").concat(a," ").concat(e)),a==="live"){if(e)return r.pause(),void r.play();if(ft.curState==="running")return Ia()?(r.pause(),void r.play()):void(s&&s==="paused"&&r.play())}})}),ee(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{Array.from(this.elementMap.entries()).forEach(e=>{let[t,n]=e;const r=n.srcObject.getAudioTracks()[0];r&&r.readyState==="live"&&(M.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())})}),this.autoResumeAudioElement(),ft.on(Ui.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),ft.on(Ui.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),ft.on(Ui.STATE_CHANGE,()=>{Xi()&&ft.prevState==="suspended"&&ft.curState==="running"&&this.autoResumeAfterInterruption()})}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(r){throw new $(j.PERMISSION_DENIED,"can not set sink id: "+r.toString())}}play(e,t,n,r){if(this.elementMap.has(t))return;const s=document.createElement("audio");s.autoplay=!0,s.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,s),this.elementMap.set(t,s),this.elementStateMap.set(t,xi.INIT),this.setVolume(t,n);const o=this.sinkIdMap.get(t);if(o)try{s.setSinkId(o).catch(d=>{M.warning("[".concat(t,"] set sink id failed"),d.toString())})}catch(d){M.warning("[".concat(t,"] set sink id failed"),d.toString())}const a=s.play();a&&a.then&&a.catch(d=>{r&&_M(r,"audio",d.message,t),M.warning("audio element play warning",d.toString()),this.elementMap.has(t)&&d.name==="NotAllowedError"&&(M.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(s),qd(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),vM()}))})}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&this.elementStateMap.get(e)==="playing"}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){tG.forEach(n=>{t.addEventListener(n,r=>{const s=this.elementStateMap.get(e),o=r.type==="pause"?"paused":r.type;if(M.debug("[".concat(e,"] audio-element-status change ").concat(s," => ").concat(o)),r.type==="error"){const a=t==null?void 0:t.error;a&&M.error("[".concat(e,"] media error, code: ").concat(a.code,", message: ").concat(a.message))}this.elementStateMap.set(e,o)})})}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach(t=>{t.play().then(n=>{M.debug("Auto resume audio element success")}).catch(n=>{M.warning("Auto resume audio element failed!",n)})}),this.elementsNeedToResume=[]};new Ie(t=>{document.body?t():window.addEventListener("load",()=>t())}).then(()=>{jA()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0))})}};function $t(){return function(e,t,n){const r=n.value;return typeof r=="function"&&(n.value=function(){this._isClosed&&new $(j.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",M);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];const d=r.apply(this,o);return d instanceof Ie?new Ie((l,E)=>{d.then(l).catch(E)}):d}),n}}class FM extends Vt{constructor(t){super(),ee(this,"name","VideoProcessorDestination"),ee(this,"ID","0"),ee(this,"_source",void 0),ee(this,"videoContext",void 0),ee(this,"inputTrack",void 0),this.videoContext=t}get kind(){return"video"}get enabled(){return!0}pipe(){throw new $(j.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new $(j.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(t){if(t.context!==this.videoContext)throw new Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.
Probably you are making pipeline like this:
videoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);t.track&&t.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=t.track,this.emit(en.ON_TRACK,t.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(en.ON_TRACK,void 0)}}class QM extends Vt{set chained(t){this._chained=t}get chained(){return this._chained}constructor(t,n){super(),ee(this,"constraintsMap",new Map),ee(this,"statsRegistry",[]),ee(this,"usageRegistry",[]),ee(this,"trackId",void 0),ee(this,"direction",void 0),ee(this,"_chained",!1),this.trackId=t,this.direction=n}async getConstraints(){return await bi(this,Fn.REQUEST_CONSTRAINTS)}async requestApplyConstraints(t,n){var r;return M.info("processor ".concat(n.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(n,t),St(this,Fn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Is(r=this.constraintsMap).call(r)))}async requestRevertConstraints(t){var n;if(this.constraintsMap.has(t))return M.info("processor ".concat(t.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(t),St(this,Fn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Is(n=this.constraintsMap).call(n)))}registerStats(t,n,r){this.statsRegistry.find(s=>s.processorID===t.ID&&s.processorName===t.name&&s.type===n)||this.statsRegistry.push({processorName:t.name,processorID:t.ID,type:n,cb:r})}unregisterStats(t,n){const r=this.statsRegistry.findIndex(s=>s.processorID===t.ID&&s.processorName===t.name&&s.type===n);r!==-1&&this.statsRegistry.splice(r,1)}gatherStats(){const t=[];for(const{processorID:n,processorName:r,type:s,cb:o}of this.statsRegistry)try{const a=o();t.push({processorID:n,processorName:r,type:s,stats:a})}catch(a){M.error(new $(j.UNEXPECTED_ERROR,a.message))}return t}registerUsage(t,n){this.usageRegistry.find(r=>r.processorID===t.ID&&r.processorName===t.name)||this.usageRegistry.push({processorID:t.ID,processorName:t.name,cb:n})}unregisterUsage(t){const n=this.usageRegistry.findIndex(r=>r.processorID===t.ID&&r.processorName===t.name);n!==-1&&this.usageRegistry.splice(n,1)}async gatherUsage(){const t=[];if(!this.chained)return[];for(const{cb:n}of this.usageRegistry)try{let r=n();r instanceof Ie&&(r=await r),t.push(Dt(Dt({},r),{},{direction:this.direction}))}catch(r){M.error("gather extension usage error",r)}return t}getDirection(){return this.direction}}class bM extends Vt{constructor(t){super(),ee(this,"name","AudioProcessorDestination"),ee(this,"ID","0"),ee(this,"inputTrack",void 0),ee(this,"inputNode",void 0),ee(this,"audioProcessorContext",void 0),ee(this,"_source",void 0),this.audioProcessorContext=t}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new $(j.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new $(j.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(en.ON_TRACK,void 0),this.emit(en.ON_NODE,void 0)}updateInput(t){if(t.context!==this.audioProcessorContext)throw new Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.
        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);t.track&&this.inputTrack!==t.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=t.track,this.emit(en.ON_TRACK,this.inputTrack)),t.node&&this.inputNode!==t.node&&(this.audioProcessorContext.chained=!0,this.inputNode=t.node,this.emit(en.ON_NODE,this.inputNode))}}class DM extends Vt{set chained(t){this._chained=t}get chained(){return this._chained}constructor(t,n,r){super(),ee(this,"constraintsMap",new Map),ee(this,"statsRegistry",[]),ee(this,"audioContext",void 0),ee(this,"trackId",void 0),ee(this,"direction",void 0),ee(this,"usageRegistry",[]),ee(this,"_chained",!1),this.audioContext=t,this.trackId=n,this.direction=r}async getConstraints(){return bi(this,Fn.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(t,n){var r;return M.info("processor ".concat(n.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(n,t),St(this,Fn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Is(r=this.constraintsMap).call(r)))}async requestRevertConstraints(t){var n;if(this.constraintsMap.has(t))return this.constraintsMap.delete(t),St(this,Fn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Is(n=this.constraintsMap).call(n)))}registerStats(t,n,r){this.statsRegistry.find(s=>s.processorID===t.ID&&s.processorName===t.name&&s.type===n)||this.statsRegistry.push({processorName:t.name,processorID:t.ID,type:n,cb:r})}unregisterStats(t,n){const r=this.statsRegistry.findIndex(s=>s.processorID===t.ID&&s.processorName===t.name&&s.type===n);r!==-1&&this.statsRegistry.splice(r,1)}gatherStats(){const t=[];for(const{processorID:n,processorName:r,type:s,cb:o}of this.statsRegistry)try{const a=o();t.push({processorID:n,processorName:r,type:s,stats:a})}catch(a){M.error(new $(j.UNEXPECTED_ERROR,a.message))}return t}registerUsage(t,n){this.usageRegistry.find(r=>r.processorID===t.ID&&r.processorName===t.name)||this.usageRegistry.push({processorID:t.ID,processorName:t.name,cb:n})}unregisterUsage(t){const n=this.usageRegistry.findIndex(r=>r.processorID===t.ID&&r.processorName===t.name);n!==-1&&this.usageRegistry.splice(n,1)}async gatherUsage(){const t=[];if(!this.chained)return[];for(const{cb:n}of this.usageRegistry)try{let r=n();r instanceof Ie&&(r=await r),t.push(Dt(Dt({},r),{},{direction:this.direction}))}catch(r){M.error("gather extension usage error",r)}return t}getDirection(){return this.direction}}class tp extends Vt{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),ee(this,"context",void 0),ee(this,"processSourceNode",void 0),ee(this,"outputTrack",void 0),ee(this,"processedNode",void 0),ee(this,"clonedTrack",void 0),ee(this,"outputNode",void 0),this.outputNode=new iG}setVolume(){}createOutputTrack(){throw new $(j.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class iG{disconnect(){}connect(){}}function kM(e){return new Ie((t,n)=>{let r=!1;const s=document.createElement("video");s.setAttribute("autoplay",""),s.setAttribute("muted",""),s.muted=!0,s.autoplay=!0,s.setAttribute("playsinline",""),s.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(s);const o=Xi()?"canplay":"playing";s.addEventListener(o,()=>{const a=s.videoWidth,d=s.videoHeight;!a&&Gt()||(r=!0,s.srcObject=null,s.remove(),t([a,d]))}),s.srcObject=new MediaStream([e]),s.play().catch($d),setTimeout(()=>{r||(s.srcObject=null,s.remove(),t([s.videoWidth,s.videoHeight]))},4e3)})}function Tl(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const n=Xr(e.encoderConfig);return n.width!=null&&(t.width=n.width),n.height!=null&&(t.height=n.height),!VN()&&n.frameRate&&(t.frameRate=n.frameRate),_N()&&typeof t.frameRate=="object"&&(t.frameRate.max=60),Gt()&&(t.frameRate={ideal:30,max:30}),t}function YM(e){const t={};return VN()||(e.AGC!==void 0&&(t.autoGainControl=e.AGC),e.AEC!==void 0&&(t.echoCancellation=e.AEC),e.ANS!==void 0&&(t.noiseSuppression=e.ANS,ks()&&e.ANS&&(t.googHighpassFilter=e.ANS))),t}function jM(e){const t=YM(e);if(e.encoderConfig){const n=ml(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),Zd()&&(t.sampleRate=void 0),t}const nG=e=>{const t=e._encoderConfig;if(!t)return;const{frameRate:n,width:r,height:s}=e.getMediaStreamTrackSettings();let{frameRate:o=n,width:a=r,height:d=s}=t;if(!o||!a||!d)return;a=ig(a),d=ig(d),o=ig(o);const{max:l,min:E}=function(T,Q,U){const _=200*Math.pow(U/15,.6)*Math.pow(T*Q/640/360,.75);return{min:Math.floor(_),max:Math.floor(4*_)}}(a,d,o),{bitrateMax:g,bitrateMin:f}=t||{};g||M.debug("calculate bitrate: [w: ".concat(a,", h: ").concat(d,", fps: ").concat(o,"] => [brMax: ").concat(g,", brMin: ").concat(f,"]"));const{maxFramerate:C}=L("ENCODER_CONFIG_LIMIT");return C&&typeof C=="number"&&(o=Math.min(o,C)),{frameRate:o,bitrateMax:g||l,bitrateMin:f||E,scaleResolutionDownBy:1,scale:0}},OM=async(e,t,n)=>await(async(r,s,o)=>{const a=function(E){const g=[];for(let f=0;f<E.length;f+=2)g.push(parseInt(E.slice(f,f+2),16));return Uint8Array.from(g)}(rS(""+s+o)).slice(0,16),d=a.slice(0,12),l=await window.crypto.subtle.importKey("raw",a,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:d},l,r))})(e.buffer,t,n),np=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new Ie((n,r)=>{t.toBlob(async s=>{if(t.remove(),s){const o=await PM(s);n({buffer:o,width:t.width,height:t.height})}else r(new $(j.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},e,1)})},PM=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var VM,LM,GM,zM,xM,WM,JM,HM,ZM,XM,KM,qM,$M,ey,ty,iy,ny,ry,jt,sy,oy,ay,Ay,cy,dy,qr,ly,hy,uy,Ey,gy,py,Iy,fy,my,Cy,Ry,Ty,Ny,Yi;let Wt=(VM=Ye({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),LM=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),GM=$t(),zM=Ra("LocalAudioTrack","_enabledMutex"),xM=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),WM=$t(),JM=Ra("LocalAudioTrack","_enabledMutex"),HM=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),ZM=$t(),XM=$t(),KM=$t(),qM=Ye({argsMap:e=>[e.getTrackId()]}),$M=$t(),ey=Ye({argsMap:e=>[e.getTrackId()]}),ty=$t(),iy=Ye({argsMap:e=>[e.getTrackId()]}),ny=Ye({argsMap:(e,t)=>[e.getTrackId(),t.name]}),ry=Ye({argsMap:e=>[e.getTrackId()]}),rt((jt=class extends Va{get _source(){return this.initWebAudio()}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?on.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(e,t,n,r){super(e,n),ee(this,"trackMediaType",Pa.AUDIO),ee(this,"_encoderConfig",void 0),ee(this,"_trackSource",void 0),ee(this,"_enabled",!0),ee(this,"_volume",100),ee(this,"_useAudioElement",!0),ee(this,"_bypassWebAudio",!1),ee(this,"processor",void 0),ee(this,"_processorContext",void 0),ee(this,"_processorDestination",void 0),ee(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!r,this._trackSource=new tp,L("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),L("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),Fi()&&!Qn?setTimeout(()=>this.initWebAudio()):this.initWebAudio()}setVolume(e){Tt(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&on.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void M.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const t=this._source.createOutputTrack();this._mediaStreamTrack!==t&&(this._mediaStreamTrack=t,St(this,Te.NEED_REPLACE_TRACK,this).then(()=>{M.debug("[".concat(this.getTrackId(),"] replace web audio track success"))}).catch(n=>{M.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),n)}))}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!gM())throw new $(j.NOT_SUPPORTED,"your browser does not support setting the audio output device");await on.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(M.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await St(this,Te.NEED_ENABLE_TRACK,this),M.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success"))}catch(r){throw n||(this._enabled=!1),M.error("[".concat(this.getTrackId(),"] setEnabled to true error"),r.toString()),r}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await St(this,Te.NEED_DISABLE_TRACK,this)}catch(r){throw n||(this._enabled=!0),M.error("[".concat(this.getTrackId(),"] setEnabled to false error"),r.toString()),r}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,M.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await St(this,Te.NEED_MUTE_TRACK,this):await St(this,Te.NEED_UNMUTE_TRACK,this))}getStats(){return js(()=>{M.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")},"localAudioTrackGetStatsWarning"),Hn(this,Te.GET_STATS)||Dt({},Hg)}setAudioFrameCallback(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!e)return this._source.removeAllListeners(_n.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(_n.ON_AUDIO_BUFFER),this._source.on(_n.ON_AUDIO_BUFFER,n=>e(n))}play(){M.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(M.debug("[".concat(this.getTrackId(),"] start audio playback in element")),on.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){M.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?on.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];M.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&on.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await St(this,Te.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return Ie.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new $(j.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new $(j.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;(e=this._source.processSourceNode)===null||e===void 0||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(e){e.on(en.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(t),await St(this,Te.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await St(this,Te.NEED_REPLACE_TRACK,this))}),e.on(en.ON_NODE,t=>{this._source.processedNode=t})}unbindProcessorDestinationEvents(e){e.removeAllListeners(en.ON_TRACK),e.removeAllListeners(en.ON_NODE)}bindProcessorContextEvents(e){e.on(Fn.REQUEST_CONSTRAINTS,async t=>{t(this._originMediaStreamTrack.getSettings())})}unbindProcessorContextEvents(e){e.removeAllListeners(Fn.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof tp&&(this._trackSource=new MM(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const e=new DM(this._source.context,this.getTrackId(),"local"),t=new bM(e);return this._processorContext=e,this._processorDestination=t,this.bindProcessorContextEvents(e),this.bindProcessorDestinationEvents(t),this._source.on(_n.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e})}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(on.stop(this.getTrackId()),this._source.play()),St(this,Te.NEED_REPLACE_MIXING_TRACK,this).then(()=>{M.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))}).catch(n=>{M.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),n)})),{processorContext:e,processorDestination:t}}}).prototype,"setVolume",[VM],Object.getOwnPropertyDescriptor(jt.prototype,"setVolume"),jt.prototype),rt(jt.prototype,"setPlaybackDevice",[LM,GM],Object.getOwnPropertyDescriptor(jt.prototype,"setPlaybackDevice"),jt.prototype),rt(jt.prototype,"setEnabled",[zM,xM,WM],Object.getOwnPropertyDescriptor(jt.prototype,"setEnabled"),jt.prototype),rt(jt.prototype,"setMuted",[JM,HM,ZM],Object.getOwnPropertyDescriptor(jt.prototype,"setMuted"),jt.prototype),rt(jt.prototype,"getStats",[XM],Object.getOwnPropertyDescriptor(jt.prototype,"getStats"),jt.prototype),rt(jt.prototype,"setAudioFrameCallback",[KM],Object.getOwnPropertyDescriptor(jt.prototype,"setAudioFrameCallback"),jt.prototype),rt(jt.prototype,"play",[qM,$M],Object.getOwnPropertyDescriptor(jt.prototype,"play"),jt.prototype),rt(jt.prototype,"stop",[ey,ty],Object.getOwnPropertyDescriptor(jt.prototype,"stop"),jt.prototype),rt(jt.prototype,"close",[iy],Object.getOwnPropertyDescriptor(jt.prototype,"close"),jt.prototype),rt(jt.prototype,"pipe",[ny],Object.getOwnPropertyDescriptor(jt.prototype,"pipe"),jt.prototype),rt(jt.prototype,"unpipe",[ry],Object.getOwnPropertyDescriptor(jt.prototype,"unpipe"),jt.prototype),jt),Nl=(sy=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),oy=$t(),ay=Ra("MicrophoneAudioTrack","_enabledMutex"),Ay=Ye({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),cy=$t(),dy=Ye({argsMap:e=>[e.getTrackId()]}),rt((qr=class extends Wt{get __className__(){return"MicrophoneAudioTrack"}constructor(e,t,n,r){super(e,t.encoderConfig?ml(t.encoderConfig):{},r,L("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),ee(this,"_config",void 0),ee(this,"_deviceName","default"),ee(this,"_constraints",void 0),ee(this,"_originalConstraints",void 0),ee(this,"_enabled",!0),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,typeof t.bypassWebAudio=="boolean"&&(this._bypassWebAudio=t.bypassWebAudio),(Ia()||ZE())&&ft.bindInterruptDetectorTrack(this)}async setDevice(e){if(M.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),this._enabled)try{const t=await Dn.getDeviceById(e),n={};n.audio=Dt({},this._constraints),n.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let r=null;try{r=await bn(n,this.getTrackId())}catch(s){throw M.error("[".concat(this.getTrackId(),"] setDevice failed"),s.toString()),r=await bn({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1),s}await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(t){throw M.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}else try{const t=await Dn.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(t){throw M.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}M.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success"))}async setEnabled(e,t,n){if(t)return M.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(M.info("[".concat(this.getTrackId(),"] start setEnabled"),e),L("AUTO_RESET_AUDIO_ROUTE")&&(Xi()||or())){const a=navigator.audioSession;a&&(e||(a.type="playback"),a.type="auto")}if(!e){var r;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(r=this._source.clonedTrack)===null||r===void 0||r.stop(),n||(this._enabled=!1);try{await St(this,Te.NEED_DISABLE_TRACK,this)}catch(a){throw M.error("[".concat(this.getTrackId(),"] setEnabled false failed"),a.toString()),a}return}const s=Dt({},this._constraints),o=Dn.searchDeviceIdByName(this._deviceName);o&&!s.deviceId&&(s.deviceId=o);try{n||(this._enabled=!0);const a=await bn({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(a.getAudioTracks()[0],!1),await St(this,Te.NEED_ENABLE_TRACK,this)}catch(a){throw n||(this._enabled=!1),M.error("[".concat(this.getTrackId(),"] setEnabled true failed"),a.toString()),a}M.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(Ia()||ZE())&&ft.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((Xi()||or())&&this._enabled&&!this._isClosed&&ft.duringInterruption){const e=async()=>{ft.off(Ui.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(M.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};ft.on(Ui.IOS_INTERRUPTION_END,e)}else M.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(ja.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=Dn.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const r=await bn({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e){super.bindProcessorContextEvents(e),e.on(Fn.REQUEST_UPDATE_CONSTRAINTS,async(t,n,r)=>{try{const s=Object.assign({},this._originalConstraints,...t);await this.renewMediaStreamTrack(s),n()}catch(s){r(s)}})}unbindProcessorContextEvents(e){super.unbindProcessorContextEvents(e),e.removeAllListeners(Fn.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[sy,oy],Object.getOwnPropertyDescriptor(qr.prototype,"setDevice"),qr.prototype),rt(qr.prototype,"setEnabled",[ay,Ay,cy],Object.getOwnPropertyDescriptor(qr.prototype,"setEnabled"),qr.prototype),rt(qr.prototype,"close",[dy],Object.getOwnPropertyDescriptor(qr.prototype,"close"),qr.prototype),qr),rG=(ly=Ye({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),hy=$t(),uy=Ye({argsMap:e=>[e.getTrackId()]}),Ey=$t(),gy=Ye({argsMap:e=>[e.getTrackId()]}),py=$t(),Iy=Ye({argsMap:e=>[e.getTrackId()]}),fy=$t(),my=Ye({argsMap:e=>[e.getTrackId()]}),Cy=$t(),Ry=Ye({argsMap:e=>[e.getTrackId()]}),Ty=Ye({argsMap:e=>[e.getTrackId()]}),Ny=$t(),rt((Yi=class extends Wt{get __className__(){return"BufferSourceAudioTrack"}constructor(e,t,n,r){super(t.createOutputTrack(),n,r),ee(this,"source",void 0),ee(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=e,this._bufferSource=t,this._bufferSource.on(_n.AUDIO_SOURCE_STATE_CHANGE,s=>{this.safeEmit(ja.SOURCE_STATE_CHANGE,s)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){Tt(e,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,"startProcessAudioBuffer",[ly,hy],Object.getOwnPropertyDescriptor(Yi.prototype,"startProcessAudioBuffer"),Yi.prototype),rt(Yi.prototype,"pauseProcessAudioBuffer",[uy,Ey],Object.getOwnPropertyDescriptor(Yi.prototype,"pauseProcessAudioBuffer"),Yi.prototype),rt(Yi.prototype,"seekAudioBuffer",[gy,py],Object.getOwnPropertyDescriptor(Yi.prototype,"seekAudioBuffer"),Yi.prototype),rt(Yi.prototype,"resumeProcessAudioBuffer",[Iy,fy],Object.getOwnPropertyDescriptor(Yi.prototype,"resumeProcessAudioBuffer"),Yi.prototype),rt(Yi.prototype,"stopProcessAudioBuffer",[my,Cy],Object.getOwnPropertyDescriptor(Yi.prototype,"stopProcessAudioBuffer"),Yi.prototype),rt(Yi.prototype,"close",[Ry],Object.getOwnPropertyDescriptor(Yi.prototype,"close"),Yi.prototype),rt(Yi.prototype,"setAudioBufferPlaybackSpeed",[Ty,Ny],Object.getOwnPropertyDescriptor(Yi.prototype,"setAudioBufferPlaybackSpeed"),Yi.prototype),Yi);class Ii extends Wt{get __className__(){return"MixingAudioTrack"}get isActive(){for(const t of this.trackList)if(t._enabled&&!t._isClosed&&!t.muted)return!0;return!1}constructor(){const t=La().createMediaStreamDestination();super(t.stream.getAudioTracks()[0],void 0,wt(8,"track-mix-")),ee(this,"trackList",void 0),ee(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}this.destNode=t,this.trackList=[]}hasAudioTrack(t){return this.trackList.indexOf(t)!==-1}addAudioTrack(t){this.trackList.indexOf(t)===-1?(M.debug("add ".concat(t.getTrackId()," to mixing track")),t._source.outputNode.connect(this.destNode),this.trackList.push(t),this.updateEncoderConfig()):M.debug("track ".concat(t.getTrackId()," is already added"))}removeAudioTrack(t){if(this.trackList.indexOf(t)!==-1){M.debug("remove ".concat(t.getTrackId()," from mixing track"));try{t._source.outputNode.disconnect(this.destNode)}catch{}Kd(this.trackList,t),this.updateEncoderConfig()}}updateEncoderConfig(){const t={};this.trackList.forEach(n=>{n._encoderConfig&&((n._encoderConfig.bitrate||0)>(t.bitrate||0)&&(t.bitrate=n._encoderConfig.bitrate),(n._encoderConfig.sampleRate||0)>(t.sampleRate||0)&&(t.sampleRate=n._encoderConfig.sampleRate),(n._encoderConfig.sampleSize||0)>(t.sampleSize||0)&&(t.sampleSize=n._encoderConfig.sampleSize),n._encoderConfig.stereo&&(t.stereo=!0))}),this._encoderConfig=t}_updateRtpTransceiver(t){this._rtpTransceiver!==t&&(this._rtpTransceiver=t,this.trackList.forEach(n=>{n instanceof Ii?n.emit(Bo.TRANSCEIVER_UPDATED,t):n._updateRtpTransceiver(t)}))}}class sG extends SM{set currentState(t){t!==this._currentState&&(this._currentState=t,this.safeEmit(_n.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ee(this,"audioBuffer",void 0),ee(this,"sourceNode",void 0),ee(this,"startPlayTime",0),ee(this,"startPlayOffset",0),ee(this,"pausePlayTime",0),ee(this,"options",void 0),ee(this,"currentLoopCount",0),ee(this,"currentPlaybackSpeed",100),ee(this,"_currentState","stopped"),this.audioBuffer=t,this.options=n,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState==="stopped"?0:this.currentState==="paused"?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(t){this.currentState==="stopped"?(this.options=t,this.startPlayOffset=this.options.startPlayTime||0):M.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState==="playing"&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(t){this.sourceNode&&(this.sourceNode.onended=null,this.currentState==="playing"&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState==="playing"?(this.startPlayOffset=t,this.startSourceNode()):this.currentState==="paused"&&(this.pausePlayTime=t))}resumeProcessAudioBuffer(){this.currentState==="paused"&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch{}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(t){this.sourceNode&&(this.currentState==="playing"&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=t/100),this.currentPlaybackSpeed=t}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const t=this.context.createBufferSource();return t.buffer=this.audioBuffer,t.loop=!!this.options.loop,t.connect(this.outputNode),t.playbackRate.value=this.currentPlaybackSpeed/100,t}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const Sy=new Map;class rp{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const t=this.renderStats.curTs-this.renderStats.lastTs,n=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/t;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,n}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(t){t!==this._videoElementStatus&&(M.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(t)),this._videoElementStatus=t)}get videoState(){return this._videoState}set videoState(t){var n;t!==this._videoState&&(this._videoState=t,(n=this.onVideoStateChanged)===null||n===void 0||n.call(this,this.videoState))}constructor(t){ee(this,"trackId",void 0),ee(this,"config",void 0),ee(this,"onFirstVideoFrameDecoded",void 0),ee(this,"onVideoStateChanged",void 0),ee(this,"freezeTimeCounterList",[]),ee(this,"renderFreezeAccTime",0),ee(this,"isKeepLastFrame",!1),ee(this,"timeUpdatedCount",0),ee(this,"freezeTime",0),ee(this,"playbackTime",0),ee(this,"lastTimeUpdatedTime",0),ee(this,"autoplayFailed",!1),ee(this,"videoTrack",void 0),ee(this,"videoElement",void 0),ee(this,"cacheVideoElement",void 0),ee(this,"renderStats",void 0),ee(this,"_videoState",Kr.VideoStateStopped),ee(this,"videoElementCheckInterval",void 0),ee(this,"videoElementFreezeTimeout",void 0),ee(this,"_videoElementStatus",xi.NONE),ee(this,"isGettingVideoDimensions",!1),ee(this,"startGetVideoDimensions",()=>{const n=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return M.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(n,500)};!this.isGettingVideoDimensions&&n()}),ee(this,"autoResumeAfterInterruption",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&ft.curState==="running"&&(M.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(vN())),ON()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),ee(this,"handleVideoEvents",n=>{switch(n.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=xi.PLAYING;break;case"loadeddata":if(this.videoState=Kr.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch{}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=xi.CANPLAY;break;case"stalled":this.videoElementStatus=xi.STALLED;break;case"suspend":this.videoElementStatus=xi.SUSPEND;break;case"pause":this.videoElementStatus=xi.PAUSED,Xi()||or()||Fi()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!=="live"||(M.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=xi.WAITING;break;case"abort":this.videoElementStatus=xi.ABORT;break;case"ended":this.videoElementStatus=xi.ENDED;break;case"emptied":this.videoElementStatus=xi.EMPTIED;break;case"error":{const r=this.videoElement.error;r&&(this.videoElementStatus=xi.ERROR,M.error("[".concat(this.trackId,"] media error: ").concat(r.message," (").concat(r.code,")")));break}case"timeupdate":{const r=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=r);const s=r-this.lastTimeUpdatedTime,o=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=r,Cs.lastVisibleTime<Cs.lastHiddenTime||o<Cs.lastHiddenTime||o<Cs.lastVisibleTime)return;for(s>L("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=s),this.playbackTime+=s;this.playbackTime>=6e3;){this.playbackTime-=6e3;const a=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(a),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),ee(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&(M.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(vN())),ON()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=t.trackId,this.config=t,t.element instanceof HTMLVideoElement?this.videoElement=t.element:this.videoElement=document.createElement("video"),ft.on(Ui.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),ft.on(Ui.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var t;return(t=this.videoElement.parentElement)!==null&&t!==void 0?t:void 0}updateConfig(t){this.config=t,this.trackId=t.trackId,t.element!==this.videoElement&&(this.destroy(),this.videoElement=t.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(t){this.videoTrack!==t&&(this.videoTrack=t,this.initVideoElement())}play(t){const n=this.videoElement.play();n&&n.catch&&n.catch(s=>{t&&_M(t,"video",s.message,this.trackId),s.name==="NotAllowedError"?(M.warning("detected video element autoplay failed",s),this.autoplayFailed=!0,this.handleAutoPlayFailed()):M.warning("[".concat(this.trackId,"] play warning: "),s)});const r=st();if((r.name==="Safari"&&Number(r.version)===15||Ia())&&n&&n.then){const s=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};n.then(s).catch(s)}}getCurrentFrame(){const t=document.createElement("canvas");t.width=this.videoElement.videoWidth,t.height=this.videoElement.videoHeight;const n=t.getContext("2d");if(!n)return M.error("create canvas context failed!"),new ImageData(2,2);n.drawImage(this.videoElement,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height);return t.remove(),r}async getCurrentFrameToUint8Array(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=document.createElement("canvas");r.width=this.videoElement.videoWidth,r.height=this.videoElement.videoHeight;const s=r.getContext("2d");return s?(s.drawImage(this.videoElement,0,0,r.width,r.height),new Ie((o,a)=>{r.toBlob(async d=>{if(r.remove(),d){const l=await PM(d);o({buffer:l,width:r.width,height:r.height})}else a(new $(j.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},t,n<0?.1:n>1?1:n)})):await np(t)}destroy(){this.renderStats=void 0,ft.off(Ui.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),ft.off(Ui.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=Kr.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=xi.INIT,!this.videoElementCheckInterval&&(My.forEach(o=>{this.videoElement.addEventListener(o,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{(function(o){return o!==document.body&&document.body.contains(o)})(this.videoElement)||(this.videoElementStatus=xi.DESTROYED)},1e3),L("ENABLE_VIDEO_FRAME_CALLBACK"))){var t,n;let o;const a=()=>{document.visibilityState==="visible"&&(document.removeEventListener("visibilitychange",a),this.videoElementFreezeTimeout=window.setTimeout(d,L("VIDEO_FREEZE_DURATION")))},d=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===Kr.VideoStateDecoding&&(document.visibilityState==="visible"?this.videoState=Kr.VideoStateFrozen:document.addEventListener("visibilitychange",a))},l=(E,g)=>{if(this.videoElementStatus===xi.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=g.mediaTime):this.renderStats={lastTs:g.mediaTime,curTs:g.mediaTime,lastRenderNum:0,renderNum:0},o){const T=g.presentationTime-o.presentationTime;this.videoState===Kr.VideoStateStarting&&(this.videoState=Kr.VideoStateDecoding),this.videoState===Kr.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(d,L("VIDEO_FREEZE_DURATION"))),T<L("VIDEO_FREEZE_DURATION")&&this.videoState===Kr.VideoStateFrozen&&(this.videoState=Kr.VideoStateDecoding),T>L("VIDEO_FREEZE_DURATION")&&Cs.lastVisibleTime>=Cs.lastHiddenTime&&o.timestamp>Cs.lastVisibleTime&&o.timestamp>Cs.lastHiddenTime&&(this.renderFreezeAccTime+=T)}o=Dt(Dt({},g),{},{timestamp:E})}var f,C;L("ENABLE_VIDEO_FRAME_CALLBACK")&&((f=(C=this.videoElement).requestVideoFrameCallback)===null||f===void 0||f.call(C,l))};(t=(n=this.videoElement).requestVideoFrameCallback)===null||t===void 0||t.call(n,l)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),Zd()&&!L("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const r=st();r.name==="Safari"&&Number(r.version)===15||Ia()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Gt()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Gt()&&this.videoElement.load());const s=this.videoElement.play();s!==void 0&&s.catch(o=>{M.debug("[".concat(this.trackId,"] playback interrupted"),o.toString())})}resetVideoElement(){My.forEach(t=>{this.videoElement&&this.videoElement.removeEventListener(t,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=xi.NONE}handleAutoPlayFailed(){const t=n=>{n.preventDefault(),this.videoElement.play().then(()=>{M.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))}).catch(r=>{M.error(r)}),this.autoplayFailed=!1,jA()?document.body.removeEventListener("click",t,!0):(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0))};jA()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)),vM()}}const My=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class yy extends rp{constructor(t){super(t),ee(this,"container",void 0),ee(this,"slot",void 0),this.slot=t.element,this.updateConfig(t)}updateConfig(t){this.config=t,this.trackId=t.trackId;const n=t.element;n!==this.slot&&(this.destroy(),this.slot=n),this.createElements()}updateVideoTrack(t){this.videoTrack!==t&&(this.videoTrack=t,this.createElements())}play(t){var n;(n=this.container)!==null&&n!==void 0&&n.contains(this.videoElement)&&super.play(t)}getCurrentFrame(){var t;return(t=this.container)!==null&&t!==void 0&&t.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(t){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(n=this.container)!==null&&n!==void 0&&n.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(t,r):await np(t)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch{}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",L("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var t;!this.container||(t=this.container)!==null&&t!==void 0&&t.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var t;if((t=this.container)!==null&&t!==void 0&&t.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch{}this.videoElement=document.createElement("video")}}resetVideoElement(){var t;(t=this.container)!==null&&t!==void 0&&t.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var wy,By,Uy,vy,_y,Fy,Qy,by,Dy,ky,Yy,jy,Oy,Py,Vy,Ly,Gy,zy,xy,Wy,Jy,Hy,Zy,Xy,et,Ky,qy,$y,ew,tw,iw,nw,rw,Yn;let Qt=(wy=Ye({argsMap:(e,t,n)=>[e.getTrackId(),typeof t=="string"?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),By=$t(),Uy=Ye({argsMap:e=>[e.getTrackId()]}),vy=Ra("LocalVideoTrack","_enabledMutex"),_y=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),Fy=$t(),Qy=Ra("LocalVideoTrack","_enabledMutex"),by=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),Dy=$t(),ky=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),Yy=$t(),jy=$t(),Oy=Ye({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),Py=$t(),Vy=$t(),Ly=$t(),Gy=$t(),zy=$t(),xy=$t(),Wy=$t(),Jy=Ye({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Hy=Ye({argsMap:e=>[e.getTrackId()]}),Zy=Ye({argsMap:e=>[e.getTrackId()]}),Xy=Ye({argsMap:(e,t,n)=>[e.getTrackId(),t.label,n]}),et=class av extends Va{get videoHeight(){if(Fi()){const{height:t}=this._mediaStreamTrack.getSettings();return this._videoHeight=t,this._videoHeight}return this._videoHeight}get videoWidth(){if(Fi()){const{width:t}=this._mediaStreamTrack.getSettings();return this._videoWidth=t,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==xi.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(t){this._processorContext=t}get __className__(){return"LocalVideoTrack"}constructor(t,n,r,s,o,a){if(super(t,o),ee(this,"trackMediaType",Pa.VIDEO),ee(this,"_player",void 0),ee(this,"isUseScaleResolutionDownBy",!1),ee(this,"_videoVisibleTimer",null),ee(this,"_previousVideoVisibleStatus",void 0),ee(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),ee(this,"_encoderConfig",void 0),ee(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),ee(this,"_optimizationMode",void 0),ee(this,"_videoHeight",void 0),ee(this,"_videoWidth",void 0),ee(this,"_forceBitrateLimit",void 0),ee(this,"_enabled",!0),ee(this,"_processorDestination",void 0),ee(this,"_processorContext",void 0),Fi()){const{width:d,height:l}=t.getSettings();this._videoWidth=d,this._videoHeight=l}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=n,this._scalabilityMode=r,this._optimizationMode=s,this._hints=a||[],this._hints.indexOf(Bt.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(function(d,l,E){const g=st();return!(g.name!==d||!g.osVersion)&&Number(g.version)===l}(ht.CHROME,115)&&Jd().indexOf("Windows")!==-1){const d=function(l,E){if("VideoFrame"in window&&"TransformStream"in window&&ot().supportWebRTCInsertableStream){const g=new MediaStreamTrackProcessor(l),f=new MediaStreamTrackGenerator({kind:"video"});let C,T,Q=Date.now();const U=()=>{_&&(clearInterval(_),_=void 0),C&&(C.close(),C=void 0),l.stop(),T=void 0,f.removeEventListener("ended",U)};let _=window.setInterval(()=>{if(T&&C&&Date.now()-Q>1e3)try{f.readyState==="live"?T.enqueue(C.clone()):U()}catch{U()}},1e3);const b=new TransformStream({transform:(Y,G)=>{f.readyState==="live"?(T=G,Q=Date.now(),C===void 0?(C=Y,G.enqueue(Y.clone())):(G.enqueue(C),C=Y)):Y.close()}});return f.addEventListener("ended",U),g.readable.pipeThrough(b).pipeTo(f.writable),f}}(t);d&&(M.info("local screen video track begin to inject frame"),this._mediaStreamTrack=d)}n&&this._hints.indexOf(Bt.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(n),this._processorContext=new QM(this.getTrackId(),"local"),this._processorDestination=new FM(this.processorContext),this.bindProcessorDestinationEvents()}play(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string"){const s=document.getElementById(t);s?t=s:(M.warning("[".concat(this.getTrackId(),'] can not find "#').concat(t,'" element, use document.body')),t=document.body)}M.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(n));const r=Dt(Dt(Dt({},this._getDefaultPlayerConfig()),n),{},{trackId:this.getTrackId(),element:t});this._player?this._player.updateConfig(r):(t instanceof HTMLVideoElement?this._player=new rp(r):this._player=new yy(r),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const s=this.getVideoElementVisibleStatus();this.safeEmit(ja.VIDEO_ELEMENT_VISIBLE_STATUS,s)}catch{}},L("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,M.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(t,n){if(!n){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(M.info("[".concat(this.getTrackId(),"] start setEnabled"),t),!t){this._originMediaStreamTrack.enabled=!1;try{await St(this,Te.NEED_DISABLE_TRACK,this)}catch(r){throw M.error("[".concat(this.getTrackId(),"] setEnabled to false error"),r.toString()),r}return n||(this._enabled=!1),void M.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await St(this,Te.NEED_ENABLE_TRACK,this)}catch(r){throw M.error("[".concat(this.getTrackId(),"] setEnabled to true error"),r.toString()),r}M.info("[".concat(this.getTrackId(),"] setEnabled to true success")),n||(this._enabled=!0)}async setMuted(t){t!==this._muted&&(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,M.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),t?await St(this,Te.NEED_MUTE_TRACK,this):await St(this,Te.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(t,n){if(!this._enabled)throw new $(j.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(t=Xr(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),t.width||t.height||t.frameRate){const r=Tl({encoderConfig:t});(Fi()||Xi()||or())&&(r.deviceId=void 0),M.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(r));try{await this._originMediaStreamTrack.applyConstraints(r),this.updateMediaStreamTrackResolution()}catch(s){const o=new $(j.UNEXPECTED_ERROR,s.toString());throw M.error("[".concat(this.getTrackId(),"] applyConstraints error"),o.toString()),o}}this._encoderConfig=t,this._hints.indexOf(Bt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await St(this,Te.NEED_UPDATE_VIDEO_ENCODER,this)}catch(r){return r.throw(M)}}getStats(){return js(()=>{M.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")},"localVideoTrackGetStatsWarning"),Hn(this,Te.GET_STATS)||Dt({},Zg)}async setBeautyEffect(t){M.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(t,n):await np(t)}async setBitrateLimit(t){if(M.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(t))),t){this._forceBitrateLimit=t,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<t.max_bitrate?this._encoderConfig.bitrateMax:t.max_bitrate:this._encoderConfig.bitrateMax=t.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=t.min_bitrate);try{await St(this,Te.NEED_UPDATE_VIDEO_ENCODER,this)}catch(n){return n.throw(M)}}}async setOptimizationMode(t){if(t!=="motion"&&t!=="detail"&&t!=="balanced")return void M.error(j.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const n=this._optimizationMode;try{this._optimizationMode=t,await St(this,Te.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(r){throw this._optimizationMode=n,M.error("[".concat(this.getTrackId(),"] set optimization mode failed"),r.toString()),r}M.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(t,")"))}setScalabiltyMode(t){if(t.numSpatialLayers===1&&t.numTemporalLayers!==1)return M.error(j.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=t,M.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(t,")"))}updateMediaStreamTrackResolution(){kM(this._originMediaStreamTrack).then(t=>{let[n,r]=t;this._videoHeight=r,this._videoWidth=n}).catch($d)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(t){if(!this._enabled)throw new $(j.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");M.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(t)),t=Xr(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),this._encoderConfig=t,this._hints.indexOf(Bt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await St(this,Te.NEED_UPDATE_VIDEO_ENCODER,this)}catch(n){return n.throw(M)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:t,height:n,frameRate:r}=this.getMediaStreamTrackSettings();if(!t||!n||!r)return;const{bitrateMax:s,bitrateMin:o}=this._encoderConfig;if(o==null||s==null){const{max:a,min:d}=function(l,E,g,f,C){const T=L("BITRATE_ADAPTER_TYPE");if(T==="DEFAULT_BITRATE")return{min:f,max:C};if(C===void 0){var Q;const _=Math.floor(200*Math.pow(g/15,.6)*Math.pow(l*E/640/360,.75));C=T==="STANDARD_BITRATE"?4*_:2*_,f=(Q=f)!==null&&Q!==void 0?Q:_}else{var U;f=(U=f)!==null&&U!==void 0?U:Math.floor(C/10)}return{min:f,max:C}}(t,n,r,o,s);this._encoderConfig.bitrateMin=d,this._encoderConfig.bitrateMax=a,M.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(t,", h: ").concat(n,", fps: ").concat(r,"] => [brMax: ").concat(a,", brMin: ").concat(d,"]"))}}getVideoElementVisibleStatus(){try{var t,n;const r=this==null||(t=this._player)===null||t===void 0?void 0:t.getContainerElement(),s={track:this,element:this==null||(n=this._player)===null||n===void 0?void 0:n.getVideoElement(),slot:r==null?void 0:r.parentElement},{element:o,slot:a}=s;if(this.isPlaying&&o instanceof HTMLVideoElement&&a instanceof HTMLElement){const d=zN.checkOneElementVisible(o),l=Object.assign({},d);if(l.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=l.visible;const E=ve.reportApiInvoke(null,{tag:zt.TRACER,name:gi.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});l.visible?E.onSuccess("Video is visible"):E.onSuccess("Invisible because of ".concat(l.reason))}return l}return}catch(r){throw new $(j.GET_VIDEO_ELEMENT_VISIBLE_ERROR,r.message)}}async renewMediaStreamTrack(t){}pipe(t){if(this.processor===t)return t;if(t._source)throw new $(j.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),t}unpipe(){if(!this.processor)return;const t=this.processor;this.processor._source=void 0,this.processor=void 0,t.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._encoderConfig;t&&(r=Dt(Dt({},r),Xr(t))),r=Co(r);const s=wt(8,"track-video-cloned-"),o=new av(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,r,Co(this._scalabilityMode),this._optimizationMode,s,Co(this._hints));return t&&r&&o.setEncoderConfiguration(r),M.debug("clone video track from ".concat(this.getTrackId()," to ").concat(s,", clone ").concat(n)),o}async replaceTrack(t,n){if(!(t instanceof MediaStreamTrack))throw new $(j.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if(t.kind!=="video")throw new $(j.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(t,n,!0),this.updateMediaStreamTrackResolution()}sendSeiData(t){if(js(()=>{ve.reportApiInvoke(null,{name:gi.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:zt.TRACER}).onSuccess("")},this._mediaStreamTrack.id||this.getTrackId()),!L("ENABLE_VIDEO_SEI")||!L("ENABLE_ENCODED_TRANSFORM"))return void M.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(t instanceof Uint8Array==0)return new $(j.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const n=this.getRTCRtpTransceiver();if(!n)return void M.warning("Video track is not published, SEI can not be send");const r=n.sender.getParameters();if(r.codecs.length===0)return;const s=r.codecs[0].mimeType.toLocaleLowerCase();s==="video/h264"?this.safeEmit("sei-to-send",t):M.warning("SEI is not supported by ".concat(s))}bindProcessorDestinationEvents(){this.processorDestination.on(en.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(),await St(this,Te.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await St(this,Te.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(en.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Fn.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Fn.REQUEST_CONSTRAINTS)}},rt(et.prototype,"play",[wy,By],Object.getOwnPropertyDescriptor(et.prototype,"play"),et.prototype),rt(et.prototype,"stop",[Uy],Object.getOwnPropertyDescriptor(et.prototype,"stop"),et.prototype),rt(et.prototype,"setEnabled",[vy,_y,Fy],Object.getOwnPropertyDescriptor(et.prototype,"setEnabled"),et.prototype),rt(et.prototype,"setMuted",[Qy,by,Dy],Object.getOwnPropertyDescriptor(et.prototype,"setMuted"),et.prototype),rt(et.prototype,"setEncoderConfiguration",[ky,Yy],Object.getOwnPropertyDescriptor(et.prototype,"setEncoderConfiguration"),et.prototype),rt(et.prototype,"getStats",[jy],Object.getOwnPropertyDescriptor(et.prototype,"getStats"),et.prototype),rt(et.prototype,"setBeautyEffect",[Oy,Py],Object.getOwnPropertyDescriptor(et.prototype,"setBeautyEffect"),et.prototype),rt(et.prototype,"getCurrentFrameData",[Vy],Object.getOwnPropertyDescriptor(et.prototype,"getCurrentFrameData"),et.prototype),rt(et.prototype,"getCurrentFrameImage",[Ly],Object.getOwnPropertyDescriptor(et.prototype,"getCurrentFrameImage"),et.prototype),rt(et.prototype,"setBitrateLimit",[Gy],Object.getOwnPropertyDescriptor(et.prototype,"setBitrateLimit"),et.prototype),rt(et.prototype,"setOptimizationMode",[zy],Object.getOwnPropertyDescriptor(et.prototype,"setOptimizationMode"),et.prototype),rt(et.prototype,"setScalabiltyMode",[xy],Object.getOwnPropertyDescriptor(et.prototype,"setScalabiltyMode"),et.prototype),rt(et.prototype,"updateMediaStreamTrackResolution",[Wy],Object.getOwnPropertyDescriptor(et.prototype,"updateMediaStreamTrackResolution"),et.prototype),rt(et.prototype,"pipe",[Jy],Object.getOwnPropertyDescriptor(et.prototype,"pipe"),et.prototype),rt(et.prototype,"unpipe",[Hy],Object.getOwnPropertyDescriptor(et.prototype,"unpipe"),et.prototype),rt(et.prototype,"close",[Zy],Object.getOwnPropertyDescriptor(et.prototype,"close"),et.prototype),rt(et.prototype,"replaceTrack",[Xy],Object.getOwnPropertyDescriptor(et.prototype,"replaceTrack"),et.prototype),et),sp=(Ky=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),qy=$t(),$y=Ra("CameraVideoTrack","_enabledMutex"),ew=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),tw=$t(),iw=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),nw=$t(),rw=Ye({argsMap:e=>[e.getTrackId()]}),Yn=class Av extends Qt{get __className__(){return"CameraVideoTrack"}constructor(t,n,r,s,o,a){super(t,Xr(n.encoderConfig),s,o,a),ee(this,"_config",void 0),ee(this,"_originalConstraints",void 0),ee(this,"_constraints",void 0),ee(this,"_enabled",!0),ee(this,"_deviceName","default"),ee(this,"tryResumeVideoForIOS15_16WeChat",async()=>{(Ia()||ZE())&&!function(){const d=st();if(d.os!==Ri.IOS||!d.osVersion)return!1;const l=d.osVersion.split(".");return Number(l[0])===15&&Number(l[1])>=2}()&&PN()&&this._enabled&&!this._isClosed&&(M.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())}),this._config=n,this._originalConstraints=r,this._constraints=r,this._deviceName=t.label,this._encoderConfig=Xr(this._config.encoderConfig),ft.on(Ui.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),ft.on(Ui.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(t){return typeof t=="string"?this._setDeviceById(t):t.deviceId?this._setDeviceById(t.deviceId):t.facingMode?this._setDeviceByFacingModel(t.facingMode):void 0}async _setDeviceById(t){if(M.info("[".concat(this.getTrackId(),"] set device to ").concat(t)),this._enabled)try{const n=await Dn.getDeviceById(t),r={};r.video=Dt({},this._constraints),r.video.deviceId={exact:t},r.video.facingMode=void 0,this._originMediaStreamTrack.stop();let s=null;try{s=await bn(r,this.getTrackId())}catch(o){throw M.error("[".concat(this.getTrackId(),"] setDevice failed"),o.toString()),s=await bn({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(s.getVideoTracks()[0],!1),o}await this._updateOriginMediaStreamTrack(s.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=n.label,this._config.cameraId=t,this._constraints.deviceId={exact:t}}catch(n){throw M.error("[".concat(this.getTrackId(),"] setDevice error"),n.toString()),n}else try{const n=await Dn.getDeviceById(t);this._deviceName=n.label,this._config.cameraId=t,this._constraints.deviceId={exact:t}}catch(n){throw M.error("[".concat(this.getTrackId(),"] setDevice error"),n.toString()),n}M.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(t){M.info("[".concat(this.getTrackId(),"] set facingMode ").concat(t));const n={video:Dt(Dt({},this._constraints),{},{deviceId:void 0,facingMode:{exact:t}})};if(this._enabled){this._originMediaStreamTrack.stop();let r=null;try{r=await bn(n,this.getTrackId())}catch(s){throw M.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),s.toString()),r=await bn({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),s}await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=t,this._config.cameraId=void 0,this._constraints=Dt({},n.video),M.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(t,n){if(!n){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(M.info("[".concat(this.getTrackId(),"] start setEnabled"),t),t){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const r=await bn({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1)}await St(this,Te.NEED_ENABLE_TRACK,this)}catch(r){throw M.error("[".concat(this.getTrackId(),"] setEnabled true error"),r.toString()),r}this.updateMediaStreamTrackResolution(),M.info("[".concat(this.getTrackId(),"] setEnabled to true success")),n||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),n||(this._enabled=!1);try{await St(this,Te.NEED_DISABLE_TRACK,this)}catch(r){throw M.error("[".concat(this.getTrackId(),"] setEnabled to false error"),r.toString()),r}M.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(t,n){if(!this._enabled)throw new $(j.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");t=Xr(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate||t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate||t.bitrateMin);const r=Xt(this._config);r.encoderConfig=t;const s=Tl(r);(Fi()||Xi()||or())&&(s.deviceId=void 0),M.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(s));try{await this._originMediaStreamTrack.applyConstraints(s),this.updateMediaStreamTrackResolution()}catch(o){const a=new $(j.UNEXPECTED_ERROR,o.toString());throw M.error("[".concat(this.getTrackId(),"] applyConstraints error"),a.toString()),a}this._config=r,this._constraints=s,this._originalConstraints=s,this._encoderConfig=t,this._hints.indexOf(Bt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await St(this,Te.NEED_UPDATE_VIDEO_ENCODER,this)}catch(o){return o.throw(M)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((Xi()||or())&&this._enabled&&!this._isClosed&&ft.duringInterruption){const t=async()=>{ft.off(Ui.IOS_INTERRUPTION_END,t),this._enabled&&!this._isClosed&&(M.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};ft.on(Ui.IOS_INTERRUPTION_END,t)}else M.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(ja.TRACK_ENDED)}async renewMediaStreamTrack(t){const n=t||this._constraints,r=Dn.searchDeviceIdByName(this._deviceName);if(r&&!n.deviceId&&(n.deviceId={exact:r}),this._enabled){const s=await bn({video:n},this.getTrackId());this._constraints=n,await this._updateOriginMediaStreamTrack(s.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),ft.off(Ui.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),ft.off(Ui.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._encoderConfig;t&&(r=Dt(Dt({},r),Xr(t))),r=Co(r);const s=wt(8,"track-cam-cloned-"),o=new Av(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,Co(Dt(Dt({},this._config),{},{encoderConfig:r})),Co(this._constraints),Co(this._scalabilityMode),this._optimizationMode,s);return t&&r&&o.setEncoderConfiguration(r),M.debug("clone track from ".concat(this.getTrackId()," to ").concat(s,", clone ").concat(n)),o}bindProcessorContextEvents(){this.processorContext.on(Fn.REQUEST_UPDATE_CONSTRAINTS,async(t,n,r)=>{try{const s=Object.assign({},this._originalConstraints,...t);await this.renewMediaStreamTrack(s),n()}catch(s){r(s)}}),this.processorContext.on(Fn.REQUEST_CONSTRAINTS,async t=>{t(this._originMediaStreamTrack.getSettings())})}},rt(Yn.prototype,"setDevice",[Ky,qy],Object.getOwnPropertyDescriptor(Yn.prototype,"setDevice"),Yn.prototype),rt(Yn.prototype,"setEnabled",[$y,ew,tw],Object.getOwnPropertyDescriptor(Yn.prototype,"setEnabled"),Yn.prototype),rt(Yn.prototype,"setEncoderConfiguration",[iw,nw],Object.getOwnPropertyDescriptor(Yn.prototype,"setEncoderConfiguration"),Yn.prototype),rt(Yn.prototype,"close",[rw],Object.getOwnPropertyDescriptor(Yn.prototype,"close"),Yn.prototype),Yn);function ap(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=Dt(Dt({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),n.optimizationMode!=="motion"&&n.optimizationMode!=="detail"||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?M.debug("[".concat(e,"] set content hint to"),n.optimizationMode):M.debug("[".concat(e,"] set content hint failed")))):M.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}var sw,ow,aw,Aw,qn,cw,dw,lw,hw,uw,Ew,Wi;class gw extends RM{getUserId(){return this._userId}constructor(t,n,r,s){super(t,"track-".concat(t.kind,"-").concat(n,"-").concat(s.clientId,"_").concat(wt(5,""))),ee(this,"_userId",void 0),ee(this,"_uintId",void 0),ee(this,"_isDestroyed",!1),ee(this,"store",void 0),ee(this,"processor",void 0),ee(this,"processorContext",void 0),this._userId=n,this._uintId=r,this.store=s}_updateOriginMediaStreamTrack(t){this._originMediaStreamTrack=t,this._mediaStreamTrack=t,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,M.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let za=(sw=Ye({argsMap:(e,t,n)=>[e.getTrackId(),typeof t=="string"?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),ow=Ye({argsMap:e=>[e.getTrackId()]}),aw=Ye({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Aw=Ye({argsMap:e=>[e.getTrackId()]}),rt((qn=class extends gw{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==xi.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(e,t,n,r){super(e,t,n,r),ee(this,"_videoVisibleTimer",null),ee(this,"_previousVideoVisibleStatus",void 0),ee(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),ee(this,"trackMediaType",Pa.VIDEO),ee(this,"_videoWidth",void 0),ee(this,"_videoHeight",void 0),ee(this,"_player",void 0),ee(this,"processorDestination",void 0),ee(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new QM(this.getTrackId(),"remote"),this.processorDestination=new FM(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return js(()=>{M.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")},"remoteVideoTrackGetStatsWarning"),Hn(this,Te.GET_STATS)||Dt({},mM)}play(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string"){const r=document.getElementById(e);r?e=r:(M.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}M.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=Dt(Dt({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new rp(n):this._player=new yy(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(Oa.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=r=>{this.safeEmit(Oa.VIDEO_STATE_CHANGED,r)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const r=this.getVideoElementVisibleStatus();this.safeEmit(Oa.VIDEO_ELEMENT_VISIBLE_STATUS,r)}catch{}},L("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,M.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){kM(this._originMediaStreamTrack).then(e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t}).catch($d)}_updatePlayerSource(){M.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=this==null||(e=this._player)===null||e===void 0?void 0:e.getContainerElement(),r={track:this,element:this==null||(t=this._player)===null||t===void 0?void 0:t.getVideoElement(),slot:n==null?void 0:n.parentElement},{element:s,slot:o}=r;if(this.isPlaying&&s instanceof HTMLVideoElement&&o instanceof HTMLElement){const a=zN.checkOneElementVisible(s),d=Object.assign({},a);if(d.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=d.visible;const l=ve.reportApiInvoke(null,{tag:zt.TRACER,name:gi.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});d.visible?l.onSuccess("Video is visible"):l.onSuccess("Invisible because of ".concat(d.reason))}return d}return}catch(n){throw new $(j.GET_VIDEO_ELEMENT_VISIBLE_ERROR,n.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new $(j.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(en.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(en.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e){this.emit(Bo.SEI_RECEIVED,e)}}).prototype,"play",[sw],Object.getOwnPropertyDescriptor(qn.prototype,"play"),qn.prototype),rt(qn.prototype,"stop",[ow],Object.getOwnPropertyDescriptor(qn.prototype,"stop"),qn.prototype),rt(qn.prototype,"pipe",[aw],Object.getOwnPropertyDescriptor(qn.prototype,"pipe"),qn.prototype),rt(qn.prototype,"unpipe",[Aw],Object.getOwnPropertyDescriptor(qn.prototype,"unpipe"),qn.prototype),qn),xa=(cw=Ye({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),dw=Ye({argsMap:(e,t)=>[e.getTrackId(),t]}),lw=Ye({argsMap:e=>[e.getTrackId()]}),hw=Ye({argsMap:e=>[e.getTrackId()]}),uw=Ye({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Ew=Ye({argsMap:e=>[e.getTrackId()]}),rt((Wi=class extends gw{get isPlaying(){return this._useAudioElement?on.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(e,t,n,r){super(e,t,n,r),ee(this,"trackMediaType",Pa.AUDIO),ee(this,"_source",void 0),ee(this,"_useAudioElement",!0),ee(this,"_volume",100),ee(this,"processorContext",void 0),ee(this,"processorDestination",void 0),ee(this,"_played",!1),ee(this,"_bypassWebAudio",!1),L("DISABLE_WEBAUDIO")?(this._source=new tp,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new MM(e,!0),L("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(_n.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(Oa.FIRST_FRAME_DECODED)}),this.processorContext=new DM(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new bM(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(_n.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!e)return this._source.removeAllListeners(_n.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(_n.ON_AUDIO_BUFFER),this._source.on(_n.ON_AUDIO_BUFFER,n=>e(n))}setVolume(e){this._volume=e,this._useAudioElement?on.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!gM())throw new $(j.NOT_SUPPORTED,"your browser does not support setting the audio output device");await on.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return js(()=>{M.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")},"remoteAudioTrackGetStatsWarning"),Hn(this,Te.GET_STATS)||Dt({},fM)}play(){M.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(M.debug("[".concat(this.getTrackId(),"] use audio element to play")),on.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){M.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?on.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];M.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&on.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new $(j.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new $(j.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new $(j.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const t=this.processor;(e=this._source.processSourceNode)===null||e===void 0||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(en.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(en.ON_NODE,e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(en.ON_TRACK),this.processorDestination.removeAllListeners(en.ON_NODE)}}).prototype,"setVolume",[cw],Object.getOwnPropertyDescriptor(Wi.prototype,"setVolume"),Wi.prototype),rt(Wi.prototype,"setPlaybackDevice",[dw],Object.getOwnPropertyDescriptor(Wi.prototype,"setPlaybackDevice"),Wi.prototype),rt(Wi.prototype,"play",[lw],Object.getOwnPropertyDescriptor(Wi.prototype,"play"),Wi.prototype),rt(Wi.prototype,"stop",[hw],Object.getOwnPropertyDescriptor(Wi.prototype,"stop"),Wi.prototype),rt(Wi.prototype,"pipe",[uw],Object.getOwnPropertyDescriptor(Wi.prototype,"pipe"),Wi.prototype),rt(Wi.prototype,"unpipe",[Ew],Object.getOwnPropertyDescriptor(Wi.prototype,"unpipe"),Wi.prototype),Wi);const Cs=new class extends Vt{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),ee(this,"_lastHiddenTime",0),ee(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),M.debug("current web page is ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)})}};class pw extends Vt{constructor(t,n){super(),ee(this,"trackMediaType",Pa.DATA),ee(this,"_version",1),ee(this,"_type",3),ee(this,"_config",void 0),ee(this,"_originDataChannel",void 0),ee(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),ee(this,"_dataStreamPacketHandler",{serialize:r=>r,deserialize:r=>r}),ee(this,"_datachannelEventMap",new Map),this._config=t,n&&(this._originDataChannel=n,this._bandDataChannelEvents(n)),this._initPacketHeader()}useDataStream(t){this._dataStreamPacketHandler=t}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return L("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var t,n;return(t=(n=this._originDataChannel)===null||n===void 0?void 0:n.readyState)!==null&&t!==void 0?t:"connecting"}get _originDataChannelId(){var t,n;return(t=(n=this._originDataChannel)===null||n===void 0?void 0:n.id)!==null&&t!==void 0?t:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new Ie((t,n)=>{if(this._originDataChannel){this._originDataChannel.readyState==="open"&&t();const r=setTimeout(()=>{var s;n(new $(j.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat((s=this._originDataChannel)===null||s===void 0?void 0:s.id)))},1e4);this._originDataChannel.onopen=()=>{clearTimeout(r),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),t()},this._originDataChannel.onerror=()=>{throw clearTimeout(r),new $(j.DATACHANNEL_CONNECTION_TIMEOUT)}}else n(new $(j.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})}_updateOriginDataChannel(t){this._originDataChannel=t,this._bandDataChannelEvents(t)}_initPacketHeader(){const t=new DataView(this._dataStreamPacketHeader);t.setUint16(0,this._version),t.setUint8(2,this._type),t.setUint8(3,this._config.id)}_bandDataChannelEvents(t){this._unbindDataChannelEvents(t),[Cl.OPEN,Cl.CLOSE,Cl.ERROR].forEach(n=>{const r=()=>{this.emit(n)};this._datachannelEventMap.set(n,r),t.addEventListener(n,r)})}_unbindDataChannelEvents(t){Array.from(this._datachannelEventMap.entries()).forEach(n=>{let[r,s]=n;t.removeEventListener(r,s)}),this._datachannelEventMap.clear()}}class oG extends pw{constructor(t){super(t),ee(this,"_messageListener",void 0),this._messageListener=n=>{if(n.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const r=n.data.slice(0,this._dataStreamPacketHeader.byteLength),s=new DataView(r).getUint8(3);if(s!==this.id)return void(L("SHOW_DATASTREAM2_LOG")&&M.debug("invalid datachannel id: ".concat(s," !== ").concat(this.id)));let o=n.data.slice(this._dataStreamPacketHeader.byteLength);o=this._dataStreamPacketHandler.deserialize(o),this.emit(Cl.MESSAGE,o)}}_updateOriginDataChannel(t){super._updateOriginDataChannel(t),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class aG extends pw{send(t){if(this._originDataChannel){let n=t;n=this._dataStreamPacketHandler.serialize(t);const r=new Uint8Array(this._dataStreamPacketHeader.byteLength+n.byteLength);r.set(new Uint8Array(this._dataStreamPacketHeader),0),r.set(new Uint8Array(n),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(r.buffer)}}}function Sl(){const e=new Blob([atob("ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout(()=>EM.revokeObjectURL(e),0),new Worker(EM.createObjectURL(e))}const Ml=new Map,yl=new Map;function AG(e,t,n){let r=new Uint8Array(e,t,n),s=[],o=0;for(;s.length<n;)o+3<n&&r[o]===0&&r[o+1]===0&&r[o+2]===3&&(r[o+3]===0||r[o+3]===1||r[o+3]===2||r[o+3]===3)?(s.push(r[o],r[o+1],r[o+3]),o+=4):(s.push(r[o]),o++);return new Uint8Array(s)}const wl=new Map;async function cG(e,t){if(!ot().supportWebRTCEncodedTransform)return void M.warning("browser not support video encoded transform");if(wl.has(e)||!e.track)return;const n={track:e.track};if(ks()){if(!e.createEncodedStreams)return void M.warning("browser not support createEncodedStreams() API");let s=null;try{s=e.createEncodedStreams()}catch(d){return void M.error("create video-encoded-streams error",d&&d.message)}let o=[];t.on("sei-to-send",d=>{o.push(d)});const a=new TransformStream({transform(d,l){n.controller||(n.controller=l),e.track&&e.track.id!==n.track.id&&(M.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r));const E=o.shift();E&&(d.data=function(g,f){const C=function(Y){const G=Y.length;let W=[],J=0;for(;J<G;)J+2<G&&Y[J]===0&&Y[J+1]===0&&(Y[J+2]===0||Y[J+2]===1||Y[J+2]===2||Y[J+2]===3)?(W.push(Y[J],Y[J+1],3,Y[J+2]),J+=3):(W.push(Y[J]),J++);return new Uint8Array(W)}(f),T=C.length,Q=Math.floor(T/255),U=T%255,_=new Uint8Array(6+Q+1+T+g.byteLength);_[0]=0,_[1]=0,_[2]=0,_[3]=1,_[4]=6,_[5]=101;let b=0;for(;b<Q;)_[6+b]=255,b++;return _[6+b]=U,b++,_.set(C,6+b),_.set(new Uint8Array(g),6+b+T),_.buffer}(d.data,E)),l.enqueue(d)}});s.readable.pipeThrough(a).pipeTo(s.writable)}else{if(!Fi())return;{if(typeof RTCRtpScriptTransform>"u")return void M.warning("browser not support RTCRtpScriptTransform");const s=Sl(),o=new MessageChannel;await new Ie(d=>s.onmessage=l=>{l.data==="registered"&&d(void 0)});const a=new RTCRtpScriptTransform(s,{name:"tx",port:o.port2},[o.port2]);e.transform=a,await new Ie(d=>s.onmessage=l=>{l.data==="started"&&d(void 0)}),t.on("sei-to-send",d=>{o.port1.postMessage({sei:d})}),o.port1.onmessage=d=>{var l;d.data.transformed&&e.track&&((l=e.track)===null||l===void 0?void 0:l.id)!==n.track.id&&(M.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r))},n.worker=s}}function r(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",r)}const s=wl.get(e);if(s){wl.delete(e);try{var o,a;(o=s.controller)===null||o===void 0||o.terminate(),(a=s.worker)===null||a===void 0||a.terminate()}catch(d){M.warning(d&&d.message)}}}wl.set(e,n),e.track.addEventListener("ended",r)}const $A=new Map;(function(){const e=st();Bi.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),Bi.getStreamFromExtension=e.name===ht.CHROME&&Number(e.version)>34,Bi.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const t=new RTCPeerConnection;let n=!1;try{t.addTransceiver("audio"),n=!0}catch{}return t.close(),n}(),Bi.supportMinBitrate=e.name===ht.CHROME||e.name===ht.EDGE,Bi.supportSetRtpSenderParameters=function(){const t=st();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!Ys()||!(!Fi()&&!Hd())||t.name===ht.FIREFOX&&Number(t.version)>=64)}(),e.name===ht.SAFARI&&(Number(e.version)>=14?Bi.supportDualStream=!0:Bi.supportDualStream=!1),Bi.webAudioMediaStreamDest=function(){const t=st();return!(t.name===ht.SAFARI&&Number(t.version)<12)}(),Bi.supportReplaceTrack=!!window.RTCRtpSender&&typeof RTCRtpSender.prototype.replaceTrack=="function",Bi.supportWebGL=typeof WebGLRenderingContext<"u",Bi.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,Ys()||(Bi.webAudioWithAEC=!0),Bi.supportShareAudio=function(){const t=st();return(t.os===Ri.WIN_10||t.os===Ri.WIN_81||t.os===Ri.WIN_7||t.os===Ri.LINUX||t.os===Ri.MAC_OS||t.os===Ri.CHROMIUM_OS)&&t.name===ht.CHROME&&Number(t.version)>=74}(),Bi.supportDataChannel=!!(HE(76)||function(t){const n=st();return!(n.name!==ht.FIREFOX||!n.osVersion)&&Number(n.version)>=t}(68)||bN(14)),Bi.supportPCSetConfiguration=function(){const t=window.RTCPeerConnection;return!Gt()&&!!t&&t.prototype.setConfiguration instanceof Function}(),Bi.supportWebRTCEncodedTransform=function(){const t=st();return t.name==="Chrome"&&Number(t.version)>=86||t.name==="Safari"&&Number(t.version)>=15}(),Bi.supportWebRTCInsertableStream=function(){const t=st();return(t.name===ht.CHROME||t.name===ht.EDGE)&&Number(t.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),Bi.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,Bi.supportWebCrypto=typeof window<"u"&&window.crypto!==void 0&&window.crypto.subtle!==void 0,qd(()=>{Bi.supportDualStreamEncoding=function(){const t=st();return!!L("DISABLE_WEBAUDIO")||t.name==="Safari"&&Number(t.version)>=14||!!(t.name==="Chrome"&&/Windows/i.test(t.os||"")&&Number(t.version)>=100&&L("CHROME_DUAL_STREAM_USE_ENCODING"))}(),M.debug("browser ua: ",navigator.userAgent),M.info("browser info: ",e),M.info("browser compatibility: ",Bi)})})();class _o extends Vt{constructor(t,n){super(),F(this,"signal",void 0),F(this,"token",void 0),F(this,"tokenTimeout",void 0),F(this,"tokenInterval",void 0),F(this,"_sequence",0),F(this,"userMap",new Map),F(this,"encoder",new TextEncoder),this.signal=t,this.token=n;const r=()=>{this.signal.connectionState===Ut.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(r,1e3):this.tokenInterval=window.setTimeout(r,3*L("P2P_TOKEN_INTERVAL"))};r()}async send(t,n,r,s,o){var a,d,l;if(this.userMap.size===0)return;const E=Array.from(Is(a=this.userMap).call(a))[0].token;typeof n!="string"&&(n=JSON.stringify(n)),s=(d=s)!==null&&d!==void 0?d:wt(6,""),o=(l=o)!==null&&l!==void 0?l:this._sequence++;const g={_id:s,_type:t,_seq:o,_message:n,token:"".concat(this.token,"_").concat(E)};L("SHOW_P2P_LOG")&&M.debug("send message",g,"noNeedResponse : ".concat(r)),this.splitMessage(JSON.stringify(g)).forEach(C=>{this.signal.request(Pe.DATA_STREAM,{payload:Os(this.encoder.encode(C))})});const f=new Ie((C,T)=>{const Q=window.setTimeout(()=>{this.off("res-@".concat(s,"_ack"),U),this.off("res-@".concat(s),b),this.off(Ma.ABORT,_),M.debug("[external-signal] request timeout, type: ".concat(t,", requestId: ").concat(s)),this.userMap.size===0?T(new $(j.INVALID_REMOTE_USER)):T(new $(j.TIMEOUT))},L("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),U=()=>{Q&&window.clearTimeout(Q),this.off(Ma.ABORT,_),r&&C()},_=()=>{Q&&window.clearTimeout(Q),this.off("res-@".concat(s,"_ack"),U),this.off("res-@".concat(s),b),T(new $(j.EXTERNAL_SIGNAL_ABORT,"type: ".concat(t,", requestId: ").concat(s)))};this.once(Ma.ABORT,_),this.once("res-@".concat(s,"_ack"),U);const b=(G,W)=>{Y=!0,Q&&window.clearTimeout(Q),this.off("res-@".concat(s,"_ack"),U),this.off(Ma.ABORT,_),G==="success"?C(W):T(new $(j.P2P_MESSAGE_FAILED,"request ".concat(t," failed, requestId: ").concat(s)))};let Y=!1;r||(this.once("res-@".concat(s),b),yi(L("SIGNAL_REQUEST_TIMEOUT")).then(()=>{Y||M.warning("external_signal request timeout, type: ".concat(t,", requestId: ").concat(s,", ").concat(g))}))});try{return await f}catch(C){if(C.code===j.TIMEOUT)return await this.send(t,n,r,s,o);throw C}}onMessage(t){var n;const{_uid:r}=t;let s,o=this.userMap.get(r);if(o)s=o.splitMessageMap;else{if(this.userMap.size>0||!("_type"in t)||t._type!==qt.CHECK)return;const{token:E}=t;s=new Map,o={uid:r,isStart:!0,token:E,splitMessageMap:s,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(r,o),this.signal.emit(qe.ON_USER_ONLINE,{uid:r}),this.handleUserOnline()}if("id"in t&&"total"in t){var a;const{id:E,total:g}=t,f=(a=s.get(E))!==null&&a!==void 0?a:[];if(f.push(t),s.has(E)||s.set(E,f),f.length!==g)return;{const C=NA(f).call(f,(T,Q)=>T.index-Q.index).map(T=>T.payload).join("");s.delete(E),(t=JSON.parse(C))._uid=r}}const{_type:d,token:l}=t;if(ge(n=[qt.ACK,qt.CHECK]).call(n,d))return d===qt.CHECK&&this.handleCheckToken(o,l),void this.receiveMessage(t);l==="".concat(o.token,"_").concat(this.token)?this.handleReceivedMessage(t):M.debug('Receive unexpected message", '.concat(l,", cur_token: ").concat(o.token,"_").concat(this.token),t)}check(){const t={_id:wt(6,""),token:this.token,_type:qt.CHECK};L("SHOW_P2P_LOG")&&M.debug("send message",t),this.signal.request(Pe.DATA_STREAM,{payload:Os(this.encoder.encode(JSON.stringify(t)))})}ack(t){const n={_id:t,_type:qt.ACK,token:this.token};L("SHOW_P2P_LOG")&&M.debug("send message",n),this.signal.request(Pe.DATA_STREAM,{payload:Os(this.encoder.encode(JSON.stringify(n)))})}response(t,n,r){this.send(qt.RESPONSE,JSON.stringify({success:!r,message:n}),!0,t)}handleReceivedMessage(t){const n=()=>{this.userMap.forEach(E=>{const{receivedMessagesMap:g,nextExpectedSequenceNumber:f}=E;for(;g.has(f);){const C=g.get(f);g.delete(f),this.receiveMessage(C),E.nextExpectedSequenceNumber++}})};if(!t)return void n();const{_uid:r,_seq:s}=t,o=this.userMap.get(r),{receivedMessagesMap:a,isStart:d,nextExpectedSequenceNumber:l}=o;if(s<l)return this.ack(t._id),void M.debug("[external-signal] receive old message, seq: ".concat(s,", ").concat(t._message));a.set(s,t),d&&s===l&&(this.receiveMessage(t),a.delete(l),o.nextExpectedSequenceNumber++,n())}receiveMessage(t){const{_id:n,_type:r,_message:s,_uid:o}=t;if(L("SHOW_P2P_LOG")&&M.debug("receive message",t),n){let a;switch(t._type!==qt.ACK&&(s&&(a=JSON.parse(s)),this.ack(t._id)),t._type){case qt.CANDIDATE:case qt.CONTROL:this.signal.emit(r,a,o);break;case qt.PUBLISH:case qt.UNPUBLISH:case qt.RESTART_ICE:case qt.CALL:a.uid=o,bi(this.signal,r,a).then(d=>{this.response(t._id,d)}).catch(()=>{this.response(t._id,void 0,!0)});break;case qt.ACK:this.getListeners("res-@".concat(n,"_ack")).length>0&&this.emit("res-@".concat(n,"_ack"));break;case qt.RESPONSE:{const{success:d,message:l}=a;this.emit("res-@".concat(n),d?"success":"failed",l);break}}}}splitMessage(t){if(t.length<_o.MAX_MESSAGE_SIZE)return[t];const n=[],{remoteToken:r}=JSON.parse(t),s=wt(6,"");let o=0,a=800;const d=Math.ceil(t.length/a);for(;t.length>0;){o++;const l={id:s,index:o,total:d,payload:t.slice(0,a),token:"".concat(this.token,"_").concat(r)};JSON.stringify(l).length>_o.MAX_MESSAGE_SIZE?a-=50:(n.push(l),t=t.slice(a))}return n.map(l=>JSON.stringify(l))}handleCheckToken(t,n){return t.token!==n?(M.debug("token changed, from ".concat(t.token," to ").concat(n)),this.reset(t.uid,n),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{M.debug("token timeout, ".concat(n)),this.reset(t.uid)},L("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const t=await bi(this.signal,qt.CALL,void 0),n=await this.send(qt.CALL,t);this.signal.emit(Ve.P2P_CONNECTION,n,!0)}async reset(t,n){const r=this.userMap.get(t);r&&(this.emit(Ma.ABORT),this.signal.emit(qe.ON_USER_OFFLINE,{uid:r.uid,reason:ML.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),n||(M.debug("change local token from ".concat(n," to ").concat(n)),this.token=wt(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(Ma.ABORT)}}F(_o,"MAX_SIZE",1),F(_o,"MAX_MESSAGE_SIZE",1024);class Iw extends Vt{get connectionState(){return this._connectionState}set connectionState(t){t!==this._connectionState&&(this._connectionState=t,t===Ut.CONNECTED?this.emit(Ve.WS_CONNECTED):t===Ut.RECONNECTING?this.emit(Ve.WS_RECONNECTING,this._websocketReconnectReason):t===Ut.CLOSED&&this.emit(Ve.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(t,n){super(),F(this,"_disconnectedReason",void 0),F(this,"_websocketReconnectReason",void 0),F(this,"_connectionState",Ut.CLOSED),F(this,"reconnectToken",void 0),F(this,"p2pToken",void 0),F(this,"websocket",void 0),F(this,"openConnectionTime",void 0),F(this,"clientId",void 0),F(this,"lastMsgTime",Date.now()),F(this,"uploadCache",[]),F(this,"uploadCacheInterval",void 0),F(this,"rttRolling",new oS(5)),F(this,"pingpongTimer",void 0),F(this,"pingpongTimeoutCount",0),F(this,"joinResponse",void 0),F(this,"multiIpOption",void 0),F(this,"initError",void 0),F(this,"spec",void 0),F(this,"store",void 0),F(this,"_external_signal",void 0),F(this,"onWebsocketMessage",r=>{if(r.data instanceof ArrayBuffer)return void this.emit(Ve.ON_BINARY_DATA,r.data);const s=JSON.parse(r.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(s,"_id")){const o="res-@".concat(s._id);this.emit(o,s._result,s._message)}else if(Object.prototype.hasOwnProperty.call(s,"_type")){switch(s._type){case qe.ON_DATA_STREAM:return void this.handleDataStream(s._message);case qe.MUTE_AUDIO:case qe.MUTE_VIDEO:case qe.ON_P2P_LOST:case qe.ON_USER_ONLINE:return;case qe.ON_USER_OFFLINE:const{uid:o}=s._message;return M.debug("[".concat(this.clientId,"] user-offline uid: ").concat(o)),void this._external_signal.reset(o)}if(this.emit(s._type,s._message),s._type===qe.ON_NOTIFICATION&&this.handleNotification(s._message),s._type===qe.ON_USER_BANNED)switch(s._message.error_code){case 14:this.close(gt.UID_BANNED);break;case 15:this.close(gt.IP_BANNED);break;case 16:this.close(gt.CHANNEL_BANNED)}if(s._type===qe.ON_USER_LICENSE_BANNED)switch(s._message.error_code){case be.ERR_LICENSE_MISSING:this.close(gt.LICENSE_MISSING);break;case be.ERR_LICENSE_EXPIRED:this.close(gt.LICENSE_EXPIRED);break;case be.ERR_LICENSE_MINUTES_EXCEEDED:this.close(gt.LICENSE_MINUTES_EXCEEDED);break;case be.ERR_LICENSE_PERIOD_INVALID:this.close(gt.LICENSE_PERIOD_INVALID);break;case be.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(gt.LICENSE_MULTIPLE_SDK_SERVICE);break;case be.ERR_LICENSE_ILLEGAL:this.close(gt.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=t.clientId,this.spec=t,this.store=n,this.websocket=new Rg("gateway-".concat(this.clientId),this.spec.retryConfig,!0,L("JOIN_GATEWAY_USE_DUAL_DOMAIN"),L("JOIN_GATEWAY_USE_443PORT_ONLY"),n),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===Ut.CONNECTED&&this.reconnect("retry",Qi.OFFLINE)}),this.p2pToken=wt(6,""),this._external_signal=new _o(this,this.p2pToken)}async request(t,n,r,s){const o=wt(6,""),a={_id:o,_type:t,_message:n},d=this.websocket.connectionID,l=()=>new Ie((Q,U)=>{if(this.connectionState===Ut.CONNECTED)return Q();const _=()=>{this.off(Ve.WS_CLOSED,b),Q()},b=()=>{this.off(Ve.WS_CONNECTED,_),U(new $(j.WS_ABORT))};this.once(Ve.WS_CONNECTED,_),this.once(Ve.WS_CLOSED,b)});if(this.connectionState!==Ut.CONNECTING&&this.connectionState!==Ut.RECONNECTING||t===Pe.JOIN||t===Pe.REJOIN||await l(),this.websocket.sendMessage(a,!0),s)return;const E=new Ie((Q,U)=>{let _=!1;const b=(G,W)=>{_=!0,Q({isSuccess:G==="success",message:W||{}}),this.off(Ve.WS_CLOSED,Y),this.off(Ve.WS_RECONNECTING,Y),this.emit(Ve.REQUEST_SUCCESS,t,n)};this.once("res-@".concat(o),b);const Y=()=>{U(new $(j.WS_ABORT,"type: ".concat(t))),this.off(Ve.WS_CLOSED,Y),this.off(Ve.WS_RECONNECTING,Y),this.off("res-@".concat(o),b)};this.once(Ve.WS_CLOSED,Y),this.once(Ve.WS_RECONNECTING,Y),yi(L("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==d||_||(M.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(t)),this.emit(Ve.REQUEST_TIMEOUT,t,n))})});let g=null;try{g=await E}catch(Q){if(this.connectionState===Ut.CLOSED||t===Pe.LEAVE)throw new $(j.WS_ABORT);return!this.spec.forceWaitGatewayResponse||r?Q.throw():t===Pe.JOIN||t===Pe.REJOIN?null:(await l(),await this.request(t,n))}if(g.isSuccess)return g.message;const f=Number(g.message.error_code||g.message.code),C=zA(f),T=new $(j.UNEXPECTED_RESPONSE,"".concat(C.desc,": ").concat(g.message.error_str),{code:f,data:g.message,desc:C.desc});return C.action==="success"?g.message:(M.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(f,", message: ").concat(C.desc,", action: ").concat(C.action)),f===be.ERR_TOO_MANY_BROADCASTERS?((t===Pe.JOIN||t===Pe.REJOIN)&&(this.initError=T,this.close()),T.throw()):C.action==="failed"?T.throw():C.action==="quit"?(this.initError=T,this.close(),T.throw()):(f===be.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=g.message.option,M.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Qi.MULTI_IP)):this.reconnect(C.action,Qi.SERVER_ERROR),t===Pe.JOIN||t===Pe.REJOIN?null:await this.request(t,n)))}waitMessage(t,n){return new Ie(r=>{const s=o=>{(!n||n(o))&&(this.off(t,s),r(o))};this.on(t,s)})}uploadWRTCStats(t){if(!this.store.sessionId)return void M.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const n={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:t};this.upload(GA.WRTC_STATS,n)}upload(t,n){const r={_type:t,_message:n};try{this.websocket.sendMessage(r)}catch{const o=L("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(r),this.uploadCache.length>o&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Ut.CONNECTED)return;const a=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(a._type,a._message)},L("UPLOAD_CACHE_INTERVAL")||2e3))}}send(t,n){const r={_type:t,_message:n};this.websocket.sendMessage(r)}async sendExtensionMessage(t,n,r){return await this._external_signal.send(t,n,r)}init(t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Ie((n,r)=>{this.once(Ve.WS_CONNECTED,()=>n(this.joinResponse)),this.once(Ve.WS_CLOSED,()=>r(this.initError||new $(j.WS_ABORT))),this.connectionState=Ut.CONNECTING,this.websocket.init(t).catch(r)})}close(t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=t||gt.LEAVE,this.connectionState=Ut.CLOSED,M.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=wt(6,""),this._external_signal.clear(),this._external_signal=new _o(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(Ve.ABORT_P2P_EXECUTION);const t=await bi(this,Ve.REQUEST_JOIN_INFO),n=await this.request(Pe.JOIN,t);if(!n)return this.emit(Ve.REPORT_JOIN_GATEWAY,j.TIMEOUT,this.url||""),!1;this.joinResponse=n,this.emit(Ve.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ut.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(t,n){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(t,n)}handleDataStream(t){try{var n;const r=Ro(t.payload),s=new TextDecoder().decode(r),o=JSON.parse(s);"total"in o&&"id"in o||ge(n=Object.values(qt)).call(n,o._type)?(o._uid=t.uid,this._external_signal.onMessage(o)):this.emit(qe.ON_DATA_STREAM,t)}catch{this.emit(qe.ON_DATA_STREAM,t)}}handleNotification(t){M.debug("[".concat(this.clientId,"] receive notification: "),t);const n=zA(t.code);if(n.action!=="success"){if(n.action!=="failed")return n.action==="quit"?(n.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(gt.UID_BANNED),void this.close()):void this.reconnect(n.action,Qi.SERVER_ERROR);M.error("[".concat(this.clientId,"] ignore error: "),n.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const t=L("PING_PONG_TIME_OUT"),n=Date.now();this.pingpongTimeoutCount>=t&&(M.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(n-this.lastMsgTime,"ms")),n-this.lastMsgTime>L("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",Qi.TIMEOUT):this.request(Pe.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const r=Date.now()-n;this.rttRolling.add(r),L("REPORT_STATS")&&this.send(Pe.PING_BACK,{pingpongElapse:r})}).catch(r=>{})}handleWebsocketEvents(){this.websocket.on(ze.RECONNECT_CREATE_CONNECTION,t=>{this.emit(Ve.WS_RECONNECT_CREATE_CONNECTION,t)}),this.websocket.on(ze.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(ze.CLOSED,()=>{this.connectionState=Ut.CLOSED}),this.websocket.on(ze.FAILED,()=>{this._disconnectedReason=gt.NETWORK_ERROR,this.connectionState=Ut.CLOSED}),this.websocket.on(ze.RECONNECTING,t=>{this._websocketReconnectReason=t,this.joinResponse=void 0,this.connectionState===Ut.CONNECTED?this.connectionState=Ut.RECONNECTING:this.connectionState=Ut.CONNECTING}),this.websocket.on(ze.WILL_RECONNECT,(t,n,r)=>{t!=="retry"?(M.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(t)),this.reconnectToken=void 0):M.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),r(t)}),this.websocket.on(ze.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(t=>{if(this.emit(Ve.REPORT_JOIN_GATEWAY,t,this.url||""),t instanceof $&&t.code===j.UNEXPECTED_RESPONSE&&t.data.code===be.ERR_NO_AUTHORIZED)return M.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",Qi.SERVER_ERROR);M.error("[".concat(this.clientId,"] join gateway request failed"),t.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",Qi.SERVER_ERROR):(this.initError=t,this.close())})}),this.websocket.on(ze.REQUEST_NEW_URLS,(t,n)=>{bi(this,Ve.REQUEST_RECOVER,this.multiIpOption).then(t).catch(n)}),this.websocket.on(ze.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(qe.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}var fw={exports:{}};(function(e,t){e.exports=(()=>{var n={8:(o,a,d)=>{d.r(a),d.d(a,{Parser:()=>Xe,Printer:()=>Sr,parse:()=>Le,print:()=>ct});const l=`
`,E="".concat("\r").concat(l),g=" ";let f;function C(Ee){return Ee>="0"&&Ee<="9"}function T(Ee){return Ee>="!"&&Ee<="~"}function Q(Ee){return T(Ee)||Ee>=""&&Ee<="ÿ"}function U(Ee){return Ee==="!"||Ee>="#"&&Ee<="'"||Ee>="*"&&Ee<="+"||Ee>="-"&&Ee<="."||Ee>="0"&&Ee<="9"||Ee>="A"&&Ee<="Z"||Ee>="^"&&Ee<="~"}function _(Ee){return Ee>="1"&&Ee<="9"}function b(Ee){return Ee>="A"&&Ee<="Z"||Ee>="a"&&Ee<="z"}function Y(Ee){return Ee==="d"||Ee==="h"||Ee==="m"||Ee==="s"}function G(Ee){return Ee>""&&Ee<"	"||Ee>"\v"&&Ee<"\f"||Ee>""&&Ee<"ÿ"}function W(Ee){return b(Ee)||C(Ee)||Ee==="+"||Ee==="/"}function J(Ee){return C(Ee)||b(Ee)||Ee==="+"||Ee==="/"||Ee==="-"||Ee==="_"}function K(Ee){return b(Ee)||C(Ee)||Ee==="+"||Ee==="/"}function ne(Ee,y){var V=Object.keys(Ee);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(Ee);y&&(z=z.filter(function(ae){return Object.getOwnPropertyDescriptor(Ee,ae).enumerable})),V.push.apply(V,z)}return V}function le(Ee){for(var y=1;y<arguments.length;y++){var V=arguments[y]!=null?arguments[y]:{};y%2?ne(Object(V),!0).forEach(function(z){oe(Ee,z,V[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(V)):ne(Object(V)).forEach(function(z){Object.defineProperty(Ee,z,Object.getOwnPropertyDescriptor(V,z))})}return Ee}function oe(Ee,y,V){return y in Ee?Object.defineProperty(Ee,y,{value:V,enumerable:!0,configurable:!0,writable:!0}):Ee[y]=V,Ee}(function(Ee){Ee.VERSION="v",Ee.ORIGIN="o",Ee.SESSION_NAME="s",Ee.INFORMATION="i",Ee.URI="u",Ee.EMAIL="e",Ee.PHONE="p",Ee.CONNECTION="c",Ee.BANDWIDTH="b",Ee.TIME="t",Ee.REPEAT="r",Ee.ZONE_ADJUSTMENTS="z",Ee.KEY="k",Ee.ATTRIBUTE="a",Ee.MEDIA="m"})(f||(f={}));class ye{consumeText(y,V){let z=V;for(;z<y.length;){const ae=y[z];if(ae==="\0"||ae==="\r"||ae===l)break;z+=1}if(z-V==0)throw new Error("Invalid text, at ".concat(y));return z}consumeUnicastAddress(y,V,z){return this.consumeTill(y,V,g)}consumeOneOrMore(y,V,z){let ae=V;for(;z(y[ae]);)ae++;if(ae-V==0)throw new Error("Invalid rule at ".concat(V,"."));return ae}consumeSpace(y,V){if(y[V]===g)return V+1;throw new Error("Invalid space at ".concat(V,"."))}consumeIP4Address(y,V){let z=V;for(let ae=0;ae<4;ae++)if(z=this.consumeDecimalUChar(y,z),ae!==3){if(y[z]!==".")throw new Error("Invalid IP4 address.");z++}return z}consumeDecimalUChar(y,V){let z=V;for(let Ge=0;Ge<3&&C(y[z]);Ge++,z++);if(z-V==0)throw new Error("Invalid decimal uchar.");const ae=parseInt(y.slice(V,z));if(ae>=0&&ae<=255)return z;throw new Error("Invalid decimal uchar")}consumeIP6Address(y,V){let z=this.consumeHexpart(y,V);return y[z]===":"&&(z+=1,z=this.consumeIP4Address(y,z)),z}consumeHexpart(y,V){let z=V;if(y[z]===":"&&y[z+1]===":"){z+=2;try{z=this.consumeHexseq(y,z)}catch{}return z}if(z=this.consumeHexseq(y,z),y[z]===":"&&y[z+1]===":"){z+=2;try{z=this.consumeHexseq(y,z)}catch{}return z}return z}consumeHexseq(y,V){let z=V;for(;z=this.consumeHex4(y,z),y[z]===":"&&y[z+1]!==":";)z+=1;return z}consumeHex4(y,V){let z=0;for(;z<4;z++)if(!((ae=y[V+z])>="0"&&ae<="9"||ae>="a"&&ae<="f"||ae>="A"&&ae<="F")){if(z===0)throw new Error("Invalid hex 4");break}var ae;return V+z}consumeFQDN(y,V){let z=V;for(;C(y[z])||b(y[z])||y[z]==="-"||y[z]===".";)z+=1;if(z-V<4)throw new Error("Invalid FQDN");return z}consumeExtnAddr(y,V){return this.consumeOneOrMore(y,V,Q)}consumeMulticastAddress(y,V,z){switch(z){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(y,V);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(y,V);default:try{return this.consumeFQDN(y,V)}catch{return this.consumeExtnAddr(y,V)}}}consumeIP6MulticastAddress(y,V){const z=this.consumeHexpart(y,V);return y[z]==="/"?this.consumeInteger(y,z+1):z}consumeIP4MulticastAddress(y,V){let z=V+3;const ae=y.slice(V,z),Ge=parseInt(ae);if(Ge<224||Ge>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let mt=0;mt<3;mt++){if(y[z]!==".")throw new Error("Invalid IP4 multicast address.");z+=1,z=this.consumeDecimalUChar(y,z)}return y[z]==="/"&&(z+=1),z=this.consumeTTL(y,z),y[z]==="/"&&(z=this.consumeInteger(y,z)),z}consumeInteger(y,V){if(!_(y[V]))throw new Error("Invalid integer.");for(V+=1;C(y[V]);)V+=1;return V}consumeTTL(y,V){if(y[V]==="0")return V+1;if(!_(y[V]))throw new Error("Invalid TTL.");V+=1;for(let z=0;z<2&&C(y[V]);z++)V+=1;return V}consumeToken(y,V){return this.consumeOneOrMore(y,V,U)}consumeTime(y,V){let z=V;if(y[z]==="0")return z+1;for(_(y[z])&&(z+=1);C(y[z]);)z++;if(z-V<10)throw new Error("Invalid time");return z}consumeAddress(y,V){return this.consumeTill(y,V,g)}consumeTypedTime(y,V){let z=V;return z=this.consumeOneOrMore(y,z,C),Y(y[z])?z+1:z}consumeRepeatInterval(y,V){if(!_(y[V]))throw new Error("Invalid repeat interval");for(V+=1;C(y[V]);)V+=1;return Y(y[V])&&(V+=1),V}consumePort(y,V){return this.consumeOneOrMore(y,V,C)}consume(y,V,z){for(let ae=0;ae<z.length;ae++){if(V+ae>=y.length)throw new Error("consume exceeding value length");if(y[V+ae]!==z[ae])throw new Error("consume ".concat(z," failed at ").concat(ae))}return V+z.length}consumeTill(y,V,z){let ae=V;for(;ae<y.length&&(typeof z!="string"||y[ae]!==z)&&(typeof z!="function"||!z(y[ae]));)ae++;return ae}}class Xe extends ye{constructor(){super(),oe(this,"records",[]),oe(this,"currentLine",0)}parse(y){const V=this.probeEOL(y);this.records=y.split(V).filter(Ei=>!!zi(Ei).call(Ei)).map(this.parseLine),this.currentLine=0;const z=this.parseVersion(),ae=this.parseOrigin(),Ge=this.parseSessionName(),mt=this.parseInformation(),mi=this.parseUri(),En=this.parseEmail(),ys=this.parsePhone(),uh=this.parseConnection(),Eh=this.parseBandWidth(),ir=this.parseTimeFields(),so=this.parseKey(),aA=this.parseSessionAttribute(),ei=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:z,origin:ae,sessionName:Ge,information:mt,uri:mi,emails:En,phones:ys,connection:uh,bandwidths:Eh,timeFields:ir,key:so,attributes:aA,mediaDescriptions:ei}}getCurrentRecord(){const y=this.records[this.currentLine];if(!y)throw new Error("Record doesn't exit.");return y}probeEOL(y){for(let V=0;V<y.length;V++)if(y[V]===l)return y[V-1]==="\r"?E:l;throw new Error("Invalid newline character.")}parseLine(y,V){if(y.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const z=y[0];if(y[1]!=="=")throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:z,value:y.slice(2),line:V,cur:0}}parseSessionAttribute(){const y=new vt;for(;this.currentLine<this.records.length;){const V=this.getCurrentRecord();if(V.type!==f.ATTRIBUTE)break;const z={attField:this.extractOneOrMore(V,ae=>U(ae)&&ae!==":"),_cur:0};V.value[V.cur]===":"&&(V.cur+=1,z.attValue=this.extractOneOrMore(V,G)),y.parse(z),this.currentLine++}return y.digest()}parseMediaAttributes(y){const V=new di(y);for(;this.currentLine<this.records.length;){const z=this.getCurrentRecord();if(z.type!==f.ATTRIBUTE)break;const ae={attField:this.extractOneOrMore(z,Ge=>U(Ge)&&Ge!==":"),_cur:0};z.value[z.cur]===":"&&(z.cur+=1,ae.attValue=this.extractOneOrMore(z,G)),V.parse(ae),this.currentLine++}return V.digest()}parseKey(){const y=this.getCurrentRecord();if(y.type===f.KEY){if(y.value==="prompt"||y.value==="clear:"||y.value==="base64:"||y.value==="uri:")return y.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const y=this.getCurrentRecord();if(y.type===f.ZONE_ADJUSTMENTS){const V=[];for(;;)try{const z=this.extract(y,this.consumeTime);this.consumeSpaceForRecord(y);let ae=!1;y.value[y.cur]==="-"&&(ae=!0,y.cur+=1);const Ge=this.extract(y,this.consumeTypedTime);V.push({time:z,typedTime:Ge,back:ae})}catch{break}if(V.length===0)throw new Error("Invalid zone adjustments");return this.currentLine++,V}return[]}parseRepeat(){const y=[];for(;;){const V=this.getCurrentRecord();if(V.type!==f.REPEAT)break;{const z=this.extract(V,this.consumeRepeatInterval),ae=this.parseTypedTime(V);y.push({repeatInterval:z,typedTimes:ae}),this.currentLine++}}return y}parseTypedTime(y){const V=[];for(;;)try{this.consumeSpaceForRecord(y),V.push(this.extract(y,this.consumeTypedTime))}catch{break}if(V.length===0)throw new Error("Invalid typed time.");return V}parseTime(){const y=this.getCurrentRecord(),V=this.extract(y,this.consumeTime);this.consumeSpaceForRecord(y);const z=this.extract(y,this.consumeTime);return this.currentLine++,{startTime:V,stopTime:z}}parseBandWidth(){const y=[];for(;this.currentLine<this.records.length;){const V=this.getCurrentRecord();if(V.type!==f.BANDWIDTH)break;{const z=this.extractOneOrMore(V,U);if(V.value[V.cur]!==":")throw new Error("Invalid bandwidth field.");V.cur++;const ae=this.extractOneOrMore(V,C);y.push({bwtype:z,bandwidth:ae}),this.currentLine++}}return y}parseVersion(){const y=this.getCurrentRecord();if(y.type!==f.VERSION)throw new Error("first sdp record must be version");const V=y.value.slice(0,this.consumeOneOrMore(y.value,0,C));if(V.length!==y.value.length)throw new Error('invalid proto version, "v='.concat(y.value,'"'));return this.currentLine++,V}parseOrigin(){const y=this.getCurrentRecord();if(y.type!==f.ORIGIN)throw new Error("second line of sdp must be origin");const V=this.extractOneOrMore(y,Q);this.consumeSpaceForRecord(y);const z=this.extractOneOrMore(y,C);this.consumeSpaceForRecord(y);const ae=this.extractOneOrMore(y,C);this.consumeSpaceForRecord(y);const Ge=this.extractOneOrMore(y,U);this.consumeSpaceForRecord(y);const mt=this.extractOneOrMore(y,U);this.consumeSpaceForRecord(y);const mi=this.extract(y,this.consumeUnicastAddress);return this.currentLine++,{username:V,sessId:z,sessVersion:ae,nettype:Ge,addrtype:mt,unicastAddress:mi}}parseSessionName(){const y=this.getCurrentRecord();if(y.type===f.SESSION_NAME){const V=this.extract(y,this.consumeText);return this.currentLine++,V}}parseInformation(){const y=this.getCurrentRecord();if(y.type!==f.INFORMATION)return;const V=this.extract(y,this.consumeText);return this.currentLine++,V}parseUri(){const y=this.getCurrentRecord();if(y.type===f.URI)return this.currentLine++,y.value}parseEmail(){const y=[];for(;;){const V=this.getCurrentRecord();if(V.type!==f.EMAIL)break;y.push(V.value),this.currentLine++}return y}parsePhone(){const y=[];for(;;){const V=this.getCurrentRecord();if(V.type!==f.PHONE)break;y.push(V.value),this.currentLine++}return y}parseConnection(){const y=this.getCurrentRecord();if(y.type===f.CONNECTION){const V=this.extractOneOrMore(y,U);this.consumeSpaceForRecord(y);const z=this.extractOneOrMore(y,U);this.consumeSpaceForRecord(y);const ae=this.extract(y,this.consumeAddress);return this.currentLine++,{nettype:V,addrtype:z,address:ae}}}parseMedia(){const y=this.getCurrentRecord(),V=this.extract(y,this.consumeToken);this.consumeSpaceForRecord(y);let z=this.extract(y,this.consumePort);y.value[y.cur]==="/"&&(y.cur+=1,z+=this.extract(y,this.consumeInteger)),this.consumeSpaceForRecord(y);const ae=[];for(ae.push(this.extract(y,this.consumeToken));y.value[y.cur]==="/";)y.cur+=1,ae.push(this.extract(y,this.consumeToken));if(ae.length===0)throw new Error("Invalid proto");const Ge=this.parseFmt(y);return this.currentLine++,{mediaType:V,port:z,protos:ae,fmts:Ge}}parseTimeFields(){const y=[];for(;this.getCurrentRecord().type===f.TIME;){const V=this.parseTime(),z=this.parseRepeat(),ae=this.parseZone();y.push({time:V,repeats:z,zones:ae})}return y}parseMediaDescription(){const y=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===f.MEDIA;){const V=this.parseMedia(),z=this.parseInformation(),ae=this.parseConnections(),Ge=this.parseBandWidth(),mt=this.parseKey(),mi=this.parseMediaAttributes(V);y.push({media:V,information:z,connections:ae,bandwidths:Ge,key:mt,attributes:mi})}return y}parseConnections(){const y=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===f.CONNECTION;)y.push(this.parseConnection());return y}parseFmt(y){const V=[];for(;;)try{this.consumeSpaceForRecord(y),V.push(this.extract(y,this.consumeToken))}catch{break}if(V.length===0)throw new Error("Invalid fmts");return V}extract(y,V){for(var z=arguments.length,ae=new Array(z>2?z-2:0),Ge=2;Ge<z;Ge++)ae[Ge-2]=arguments[Ge];const mt=V.call(this,y.value,y.cur,...ae),mi=y.value.slice(y.cur,mt);return y.cur=mt,mi}extractOneOrMore(y,V){const z=this.consumeOneOrMore(y.value,y.cur,V),ae=y.value.slice(y.cur,z);return y.cur=z,ae}consumeSpaceForRecord(y){if(y.value[y.cur]!==g)throw new Error("Invalid space at ".concat(y.cur,"."));y.cur+=1}}class lt extends ye{constructor(){super(...arguments),oe(this,"attributes",void 0),oe(this,"digested",!1)}extractOneOrMore(y,V,z){const ae=this.consumeOneOrMore(y.attValue,y._cur,V),Ge=y.attValue.slice(y._cur,ae),[mt,mi]=z||[];if(typeof mt=="number"&&Ge.length<mt)throw new Error("error in length, should be more or equal than ".concat(mt," characters."));if(typeof mi=="number"&&Ge.length>mi)throw new Error("error in length, should be less or equal than ".concat(mi," characters."));return y._cur=ae,Ge}consumeAttributeSpace(y){if(y.attValue[y._cur]!==g)throw new Error("Invalid space at ".concat(y._cur,"."));y._cur+=1}extract(y,V){if(!y.attValue)throw new Error("Nothing to extract from attValue.");for(var z=arguments.length,ae=new Array(z>2?z-2:0),Ge=2;Ge<z;Ge++)ae[Ge-2]=arguments[Ge];const mt=V.call(this,y.attValue,y._cur,...ae),mi=y.attValue.slice(y._cur,mt);return y._cur=mt,mi}atEnd(y){if(!y.attValue)throw new Error;return y._cur>=y.attValue.length}peekChar(y){if(!y.attValue)throw new Error;return y.attValue[y._cur]}peek(y,V){if(!y.attValue)throw new Error;for(let z=0;z<V.length;z++)if(V[z]!==y.attValue[y._cur+z])return!1;return!0}parseIceUfrag(y){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(y,W,[4,256])}parseIcePwd(y){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(y,W,[22,256])}parseIceOptions(y){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const V=[];for(;!this.atEnd(y);){V.push(this.extractOneOrMore(y,W));try{this.consumeAttributeSpace(y)}catch(z){if(this.atEnd(y))break;throw z}}this.attributes.iceOptions=V}parseFingerprint(y){const V=this.extract(y,this.consumeToken);this.consumeAttributeSpace(y);const z=this.extract(y,this.consumeTill);this.attributes.fingerprints.push({hashFunction:V,fingerprint:z})}parseExtmap(y){const V=this.extractOneOrMore(y,C);let z;this.peekChar(y)==="/"&&(this.extract(y,this.consume,"/"),z=this.extract(y,this.consumeToken)),this.consumeAttributeSpace(y);const ae=this.extract(y,this.consumeTill,g),Ge=le(le({entry:parseInt(V,10)},z&&{direction:z}),{},{extensionName:ae});this.peekChar(y)===g&&(this.consumeAttributeSpace(y),Ge.extensionAttributes=this.extract(y,this.consumeTill)),this.attributes.extmaps.push(Ge)}parseSetup(y){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const V=this.extract(y,this.consumeTill);if(V!=="active"&&V!=="passive"&&V!=="actpass"&&V!=="holdconn")throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=V}}class vt extends lt{constructor(){super(...arguments),oe(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(y){if(this.digested)throw new Error("already digested");try{switch(y.attField){case"group":this.parseGroup(y);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(y);break;case"ice-pwd":this.parseIcePwd(y);break;case"ice-options":this.parseIceOptions(y);break;case"fingerprint":this.parseFingerprint(y);break;case"setup":this.parseSetup(y);break;case"tls-id":this.parseTlsId(y);break;case"identity":this.parseIdentity(y);break;case"extmap":this.parseExtmap(y);break;case"msid-semantic":this.parseMsidSemantic(y);break;default:y.ignored=!0,this.attributes.unrecognized.push(y)}}catch(V){throw console.error("parsing session attribute ".concat(y.attField,' error, "a=').concat(y.attField,":").concat(y.attValue,'"')),V}if(!y.ignored&&y.attValue&&!this.atEnd(y))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(y){const V=this.extract(y,this.consumeToken),z=[];for(;!this.atEnd(y)&&this.peekChar(y)===g;)this.consumeAttributeSpace(y),z.push(this.extract(y,this.consumeToken));this.attributes.groups.push({semantic:V,identificationTag:z})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(y){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(y,J)}parseIdentity(y){const V=this.extractOneOrMore(y,K),z=[];for(;!this.atEnd(y)&&this.peekChar(y)===g;){this.consumeAttributeSpace(y);const ae=this.extract(y,this.consumeToken);this.extract(y,this.consume,"=");const Ge=this.extractOneOrMore(y,mt=>mt!==g&&G(mt));z.push({name:ae,value:Ge})}this.attributes.identities.push({assertionValue:V,extensions:z})}parseMsidSemantic(y){this.peekChar(y)===g&&this.consumeAttributeSpace(y);const V={semantic:this.extract(y,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(y)}catch{break}if(this.peekChar(y)==="*"){this.extract(y,this.consume,"*"),V.applyForAll=!0;break}{const z=this.extract(y,this.consumeTill,g);V.identifierList.push(z)}}this.attributes.msidSemantic=V}}class di extends lt{constructor(y){super(),oe(this,"attributes",void 0),y.protos.indexOf("RTP")!==-1||y.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(y){if(this.digested)throw new Error("already digested");try{switch(y.attField){case"extmap":this.parseExtmap(y);break;case"setup":this.parseSetup(y);break;case"ice-ufrag":this.parseIceUfrag(y);break;case"ice-pwd":this.parseIcePwd(y);break;case"ice-options":this.parseIceOptions(y);break;case"candidate":this.parseCandidate(y);break;case"remote-candidate":this.parseRemoteCandidate(y);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(y);break;case"rtpmap":this.parseRtpmap(y);break;case"ptime":this.parsePtime(y);break;case"maxptime":this.parseMaxPtime(y);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(y);break;case"ssrc":this.parseSSRC(y);break;case"fmtp":this.parseFmtp(y);break;case"rtcp-fb":this.parseRtcpFb(y);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(y);break;case"mid":this.parseMid(y);break;case"msid":this.parseMsid(y);break;case"imageattr":this.parseImageAttr(y);break;case"rid":this.parseRid(y);break;case"simulcast":this.parseSimulcast(y);break;case"sctp-port":this.parseSctpPort(y);break;case"max-message-size":this.parseMaxMessageSize(y);break;case"ssrc-group":this.parseSSRCGroup(y);break;default:y.ignored=!0,this.attributes.unrecognized.push(y)}}catch(V){throw console.error("parsing media attribute ".concat(y.attField,' error, "a=').concat(y.attField,":").concat(y.attValue,'"')),V}if(!y.ignored&&y.attValue&&!this.atEnd(y))throw new Error("attribute parsing error")}parseCandidate(y){const V=this.extractOneOrMore(y,W,[1,32]);this.consumeAttributeSpace(y);const z=this.extractOneOrMore(y,C,[1,5]);this.consumeAttributeSpace(y);const ae=this.extract(y,this.consumeToken);this.consumeAttributeSpace(y);const Ge=this.extractOneOrMore(y,C,[1,10]);this.consumeAttributeSpace(y);const mt=this.extract(y,this.consumeAddress);this.consumeAttributeSpace(y);const mi=this.extract(y,this.consumePort);this.consumeAttributeSpace(y),this.extract(y,this.consume,"typ"),this.consumeAttributeSpace(y);const En={foundation:V,componentId:z,transport:ae,priority:Ge,connectionAddress:mt,port:mi,type:this.extract(y,this.consumeToken),extension:{}};for(this.peek(y," raddr")&&(this.extract(y,this.consume," raddr"),this.consumeAttributeSpace(y),En.relAddr=this.extract(y,this.consumeAddress)),this.peek(y," rport")&&(this.extract(y,this.consume," rport"),this.consumeAttributeSpace(y),En.relPort=this.extract(y,this.consumePort));this.peekChar(y)===g;){this.consumeAttributeSpace(y);const ys=this.extract(y,this.consumeToken);this.consumeAttributeSpace(y),En.extension[ys]=this.extractOneOrMore(y,T)}this.attributes.candidates.push(En)}parseRemoteCandidate(y){const V=[];for(;;){const z=this.extractOneOrMore(y,C,[1,5]);this.consumeAttributeSpace(y);const ae=this.extract(y,this.consumeAddress);this.consumeAttributeSpace(y);const Ge=this.extract(y,this.consumePort);V.push({componentId:z,connectionAddress:ae,port:Ge});try{this.consumeAttributeSpace(y)}catch{break}}this.attributes.remoteCandidatesList.push(V)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(y){const V=this.extract(y,this.consumeToken);this.consumeAttributeSpace(y);const z=this.extract(y,this.consumeTill,"/");this.extract(y,this.consume,"/");const ae={encodingName:z,clockRate:this.extractOneOrMore(y,C)};this.atEnd(y)||this.peekChar(y)!=="/"||(this.extract(y,this.consume,"/"),ae.encodingParameters=parseInt(this.extract(y,this.consumeTill),10));const Ge=this.attributes.payloads.find(mt=>mt.payloadType===parseInt(V,10));Ge?Ge.rtpMap=ae:this.attributes.payloads.push({payloadType:parseInt(V,10),rtpMap:ae,rtcpFeedbacks:[]})}parsePtime(y){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(y,this.consumeTill)}parseMaxPtime(y){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(y,this.consumeTill)}parseDirection(y){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=y.attField}parseSSRC(y){const V=this.extractOneOrMore(y,C);this.consumeAttributeSpace(y);const z=this.extract(y,this.consumeTill,":");let ae;this.peekChar(y)===":"&&(this.extract(y,this.consume,":"),ae=this.extract(y,this.consumeTill));const Ge=this.attributes.ssrcs.find(mt=>mt.ssrcId===parseInt(V,10));Ge?Ge.attributes[z]=ae:this.attributes.ssrcs.push({ssrcId:parseInt(V,10),attributes:{[z]:ae}})}parseFmtp(y){const V=this.extract(y,this.consumeTill,g);this.consumeAttributeSpace(y);const z=this.extract(y,this.consumeTill),ae={};z.split(";").forEach(mt=>{let[mi,En]=mt.split("=");mi=zi(mi).call(mi);const ys=typeof En=="string"?zi(En).call(En):null;typeof mi=="string"&&mi.length>0&&(ae[mi]=ys)});const Ge=this.attributes.payloads.find(mt=>mt.payloadType===parseInt(V,10));Ge?Ge.fmtp={parameters:ae}:this.attributes.payloads.push({payloadType:parseInt(V,10),rtcpFeedbacks:[],fmtp:{parameters:ae}})}parseFmtParameters(y){const V={},z=this.extract(y,this.consumeTill,"=");y._cur++;const ae=this.extract(y,this.consumeTill,";");for(V[z]=ae;y.attValue[y._cur]===";";){const Ge=this.extract(y,this.consumeTill,"=");y._cur++;const mt=this.extract(y,this.consumeTill,";");V[Ge]=mt}return V}parseRtcpFb(y){let V="";V=this.peekChar(y)==="*"?this.extract(y,this.consume,"*"):this.extract(y,this.consumeTill,g),this.consumeAttributeSpace(y);const z=this.extract(y,this.consumeTill,g);let ae;if(z==="trr-int")ae={type:z,interval:this.extract(y,this.consumeTill)};else{const Ge={type:z};this.peekChar(y)===g&&(this.consumeAttributeSpace(y),Ge.parameter=this.extract(y,this.consumeToken),this.peekChar(y)===g&&(Ge.additional=this.extract(y,this.consumeTill))),ae=Ge}if(V==="*")this.attributes.rtcpFeedbackWildcards.push(ae);else{const Ge=this.attributes.payloads.find(mt=>mt.payloadType===parseInt(V,10));Ge?Ge.rtcpFeedbacks.push(ae):this.attributes.payloads.push({payloadType:parseInt(V,10),rtcpFeedbacks:[ae]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(y){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const V={port:this.extract(y,this.consumePort)};this.peekChar(y)===g&&(this.consumeAttributeSpace(y),V.netType=this.extractOneOrMore(y,U),this.consumeAttributeSpace(y),V.addressType=this.extractOneOrMore(y,U),this.consumeAttributeSpace(y),V.address=this.extract(y,this.consumeAddress)),this.attributes.rtcp=V}parseMsid(y){const V={id:this.extractOneOrMore(y,U,[1,64])};this.peekChar(y)===g&&(this.consumeAttributeSpace(y),V.appdata=this.extractOneOrMore(y,U,[1,64])),this.attributes.msids.push(V)}parseImageAttr(y){this.attributes.imageattr.push(y.attValue)}parseRid(y){const V=this.extractOneOrMore(y,ae=>b(ae)||C(ae)||ae==="_"||ae==="-");this.consumeAttributeSpace(y);const z={id:V,direction:this.extract(y,this.consumeToken),params:[]};if(this.peekChar(y)===g){if(this.consumeAttributeSpace(y),this.peek(y,"pt=")){this.extract(y,this.consume,"pt=");const ae=[];for(;;){const Ge=this.extract(y,this.consumeToken);ae.push(Ge);try{this.extract(y,this.consume,",")}catch{break}}z.payloads=ae,this.peekChar(y)===g&&this.extract(y,this.consume,g)}for(;;){const ae=this.extract(y,this.consumeToken);switch(ae){case"depend":{const Ge={type:ae,rids:this.extract(y,this.consume,"=").split(",")};z.params.push(Ge);break}default:{const Ge={type:ae};this.peekChar(y)==="="&&(this.extract(y,this.consume,"="),Ge.val=this.extract(y,this.consumeTill,";")),z.params.push(Ge)}}try{this.extract(y,this.consume,";")}catch{break}}}this.attributes.rids.push(z)}parseSimulcast(y){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=y.attValue,this.extract(y,this.consumeTill)}parseSctpPort(y){this.attributes.sctpPort=this.extractOneOrMore(y,C,[1,5])}parseMaxMessageSize(y){this.attributes.maxMessageSize=this.extractOneOrMore(y,C,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(y){this.attributes.mid=this.extract(y,this.consumeToken)}parseSSRCGroup(y){const V=this.extract(y,this.consumeToken),z=[];for(;;)try{this.consumeAttributeSpace(y);const ae=this.extract(y,this.consumeInteger);z.push(parseInt(ae,10))}catch{break}this.attributes.ssrcGroups.push({semantic:V,ssrcIds:z})}}function Ot(Ee,y,V){return y in Ee?Object.defineProperty(Ee,y,{value:V,enumerable:!0,configurable:!0,writable:!0}):Ee[y]=V,Ee}class Sr{constructor(){Ot(this,"eol",E)}print(y,V){let z="";return V&&(this.eol=V),z+=this.printVersion(y.version),z+=this.printOrigin(y.origin),z+=this.printSessionName(y.sessionName),z+=this.printInformation(y.information),z+=this.printUri(y.uri),z+=this.printEmail(y.emails),z+=this.printPhone(y.phones),z+=this.printConnection(y.connection),z+=this.printBandwidth(y.bandwidths),z+=this.printTimeFields(y.timeFields),z+=this.printKey(y.key),z+=this.printSessionAttributes(y.attributes),z+=this.printMediaDescription(y.mediaDescriptions),z}printVersion(y){return"v=".concat(y).concat(this.eol)}printOrigin(y){return"o=".concat(y.username," ").concat(y.sessId," ").concat(y.sessVersion," ").concat(y.nettype," ").concat(y.addrtype," ").concat(y.unicastAddress).concat(this.eol)}printSessionName(y){return y?"s=".concat(y).concat(this.eol):""}printInformation(y){return y?"i=".concat(y).concat(this.eol):""}printUri(y){return y?"u=".concat(y).concat(this.eol):""}printEmail(y){let V="";for(const z of y)V+="e=".concat(z).concat(this.eol);return V}printPhone(y){let V="";for(const z of y)V+="e=".concat(z).concat(this.eol);return V}printConnection(y){return y?"c=".concat(y.nettype," ").concat(y.addrtype," ").concat(y.address).concat(this.eol):""}printBandwidth(y){let V="";for(const z of y)V+="b=".concat(z.bwtype,":").concat(z.bandwidth).concat(this.eol);return V}printTimeFields(y){let V="";for(const z of y){V+="t=".concat(z.time.startTime," ").concat(z.time.startTime).concat(this.eol);for(const ae of z.repeats)V+="r=".concat(ae.repeatInterval," ").concat(ae.typedTimes.join(" ")).concat(this.eol);z.zoneAdjustments&&(V+="z=",V+="z=".concat(z.zoneAdjustments.map(ae=>"".concat(ae.time," ").concat(ae.back?"-":""," ").concat(ae.typedTime)).join(" ")).concat(this.eol),V+=this.eol)}return V}printKey(y){return y?"k=".concat(y).concat(this.eol):""}printAttributes(y){let V="";for(const z of y)V+="a=".concat(z.attField).concat(z.attValue?":".concat(z.attValue):"").concat(this.eol);return V}printMediaDescription(y){let V="";for(const z of y)V+=this.printMedia(z.media),V+=this.printInformation(z.information),V+=this.printConnections(z.connections),V+=this.printBandwidth(z.bandwidths),V+=this.printKey(z.key),V+=this.printMediaAttributes(z);return V}printConnections(y){let V="";for(const z of y)V+=this.printConnection(z);return V}printMedia(y){return"m=".concat(y.mediaType," ").concat(y.port," ").concat(y.protos.join("/")," ").concat(y.fmts.join(" ")).concat(this.eol)}printSessionAttributes(y){return new ce(this.eol).print(y)}printMediaAttributes(y){return new Me(this.eol).print(y)}}class ie{constructor(y){Ot(this,"eol",void 0),this.eol=y}printIceUfrag(y){return y===void 0?"":"a=ice-ufrag:".concat(y).concat(this.eol)}printIcePwd(y){return y===void 0?"":"a=ice-pwd:".concat(y).concat(this.eol)}printIceOptions(y){return y===void 0?"":"a=ice-options:".concat(y.join(g)).concat(this.eol)}printFingerprints(y){return y.length>0?y.map(V=>"a=fingerprint:".concat(V.hashFunction).concat(g).concat(V.fingerprint)).join(this.eol)+this.eol:""}printExtmap(y){return y.map(V=>"a=extmap:".concat(V.entry).concat(V.direction?"/".concat(V.direction):"").concat(g).concat(V.extensionName).concat(V.extensionAttributes?"".concat(g).concat(V.extensionAttributes):"").concat(this.eol)).join("")}printSetup(y){return y===void 0?"":"a=setup:".concat(y).concat(this.eol)}printUnrecognized(y){return y.map(V=>"a=".concat(V.attField).concat(V.attValue?":".concat(V.attValue):"").concat(this.eol)).join("")}}class ce extends ie{print(y){let V="";return V+=this.printGroups(y.groups),V+=this.printMsidSemantic(y.msidSemantic),V+=this.printIceLite(y.iceLite),V+=this.printIceUfrag(y.iceUfrag),V+=this.printIcePwd(y.icePwd),V+=this.printIceOptions(y.iceOptions),V+=this.printFingerprints(y.fingerprints),V+=this.printSetup(y.setup),V+=this.printTlsId(y.tlsId),V+=this.printIdentity(y.identities),V+=this.printExtmap(y.extmaps),V+=this.printUnrecognized(y.unrecognized),V}printGroups(y){let V="";return y.length>0&&(V+=y.map(z=>"a=group:".concat(z.semantic).concat(z.identificationTag.map(ae=>"".concat(g).concat(ae)).join("")).concat(this.eol)).join("")),V}printIceLite(y){return y===void 0?"":"a=ice-lite"+this.eol}printTlsId(y){return y?"a=tls-id:".concat(y).concat(this.eol):""}printIdentity(y){return y.length===0?"":y.map(V=>"a=identity:".concat(V.assertionValue).concat(V.extensions.map(z=>"".concat(g).concat(z.name).concat(z.value?"=".concat(z.value):"")))).join(this.eol)+this.eol}printMsidSemantic(y){if(!y)return"";let V="a=msid-semantic:".concat(y.semantic);return y.applyForAll?V+="".concat(g,"*"):y.identifierList.length>0&&(V+=y.identifierList.map(z=>"".concat(g).concat(z))),V+this.eol}}class Me extends ie{print(y){const V=y.attributes;let z="";return z+=this.printRTCP(V.rtcp),z+=this.printIceUfrag(V.iceUfrag),z+=this.printIcePwd(V.icePwd),z+=this.printIceOptions(V.iceOptions),z+=this.printCandidates(V.candidates),z+=this.printRemoteCandidatesList(V.remoteCandidatesList),z+=this.printEndOfCandidates(V.endOfCandidates),z+=this.printFingerprints(V.fingerprints),z+=this.printSetup(V.setup),z+=this.printMid(V.mid),z+=this.printExtmap(V.extmaps),z+=this.printRTPRelated(V),z+=this.printPtime(V.ptime),z+=this.printMaxPtime(V.maxPtime),z+=this.printDirection(V.direction),z+=this.printSSRCGroups(V.ssrcGroups),z+=this.printSSRC(V.ssrcs),z+=this.printRTCPMux(V.rtcpMux),z+=this.printRTCPMuxOnly(V.rtcpMuxOnly),z+=this.printRTCPRsize(V.rtcpRsize),z+=this.printMSId(V.msids),z+=this.printImageattr(V.imageattr),z+=this.printRid(V.rids),z+=this.printSimulcast(V.simulcast),z+=this.printSCTPPort(V.sctpPort),z+=this.printMaxMessageSize(V.maxMessageSize),z+=this.printUnrecognized(V.unrecognized),z}printCandidates(y){return y.map(V=>"a=candidate:".concat(V.foundation).concat(g).concat(V.componentId).concat(g).concat(V.transport).concat(g).concat(V.priority).concat(g).concat(V.connectionAddress).concat(g).concat(V.port).concat(g,"typ").concat(g).concat(V.type).concat(V.relAddr?"".concat(g,"raddr").concat(g).concat(V.relAddr):"").concat(V.relPort?"".concat(g,"rport").concat(g).concat(V.relPort):"").concat(Object.keys(V.extension).map(z=>"".concat(g).concat(z).concat(g).concat(V.extension[z])).join("")).concat(this.eol)).join("")}printRemoteCandidatesList(y){return y.map(V=>"a=remote-candidates:".concat(V.join(g)).concat(this.eol)).join("")}printEndOfCandidates(y){return y===void 0?"":"a=end-of-candidates"+this.eol}printRTPRelated(y){if(!y.payloads)return"";const V=y.payloads;let z="";z+=y.rtcpFeedbackWildcards.map(ae=>this.printRTCPFeedback("*",ae)).join("");for(const ae of V)z+=this.printRtpMap(ae.payloadType,ae.rtpMap),z+=this.printFmtp(ae.payloadType,ae.fmtp),z+=ae.rtcpFeedbacks.map(Ge=>this.printRTCPFeedback(ae.payloadType,Ge)).join("");return z}printFmtp(y,V){if(!V)return"";const z=Object.keys(V.parameters);return z.length===1&&V.parameters[z[0]]===null?"a=fmtp:".concat(y).concat(g).concat(z[0]).concat(this.eol):"a=fmtp:".concat(y).concat(g).concat(Object.keys(V.parameters).map(ae=>"".concat(ae,"=").concat(V.parameters[ae])).join(";")).concat(this.eol)}printRtpMap(y,V){return V?"a=rtpmap:".concat(y).concat(g).concat(V.encodingName,"/").concat(V.clockRate).concat(V.encodingParameters?"/".concat(V.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(y,V){let z="a=rtcp-fb:".concat(y).concat(g),ae=V;return ae.type==="trr-int"?z+="ttr-int".concat(g).concat(ae.interval):(z+="".concat(ae.type),ae.parameter&&(z+="".concat(g).concat(ae.parameter),ae.additional&&(z+="".concat(g).concat(ae.additional)))),z+this.eol}printPtime(y){return y===void 0?"":"a=ptime:".concat(y).concat(this.eol)}printMaxPtime(y){return y===void 0?"":"a=maxptime:".concat(y).concat(this.eol)}printDirection(y){return y===void 0?"":"a=".concat(y).concat(this.eol)}printSSRC(y){return y.map(V=>Object.keys(V.attributes).map(z=>"a=ssrc:".concat(V.ssrcId.toString(10)).concat(g).concat(z).concat(V.attributes[z]?":".concat(V.attributes[z]):"").concat(this.eol)).join("")).join("")}printRTCPMux(y){return y===void 0?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(y){return y===void 0?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(y){return y===void 0?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(y){if(y===void 0)return"";let V="a=rtcp:".concat(y.port);return y.netType&&(V+="".concat(g).concat(y.netType)),y.addressType&&(V+="".concat(g).concat(y.addressType)),y.address&&(V+="".concat(g).concat(y.address)),V+this.eol}printMSId(y){return y.map(V=>"a=msid:".concat(V.id).concat(V.appdata?"".concat(g).concat(V.appdata):"").concat(this.eol)).join("")}printImageattr(y){return y.map(V=>"a=imageattr:".concat(V).concat(this.eol)).join("")}printRid(y){return y.map(V=>{let z="a=rid:".concat(V.id).concat(g).concat(V.direction);return V.payloads&&(z+="".concat(g,"pt=").concat(V.payloads.join(","))),V.params.length>0&&(z+="".concat(g).concat(V.params.map(ae=>ae.type==="depend"?"depend=".concat(ae.rids.join(",")):"".concat(ae.type,"=").concat(ae.val)).join(";"))),z+this.eol}).join("")}printSimulcast(y){return y===void 0?"":"a=simulcast:".concat(y).concat(this.eol)}printSCTPPort(y){return y===void 0?"":"a=sctp-port:".concat(y).concat(this.eol)}printMaxMessageSize(y){return y===void 0?"":"a=max-message-size:".concat(y).concat(this.eol)}printMid(y){return y===void 0?"":"a=mid:".concat(y).concat(this.eol)}printSSRCGroups(y){return y.map(V=>"a=ssrc-group:".concat(V.semantic).concat(V.ssrcIds.map(z=>"".concat(g).concat(z.toString(10))).join("")).concat(this.eol)).join("")}}function Le(Ee){return new Xe().parse(Ee)}function ct(Ee,y){return new Sr().print(Ee,y)}}},r={};function s(o){if(r[o])return r[o].exports;var a=r[o]={exports:{}};return n[o](a,a.exports,s),a.exports}return s.d=(o,a)=>{for(var d in a)s.o(a,d)&&!s.o(o,d)&&Object.defineProperty(o,d,{enumerable:!0,get:a[d]})},s.o=(o,a)=>Object.prototype.hasOwnProperty.call(o,a),s.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s(8)})()})(fw);var vi=fw.exports;function Ap(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L("SVC_MODE");if(L("ENABLE_SVC"))return function(t){return t in Eg}(e)?e:Eg.L1T3}const mw={[Ne.VIDEO]:[{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"},{key:"video-orientation",extensionName:"urn:3gpp:video-orientation"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"playout-delay",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay"},{key:"video-content-type",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type"},{key:"color-space",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/color-space"},{key:"video-timing",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing"}],[Ne.AUDIO]:[{key:"ssrc-audio-level",extensionName:"urn:ietf:params:rtp-hdrext:ssrc-audio-level"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}]};function Bl(e,t,n){t.forEach(r=>{var s;const o=mw[e].find(d=>{var l;let{key:E}=d;return ge(l=r.extensionName).call(l,E)});if(!o)return;const a=n.find(d=>{let{extensionName:l}=d;return ge(l).call(l,o.key)});a&&ge(s=a.extensionName).call(s,"gdpr_forbidden")&&(r.extensionName=a.extensionName)})}function Wa(e,t){t.forEach(n=>{var r;const s=mw[e].find(o=>{var a;let{key:d}=o;return ge(a=n.extensionName).call(a,d)});ge(r=n.extensionName).call(r,"gdpr_forbidden")&&s&&(n.extensionName=s.extensionName)})}function Cw(e){return e==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"||ge(e).call(e,"abs-send-time")}function Ul(e){return e==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"||ge(e).call(e,"draft-holmer-rmcat-transport-wide-cc-extensions-01")}function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ec(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const{filterRTX:s,filterVideoFec:o,filterAudioFec:a,filterAudioCodec:d,filterVideoCodec:l}=t,{useXR:E}=n;let g=[],f=[],C=[],T=[],Q=!1,U=!1;if(vi.parse(e).mediaDescriptions.forEach(b=>{r&&r!==b.attributes.direction||(b.media.mediaType!=="video"||Q||(f=b.attributes.payloads,T=b.attributes.extmaps,Q=!0),b.media.mediaType!=="audio"||U||(g=b.attributes.payloads,C=b.attributes.extmaps,U=!0))}),!T||f.length===0)throw new Error("Cannot get video capabilities from SDP.");if(!C||g.length===0)throw new Error("Cannot get audio capabilities from SDP.");if(f.forEach(b=>{var Y;(Y=b.rtpMap)!==null&&Y!==void 0&&Y.clockRate&&(b.rtpMap.clockRate=parseInt(b.rtpMap.clockRate)),E&&b.rtcpFeedbacks.push({type:"rrtr"})}),g.forEach(b=>{var Y;(Y=b.rtpMap)!==null&&Y!==void 0&&Y.clockRate&&(b.rtpMap.clockRate=parseInt(b.rtpMap.clockRate)),E&&b.rtcpFeedbacks.push({type:"rrtr"})}),s&&(g=g.filter(b=>{var Y;return((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName.toLowerCase())!=="rtx"}),f=f.filter(b=>{var Y;return((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName.toLowerCase())!=="rtx"})),o&&(f=f.filter(b=>{var Y;return!/(red)|(ulpfec)|(flexfec)/i.test(((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName)||"")})),a&&(g=g.filter(b=>{var Y;return!/(red)|(ulpfec)|(flexfec)/i.test(((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName)||"")})),d&&(d==null?void 0:d.length)>0&&(g=g.filter(b=>{var Y;return ge(d).call(d,((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName.toLowerCase())||"")})),l&&(l==null?void 0:l.length)>0){const b=f.filter(Y=>{var G;return ge(l).call(l,((G=Y.rtpMap)===null||G===void 0?void 0:G.encodingName.toLowerCase())||"")});f=b.concat(s?[]:lp(b,f))}const _=L("UNSUPPORTED_VIDEO_CODEC");return _&&_.length>0&&(f=f.filter(b=>!(b.rtpMap&&ge(_).call(_,b.rtpMap.encodingName.toLowerCase())))),{audioCodecs:g,videoCodecs:f,audioExtensions:C,videoExtensions:T}}function Ws(e){const t=vi.parse(e);let n,r;for(const s of t.mediaDescriptions){if(!n){const o=s.attributes.iceUfrag,a=s.attributes.icePwd;if(!o||!a)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:o,icePwd:a}}if(!r){const o=s.attributes.fingerprints;o.length>0&&(r={fingerprints:o})}}if(!r&&t.attributes.fingerprints.length>0&&(r={fingerprints:t.attributes.fingerprints}),!r||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:r}}function Nw(e,t){const n=[],r=e.attributes.ssrcGroups.filter(a=>a.semantic==="FID"),s=e.attributes.ssrcGroups.find(a=>a.semantic==="SIM"),o=e.attributes.ssrcs;if(s)s.ssrcIds.forEach(a=>{var d;const l=(d=r.find(E=>E.ssrcIds[0]===a))===null||d===void 0?void 0:d.ssrcIds[1];n.push({ssrcId:a,rtx:t?l:void 0})});else if(r.length>0){const a=r[0].ssrcIds[0],d=r[0].ssrcIds[1];n.push({ssrcId:a,rtx:t?d:void 0})}else{if(o.length===0)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}function Sw(e,t,n){const{cname:r}=e;let s=[];t&&(s=Mw(t)),s.length===0&&(s=e.iceParameters.candidates.map(g=>({foundation:g.foundation,componentId:"1",transport:g.protocol,priority:g.priority.toString(),connectionAddress:g.ip,port:g.port.toString(),type:g.type,extension:{}})),M.debug("Using candidates from gateway."));const o={fingerprints:e.dtlsParameters.fingerprints.map(g=>({hashFunction:g.algorithm,fingerprint:g.fingerprint}))},a={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let d;switch(e.dtlsParameters.role){case"server":d="passive";break;case"client":d="active";break;case"auto":d="actpass"}const l=_l(e.rtpCapabilities),E=[];return Array.isArray(n)&&n.length>0&&n.forEach(g=>{E.push({kind:Ne.VIDEO,ssrcId:g.v,rtx:g.v_rtx,mslabel:"".concat(g.v,"_").concat(g.a)},{kind:Ne.AUDIO,ssrcId:g.a,mslabel:"".concat(g.v,"_").concat(g.a)})}),{dtlsParameters:o,iceParameters:a,candidates:s,rtpCapabilities:l,setup:d,cname:r,preSSRCs:E}}function Mw(e){let t=[];return e.ip&&typeof e.port=="number"&&(t=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip,port:e.port.toString(),type:"host",extension:{}}],M.debug("Using remote candidate from AP ".concat(e.ip,":").concat(e.port)),e.ip6&&(t.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip6,port:e.port.toString(),type:"host",extension:{}}),M.debug("Using IPV6 remote candidate from AP ".concat(e.ip6,":").concat(e.port)))),t}function Fo(e,t,n){const r=[],s=[];return e.forEach(o=>{let{ssrcId:a,rtx:d}=o;const l=wt(8,"track-"),E={ssrcId:a,attributes:Tw({label:l,mslabel:n=n||wt(10,""),msid:"".concat(n," ").concat(l)},t&&{cname:t})};if(r.push(E),d!==void 0){const g={ssrcId:d,attributes:Tw({label:l,mslabel:n,msid:"".concat(n," ").concat(l)},t&&{cname:t})};r.push(g),s.push({semantic:"FID",ssrcIds:[a,d]})}}),e.length>1&&s.push({semantic:"SIM",ssrcIds:e.map(o=>{let{ssrcId:a}=o;return a})}),{ssrcs:r,ssrcGroups:s}}function Ja(e,t){t instanceof Wt&&e.attributes.payloads.forEach(n=>{var r;const s=(r=n.rtpMap)===null||r===void 0?void 0:r.encodingName.toLowerCase();if(!s||["opus","pcmu","pcma","g722"].indexOf(s)===-1)return;n.fmtp||(n.fmtp={parameters:{}}),n.fmtp.parameters.minptime="10",n.fmtp.parameters.useinbandfec="1";const o=t._encoderConfig;o&&s!=="pcmu"&&s!=="pcma"&&s!=="g722"&&(o.bitrate&&!Gt()&&(n.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*o.bitrate))),o.sampleRate&&(n.fmtp.parameters.maxplaybackrate="".concat(o.sampleRate),n.fmtp.parameters["sprop-maxcapturerate"]="".concat(o.sampleRate)),o.stereo&&(n.fmtp.parameters.stereo="1",n.fmtp.parameters["sprop-stereo"]="1"))})}function cp(e){const t=e.attributes.unrecognized.findIndex(n=>n.attField==="x-google-flag"&&n.attValue==="conference");t!==-1&&e.attributes.unrecognized.splice(t,1)}function dp(e,t){var n;if(!(t instanceof Qt&&t._encoderConfig&&t._hints.indexOf(Bt.SCREEN_TRACK)===-1))return;const r=t._encoderConfig;ot().supportMinBitrate&&r.bitrateMin&&e.attributes.payloads.forEach(s=>{var o,a;ge(o=["h264","h265","vp8","vp9","av1"]).call(o,((a=s.rtpMap)===null||a===void 0?void 0:a.encodingName.toLowerCase())||"")&&(s.fmtp||(s.fmtp={parameters:{}}),s.fmtp.parameters["x-google-min-bitrate"]="".concat(r.bitrateMin))}),ot().supportMinBitrate&&!ge(n=t._hints).call(n,Bt.LOW_STREAM)&&r.bitrateMax&&e.attributes.payloads.forEach(s=>{var o,a;ge(o=["h264","h265","vp8","vp9","av1"]).call(o,((a=s.rtpMap)===null||a===void 0?void 0:a.encodingName.toLowerCase())||"")&&(s.fmtp||(s.fmtp={parameters:{}}),s.fmtp.parameters["x-google-start-bitrate"]="".concat(L("X_GOOGLE_START_BITRATE")||Math.floor(r.bitrateMax)))})}function yw(e){if(e.media.mediaType!=="video")return;const t=st();if(t.name!==ht.SAFARI&&t.os!==Ri.IOS)return;const n=e.attributes.extmaps.findIndex(r=>/video-orientation/g.test(r.extensionName));n!==-1&&e.attributes.extmaps.splice(n,1)}function vl(e,t,n){if(!t)return;let r,s;if(e.media.mediaType==="video"?(r=n.videoExtensions,s=n.videoCodecs):(r=n.audioExtensions,s=n.audioCodecs),t.twcc===!0){const o=r.find(a=>Ul(a.extensionName));if(o){const a=o.extensionName;e.attributes.extmaps.find(l=>Ul(l.extensionName))||e.attributes.extmaps.push({entry:o.entry,extensionName:a}),function(l,E){return E.filter(g=>!!l.find(f=>f.payloadType===g.payloadType&&!!f.rtcpFeedbacks.find(C=>C.type==="transport-cc")))}(s,e.attributes.payloads).forEach(l=>{l.rtcpFeedbacks.find(E=>E.type==="transport-cc")||l.rtcpFeedbacks.push({type:"transport-cc"})})}}else if(t.twcc===!1){const o=e.attributes.extmaps.findIndex(a=>Ul(a.extensionName));o!==-1&&e.attributes.extmaps.splice(o,1),e.attributes.payloads.forEach(a=>{const d=a.rtcpFeedbacks.findIndex(l=>l.type==="transport-cc");d!==-1&&a.rtcpFeedbacks.splice(d,1)})}if(t.remb===!0){const o=r.find(a=>Cw(a.extensionName));if(o){const a=o.extensionName;e.attributes.extmaps.find(l=>l.extensionName===a)||e.attributes.extmaps.push({entry:o.entry,extensionName:a}),function(l,E){return E.filter(g=>!!l.find(f=>f.payloadType===g.payloadType&&!!f.rtcpFeedbacks.find(C=>C.type==="goog-remb")))}(s,e.attributes.payloads).forEach(l=>{l.rtcpFeedbacks.find(E=>E.type==="goog-remb")||l.rtcpFeedbacks.push({type:"goog-remb"})})}}else if(t.remb===!1){const o=e.attributes.extmaps.findIndex(a=>Cw(a.extensionName));o!==-1&&e.attributes.extmaps.splice(o,1),e.attributes.payloads.forEach(a=>{const d=a.rtcpFeedbacks.findIndex(l=>l.type==="goog-remb");d!==-1&&a.rtcpFeedbacks.splice(d,1)})}}function ww(e,t,n){if(Gt()||e.media.mediaType!=="video"||!(t instanceof Qt)||n!=="vp9"&&n!=="vp8"||n==="vp8"&&!L("SIMULCAST")||n==="vp9"&&L("ENABLE_SVC")||t._scalabilityMode===void 0||t._scalabilityMode.numSpatialLayers<=1)return;const r=n==="vp8"?2:t._scalabilityMode.numSpatialLayers,s=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find(d=>d.semantic==="FID"&&d.ssrcIds[0]===s.ssrcId),a={semantic:"SIM",ssrcIds:[s.ssrcId]};for(let d=1;d<r;d++)e.attributes.ssrcs.push({ssrcId:s.ssrcId+d,attributes:Xt(s.attributes)}),a.ssrcIds.push(s.ssrcId+d),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+d,attributes:Xt(s.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[s.ssrcId+d,o.ssrcIds[1]+d]}));e.attributes.ssrcGroups.unshift(a)}async function Bw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=new RTCPeerConnection;n.addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"});const r=(await n.createOffer()).sdp,{send:s,recv:o,sendrecv:a}=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2?arguments[2]:void 0;const g=ec(E,d,l,"sendonly"),f=ec(E,d,l,"recvonly"),C={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},T={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},Q={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(pr(g,f,"videoExtensions",C,T,Q),pr(g,f,"videoCodecs",C,T,Q),pr(g,f,"audioExtensions",C,T,Q),pr(g,f,"audioCodecs",C,T,Q),L("RAISE_H264_BASELINE_PRIORITY")){const U=[],_=[];Q.videoCodecs.forEach((b,Y)=>{var G;if(((G=b.rtpMap)===null||G===void 0?void 0:G.encodingName.toLocaleLowerCase())==="h264"){var W,J;const K=Q.videoCodecs[Y+1],ne=K&&Qw(b,K),le=(W=b.fmtp)===null||W===void 0?void 0:W.parameters["profile-level-id"],oe=(J=b.fmtp)===null||J===void 0?void 0:J.parameters["packetization-mode"];!le||le!==L("FIRST_H264_PROFILE_LEVEL_ID")||L("FIRST_PACKETIZATION_MODE")&&oe!==L("FIRST_PACKETIZATION_MODE")?ne?_.push([b,K]):_.push([b]):ne?U.push([b,K]):U.push([b])}}),U.length>0&&_.length>0&&(M.debug("raising H264 baseline profile priority"),Q.videoCodecs.forEach((b,Y)=>{var G;if(((G=b.rtpMap)===null||G===void 0?void 0:G.encodingName.toLocaleLowerCase())==="h264"){const W=Qw(b,Q.videoCodecs[Y+1]),J=U.shift()||_.shift()||[];J.length>0&&(W?Q.videoCodecs.splice(Y,2,...J):Q.videoCodecs.splice(Y,1,...J))}}),T.videoCodecs=T.videoCodecs.filter(b=>{var Y,G;return!(((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName.toLocaleLowerCase())==="h264"&&((G=b.fmtp)===null||G===void 0?void 0:G.parameters["profile-level-id"])!==L("FIRST_H264_PROFILE_LEVEL_ID"))}),L("FILTER_SEND_H264_BASELINE")&&(C.videoCodecs=C.videoCodecs.filter(b=>{var Y,G;return!(((Y=b.rtpMap)===null||Y===void 0?void 0:Y.encodingName.toLocaleLowerCase())==="h264"&&((G=b.fmtp)===null||G===void 0?void 0:G.parameters["profile-level-id"])!==L("FIRST_H264_PROFILE_LEVEL_ID"))})))}return{send:C,recv:T,sendrecv:Q}}(e,t,r);try{n.close()}catch{}return{send:s,recv:o,sendrecv:a}}function Uw(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=ec(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"recvonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(pr(e,t,"videoExtensions",n,r,s),pr(e,t,"videoCodecs",n,r,s),pr(e,t,"audioExtensions",n,r,s),pr(e,t,"audioCodecs",n,r,s),L("RAISE_H264_BASELINE_PRIORITY")){const o=s.videoCodecs.findIndex(a=>a.rtpMap&&a.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&a.fmtp&&a.fmtp.parameters["profile-level-id"]==="42001f");if(o!==-1){const a=s.videoCodecs.findIndex(d=>d.rtpMap&&d.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(a<o){M.debug("raising H264 baseline profile priority");const d=s.videoCodecs[o];s.videoCodecs.splice(o,1),s.videoCodecs.splice(a,0,d)}a!==-1&&(r.videoCodecs=r.videoCodecs.filter(d=>!(d.rtpMap&&d.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&d.fmtp&&d.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:n,recv:r,sendrecv:s}}function pr(e,t,n,r,s,o){if(n==="videoExtensions"||n==="audioExtensions"){const a=[];return e[n].forEach(d=>{t[n].some((l,E)=>{if(d.entry===l.entry&&d.extensionName===l.extensionName)return a.push(E),!0})?o[n].push(d):r[n].push(d)}),void t[n].forEach((d,l)=>{a.indexOf(l)===-1&&s[n].push(d)})}if(n==="videoCodecs"||n==="audioCodecs"){const a=[];return e[n].forEach(d=>{t[n].some((l,E)=>{if(d.payloadType===l.payloadType&&JSON.stringify(d)===JSON.stringify(l))return a.push(E),!0})?o[n].push(d):r[n].push(d)}),void t[n].forEach((d,l)=>{a.indexOf(l)===-1&&s[n].push(d)})}}function _l(e){const{send:t,recv:n,sendrecv:r}=e;if(!r){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let s,o;return t?(s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s.audioCodecs=[...t.audioCodecs,...r.audioCodecs],s.videoCodecs=[...t.videoCodecs,...r.videoCodecs],s.audioExtensions=[...t.audioExtensions,...r.audioExtensions],s.videoExtensions=[...t.videoExtensions,...r.videoExtensions]):s=r,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...r.audioCodecs],o.videoCodecs=[...n.videoCodecs,...r.videoCodecs],o.audioExtensions=[...n.audioExtensions,...r.audioExtensions],o.videoExtensions=[...n.videoExtensions,...r.videoExtensions]):o=r,{send:s,recv:o}}function Ha(e){e.media.mediaType==="audio"&&e.attributes.payloads.filter(t=>{var n;return((n=t.rtpMap)===null||n===void 0?void 0:n.encodingName.toLowerCase())==="opus"}).forEach(t=>{t.fmtp||(t.fmtp={parameters:{}}),t.fmtp.parameters.stereo="1",t.fmtp.parameters["sprop-stereo"]="1"})}function tc(e,t,n,r){let s=[];if(e===Ne.VIDEO){if(L("H264_PROFILE_LEVEL_ID")&&r==="h264"&&(s=t.videoCodecs.filter(o=>{var a;return ge(a=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||"").call(a,r)&&o&&o.fmtp&&o.fmtp.parameters["profile-level-id"]===L("H264_PROFILE_LEVEL_ID")})),!Array.isArray(s)||s.length===0){let o=[];const a=[],d=[],l=[];if(n.videoCodecs.forEach(E=>{const g=E.rtpMap&&E.rtpMap.encodingName.toLowerCase()||"";ge(g).call(g,r)?o.push(E):ge(g).call(g,"vp9")?a.push(E):ge(g).call(g,"vp8")?d.push(E):ge(g).call(g,"h264")&&l.push(E)}),o.length===0){let E="";a.length!==0?(o=a,E="vp9"):d.length!==0?(o=d,E="vp8"):l.length!==0&&(o=l,E="h264"),M.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(E))}o.length!==0&&(s=t.videoCodecs.filter(E=>o.some(g=>g.payloadType===E.payloadType)))}if(s.length===0&&(M.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),s=t.videoCodecs),L("USE_PUB_RTX")||L("USE_SUB_RTX")){const o=lp(s,t.videoCodecs);s=[...s,...o]}}else s=t.audioCodecs.filter(o=>{var a;return ge(a=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||"").call(a,r)}),s.length===0&&(M.warning("codec ".concat(r," not included in rtpCapabilities, fallback to opus")),s=t.audioCodecs.filter(o=>{var a;return ge(a=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||"").call(a,"opus")}));return s}function lp(e,t){const n=e.map(r=>r.payloadType.toString());return t.filter(r=>r.rtpMap&&r.rtpMap.encodingName==="rtx"&&r.fmtp&&r.fmtp.parameters.apt&&ge(n).call(n,r.fmtp&&r.fmtp.parameters.apt))}async function Fl(e,t,n){const r=t.toString(),s=_w(r,"offer","remote","exchangeSDP");await e.setRemoteDescription({type:"offer",sdp:r});const o=await e.createAnswer();if(!o.sdp)throw new Error("cannot get answer sdp");let a=o.sdp;a=vw(a,n||{}),s==null||s(a||""),await e.setLocalDescription({type:"answer",sdp:a})}function vw(e,t,n){const r=vi.parse(e),{useXR:s}=t;return r.mediaDescriptions.forEach(o=>{var a;o.attributes.mid&&(Array.isArray(n)&&!ge(n).call(n,o.attributes.mid)||(o.media.mediaType==="audio"&&Ha(o),s&&ge(a=["audio","video"]).call(a,o.media.mediaType)&&o.attributes.payloads.forEach(d=>{d.rtcpFeedbacks.findIndex(l=>l.type==="rrtr")===-1&&d.rtcpFeedbacks.push({type:"rrtr"})})))}),vi.print(r)}function _w(e,t,n,r){if(L("SDP_LOGGING"))return M.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,`
`),e),t==="offer"?s=>{_w(s,"answer",n==="local"?"remote":"local",r)}:void 0}function Fw(e){const t=L("COMPATIBLE_SDP_EXTENSION");return!!(Array.isArray(t)&&t.length>0)&&t.some(n=>ge(e).call(e,n))}function Qw(e,t){try{var n;return((n=e.fmtp)===null||n===void 0?void 0:n.parameters.apt)===t.payloadType.toString()}catch{return!1}}function $r(e,t){return typeof L(e)===t?L(e):void 0}function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const hp=new Map;class dG extends Vt{get state(){return this._state}set state(t){if(t===this._state)return;const n=this._state;this._state=t,t==="DISCONNECTED"&&this._disconnectedReason?this.emit(ki.CONNECTION_STATE_CHANGE,t,n,this._disconnectedReason):this.emit(ki.CONNECTION_STATE_CHANGE,t,n)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(t){M.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(t)),this._joinGatewayStartTime=t}constructor(t,n){super(),F(this,"store",void 0),F(this,"joinInfo",void 0),F(this,"key",void 0),F(this,"ntpOffset",0),F(this,"signal",void 0),F(this,"role",void 0),F(this,"inChannelInfo",{joinAt:null,duration:0}),F(this,"spec",void 0),F(this,"_state","DISCONNECTED"),F(this,"_statsCollector",void 0),F(this,"_disconnectedReason",void 0),F(this,"isSignalRecover",!1),F(this,"hasChangeBGPAddress",!1),F(this,"trafficStatsInterval",void 0),F(this,"networkQualityInterval",void 0),F(this,"_joinGatewayStartTime",0),F(this,"_signalTimeout",!1),F(this,"_clientRoleOptions",void 0),F(this,"_isProactiveJoin",!1),this.store=t,this.spec=n,this.signal=this.store.useP2P?new Iw(Js(Js({},n),{},{retryConfig:n.websocketRetryConfig}),t):new bL(Js(Js({},n),{},{retryConfig:n.websocketRetryConfig}),t),this._statsCollector=n.statsCollector,this.role=n.role||"audience",this._clientRoleOptions=n.clientRoleOptions,this.handleSignalEvents()}async join(t,n,r){this.store.joinGatewayStart(),t.cloudProxyServer!=="disabled"&&(this.hasChangeBGPAddress=!0);const s=Date.now();let o=hp.get(t.cname);if(o||(o=new Map,hp.set(t.cname,o)),this._isProactiveJoin=!0,o.has(t.uid)){const E=new X(j.UID_CONFLICT);throw ve.joinGateway(t.sid,{lts:s,succ:!1,ec:E.code,addr:null,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!t.proxyServer,signalChannel:"0",preload:t.preload}),this._isProactiveJoin=!1,E}o.set(t.uid,!0),this.joinInfo=t,this.key=n;let a=0;this.joinGatewayStartTime=s;const d=t.proxyServer;try{M.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(a));const E=t.gatewayAddrs.map(g=>{let{address:f}=g;const[C,T]=f.split(":"),Q={host:C,port:T};return t.proxyServer&&(Q.proxy=t.proxyServer),Q});a=(await this.signal.init(E,r)).uid,M.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(a," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(E){var l;throw M.error("[".concat(this.store.clientId,"] User join failed"),E.toString()),ve.joinGateway(t.sid,{lts:s,succ:!1,ec:((l=E.data)===null||l===void 0?void 0:l.desc)||E.code,errorMsg:E.message,addr:this.signal.url,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!d,signalChannel:"0",preload:t.preload}),this._isProactiveJoin=!1,o.delete(t.uid),this.signal.close(),E}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),M.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(E=>{M.warning("[".concat(this.store.clientId,"] get traffic stats error"),E.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(ki.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(ki.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state==="CONNECTED"&&this._statsCollector.trafficStats?this.emit(ki.NETWORK_QUALITY,{uplinkNetworkQuality:DS(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:DS(this._statsCollector.trafficStats.B_dnq)}):this.emit(ki.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),a}async leave(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=arguments.length>1?arguments[1]:void 0;if(this.state!=="DISCONNECTED"){n!==gt.FALLBACK&&(this.state="DISCONNECTING");try{t||this.signal.connectionState!==Ut.CONNECTED||await function(r,s){return s===1/0?r:Ie.race([r,_V(s)])}(this.signal.request(Pe.LEAVE,void 0,!0),3e3)}catch(r){M.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),r)}this.signal.close(n),n!==gt.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(t,n,r){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const s={state:"offer",p2p_id:this.store.p2pId,ortc:n,mode:this.spec.mode,extend:L("PUB_EXTEND"),twcc:!!L("PUBLISH_TWCC"),rtx:!!L("USE_PUB_RTX")};try{return(await this.signal.request(Pe.PUBLISH,s,!0))._message}catch(o){if(r&&o.data&&o.data.code===be.ERR_PUBLISH_REQUEST_INVALID)return M.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),o.toString()),await this.tryUnpubBeforeRepub(t,n),this.publish(t,n,!1);throw o}}async publishDataChannel(t,n,r){var s;if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const o={stream_id:n.streamId,ordered:n.ordered?1:0,max_retrans_times:(s=n.maxRetransmits)!==null&&s!==void 0?s:10,channel_id:n.channelId,metadata:n.metadata};try{await this.signal.request(Pe.PUBLISH_DATASTREAM,o,!0)}catch(a){if(r&&a.data&&a.data.code===be.ERR_PUBLISH_REQUEST_INVALID)return M.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),a.toString()),await this.tryUnpubDataChannelBeforeRepub(t,n),this.publishDataChannel(t,n,!1);throw a}}async unpublish(t,n){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(Pe.UNPUBLISH,{stream_id:n,ortc:t},!0)}catch(r){M.warning("[".concat(this.store.clientId,"] unpublish warning: "),r)}}async unpublishDataChannel(t){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Ie.all(t.map(n=>this.signal.request(Pe.UNPUBLISH_DATASTREAM,{channel_id:n},!0)))}catch(n){M.warning("unpublish datachannels warning: ",n)}}async presubscribe(t,n,r){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const s={stream_id:t,stream_type:n,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!L("SUBSCRIBE_TWCC"),rtx:!!L("USE_SUB_RTX")||void 0,extend:L("SUB_EXTEND"),svc:Array.isArray(L("SVC"))&&L("SVC").length!==0?L("SVC"):void 0};try{return await this.signal.request(Pe.PRE_SUBSCRIBE,s,!0)}catch(o){if(r&&o.data&&o.data.code===be.ERR_SUBSCRIBE_REQUEST_INVALID)return M.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),o.toString()),this.presubscribe(t,n,!1);throw o}}async subscribe(t,n,r){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const s={stream_id:t,stream_type:n.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!L("SUBSCRIBE_TWCC"),rtx:!!L("USE_SUB_RTX"),extend:L("SUB_EXTEND"),ssrcId:n.ssrcId,svc:Array.isArray(L("SVC"))&&L("SVC").length!==0?L("SVC"):void 0};try{return(await this.signal.request(Pe.SUBSCRIBE,s,!0))._message}catch(o){if(r&&o.data&&o.data.code===be.ERR_SUBSCRIBE_REQUEST_INVALID)return M.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),o.toString()),await this.tryUnsubBeforeResub(t,n),await this.subscribe(t,n,!1);throw o}}async subscribeDataChannel(t,n,r){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const s={uid:t,stream_id:n.id,channel_id:n.datachannelId};try{return void await this.signal.request(Pe.SUBSCRIBE_DATASTREAM,s,!0)}catch(o){if(r&&o.data&&o.data.code===be.ERR_SUBSCRIBE_REQUEST_INVALID)return M.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),o.toString()),await this.tryUnsubDataChannelBeforeResub(t,n),await this.subscribeDataChannel(t,n,!1);throw o}}async subscribeAll(t,n){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const r={p2p_id:this.store.p2pId,users:t,dtx:!1,rtx:!!L("USE_SUB_RTX"),twcc:!!L("SUBSCRIBE_TWCC"),svc:Array.isArray(L("SVC"))&&L("SVC").length!==0?L("SVC"):void 0};try{return await this.signal.request(Pe.SUBSCRIBE_STREAMS,r,!0)}catch(s){if(n&&s.data&&s.data.code===be.ERR_SUBSCRIBE_REQUEST_INVALID)return M.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),s.toString()),await this.tryMassUnsubBeforeResub(t),await this.subscribeAll(t,!1);throw s}}async setVideoProfile(t){const n=function(r){if(!(r.bitrateMax&&r.bitrateMin&&r.frameRate&&r.height&&r.width))return;let s=r.frameRate,o=r.width,a=r.height,d=!0;return typeof s!="number"&&(s=s.exact||s.ideal||s.max||s.min||0,s||(d=!1)),typeof o!="number"&&(o=o.exact||o.ideal||o.max||o.min||0,o||(d=!1)),typeof a!="number"&&(a=a.exact||a.ideal||a.max||a.min||0,s||(d=!1)),d?{stream_type:0,width:o,height:a,fps:s,start_bps:1e3*r.bitrateMax,min_bps:1e3*r.bitrateMin,target_bps:1e3*r.bitrateMax}:void 0}(t);if(n)return this.signal.request(Pe.SET_VIDEO_PROFILE,n);M.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(t,n){try{await this.signal.request(Pe.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:t,stream_id:n},!0)}catch(r){M.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),r)}}async unsubscribeDataChannel(t,n){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Ie.all(t.map(r=>this.signal.request(Pe.UNSUBSCRIBE_DATASTREAM,{stream_id:r,uid:n},!0)))}catch(r){M.warning("unsubscribeDataChannel warning: ",r)}}async massUnsubscribe(t){try{await this.signal.request(Pe.UNSUBSCRIBE_STREAMS,t,!0)}catch(n){M.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),n)}}async reconnectPC(t){const{iceParameters:n,dtlsParameters:r,rtpCapabilities:s}=t;return{gatewayEstablishParams:await this.signal.request(Pe.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:s}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(Pe.GATEWAY_INFO)}async renewToken(t){await this.signal.request(Pe.RENEW_TOKEN,t),this.key=t.token}async setClientRole(t,n){if(n&&(this._clientRoleOptions=Object.assign({},n)),this.state!=="CONNECTED")return void(this.role=t);let r,s=0;t==="audience"?this._clientRoleOptions&&this._clientRoleOptions.delay?(r=this._clientRoleOptions.delay,s=1):s=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:s=0,await this.signal.request(Pe.SET_CLIENT_ROLE,{role:t,level:s,delay:r,client_ts:Date.now()}),this.role=t}async setRemoteVideoStreamType(t,n){await this.signal.request(Pe.SWITCH_VIDEO_STREAM,{stream_id:t,stream_type:n})}async setDefaultRemoteVideoStreamType(t){await this.signal.request(Pe.DEFAULT_VIDEO_STREAM,{stream_type:t})}async setStreamFallbackOption(t,n){await this.signal.request(Pe.SET_FALLBACK_OPTION,{stream_id:t,fallback_type:n})}async pickSVCLayer(t,n){await this.signal.request(Pe.PICK_SVC_LAYER,{stream_id:t,spatial_layer:n.spatialLayer,temporal_layer:n.temporalLayer})}async setRTM2Flag(t){await this.signal.request(Pe.SET_RTM2_FLAG,{rtm2_flag:t})}async sendExtensionMessage(t,n,r){if(this.signal instanceof Iw)return this.signal.sendExtensionMessage(t,n,r)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),Js({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(Pe.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const t=hp.get(this.joinInfo.cname);t&&t.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const t=function(n){let r;return r=n.startsWith("dc")?n.match(/(dc\:\/\/)?([^:]+):(\d+)/):n.match(/(wss\:\/\/)?([^:]+):(\d+)/),r?{username:Di.username,password:Di.password,turnServerURL:r[2],tcpport:parseInt(r[3])+30,udpport:parseInt(r[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer==="disabled"?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],t&&this.joinInfo.turnServer.mode!=="off"&&this.joinInfo.cloudProxyServer==="disabled"&&this.joinInfo.turnServer.serversFromGateway.push(Js(Js({},Di),{},{turnServerURL:t.turnServerURL,tcpport:t.tcpport,udpport:t.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(this.state!=="CONNECTED")return;const t=await this.signal.request(Pe.TRAFFIC_STATS,void 0,!0);t.timestamp=Date.now(),t.ntp_offset!=null&&(this.ntpOffset=t.ntp_offset),t.peer_delay.forEach(n=>{const r=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(s=>s.peer_uid===n.peer_uid);r&&r.B_st!==n.B_st&&qd(()=>{this.emit(ki.STREAM_TYPE_CHANGE,n.peer_uid,n.B_st)})}),this._statsCollector.updateTrafficStats(t)}getJoinMessage(t){if(!this.joinInfo||!this.key)throw new X(j.UNEXPECTED_ERROR,"can not generate join message, no join info");const n=Object.assign({},this.joinInfo.apResponse);let r=L("REPORT_APP_SCENARIO");if(typeof r!="string")try{r=JSON.stringify(r)}catch{r=void 0}r&&r.length>128&&(r=void 0);const s=!(Gt()||FN(87)||pM())&&typeof L("ENABLE_PRE_SUB")=="boolean"&&L("ENABLE_PRE_SUB"),o=!pM()&&$r("ENABLE_PREALLOC_PC","boolean"),a=Js({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:Zn,browser:navigator.userAgent,process_id:L("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:n,extend:L("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer==="proxy3"?"1":this.joinInfo.cloudProxyServer==="proxy5"?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:r,attributes:{userAttributes:{enablePublishedUserList:L("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:L("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:typeof L("SUBSCRIBE_AUDIO_FILTER_TOPN")=="number"?L("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:typeof L("ENABLE_PUBLISH_AUDIO_FILTER")=="boolean"?L("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:typeof L("ENABLE_USER_LICENSE_CHECK")=="boolean"?L("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:L("USE_PUB_RTX")===!0||L("USE_SUB_RTX")===!0||void 0,disableFEC:L("DISABLE_FEC"),enableNTPReport:!!L("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!L("ENABLE_INSTANT_VIDEO")||void 0,enableFulllinkAvSync:!!L("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:$r("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!L("ENABLE_AUT_FEEDBACK")||void 0,rtm2Flag:typeof this.joinInfo.rtmFlag=="number"?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!L("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:$r("USE_XR","boolean"),enableLossbasedBwe:$r("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!L("ENABLE_AUT_CC")||void 0,enableCCFallback:$r("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:o,preSubNum:s?$r("PRE_SUB_NUM","number"):void 0,enablePubTWCC:$r("PUBLISH_TWCC","boolean"),enableSubTWCC:$r("SUBSCRIBE_TWCC","boolean"),enablePubRTX:$r("USE_PUB_RTX","boolean"),enableSubRTX:$r("USE_SUB_RTX","boolean"),enableSubSVC:L("ENABLE_SVC")?L("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(L("SVC"))&&L("SVC").length!==0?L("SVC"):void 0}},join_ts:this.joinGatewayStartTime},t);return this.joinInfo.stringUid&&(a.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(a.aes_mode=this.joinInfo.aesmode,L("ENCRYPT_AES")?(a.aes_secret=this.joinInfo.aespassword,a.aes_encrypt=!0):a.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(a.aes_salt=this.joinInfo.aessalt)),n.addresses[this.signal.websocket.currentURLIndex]&&(a.ap_response.ticket=n.addresses[this.signal.websocket.currentURLIndex].ticket,delete n.addresses),this.joinInfo.defaultVideoStream!==void 0&&(a.default_video_stream=this.joinInfo.defaultVideoStream),a}getRejoinMessage(){if(!this.joinInfo)throw new X(j.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(Ve.WS_RECONNECT_CREATE_CONNECTION,t=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(Ve.WS_RECONNECTING,t=>{this.joinInfo&&ve.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t||Qi.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",ve.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode==="live"?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role==="audience"?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(Ve.WS_CLOSED,t=>{let n;switch(t){case gt.LEAVE:n=Qi.LEAVE;break;case gt.UID_BANNED:case gt.IP_BANNED:case gt.CHANNEL_BANNED:case gt.SERVER_ERROR:n=Qi.SERVER_ERROR;break;case gt.FALLBACK:n=Qi.FALLBACK;break;case gt.LICENSE_MISSING:case gt.LICENSE_EXPIRED:case gt.LICENSE_MINUTES_EXCEEDED:case gt.LICENSE_PERIOD_INVALID:case gt.LICENSE_MULTIPLE_SDK_SERVICE:case gt.LICENSE_ILLEGAL:case gt.TOKEN_EXPIRE:n=t;break;default:n=Qi.NETWORK_ERROR}M.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(n||"undefined -> "+Qi.NETWORK_ERROR)),this.joinInfo&&ve.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:t===gt.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:n}),this._disconnectedReason=t,t!==gt.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}),this.signal.on(Ve.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&(this.role==="audience"&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(M.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),ve.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1)){const t=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!t)return void M.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(t));Nt("EVENT_REPORT_DOMAIN",t[1]),Nt("EVENT_REPORT_BACKUP_DOMAIN",t[1]),Nt("LOG_UPLOAD_SERVER","".concat(t[1],":6444"))}}),this.signal.on(qe.ON_UPLINK_STATS,t=>{this._statsCollector.updateUplinkStats(t)}),this.signal.on(Ve.REQUEST_RECOVER,(t,n,r)=>{if(!this.joinInfo)return r(new X(j.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));t&&(this.joinInfo.multiIP=t,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,bi(this,ki.REQUEST_NEW_GATEWAY_LIST).then(n).catch(r)}),this.signal.on(Ve.REQUEST_JOIN_INFO,async t=>{var n;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void t(this.getJoinMessage({ortc:{}}));const{iceParameters:r,dtlsParameters:s,rtpCapabilities:o}=await bi(this,ki.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:(n=this.joinInfo)===null||n===void 0?void 0:n.turnServer});t(this.getJoinMessage({ortc:{iceParameters:r,dtlsParameters:s,rtpCapabilities:o,version:"2"}}))}),this.signal.on(Ve.REQUEST_REJOIN_INFO,t=>{t(this.getRejoinMessage())}),this.signal.on(Ve.REPORT_JOIN_GATEWAY,(t,n)=>{if(!this.joinInfo)return;let r,s="";var o;t instanceof X?(r=((o=t.data)===null||o===void 0?void 0:o.desc)||t.code,s=t.message):r=t,ve.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:r,errorMsg:s,addr:n,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1}),this.signal.on(Ve.IS_P2P_DISCONNECTED,t=>{t(VA(this,ki.IS_P2P_DISCONNECTED))}),this.signal.on(Ve.DISCONNECT_P2P,()=>{this.emit(ki.DISCONNECT_P2P)}),this.signal.on(Ve.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(Ve.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(Ve.JOIN_RESPONSE,t=>{const n=this.getCurrentGatewayAddress();this.emit(ki.JOIN_RESPONSE,t,n)}),this.signal.on(Ve.PRE_CONNECT_PC,async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const t=this.getCurrentGatewayAddress(),n=L("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(t&&n){const r=Mw(t);this.emit(ki.PRE_CONNECT_PC,{candidates:r,fingerprint:n})}}}),this.signal.on(Ve.RECOVER_NOTIFICATION,t=>{this.joinInfo&&typeof L("AP_REQUEST_DETAIL")=="string"&&(this.joinInfo.apRequestDetail="".concat(L("AP_REQUEST_DETAIL"),";").concat(t))})}async tryUnsubBeforeResub(t,n){try{await this.signal.request(Pe.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:t,ortc:[n]},!0)}catch(r){throw M.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),r),r}}async tryUnsubDataChannelBeforeResub(t,n){try{await this.signal.request(Pe.UNSUBSCRIBE,{stream_id:n.id},!0)}catch(r){throw M.warning("unsubscribe datachannel warning",r),r}}async tryUnpubBeforeRepub(t,n){try{await this.signal.request(Pe.UNPUBLISH,{stream_id:t,ortc:n},!0)}catch(r){throw M.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),r),r}}async tryUnpubDataChannelBeforeRepub(t,n){try{await this.signal.request(Pe.UNPUBLISH_DATASTREAM,{channnel_id:n.channelId},!0)}catch(r){throw M.warning("unpublish datastream warning: ",r),r}}async tryMassUnsubBeforeResub(t){const n={users:t.map(r=>({stream_id:r.stream_id,stream_type:r.stream_type}))};try{await this.signal.request(Pe.UNSUBSCRIBE_STREAMS,n,!0)}catch(r){throw M.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),r),r}}async muteLocal(t,n){const r={action:t.find(s=>s.stream_type===ut.Audio)?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:n};try{await this.signal.request(Pe.CONTROL,r,!0,!0)}catch(s){throw M.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),s),s}}async unmuteLocal(t,n){const r={action:t.find(s=>s.stream_type===ut.Audio)?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:n};try{await this.signal.request(Pe.CONTROL,r,!0,!0)}catch(s){throw M.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),s),s}}async muteRemote(t,n){const r={action:t===Ne.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:n};try{await this.signal.request(Pe.CONTROL,r,!0,!0)}catch(s){throw M.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),s),s}}async unmuteRemote(t,n){const r={action:t===Ne.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:n};try{await this.signal.request(Pe.CONTROL,r,!0,!0)}catch(s){throw M.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),s),s}}uploadWRTCStats(t){this.signal.uploadWRTCStats(t)}upload(t,n){this.signal.upload(t,n)}getSignalRTT(){return this.signal.rtt}async restartICE(t){const n={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:t};try{return await this.signal.request(Pe.RESTART_ICE,n,!0)}catch(r){throw M.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),r),r}}reconnect(){this.state==="CONNECTED"&&this.signal.reconnect(void 0,Qi.P2P_FAILED)}getCurrentGatewayAddress(){var t,n;if(!L("GATEWAY_WSS_ADDRESS"))return L("USE_CANDIDATE_FROM_AP_DETAIL")&&(t=this.joinInfo)!==null&&t!==void 0&&t.apGatewayAddress?(M.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):(n=this.joinInfo)!==null&&n!==void 0&&n.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(t){await this.signal.request(Pe.SET_PARAMETER,{enablePublishAudioFilter:t})}}let Ql=0,up=0;function br(e,t,n,r){return new Ie((s,o)=>{t.timeout=t.timeout||L("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),Ql+=Jr(t.data)):n&&(t.data.size?Ql+=t.data.size:t.data instanceof FormData?Ql+=$N(t.data):Ql+=Jr(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,sn.request(t).then(a=>{typeof a.data=="string"?up+=Jr(a.data):a.data instanceof ArrayBuffer||a.data instanceof Uint8Array?up+=a.data.byteLength:up+=Jr(JSON.stringify(a.data)),r&&s({data:a.data,headers:a.headers}),s(a.data)}).catch(a=>{sn.isCancel(a)?o(new X(j.OPERATION_ABORTED,"cancel token canceled")):a.code==="ECONNABORTED"?o(new X(j.NETWORK_TIMEOUT,a.message)):a.response?o(new X(j.NETWORK_RESPONSE_ERROR,a.response.status)):o(new X(j.NETWORK_ERROR,a.message))})})}/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */(function(){var e;function t(ie){var ce=0;return function(){return ce<ie.length?{done:!1,value:ie[ce++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(ie,ce,Me){return ie==Array.prototype||ie==Object.prototype||(ie[ce]=Me.value),ie},r,s=function(ie){ie=[typeof globalThis=="object"&&globalThis,ie,typeof window=="object"&&window,typeof self=="object"&&self,typeof p=="object"&&p];for(var ce=0;ce<ie.length;++ce){var Me=ie[ce];if(Me&&Me.Math==Math)return Me}throw Error("Cannot find global object")}(this);function o(ie,ce){if(ce)e:{var Me=s;ie=ie.split(".");for(var Le=0;Le<ie.length-1;Le++){var ct=ie[Le];if(!(ct in Me))break e;Me=Me[ct]}(ce=ce(Le=Me[ie=ie[ie.length-1]]))!=Le&&ce!=null&&n(Me,ie,{configurable:!0,writable:!0,value:ce})}}function a(ie){return(ie={next:ie})[Symbol.iterator]=function(){return this},ie}function d(ie){var ce=typeof Symbol<"u"&&Symbol.iterator&&ie[Symbol.iterator];return ce?ce.call(ie):{next:t(ie)}}if(o("Symbol",function(ie){function ce(ct,Ee){this.A=ct,n(this,"description",{configurable:!0,writable:!0,value:Ee})}if(ie)return ie;ce.prototype.toString=function(){return this.A};var Me="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Le=0;return function ct(Ee){if(this instanceof ct)throw new TypeError("Symbol is not a constructor");return new ce(Me+(Ee||"")+"_"+Le++,Ee)}}),o("Symbol.iterator",function(ie){if(ie)return ie;ie=Symbol("Symbol.iterator");for(var ce="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Me=0;Me<ce.length;Me++){var Le=s[ce[Me]];typeof Le=="function"&&typeof Le.prototype[ie]!="function"&&n(Le.prototype,ie,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return ie}),typeof Object.setPrototypeOf=="function")r=Object.setPrototypeOf;else{var l;e:{var E={};try{E.__proto__={a:!0},l=E.a;break e}catch{}l=!1}r=l?function(ie,ce){if(ie.__proto__=ce,ie.__proto__!==ce)throw new TypeError(ie+" is not extensible");return ie}:null}var g=r;function f(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function C(ie){if(ie.m)throw new TypeError("Generator is already running");ie.m=!0}function T(ie,ce){return ie.h=3,{value:ce}}function Q(ie){this.g=new f,this.G=ie}function U(ie,ce,Me,Le){try{var ct=ce.call(ie.g.j,Me);if(!(ct instanceof Object))throw new TypeError("Iterator result "+ct+" is not an object");if(!ct.done)return ie.g.m=!1,ct;var Ee=ct.value}catch(y){return ie.g.j=null,ie.g.s(y),_(ie)}return ie.g.j=null,Le.call(ie.g,Ee),_(ie)}function _(ie){for(;ie.g.h;)try{var ce=ie.G(ie.g);if(ce)return ie.g.m=!1,{value:ce.value,done:!1}}catch(Me){ie.g.v=void 0,ie.g.s(Me)}if(ie.g.m=!1,ie.g.l){if(ce=ie.g.l,ie.g.l=null,ce.F)throw ce.D;return{value:ce.return,done:!0}}return{value:void 0,done:!0}}function b(ie){this.next=function(ce){return ie.o(ce)},this.throw=function(ce){return ie.s(ce)},this.return=function(ce){return function(Me,Le){C(Me.g);var ct=Me.g.j;return ct?U(Me,"return"in ct?ct.return:function(Ee){return{value:Ee,done:!0}},Le,Me.g.return):(Me.g.return(Le),_(Me))}(ie,ce)},this[Symbol.iterator]=function(){return this}}function Y(ie,ce){return ce=new b(new Q(ce)),g&&ie.prototype&&g(ce,ie.prototype),ce}if(f.prototype.o=function(ie){this.v=ie},f.prototype.s=function(ie){this.l={D:ie,F:!0},this.h=this.C||this.u},f.prototype.return=function(ie){this.l={return:ie},this.h=this.u},Q.prototype.o=function(ie){return C(this.g),this.g.j?U(this,this.g.j.next,ie,this.g.o):(this.g.o(ie),_(this))},Q.prototype.s=function(ie){return C(this.g),this.g.j?U(this,this.g.j.throw,ie,this.g.o):(this.g.s(ie),_(this))},o("Array.prototype.entries",function(ie){return ie||function(){return function(ce,Me){ce instanceof String&&(ce+="");var Le=0,ct=!1,Ee={next:function(){if(!ct&&Le<ce.length){var y=Le++;return{value:Me(y,ce[y]),done:!1}}return ct=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}(this,function(ce,Me){return[ce,Me]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var G=function(ie,ce){for(var Me=0;Me<ie.length;Me++)ce(ie[Me])},W=function(ie){return ie.replace(/\r?\n|\r/g,`\r
`)},J=function(ie,ce,Me){return ce instanceof Blob?(Me=Me!==void 0?Me+"":typeof ce.name=="string"?ce.name:"blob",ce.name===Me&&Object.prototype.toString.call(ce)!=="[object Blob]"||(ce=new File([ce],Me)),[String(ie),ce]):[String(ie),String(ce)]},K=function(ie,ce){if(ie.length<ce)throw new TypeError(ce+" argument required, but only "+ie.length+" present.")},ne=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,le=ne.FormData,oe=ne.XMLHttpRequest&&ne.XMLHttpRequest.prototype.send,ye=ne.Request&&ne.fetch,Xe=ne.navigator&&ne.navigator.sendBeacon,lt=ne.Element&&ne.Element.prototype,vt=ne.Symbol&&Symbol.toStringTag;vt&&(Blob.prototype[vt]||(Blob.prototype[vt]="Blob"),"File"in ne&&!File.prototype[vt]&&(File.prototype[vt]="File"));try{new File([],"")}catch{ne.File=function(ce,Me,Le){return ce=new Blob(ce,Le||{}),Object.defineProperties(ce,{name:{value:Me},lastModified:{value:+(Le&&Le.lastModified!==void 0?new Date(Le.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),vt&&Object.defineProperty(ce,vt,{value:"File"}),ce}}var di=function(ie){return ie.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},Ot=function(ie){this.i=[];var ce=this;ie&&G(ie.elements,function(Me){if(Me.name&&!Me.disabled&&Me.type!=="submit"&&Me.type!=="button"&&!Me.matches("form fieldset[disabled] *"))if(Me.type==="file"){var Le=Me.files&&Me.files.length?Me.files:[new File([],"",{type:"application/octet-stream"})];G(Le,function(ct){ce.append(Me.name,ct)})}else Me.type==="select-multiple"||Me.type==="select-one"?G(Me.options,function(ct){!ct.disabled&&ct.selected&&ce.append(Me.name,ct.value)}):Me.type==="checkbox"||Me.type==="radio"?Me.checked&&ce.append(Me.name,Me.value):(Le=Me.type==="textarea"?W(Me.value):Me.value,ce.append(Me.name,Le))})};if((e=Ot.prototype).append=function(ie,ce,Me){K(arguments,2),this.i.push(J(ie,ce,Me))},e.delete=function(ie){K(arguments,1);var ce=[];ie=String(ie),G(this.i,function(Me){Me[0]!==ie&&ce.push(Me)}),this.i=ce},e.entries=function ie(){var ce,Me=this;return Y(ie,function(Le){if(Le.h==1&&(ce=0),Le.h!=3)return ce<Me.i.length?Le=T(Le,Me.i[ce]):(Le.h=0,Le=void 0),Le;ce++,Le.h=2})},e.forEach=function(ie,ce){K(arguments,1);for(var Me=d(this),Le=Me.next();!Le.done;Le=Me.next()){var ct=d(Le.value);Le=ct.next().value,ct=ct.next().value,ie.call(ce,ct,Le,this)}},e.get=function(ie){K(arguments,1);var ce=this.i;ie=String(ie);for(var Me=0;Me<ce.length;Me++)if(ce[Me][0]===ie)return ce[Me][1];return null},e.getAll=function(ie){K(arguments,1);var ce=[];return ie=String(ie),G(this.i,function(Me){Me[0]===ie&&ce.push(Me[1])}),ce},e.has=function(ie){K(arguments,1),ie=String(ie);for(var ce=0;ce<this.i.length;ce++)if(this.i[ce][0]===ie)return!0;return!1},e.keys=function ie(){var ce,Me,Le,ct,Ee=this;return Y(ie,function(y){if(y.h==1&&(ce=d(Ee),Me=ce.next()),y.h!=3)return Me.done?void(y.h=0):(Le=Me.value,ct=d(Le),T(y,ct.next().value));Me=ce.next(),y.h=2})},e.set=function(ie,ce,Me){K(arguments,2),ie=String(ie);var Le=[],ct=J(ie,ce,Me),Ee=!0;G(this.i,function(y){y[0]===ie?Ee&&(Ee=!Le.push(ct)):Le.push(y)}),Ee&&Le.push(ct),this.i=Le},e.values=function ie(){var ce,Me,Le,ct,Ee=this;return Y(ie,function(y){if(y.h==1&&(ce=d(Ee),Me=ce.next()),y.h!=3)return Me.done?void(y.h=0):(Le=Me.value,(ct=d(Le)).next(),T(y,ct.next().value));Me=ce.next(),y.h=2})},Ot.prototype._asNative=function(){for(var ie=new le,ce=d(this),Me=ce.next();!Me.done;Me=ce.next()){var Le=d(Me.value);Me=Le.next().value,Le=Le.next().value,ie.append(Me,Le)}return ie},Ot.prototype._blob=function(){var ie="----formdata-polyfill-"+Math.random(),ce=[],Me="--"+ie+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(Le,ct){return typeof Le=="string"?ce.push(Me+di(W(ct))+`"\r
\r
`+W(Le)+`\r
`):ce.push(Me+di(W(ct))+'"; filename="'+di(Le.name)+`"\r
Content-Type: `+(Le.type||"application/octet-stream")+`\r
\r
`,Le,`\r
`)}),ce.push("--"+ie+"--"),new Blob(ce,{type:"multipart/form-data; boundary="+ie})},Ot.prototype[Symbol.iterator]=function(){return this.entries()},Ot.prototype.toString=function(){return"[object FormData]"},lt&&!lt.matches&&(lt.matches=lt.matchesSelector||lt.mozMatchesSelector||lt.msMatchesSelector||lt.oMatchesSelector||lt.webkitMatchesSelector||function(ie){for(var ce=(ie=(this.document||this.ownerDocument).querySelectorAll(ie)).length;0<=--ce&&ie.item(ce)!==this;);return-1<ce}),vt&&(Ot.prototype[vt]="FormData"),oe){var Sr=ne.XMLHttpRequest.prototype.setRequestHeader;ne.XMLHttpRequest.prototype.setRequestHeader=function(ie,ce){Sr.call(this,ie,ce),ie.toLowerCase()==="content-type"&&(this.B=!0)},ne.XMLHttpRequest.prototype.send=function(ie){ie instanceof Ot?(ie=ie._blob(),this.B||this.setRequestHeader("Content-Type",ie.type),oe.call(this,ie)):oe.call(this,ie)}}ye&&(ne.fetch=function(ie,ce){return ce&&ce.body&&ce.body instanceof Ot&&(ce.body=ce.body._blob()),ye.call(this,ie,ce)}),Xe&&(ne.navigator.sendBeacon=function(ie,ce){return ce instanceof Ot&&(ce=ce._asNative()),Xe.call(this,ie,ce)}),ne.FormData=Ot}})();const ic=()=>{const e=L("AREAS");return e.length===0&&e.push(At.GLOBAL),Mr(e).call(e,(t,n,r)=>{const s=Dw(n);return s?r===0?s:"".concat(t,",").concat(s):t},"")},Dw=e=>e===At.OVERSEA?"".concat(Pi.ASIA,",").concat(Pi.EUROPE,",").concat(Pi.AFRICA,",").concat(Pi.NORTH_AMERICA,",").concat(Pi.SOUTH_AMERICA,",").concat(Pi.OCEANIA):Pi[e],lG=e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map(n=>{const r=Al[n],s=Object.keys(r);s&&s.map(o=>{o!=="CODE"&&(t[o]=t[o].concat(r[o]))})}),t},bl={GLOBAL:{ASIA:[At.CHINA,At.JAPAN,At.INDIA,At.KOREA,At.HKMC],EUROPE:[],NORTH_AMERICA:[At.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},Dl=Object.keys(bl[At.GLOBAL]),Ep=[At.CHINA,At.NORTH_AMERICA,At.EUROPE,At.ASIA,At.JAPAN,At.INDIA,At.OCEANIA,At.SOUTH_AMERICA,At.AFRICA,At.KOREA,At.HKMC,At.US],hG=function(e,t){let n=[];if(ge(e).call(e,At.GLOBAL)){const o=[At.GLOBAL,At.OVERSEA],a=Object.keys(Al);if(t===At.GLOBAL)throw new X(j.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===At.CHINA)n=[At.OVERSEA];else if(s=t,ge(Dl).call(Dl,s)){const d=(r=t,bl[At.GLOBAL][r]||[]),l=[...o,t,...d];n=a.filter(E=>!ge(l).call(l,E))}else if(function(d){let l=!1;return Dl.forEach(E=>{var g;ge(g=bl[At.GLOBAL][E]).call(g,d)&&(l=!0)}),l}(t)){const d=function(E){let g;return Dl.forEach(f=>{var C;ge(C=bl[At.GLOBAL][f]).call(C,E)&&(g=f)}),g}(t),l=[...o,d,t];n=a.filter(E=>!ge(l).call(l,E))}else n=e;n=function(d){const l=[];return Ep.forEach(E=>{ge(d).call(d,E)&&l.push(E)}),l.concat(d.filter(E=>!ge(Ep).call(Ep,E)))}(n)}else n=e;var r,s;return n};function kw(e){var t,n;if(!e&&ge(t=L("AREAS")).call(t,At.EXTENSIONS))return M.debug("update area from ap : reset"),void gp(VV,!0);if(!ge(n=L("AREAS")).call(n,At.GLOBAL)||!e)return;let r=Al.EXTENSIONS;r&&(r={CODE:Dw(At.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(e,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(e,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(e,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(e,".agora.io"),"cds-ap-web-2-".concat(e,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(e,".agora.io"),"sua-ap-web-2-".concat(e,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(e,".agora.io"),"uap-ap-web-2-".concat(e,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(e,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(e,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(e,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(e,".agora.io")]},M.debug("update area from ap success: ".concat(e,",config is "),r),Nt("AREAS",[At.EXTENSIONS],!0),Object.keys(r).map(s=>{s==="LOG_UPLOAD_SERVER"||s==="EVENT_REPORT_DOMAIN"||s==="EVENT_REPORT_BACKUP_DOMAIN"||s==="PROXY_SERVER_TYPE3"?Nt(s,r[s][0]):Nt(s,r[s])}))}function gp(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=ve.reportApiInvoke(null,{name:gi.SET_AREA,options:e,tag:zt.TRACER});try{let r=[];if(typeof e=="string"&&(r=[e]),Array.isArray(e)&&(e.forEach(o=>{if(!ge(SS).call(SS,o))throw new X(j.INVALID_PARAMS,"invalid area code")}),r=e),Object.prototype.toString.call(e)==="[object Object]"){const{areaCode:o,excludedArea:a}=e;if(!o)throw new X(j.INVALID_PARAMS,"area code is needed");let d=o;typeof o=="string"&&(d=[o]),r=a?hG(d,a):d}if(!t){if(Ps.AREAS){const o=new X(j.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return n.onError(o),void M.warning("setArea is prohibited because of config-distribute")}if(ge(r).call(r,At.GLOBAL)&&L("AREAS")===At.EXTENSIONS){const o=new X(j.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return n.onError(o),void M.warning("setArea is prohibited because of ap extensions")}}Nt("AREAS",r,t);const s=lG(r);Object.keys(s).map(o=>{o==="LOG_UPLOAD_SERVER"||o==="EVENT_REPORT_DOMAIN"||o==="EVENT_REPORT_BACKUP_DOMAIN"||o==="PROXY_SERVER_TYPE3"?Nt(o,s[o][0]):Nt(o,s[o])}),M.debug("set area success:",r.join(","))}catch(r){throw n.onError(r),r}n.onSuccess()}function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let pp=1;function uG(e,t,n,r,s){pp+=1;const o={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:pp,requestId:pp,version:Zn,cname:n.cname},a={service_name:t,json_body:JSON.stringify(o)};let d,l,E=e[0];return vr(async()=>{d=Date.now();const g=await br(E,{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(l=Date.now()-d,g.code!==0){const T=new X(j.UNEXPECTED_RESPONSE,"live streaming ap error, code"+g.code,{retry:!0,responseTime:l});throw M.error(T.toString()),T}const f=JSON.parse(g.json_body);if(f.code!==200){const T=new X(j.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(f.code,", reason: ").concat(f.reason),{code:f.code,responseTime:l});throw M.error(T.toString()),T}if(!f.servers||f.servers.length===0){const T=new X(j.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:f.code,responseTime:l});throw M.error(T.toString()),T}const C=function(T,Q){return{addressList:T.servers.map(U=>"wss://".concat(U.address.replace(/\./g,"-"),".").concat(L("WORKER_DOMAIN"),":").concat(U.wss,"?serviceName=").concat(encodeURIComponent(Q))),workerToken:T.workerToken,vid:T.vid}}(f,t);return L("LIVE_STREAMING_ADDRESS")&&(C.addressList=L("LIVE_STREAMING_ADDRESS")instanceof Array?L("LIVE_STREAMING_ADDRESS"):[L("LIVE_STREAMING_ADDRESS")]),kl(kl({},C),{},{responseTime:l})},(g,f)=>(ve.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(g.addressList),firstSuccess:f===0,responseTime:l,serverIp:e[f%e.length]}),!1),(g,f)=>(ve.apworkerEvent(n.sid,{success:!1,sc:g.data&&g.data.code||200,serviceName:t,responseTime:l,serverIp:e[f%e.length]}),!!(g.code!==j.OPERATION_ABORTED&&g.code!==j.UNEXPECTED_RESPONSE||g.data&&g.data.retry)&&(E=e[(f+1)%e.length],!0)),s)}let Ip=1;function jw(e,t,n,r){let{url:s,areaCode:o}=e;const{clientId:a,sid:d}=t,l=Date.now();let E;const[g,f]=mp(t,o,[oi.CHOOSE_SERVER]);let C=si.networkState;return vr(async()=>{C&&si.networkState===mn.OFFLINE&&si.onlineWaiter&&await Ie.race([si.onlineWaiter,yi(r&&r.maxRetryTimeout||hi.maxRetryTimeout)]),C=si.networkState;const{data:T,headers:Q}=await br(s,{data:g,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);E=Q.http3==="1"?1:-1,ve.reportResourceTiming(s,d),Pw(T,s,t,l,[oi.CHOOSE_SERVER],E);const U=WA(T,oi.CHOOSE_SERVER);return fp(U),Tg(U,s)},T=>(T&&ve.joinChooseServer(d,{lts:l,succ:!0,csAddr:s,opid:f,serverList:T.gatewayAddrs.map(Q=>Q.address),ec:null,cid:T.cid.toString(),uid:T.uid.toString(),csIp:T.csIp,unilbsServerIds:[oi.CHOOSE_SERVER].toString(),isHttp3:E,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:T.res.detail&&T.res.detail[38]}),!1),T=>T.code!==j.OPERATION_ABORTED&&(T.code===j.CAN_NOT_GET_GATEWAY_SERVER?T.data.retry:(ve.joinChooseServer(d,{lts:l,succ:!1,csAddr:s,serverList:null,opid:f,ec:T.code,csIp:T.data&&T.data.csIp,unilbsServerIds:[oi.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:C}),isHttp3:E,corssRegionTagReq:t.apRequestDetail}),M.warning("[".concat(a||"sid-".concat(d.slice(0,6)),"] Choose server network error, retry"),T),!0)),r)}function Ow(e,t,n,r){let s,{url:o,areaCode:a,serviceIds:d}=e;const l=Date.now(),[E,g]=mp(t,a,d);let f;return vr(async()=>{f&&si.networkState===mn.OFFLINE&&si.onlineWaiter&&await Ie.race([si.onlineWaiter,yi(r&&r.maxRetryTimeout||hi.maxRetryTimeout)]),f=si.networkState;const{data:C,headers:T}=await br(o,{data:E,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);s=T.http3==="1"?1:-1,ve.reportResourceTiming(o,t.sid),Pw(C,o,t,l,d,s);const Q=WA(C,oi.CHOOSE_SERVER),U=WA(C,t.cloudProxyServer==="proxy5"?oi.CLOUD_PROXY_5:t.cloudProxyServer==="proxy3"||t.cloudProxyServer==="proxy4"?oi.CLOUD_PROXY:oi.CLOUD_PROXY_FALLBACK);return fp(Q),{gatewayInfo:Tg(Q,o),proxyInfo:U,url:o}},C=>(C.gatewayInfo&&ve.joinChooseServer(t.sid,{lts:l,succ:!0,csAddr:o,serverList:C.gatewayInfo.gatewayAddrs.map(T=>T.address),ec:null,opid:g,cid:C.gatewayInfo.cid.toString(),uid:C.gatewayInfo.uid.toString(),csIp:C.gatewayInfo.csIp,unilbsServerIds:d.toString(),isHttp3:s,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:C.gatewayInfo.res.detail&&C.gatewayInfo.res.detail[38]}),C.proxyInfo&&ve.joinWebProxyAP(t.sid,{lts:l,sucess:1,apServerAddr:o,turnServerAddrList:C.proxyInfo.addresses.map(T=>T.ip).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:d.toString()}),!1),C=>C.code!==j.OPERATION_ABORTED&&(C.code===j.CAN_NOT_GET_GATEWAY_SERVER?C.data.retry:(ve.joinWebProxyAP(t.sid,{lts:l,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:C.code,eventType:t.cloudProxyServer,unilbsServerIds:d.toString(),extend:JSON.stringify({networkState:f})}),M.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),C),!0)),r)}const Pw=(e,t,n,r,s,o)=>{const{sid:a,clientId:d,cloudProxyServer:l}=n,E=[],g=f=>{f.flag===4096?ve.joinChooseServer(a,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:f.error.message,csIp:f.error.data&&f.error.data.csIp,unilbsServerIds:s.toString(),isHttp3:o,corssRegionTagReq:n.apRequestDetail}):f.flag!==1048576&&f.flag!==4194304&&f.flag!==4194310||ve.joinWebProxyAP(a,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:f.error.code,eventType:l,unilbsServerIds:s.toString()})};if(e.response_body.forEach(f=>{const C=f.buffer.code;if(f.uri===23&&C===0&&!f.buffer.edges_services)if(f.buffer.flag===4194310)M.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),f.buffer.edges_services=[];else{const T={error:new X(j.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:f.buffer.flag};E.push(T),g(T)}if(C!==0){const T=ya(C),Q={error:new X(j.CAN_NOT_GET_GATEWAY_SERVER,T.desc,{desc:T.desc,retry:T.retry,csIp:e.detail[502]}),flag:f.buffer.flag};f.buffer.flag===4194310?M.warning(Q.error.toString()):E.push(Q),g(Q)}}),E.length)throw M.warning("[".concat(d||"sid-".concat(a.slice(0,6)),"] multi unilbs ").concat(t," failed, ").concat(E.map(f=>"flag: ".concat(f.flag,", message: ").concat(f.error.message,", retry: ").concat(f.error.data.retry)).join(" | "))),new X(j.CAN_NOT_GET_GATEWAY_SERVER,E.map(f=>"flag: ".concat(f.flag,", message: ").concat(f.error.message)).join(" | "),{retry:!!E.find(f=>f.error.data.retry),csIp:e.detail[502],desc:[...new Set(E.map(f=>{var C;return f==null||(C=f.error)===null||C===void 0||(C=C.data)===null||C===void 0?void 0:C.desc}).filter(f=>!!f))]})},fp=e=>{var t,n,r,s;if(e.addresses&&e.addresses.length===0&&e.code===0)throw new X(j.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(L("AP_AREA")&&((r=e.detail)!==null&&r!==void 0&&r[23]&&typeof((s=e.detail)===null||s===void 0?void 0:s[23])=="string"?kw(e.detail[23].toLowerCase()):kw()),(t=e.detail)!==null&&t!==void 0&&t[19]&&typeof((n=e.detail)===null||n===void 0?void 0:n[19])=="string"){const a=e.detail[19],d=a==null?void 0:a.split(";");for(let l=0;l<d.length;l++){var o;const E=zi(o=d[l]).call(o);e.addresses[l]&&d&&(e.addresses[l].fingerprint=E)}}if(L("GATEWAY_ADDRESS")&&L("GATEWAY_ADDRESS").length>0){M.debug("assign gateway address to",L("GATEWAY_ADDRESS"));const a=L("GATEWAY_ADDRESS").map(d=>{var l,E;const g=(l=(E=e.addresses.find(f=>f.ip===d.ip&&f.port===d.port))===null||E===void 0?void 0:E.fingerprint)!==null&&l!==void 0?l:"";return{ip:d.ip,port:d.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:g}});e.addresses=a}},EG=(e,t)=>{if(e.response_body&&e.response_body.length){const n=e.response_body[0];if(n.buffer.code!==0){const r=ya(n.buffer.code);throw new X(j.UPDATE_TICKET_FAILED,"[".concat(n.buffer.code,"]: ").concat(r.desc),{retry:r.retry})}return n.buffer.ticket}throw M.debug("update ticket request received ap response without response body:",t),new X(j.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},mp=(e,t,n)=>{const r=Math.floor(Math.random()*1e12),s={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:kl(kl({6:e.stringUid,11:t,12:L("USE_NEW_TOKEN")?"1":void 0,22:t},e.apRequestDetail?{33:e.apRequestDetail}:{}),e.apRTM?{26:"RTM2"}:{}),key:e.token,service_ids:n,uid:e.uid||0}}]};s.request_bodies.forEach(a=>{e.multiIP&&e.multiIP.gateway_ip&&(a.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))});const o=new FormData;return o.append("request",JSON.stringify(s)),[o,r]},gG=(e,t)=>{const n=Math.floor(Math.random()*1e12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map(o=>({ip:o.ip,port:o.port}))}}]},s=new FormData;return s.append("request",JSON.stringify(r)),[s,n]};let Za=0;function Xa(e){return Ie.all(e.map(t=>t.then(n=>{throw n},n=>n))).then(t=>{throw t},t=>t)}const nc=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:r,allFailedhandler:s,promisesCollector:o}=e,a=0;const d=t;let l,E=0;const g=async()=>{const f=(()=>{const C=a*d,T=C+d;return n.slice(C,T).map(r)})();o&&o.push(...f);try{l=await Xa(f)}catch(C){if(E+=d,a++,!(E>=n.length))return void await g();s(C)}f.forEach(C=>C.cancel())};return await g(),l},Vw=async e=>{let{referenceList:t,asyncMapHandler:n,closeFn:r}=e;const s=t.length;let o=0;const a=async()=>{const d=n(t.shift());try{return await d}catch(l){if(o++,o>=s||r!=null&&r(l))throw l;return a()}};return a()};async function Cp(e,t,n,r){return{gatewayInfo:await async function(o,a,d,l){let E=null;const g=[],f=async()=>{const T=L("WEBCS_DOMAIN").slice(0,L("AJAX_REQUEST_CONCURRENT")).map(_=>({url:o.proxyServer?"https://".concat(o.proxyServer,"/ap/?url=").concat(_+"/api/v2/transpond/webrtc?v=2"):"https://".concat(_,"/api/v2/transpond/webrtc?v=2"),areaCode:ic()})),Q=l.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:T.map(_=>_.url)}),U=await nc({fragementLength:L("FRAGEMENT_LENGTH"),referenceList:T,asyncMapHandler:_=>(M.debug("[".concat(o.clientId,"] Connect to choose_server:"),_.url),jw(_,o,a,d)),allFailedhandler:_=>{throw l.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_},Q),_[0]},promisesCollector:g});return l.recordJoinChannelService({endTs:Date.now(),status:"success"},Q),U},C=async()=>{if(await yi(1e3),E!==null)return E;const T=L("WEBCS_DOMAIN_BACKUP_LIST").map(_=>({url:o.proxyServer?"https://".concat(o.proxyServer,"/ap/?url=").concat(_+"/api/v2/transpond/webrtc?v=2"):"https://".concat(_,"/api/v2/transpond/webrtc?v=2"),areaCode:ic()})),Q=l.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:T.map(_=>_.url)}),U=await nc({fragementLength:L("FRAGEMENT_LENGTH"),referenceList:T,asyncMapHandler:_=>(M.debug("[".concat(o.clientId,"] Connect to backup choose_server:"),_.url),jw(_,o,a,d)),allFailedhandler:_=>{throw l.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_},Q),_[0]},promisesCollector:g});return l.recordJoinChannelService({endTs:Date.now(),status:"success"},Q),U};try{return E=await Xa([f(),C()]),g.length&&g.forEach(T=>T.cancel&&typeof T.cancel=="function"&&T.cancel()),E}catch(T){throw T[0]}}(e,t,n,r)}}async function Lw(e,t,n,r,s){const o=e.cloudProxyServer;if(o==="disabled"){if(e.useLocalAccessPoint)return await Cp(e,t,n,s);if(L("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:C,proxyInfo:T}=await xw(e,t,n,s);if(e.turnServer&&e.turnServer.mode!=="auto")return{gatewayInfo:C};const Q=T.map(U=>({turnServerURL:U.address,tcpport:U.tcpport||Di.tcpport,udpport:U.udpport||Di.udpport,username:U.username||Di.username,password:U.password||Di.password,forceturn:!1,security:!0}));if(s.useP2P){var a;const U=(a=e.uid)!==null&&a!==void 0?a:C.uid,_="glb:".concat(U.toString()),b=await eg(_),Y=T.map(G=>({turnServerURL:G.address,tcpport:G.tcpport||Di.tcpport,udpport:G.udpport||Di.udpport,username:_,password:b,forceturn:!1,security:!0}));Q.push(...Y)}return e.turnServer={mode:"manual",servers:Q},{gatewayInfo:C}}return await Cp(e,t,n,s)}const{proxyInfo:d,gatewayInfo:l}=await xw(e,t,n,s),E={gatewayInfo:l},g=d.map(C=>({turnServerURL:C.address,tcpport:o==="proxy3"?void 0:C.tcpport?C.tcpport:Di.tcpport,udpport:o==="proxy4"?void 0:C.udpport?C.udpport:Di.udpport,username:C.username||Di.username,password:C.password||Di.password,forceturn:o!=="proxy4",security:o==="proxy5"}));if(s.useP2P){var f;const C=(f=e.uid)!==null&&f!==void 0?f:l.uid,T="glb:".concat(C.toString()),Q=await eg(T),U=d.map(_=>({turnServerURL:_.address,tcpport:o==="proxy3"?void 0:_.tcpport||Di.tcpport,udpport:o==="proxy4"?void 0:_.udpport||Di.udpport,username:T,password:Q,forceturn:o!=="proxy4",security:o==="proxy5"}));g.push(...U)}return e.turnServer={mode:"manual",servers:g},M.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(o)),E}async function Gw(e,t,n,r,s){const o=L("ACCOUNT_REGISTER").slice(0,L("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?o.map(l=>"https://".concat(t.proxyServer,"/ap/?url=").concat(l+"/api/v1")):o.map(l=>"https://".concat(l,"/api/v1"));const d=s==null?void 0:s.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const l=await async function(E,g,f,C,T){const Q=Date.now(),U={sid:f.sid,opid:10,appid:f.appId,string_uid:g};let _=E[0];const b=await vr(()=>br(_+"".concat(_.indexOf("?")===-1?"?":"&","action=stringuid"),{data:U,cancelToken:C,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}}),(Y,G)=>{if(Y.code===0){if(Y.uid<=0||Y.uid>=Math.pow(2,32))throw M.error("Invalid Uint Uid ".concat(g," => ").concat(Y.uid),Y),ve.reqUserAccount(U.sid,{lts:Q,success:!1,serverAddr:_,stringUid:U.string_uid,uid:Y.uid,errorCode:j.INVALID_UINT_UID_FROM_STRING_UID,extend:U}),new X(j.INVALID_UINT_UID_FROM_STRING_UID);return ve.reqUserAccount(U.sid,{lts:Q,success:!0,serverAddr:_,stringUid:U.string_uid,uid:Y.uid,errorCode:null,extend:U}),!1}const W=ya(Y.code);return W.retry&&(_=E[(G+1)%E.length]),ve.reqUserAccount(U.sid,{lts:Q,success:!1,serverAddr:_,stringUid:U.string_uid,uid:Y.uid,errorCode:W.desc,extend:U}),W.retry},(Y,G)=>Y.code!==j.OPERATION_ABORTED&&(ve.reqUserAccount(U.sid,{lts:Q,success:!1,serverAddr:_,stringUid:U.string_uid,uid:null,errorCode:Y.code,extend:U}),_=E[(G+1)%E.length],!0),T);if(b.code!==0){const Y=ya(b.code);throw new X(j.UNEXPECTED_RESPONSE,Y.desc)}return b}(a,e,t,n,r);return s==null||s.recordJoinChannelService({status:"success",endTs:Date.now()},d),l.uid}catch(l){throw s==null||s.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[l]},d),l}}async function pG(e,t,n){const r=L("ACCOUNT_REGISTER");let s=[];s=t.proxyServer?r.map(o=>"https://".concat(t.proxyServer,"/ap/?url=").concat(o+"/api/v1")):r.map(o=>"https://".concat(o,"/api/v1"));try{return await Vw({referenceList:s,asyncMapHandler:a=>async function(d,l,E,g){const f=Date.now(),C={sid:E.sid,opid:10,appid:E.appId,string_uid:l};try{const T=await br(d+"".concat(d.indexOf("?")===-1?"?":"&","action=stringuid"),{data:C,cancelToken:g,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(T.code!==0){const Q=ya(T.code);throw new X(j.UNEXPECTED_RESPONSE,"preload sua error:".concat(Q.desc),Q)}if(T.uid<=0||T.uid>=Math.pow(2,32))throw new X(j.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:f,url:d,req:C,uid:T.uid,elapse:Date.now()-f}}catch(T){throw T}}(a,e,t,n),closeFn:a=>a.code===j.OPERATION_ABORTED||a.code===j.UNEXPECTED_RESPONSE&&!a.data.retry})}catch(o){throw o}}async function IG(e,t,n){const r=L("CDS_AP").slice(0,L("AJAX_REQUEST_CONCURRENT")).map(l=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(l+"/api/v1"):"https://".concat(l,"/api/v1?action=config")),s=r.map(l=>function(E,g,f,C){const T=st(),Q={flag:64,cipher_method:0,features:{device:T.name,system:T.os,system_general:navigator.userAgent,vendor:g.appId,version:Zn,cname:g.cname,sid:g.sid,session_id:g.sid,detail:"",proxyServer:g.proxyServer}};return vr(()=>br(E,{data:Q,timeout:1e3,cancelToken:f,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}}),void 0,U=>U.code!==j.OPERATION_ABORTED,C)}(l,e,t,n));let o=null,a=null,d={};try{o=await Xa(s)}catch(l){if(l.code===j.OPERATION_ABORTED)throw l;a=l}if(s.forEach(l=>l.cancel()),ve.reportApiInvoke(e.sid,{name:gi.REQUEST_CONFIG_DISTRIBUTE,options:{error:a,res:o}}).onSuccess(),o&&o.test_tags)try{d=function(l){if(!l.test_tags)return{};const E=l.test_tags,g=Object.keys(E),f={};return g.forEach(C=>{var T;const Q=zi(T=C.slice(4)).call(T),U=JSON.parse(E[C])[1];f[Q]=U}),f}(o)}catch{}return d}async function zw(e,t){const n=L("WEBCS_DOMAIN").concat(L("WEBCS_DOMAIN_BACKUP_LIST")).map(r=>({url:"https://".concat(r,"/api/v2/transpond/webrtc?v=2"),areaCode:ic(),serviceIds:[oi.CHOOSE_SERVER,oi.CLOUD_PROXY_FALLBACK]}));try{return await Vw({referenceList:n,asyncMapHandler:s=>async function(o,a,d){let l,{url:E,areaCode:g,serviceIds:f}=o;const C=Date.now(),[T,Q]=mp(a,g,f);let U=si.networkState;try{U&&si.networkState===mn.OFFLINE&&si.onlineWaiter&&await Ie.race([si.onlineWaiter,yi(hi.maxRetryTimeout)]),U=si.networkState;const{data:_,headers:b}=await br(E,{data:T,cancelToken:d,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);l=b.http3==="1"?1:-1,(J=>{const K=[];if(J.response_body.forEach(ne=>{const le=ne.buffer.code;if(ne.uri===23&&le===0&&!ne.buffer.edges_services)if(ne.buffer.flag===4194310)ne.buffer.edges_services=[];else{const oe={error:new X(j.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:J.detail[502]}),flag:ne.buffer.flag};K.push(oe)}if(le!==0){const oe=ya(le),ye={error:new X(j.CAN_NOT_GET_GATEWAY_SERVER,oe.desc,{desc:oe.desc,retry:oe.retry,csIp:J.detail[502]}),flag:ne.buffer.flag};ne.buffer.flag===4194310?M.warning(ye.error.toString()):K.push(ye)}}),K.length)throw new X(j.CAN_NOT_GET_GATEWAY_SERVER,K.map(ne=>"flag: ".concat(ne.flag,", message: ").concat(ne.error.message)).join(" | "),{retry:!!K.find(ne=>ne.error.data.retry),csIp:J.detail[502],desc:[...new Set(K.map(ne=>{var le;return ne==null||(le=ne.error)===null||le===void 0||(le=le.data)===null||le===void 0?void 0:le.desc}).filter(ne=>!!ne))]})})(_);const G=WA(_,oi.CHOOSE_SERVER),W=WA(_,oi.CLOUD_PROXY_FALLBACK);return fp(G),{gatewayInfo:Tg(G,E),proxyInfo:W,opid:Q,requestTime:C,url:E,isHttp3:l,elapse:Date.now()-C}}catch(_){throw _}}(s,e,t),closeFn:s=>s.code===j.OPERATION_ABORTED||s.code===j.CAN_NOT_GET_GATEWAY_SERVER&&!s.data.retry})}catch(r){throw r}}async function xw(e,t,n,r){const s=L("PROXY_SERVER_TYPE3"),o=(T,Q,U)=>{let _=U||s;return Array.isArray(_)&&(_=Q%2==0?s[1]:s[0]),"https://".concat(_,"/ap/?url=").concat(T)};let a=null;const d=[],l=async()=>{const T=L("WEBCS_DOMAIN").slice(0,L("AJAX_REQUEST_CONCURRENT")).map((_,b)=>{let Y;return Y=e.cloudProxyServer==="disabled"&&e.proxyServer?o("".concat(_,"/api/v2/transpond/webrtc?v=2"),b,e.proxyServer):e.cloudProxyServer==="disabled"||e.cloudProxyServer==="fallback"?"https://".concat(_,"/api/v2/transpond/webrtc?v=2"):o("".concat(_,"/api/v2/transpond/webrtc?v=2"),b),{url:Y,areaCode:ic(),serviceIds:[oi.CHOOSE_SERVER,e.cloudProxyServer==="proxy5"?oi.CLOUD_PROXY_5:e.cloudProxyServer==="proxy3"||e.cloudProxyServer==="proxy4"?oi.CLOUD_PROXY:oi.CLOUD_PROXY_FALLBACK]}}),Q=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:T.map(_=>_.url)}),U=await nc({fragementLength:L("FRAGEMENT_LENGTH"),referenceList:T,asyncMapHandler:_=>(M.debug("[".concat(e.clientId,"] Connect to choose_server:"),_.url),Ow(_,e,t,n)),allFailedhandler:_=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_},Q),_[0]},promisesCollector:d});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},Q),U},E=async()=>{if(await yi(1e3),a!==null)return a;const T=L("WEBCS_DOMAIN_BACKUP_LIST").map((_,b)=>{let Y;return Y=e.cloudProxyServer==="disabled"&&e.proxyServer?o("".concat(_,"/api/v2/transpond/webrtc?v=2"),b,e.proxyServer):e.cloudProxyServer==="disabled"||e.cloudProxyServer==="fallback"?"https://".concat(_,"/api/v2/transpond/webrtc?v=2"):o("".concat(_,"/api/v2/transpond/webrtc?v=2"),b),{url:Y,areaCode:ic(),serviceIds:[oi.CHOOSE_SERVER,e.cloudProxyServer==="proxy5"?oi.CLOUD_PROXY_5:e.cloudProxyServer==="proxy3"||e.cloudProxyServer==="proxy4"?oi.CLOUD_PROXY:oi.CLOUD_PROXY_FALLBACK]}}),Q=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:T.map(_=>_.url)}),U=await nc({fragementLength:L("FRAGEMENT_LENGTH"),referenceList:T,asyncMapHandler:_=>(M.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),_.url),Ow(_,e,t,n)),allFailedhandler:_=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_},Q),_[0]},promisesCollector:d});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},Q),U};let g,f,C;try{({gatewayInfo:g,proxyInfo:f,url:C}=await Xa([l(),E()]))}catch(T){throw T[0]}if(d.length&&d.forEach(T=>T.cancel&&typeof T.cancel=="function"&&T.cancel()),!g||!f)throw new X(j.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=C,e.cloudProxyServer!=="disabled"&&Array.isArray(s)&&C){const T=/^https?:\/\/(.+?)(\/.*)?$/.exec(C)[1];ge(s).call(s,T)&&(e.proxyServer=T,M.setProxyServer(T),ve.setProxyServer(T))}return a={gatewayInfo:g,proxyInfo:await kS(f,g.uid)},a}async function fG(e,t,n){const r=L("UAP_AP").slice(0,L("AJAX_REQUEST_CONCURRENT")).map(o=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(o+"/api/v1?action=uap"):"https://".concat(o,"/api/v1?action=uap")),s=r.map(o=>function(a,d,l,E){const g={command:"convergeAllocateEdge",sid:d.sid,appId:d.appId,token:d.token,ts:Date.now(),version:Zn,cname:d.cname,uid:d.uid.toString(),requestId:Ip,seq:Ip};Ip+=1;const f={service_name:"tele_channel",json_body:JSON.stringify(g)};return vr(async()=>{const C=await br(a,{data:f,cancelToken:l,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(C.code!==0){const Q=new X(j.UNEXPECTED_RESPONSE,"cross channel ap error, code"+C.code,{retry:!0});throw M.error(Q.toString()),Q}const T=JSON.parse(C.json_body);if(T.code!==200){const Q=new X(j.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(T.code,", reason: ").concat(T.reason));throw M.error(Q.toString()),Q}if(!T.servers||T.servers.length===0){const Q=new X(j.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw M.error(Q.toString()),Q}return{vid:T.vid,workerToken:T.workerToken,addressList:(L("CHANNEL_MEDIA_RELAY_SERVERS")||T.servers).map(Q=>"wss://".concat(Q.address.replace(/\./g,"-"),".").concat(L("WORKER_DOMAIN"),":").concat(Q.wss))}},void 0,C=>!!(C.code!==j.OPERATION_ABORTED&&C.code!==j.UNEXPECTED_RESPONSE||C.data&&C.data.retry),E)}(o,e,t,n));try{const o=await Xa(s);return s.forEach(a=>a.cancel()),o}catch(o){throw o[0]}}async function mG(e,t,n){let r=null;const s=[],o=async a=>{const d=L(a?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map(l=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(l+"/api/v2/transpond/webrtc?v=2"):"https://".concat(l,"/api/v2/transpond/webrtc?v=2"));return a&&(await yi(1e3),r!==null)?r:await nc({fragementLength:L("FRAGEMENT_LENGTH"),referenceList:d,asyncMapHandler:l=>(M.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(a?"backup":""," choose_server:"),l),function(E,g,f,C){const[T]=gG(g,[oi.CHOOSE_SERVER]);let Q=si.networkState;return vr(async()=>{Q&&si.networkState===mn.OFFLINE&&si.onlineWaiter&&await Ie.race([si.onlineWaiter,yi(C&&C.maxRetryTimeout||hi.maxRetryTimeout)]),Q=si.networkState;const U=await br(E,{data:T,cancelToken:f,headers:{"Content-Type":"multipart/form-data;"}},!0);return EG(U,E)},()=>!1,U=>U.code!==j.OPERATION_ABORTED&&(U.code===j.UPDATE_TICKET_FAILED?U.data.retry:(M.warning("[".concat(g.clientId,"] update ticket network error, retry"),U),!0)),C)}(l,e,t,n)),allFailedhandler:l=>{throw l[0]},promisesCollector:s})};try{return r=await Xa([o(!1),o(!0)]),s.length&&s.forEach(a=>a.cancel&&typeof a.cancel=="function"&&a.cancel()),r}catch(a){throw a[0]}}function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class CG extends Vt{get isSuccess(){return!!this.configs}constructor(t){super(),F(this,"configs",void 0),F(this,"joinInfo",void 0),F(this,"cancelToken",void 0),F(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),F(this,"interval",void 0),F(this,"mutex",void 0),F(this,"mutableParamsRead",!1),this.mutex=new Oi("config-distribute",t)}startGetConfigDistribute(t,n){this.joinInfo=t,this.cancelToken=n,this.interval&&this.stopGetConfigDistribute(),L("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},L("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,ve.reportApiInvoke(null,{options:void 0,name:gi.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:zt.TRACER}).onSuccess(JSON.stringify(Ps))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void M.debug("[config-distribute] get config distribute interrupted have no joininfo");let t;const n=await this.mutex.lock();try{t=await IG(this.joinInfo,this.cancelToken,this.retryConfig),M.debug("[config-distribute] get config distribute",JSON.stringify(t)),t.limit_bitrate&&this.handleBitrateLimit(t.limit_bitrate),this.cacheGlobalParameterConfig(t),this.configs=t}catch(r){const s=new X(j.NETWORK_RESPONSE_ERROR,r);M.warning("[config-distribute] ".concat(s.toString()))}finally{n()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(t){var n;(n=t)&&n.uplink&&n.id&&n.uplink.max_bitrate!==void 0&&n.uplink.min_bitrate!==void 0&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==t.id&&this.emit(mg.UPDATE_BITRATE_LIMIT,t):this.emit(mg.UPDATE_BITRATE_LIMIT,t))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&Jw({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(t){var n;const r=NA(n=Object.keys(t).filter(o=>/^webrtc_ng_global_parameter/.test(o))).call(n);for(let o=0;o<r.length;o++)for(let a=r.length-1;a>o;a--){const d=r[a];if(typeof t[d].__priority=="number"){const l=t[d].__priority,E=r[a-1];if(typeof t[E].__priority=="number"){if(!(l>t[E].__priority))continue;{const g=d;r[a]=r[a-1],r[a-1]=g}}else{const g=d;r[a]=r[a-1],r[a-1]=g}}}const s={};r.forEach(o=>{const a=t[o],d=a.__expires;Object.keys(a).forEach(l=>{l==="__priority"||l==="__expires"||Object.prototype.hasOwnProperty.call(s,l)||(s[l]=Jw({value:a[l]},d&&{expires:d}))})});try{(function(d){try{const l=Date.now();Object.keys(d).forEach(E=>{switch(E){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":case"ENABLE_AG_ADAPTATION":case"FORCE_AG_HIGH_FRAMERATE":case"FORCE_SUPPORT_AG_ADAPTATION":case"ENCODER_CONFIG_LIMIT":case"CAMERA_CAPTURE_CONFIG":case"ENABLE_PRELOAD":if(Object.prototype.hasOwnProperty.call(Kt,E)){const{value:g,expires:f}=d[E];if(f&&f<=l)return;Ps[E]=g,Kt[E]=g,M.debug("Update global parameters from config distribute",E,g)}}})}catch(l){M.error("Error update config immediately: ".concat(d),l.message)}})(s);const o=JSON.stringify(s),a=window.btoa(o);window.localStorage.setItem("websdk_ng_global_parameter",a),M.debug("Caching global parameters ".concat(o))}catch(o){M.error("Error caching global parameters:",o.message)}}}class RG extends Vt{constructor(){super(...arguments),F(this,"resultStorage",new Map)}setLocalAudioStats(t,n,r){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",t,this.checkAudioInputLevel(r,n)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",t,this.checkSendAudioBitrate(r,n))}setLocalVideoStats(t,n,r){this.record("SEND_VIDEO_BITRATE_TOO_LOW",t,this.checkSendVideoBitrate(r,n)),this.record("FRAMERATE_INPUT_TOO_LOW",t,this.checkFramerateInput(r,n)),this.record("FRAMERATE_SENT_TOO_LOW",t,this.checkFramerateSent(r))}setRemoteAudioStats(t,n){const r=t.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",r,this.checkAudioOutputLevel(n))}setRemoteVideoStats(t,n){const r=t.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",r,this.checkVideoDecode(n))}record(t,n,r){if(L("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(t)||this.resultStorage.set(t,{result:[],isPrevNormal:!0});const s=this.resultStorage.get(t);if(s&&(s.result.push(r),s.result.length>=5)){var o;const a=ge(o=s.result).call(o,!0);s.isPrevNormal&&!a&&this.emit("exception",Hw[t],t,n),!s.isPrevNormal&&a&&this.emit("exception",Hw[t]+2e3,t+"_RECOVER",n),s.isPrevNormal=a,s.result=[]}}checkAudioOutputLevel(t){return!(t.receiveBitrate>0&&t.receiveLevel===0)}checkAudioInputLevel(t,n){return n instanceof Ii&&!n.isActive||!!n.muted||t.sendVolumeLevel!==0}checkFramerateInput(t,n){let r=null;n._encoderConfig&&n._encoderConfig.frameRate&&(r=Rn(n._encoderConfig.frameRate));const s=t.captureFrameRate;return!r||!s||!(r>10&&s<5||r<10&&r>=5&&s<=1)}checkFramerateSent(t){return!(t.captureFrameRate&&t.sendFrameRate&&t.captureFrameRate>5&&t.sendFrameRate<=1)}checkSendVideoBitrate(t,n){return!!n.muted||t.sendBitrate!==0}checkSendAudioBitrate(t,n){return n instanceof Ii&&!n.isActive||!!n.muted||t.sendBitrate!==0}checkVideoDecode(t){return t.receiveBitrate===0||t.decodeFrameRate!==0}}const Hw={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},Vi=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const r=n[n.length-1];return Math.round(performance.now()-r.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const r=n[n.length-1];return Math.round(performance.now()-r.startTime)}return 0}};var Zw=I(Ln.Object.getOwnPropertySymbols),TG=Ct,NG=vh.indexOf,SG=Oc,Rp=Fe([].indexOf),Xw=!!Rp&&1/Rp([1],1,-0)<0;TG({target:"Array",proto:!0,forced:Xw||!SG("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return Xw?Rp(this,e,t)||0:NG(this,e,t)}});var MG=rr("Array").indexOf,yG=O,wG=MG,Tp=Array.prototype,BG=function(e){var t=e.indexOf;return e===Tp||yG(Tp,e)&&t===Tp.indexOf?wG:t},Kw=I(BG);function UG(e,t){if(e==null)return{};var n,r,s=function(a,d){if(a==null)return{};var l,E,g={},f=fS(a);for(E=0;E<f.length;E++)l=f[E],Kw(d).call(d,l)>=0||(g[l]=a[l]);return g}(e,t);if(Zw){var o=Zw(e);for(r=0;r<o.length;r++)n=o[r],Kw(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ir(e){if(Array.isArray(e))return e.map(n=>n);if(!qw(e))return e;const t={};for(const n in e){const r=e[n];qw(r)||Array.isArray(r)?t[n]=Ir(r):t[n]=r}return t}function qw(e){return!(typeof e!="object"||Array.isArray(e)||!e)}class Np{constructor(t){F(this,"input",[]),F(this,"size",void 0),this.size=t}add(t){this.input.push(t),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const es={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},rc={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:es,remoteCandidate:es},updateInterval:0},$w={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},eB={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},tB={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},iB={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function nB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class Sp{constructor(t,n){F(this,"onFirstVideoReceived",void 0),F(this,"onFirstVideoDecoded",void 0),F(this,"onFirstAudioReceived",void 0),F(this,"onFirstVideoDecodedTimeout",void 0),F(this,"onFirstAudioDecoded",void 0),F(this,"onSelectedLocalCandidateChanged",void 0),F(this,"onSelectedRemoteCandidateChanged",void 0),F(this,"videoIsReady",!1),F(this,"videoIsReady2",{}),F(this,"pc",void 0),F(this,"options",void 0),F(this,"intervalTimer",void 0),F(this,"stats",Ir(rc)),F(this,"isFirstVideoReceived",{}),F(this,"isFirstVideoDecoded",{}),F(this,"isFirstAudioReceived",{}),F(this,"isFirstAudioDecoded",{}),F(this,"isFirstVideoDecodedTimeout",{}),F(this,"lossRateWindowStats",[]),this.pc=t,this.options=n,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Ie(t=>{t({local:rB({},es),remote:rB({},es)})})}setVideoIsReady(t){this.videoIsReady=t}setVideoIsReady2(t,n){this.videoIsReady2[t]=n}getVideoIsReady(t){return this.videoIsReady2[t]||!1}setIsFirstAudioDecoded(t){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(t){this.lossRateWindowStats.push(t),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const n=this.lossRateWindowStats.length,r=["videoSend","audioSend","videoRecv","audioRecv"];let s=0,o=0,a=0,d=0;for(const l of r)t[l].forEach((E,g)=>{if(!this.lossRateWindowStats[n-1][l][g]||!this.lossRateWindowStats[0][l][g])return;const f=this.lossRateWindowStats[n-1][l][g].packets-this.lossRateWindowStats[0][l][g].packets,C=this.lossRateWindowStats[n-1][l][g].packetsLost-this.lossRateWindowStats[0][l][g].packetsLost;l==="videoSend"||l==="audioSend"?(s+=f,a+=C):(o+=f,d+=C),Number.isNaN(f)||Number.isNaN(f)?E.packetLostRate=0:E.packetLostRate=f<=0||C<=0?0:C/(f+C)});t.sendPacketLossRate=s<=0||a<=0?0:a/(s+a),t.recvPacketLossRate=o<=0||d<=0?0:d/(o+d)}}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class _G extends Sp{constructor(){super(...arguments),F(this,"_stats",rc),F(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const t=await this._getStats(),n=this.statsResponsesToObjects(t);this._stats=Ir(rc);const r=n.filter(o=>o.type==="ssrc");this.processSSRCStats(r);const s=n.find(o=>o.type==="VideoBwe");s&&this.processBandwidthStats(s),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(t){this._stats.bitrate={actualEncoded:Number(t.googActualEncBitrate),targetEncoded:Number(t.googTargetEncBitrate),retransmit:Number(t.googRetransmitBitrate),transmit:Number(t.googTransmitBitrate)},this._stats.sendBandwidth=Number(t.googAvailableSendBandwidth)}processSSRCStats(t){t.forEach(n=>{var r;const s=ge(r=n.id).call(r,"send");switch("".concat(n.mediaType,"_").concat(s?"send":"recv")){case"video_send":{const o=Ir(eB);o.codec=n.googCodecName,o.adaptionChangeReason="none",n.googCpuLimitedResolution&&(o.adaptionChangeReason="cpu"),n.googBandwidthLimitedResolution&&(o.adaptionChangeReason="bandwidth"),o.avgEncodeMs=Number(n.googAvgEncodeMs),o.inputFrame={width:Number(n.googFrameWidthInput)||Number(n.googFrameWidthSent),height:Number(n.googFrameHeightInput)||Number(n.googFrameHeightSent),frameRate:Number(n.googFrameRateInput)},o.sentFrame={width:Number(n.googFrameWidthSent),height:Number(n.googFrameHeightSent),frameRate:Number(n.googFrameRateInput)},o.firsCount=Number(n.googFirReceived),o.nacksCount=Number(n.googNacksReceived),o.plisCount=Number(n.googPlisReceived),o.frameCount=Number(n.framesEncoded),o.bytes=Number(n.bytesSent),o.packets=Number(n.packetsSent),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.rttMs=Number(n.googRtt||0),this._stats.videoSend.push(o),this._stats.rtt=o.rttMs;break}case"video_recv":{const o=Ir($w),a=this.lastDecodeVideoReceiverStats.get(Number(n.ssrc));if(o.codec=n.googCodecName,o.targetDelayMs=Number(n.googTargetDelayMs),o.renderDelayMs=Number(n.googRenderDelayMs),o.currentDelayMs=Number(n.googCurrentDelayMs),o.minPlayoutDelayMs=Number(n.googMinPlayoutDelayMs),o.decodeMs=Number(n.googDecodeMs),o.maxDecodeMs=Number(n.googMaxDecodeMs),o.receivedFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateReceived)},o.decodedFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateDecoded)},o.decodeFrameRate=Number(n.googFrameRateDecoded),o.outputFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateOutput)},o.jitterBufferMs=Number(n.googJitterBufferMs),o.firsCount=Number(n.googFirsSent),o.nacksCount=Number(n.googNacksSent),o.plisCount=Number(n.googPlisSent),o.framesDecodeCount=Number(n.framesDecoded),o.bytes=Number(n.bytesReceived),o.packets=Number(n.packetsReceived),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.packets>0&&!this.isFirstVideoReceived[o.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(o.ssrc),this.isFirstVideoReceived[o.ssrc]=!0),o.framesDecodeCount>0&&!this.isFirstVideoDecoded[o.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(o.ssrc,o.decodedFrame.width,o.decodedFrame.height),this.isFirstVideoDecoded[o.ssrc]=!0),a){const d=a.stats,l=Date.now()-a.lts;o.framesDecodeFreezeTime=d.framesDecodeFreezeTime,o.framesDecodeInterval=d.framesDecodeInterval,o.framesDecodeCount>d.framesDecodeCount&&this.isFirstVideoDecoded[o.ssrc]?(a.lts=Date.now(),o.framesDecodeInterval=l,o.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(n.ssrc,10))?o.framesDecodeFreezeTime+=o.framesDecodeInterval:this.setVideoIsReady2(parseInt(n.ssrc,10),!0))):o.framesDecodeCount<a.stats.framesDecodeCount&&(o.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(o.ssrc,{stats:vG({},o),lts:Date.now()}),this._stats.videoRecv.push(o);break}case"audio_recv":{const o=Ir(iB);o.codec=n.googCodecName,o.outputLevel=Math.abs(Number(n.audioOutputLevel))/32767,o.decodingCNG=Number(n.googDecodingCNG),o.decodingCTN=Number(n.googDecodingCTN),o.decodingCTSG=Number(n.googDecodingCTSG),o.decodingNormal=Number(n.googDecodingNormal),o.decodingPLC=Number(n.googDecodingPLC),o.decodingPLCCNG=Number(n.googDecodingPLCCNG),o.expandRate=Number(n.googExpandRate),o.accelerateRate=Number(n.googAccelerateRate),o.preemptiveExpandRate=Number(n.googPreemptiveExpandRate),o.secondaryDecodedRate=Number(n.googSecondaryDecodedRate),o.speechExpandRate=Number(n.googSpeechExpandRate),o.preferredJitterBufferMs=Number(n.googPreferredJitterBufferMs),o.jitterBufferMs=Number(n.googJitterBufferMs),o.jitterMs=Number(n.googJitterReceived),o.bytes=Number(n.bytesReceived),o.packets=Number(n.packetsReceived),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.receivedFrames=Number(n.googDecodingCTN)||Number(n.packetsReceived),o.droppedFrames=Number(n.googDecodingPLC)+Number(n.googDecodingPLCCNG)||Number(n.packetsLost),o.receivedFrames>0&&!this.isFirstAudioReceived[o.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(o.ssrc),this.isFirstAudioReceived[o.ssrc]=!0),o.decodingNormal>0&&!this.isFirstAudioDecoded[o.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(o.ssrc),this.isFirstAudioDecoded[o.ssrc]=!0),this._stats.audioRecv.push(o);break}case"audio_send":{const o=Ir(tB);o.codec=n.googCodecName,o.inputLevel=Math.abs(Number(n.audioInputLevel))/32767,o.aecReturnLoss=Number(n.googEchoCancellationReturnLoss||0),o.aecReturnLossEnhancement=Number(n.googEchoCancellationReturnLossEnhancement||0),o.residualEchoLikelihood=Number(n.googResidualEchoLikelihood||0),o.residualEchoLikelihoodRecentMax=Number(n.googResidualEchoLikelihoodRecentMax||0),o.bytes=Number(n.bytesSent),o.packets=Number(n.packetsSent),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.rttMs=Number(n.googRtt||0),this._stats.rtt=o.rttMs,this._stats.audioSend.push(o);break}}})}_getStats(){return new Ie((t,n)=>{this.pc.getStats(t,n)})}statsResponsesToObjects(t){const n=[];return t.result().forEach(r=>{const s={id:r.id,timestamp:r.timestamp.valueOf().toString(),type:r.type};r.names().forEach(o=>{s[o]=r.stat(o)}),n.push(s)}),n}}var Ka=function(e){return e[e.kNone=1]="kNone",e[e.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",e[e.kBytesToBits=8]="kBytesToBits",e}(Ka||{});function sc(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Ka.kNone;if(!t)return;const o=Number(t[n]);if(typeof o!="number")return;const a=Number(t[r]);if(typeof a!="number")return;if(!e)return a?o/a*s:void 0;const d=Number(e[n]);if(typeof d!="number")return;const l=Number(e[r]);if(typeof l!="number")return;const E=a-l;return E?(o-d)/E*s:void 0}function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class aB extends Sp{constructor(){super(...arguments),F(this,"_stats",rc),F(this,"report",void 0),F(this,"lastDecodeVideoReceiverStats",new Map),F(this,"lastVideoFramesRecv",new Map),F(this,"lastVideoFramesSent",new Map),F(this,"lastVideoFramesDecode",new Map),F(this,"lastVideoFramesOutput",new Map),F(this,"lastVideoJBDelay",new Map),F(this,"lastAudioJBDelay",new Map),F(this,"mediaBytesSent",new Map),F(this,"mediaBytesRetransmit",new Map),F(this,"mediaBytesTargetEncode",new Map),F(this,"lastDecodeAudioReceiverStats",new Map),F(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=Ir(rc),this.report.forEach(t=>{switch(t.type){case vn.OUTBOUND:case vn.INBOUND:{const n=t.mediaType||t.kind,r=!n&&"frameWidth"in t,s=!n&&!("frameWidth"in t);t.type===vn.OUTBOUND?n==="audio"||s?this.processAudioOutboundStats(t):(n==="video"||r)&&this.processVideoOutboundStats(t):t.type===vn.INBOUND&&(n==="audio"||s?this.processAudioInboundStats(t):(n==="video"||r)&&this.processVideoInboundStats(t));break}case vn.TRANSPORT:{const n=this.report.get(t.selectedCandidatePairId);n&&this.processCandidatePairStats(n);break}case vn.CANDIDATE_PAIR:t.selected&&this.processCandidatePairStats(t)}}),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const t=await this.pc.getStats(),n={local:Hs({},es),remote:Hs({},es)};return t.forEach(r=>{let s;if(r.type===vn.TRANSPORT&&(s=t.get(r.selectedCandidatePairId)),r.type===vn.CANDIDATE_PAIR&&r.selected&&(s=r),s){const o=(a,d)=>{a.type=d.type,a.id=d.id,d.address&&(a.address=d.address),d.candidateType&&(a.candidateType=d.candidateType),d.port&&(a.port=d.port),d.priority&&(a.priority=d.priority),d.protocol&&(a.protocol=d.protocol),d.relayProtocol&&(a.relayProtocol=d.relayProtocol)};if(s.localCandidateId){const a=t.get(s.localCandidateId);a&&o(n.local,a)}if(s.remoteCandidateId){const a=t.get(s.remoteCandidateId);a&&o(n.remote,a)}}}),n}processCandidatePairStats(t){if(this._stats.sendBandwidth=t.availableOutgoingBitrate||0,t.currentRoundTripTime&&(this._stats.rtt=1e3*t.currentRoundTripTime),this._stats.videoSend.forEach(n=>{t.currentRoundTripTime&&(n.rttMs=1e3*t.currentRoundTripTime)}),this._stats.audioSend.forEach(n=>{t.currentRoundTripTime&&(n.rttMs=1e3*t.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=t.id,t.localCandidateId){const n=this.report.get(t.localCandidateId);n&&this.processCandidateStats(n)}if(t.remoteCandidateId){const n=this.report.get(t.remoteCandidateId);n&&this.processCandidateStats(n)}}processCandidateStats(t){let n;t.type===vn.LOCAL_CANDIDATE&&(n=this._stats.selectedCandidatePair.localCandidate),t.type===vn.REMOTE_CANDIDATE&&(n=this._stats.selectedCandidatePair.remoteCandidate),n&&(n.type=t.type,n.id=t.id,t.address&&(n.address=t.address),t.candidateType&&(n.candidateType=t.candidateType),t.port&&(n.port=t.port),t.priority&&(n.priority=t.priority),t.protocol&&(n.protocol=t.protocol),t.relayProtocol&&(n.relayProtocol=t.relayProtocol),t.type===vn.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==n.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(Hs({},n),Hs({},this.stats.selectedCandidatePair.localCandidate)),t.type===vn.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==n.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(Hs({},n),Hs({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(t){let n=this._stats.audioRecv.find(s=>s.ssrc===t.ssrc);n||(n=Ir(iB),this._stats.audioRecv.push(n)),n.ssrc=t.ssrc,n.packets=t.packetsReceived,n.packetsLost=t.packetsLost,n.packetsDiscarded=t.packetsDiscarded,n.bytes=t.bytesReceived,n.jitterMs=1e3*t.jitter,n.retransmittedBytesReceived=t.retransmittedBytesReceived,n.retransmittedPacketsReceived=t.retransmittedPacketsReceived,n.totalProcessingDelay=t.totalProcessingDelay,n.jitterBufferEmittedCount=t.jitterBufferEmittedCount;const r=this.lastDecodeAudioReceiverStats.get(n.ssrc);n.avgProcessingDelayMs=sc(r,n,"totalProcessingDelay","jitterBufferEmittedCount",Ka.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(t,t.trackId,n),t.codecId&&(n.codec=this.getCodecFromCodecStats(t.codecId)),n.receivedFrames||(n.receivedFrames=t.packetsReceived),n.droppedFrames||(n.droppedFrames=t.packetsLost),n.receivedFrames>0&&!this.isFirstAudioReceived[n.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(n.ssrc),this.isFirstAudioReceived[n.ssrc]=!0),n.outputLevel&&n.outputLevel>0&&!this.isFirstAudioDecoded[n.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(n.ssrc),this.isFirstAudioDecoded[n.ssrc]=!0),typeof t.concealedSamples=="number"&&(n.concealedSamples=t.concealedSamples),this.lastDecodeAudioReceiverStats.set(n.ssrc,Hs({},n))}processVideoInboundStats(t){let n=this._stats.videoRecv.find(d=>d.ssrc===t.ssrc);n||(n=Ir($w),this._stats.videoRecv.push(n)),n.ssrc=t.ssrc,n.packets=t.packetsReceived,n.packetsLost=t.packetsLost,n.bytes=t.bytesReceived,n.firsCount=t.firCount,n.nacksCount=t.nackCount,n.plisCount=t.pliCount,n.framesDecodeCount=t.framesDecoded,n.framesDroppedCount=t.framesDropped,n.totalInterFrameDelay=t.totalInterFrameDelay,n.totalSquaredInterFrameDelay=t.totalSquaredInterFrameDelay,n.totalFreezesDuration=t.totalFreezesDuration,n.totalProcessingDelay=t.totalProcessingDelay,n.packetsDiscarded=t.packetsDiscarded,n.framesAssembledFromMultiplePackets=t.framesAssembledFromMultiplePackets,n.totalAssemblyTime=t.totalAssemblyTime,n.keyFramesDecoded=t.keyFramesDecoded,n.retransmittedBytesReceived=t.retransmittedBytesReceived,n.retransmittedPacketsReceived=t.retransmittedPacketsReceived;const r=this.lastDecodeVideoReceiverStats.get(n.ssrc),s=this.lastVideoFramesDecode.get(n.ssrc),o=this.lastVideoFramesOutput.get(n.ssrc),a=Date.now();if(n.framesDecodeCount>0&&!this.isFirstVideoDecoded[n.ssrc]){const d=n.decodedFrame?n.decodedFrame.width:0,l=n.decodedFrame?n.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(n.ssrc,d,l),this.isFirstVideoDecoded[n.ssrc]=!0}if(r){const d=r.stats,l=a-r.lts;n.framesDecodeFreezeTime=d.framesDecodeFreezeTime,n.framesDecodeInterval=d.framesDecodeInterval,!this.isFirstVideoDecoded[n.ssrc]&&l>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[n.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(n.ssrc),this.isFirstVideoDecodedTimeout[n.ssrc]=!0),n.framesDecodeCount>d.framesDecodeCount&&this.isFirstVideoDecoded[n.ssrc]?(r.lts=Date.now(),n.framesDecodeInterval=l,n.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(t.ssrc))?n.framesDecodeFreezeTime+=n.framesDecodeInterval:this.setVideoIsReady2(parseInt(t.ssrc,10),!0))):n.framesDecodeCount<d.framesDecodeCount&&(n.framesDecodeInterval=0),t.framesDecoded&&t.qpSum&&(r.stats.framesDecodeCount>t.framesDecoded?n.qpSumPerFrame=t.qpSum/t.framesDecoded:n.qpSumPerFrame=(t.qpSum-r.qpSum)/(t.framesDecoded-r.stats.framesDecodeCount))}t.totalDecodeTime&&(n.decodeMs=1e3*t.totalDecodeTime,n.avgDecodeMs=sc(r==null?void 0:r.stats,n,"decodeMs","framesDecodeCount")),n.avgProcessingDelayMs=sc(r==null?void 0:r.stats,n,"totalProcessingDelay","framesDecodeCount",Ka.kMillisecondsFromSeconds),n.avgFramesAssembledFromMultiplePacketsMs=sc(r==null?void 0:r.stats,n,"totalAssemblyTime","framesAssembledFromMultiplePackets",Ka.kMillisecondsFromSeconds),n.avgInterFrameDelayMs=sc(r==null?void 0:r.stats,n,"totalInterFrameDelay","framesDecodeCount",Ka.kMillisecondsFromSeconds),s&&a-s.lts>=800?(n.decodeFrameRate=Math.round((n.framesDecodeCount-s.count)/((a-s.lts)/1e3)),this.lastVideoFramesDecode.set(n.ssrc,{count:n.framesDecodeCount,lts:a,rate:n.decodeFrameRate})):s?n.decodeFrameRate=s.rate:this.lastVideoFramesDecode.set(n.ssrc,{count:n.framesDecodeCount,lts:a,rate:0}),n.framesDroppedCount&&t.framesReceived&&(o&&a-o.lts>=800?(n.outputFrameRate=Math.round((t.framesReceived-n.framesDroppedCount-o.count)/((a-o.lts)/1e3)),this.lastVideoFramesOutput.set(n.ssrc,{count:t.framesReceived-n.framesDroppedCount,lts:a,rate:Math.max(n.outputFrameRate,0)})):o?n.outputFrameRate=o.rate:this.lastVideoFramesOutput.set(n.ssrc,{count:t.framesReceived-n.framesDroppedCount,lts:a,rate:0})),this.processVideoTrackReceiverStats(t,t.trackId,n),t.codecId&&(n.codec=this.getCodecFromCodecStats(t.codecId)),t.framerateMean&&(n.framesRateFirefox=t.framerateMean),n.packets>0&&!this.isFirstVideoReceived[n.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(n.ssrc),this.isFirstVideoReceived[n.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(n.ssrc,{stats:Hs({},n),lts:r?r.lts:Date.now(),qpSum:t.qpSum})}processVideoOutboundStats(t){let n=this._stats.videoSend.find(s=>s.ssrc===t.ssrc);n||(n=Ir(eB),this._stats.videoSend.push(n));const r=this.mediaBytesSent.get(t.ssrc);if(r)r.add(t.bytesSent);else{const s=new Np(10);s.add(t.bytesSent),this.mediaBytesSent.set(t.ssrc,s)}if(t.retransmittedBytesSent!==void 0){const s=this.mediaBytesRetransmit.get(t.ssrc);if(s)s.add(t.retransmittedBytesSent);else{const o=new Np(10);o.add(t.retransmittedBytesSent),this.mediaBytesRetransmit.set(t.ssrc,o)}}if(t.totalEncodedBytesTarget){const s=this.mediaBytesTargetEncode.get(t.ssrc);if(s)s.add(t.totalEncodedBytesTarget);else{const o=new Np(10);o.add(t.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(t.ssrc,o)}}if(n.ssrc=t.ssrc,n.bytes=t.bytesSent,n.packets=t.packetsSent,n.firsCount=t.firCount,n.nacksCount=t.nackCount,n.plisCount=t.pliCount,n.frameCount=t.framesEncoded,n.adaptionChangeReason=t.qualityLimitationReason,n.scalabilityMode=t.scalabilityMode,n.retransmittedBytesSent=t.retransmittedBytesSent,n.retransmittedPacketsSent=t.retransmittedPacketsSent,n.hugeFramesSent=t.hugeFramesSent,n.keyFramesEncoded=t.keyFramesEncoded,t.totalEncodeTime&&t.framesEncoded){const s=this.lastEncoderMs.get(t.ssrc);if(!s||s.lastFrameCount>t.framesEncoded)n.avgEncodeMs=1e3*t.totalEncodeTime/t.framesEncoded;else{const o=t.framesEncoded-s.lastFrameCount,a=t.totalEncodeTime-s.lastEncoderTime;n.avgEncodeMs=1e3*a/o}}if(t.framesEncoded&&t.qpSum){const s=this.lastEncoderMs.get(t.ssrc);!s||s.lastFrameCount>t.framesEncoded?n.qpSumPerFrame=t.qpSum/t.framesEncoded:n.qpSumPerFrame=(t.qpSum-s.lastQpSum)/(t.framesEncoded-s.lastFrameCount)}if(this.lastEncoderMs.set(t.ssrc,{lastFrameCount:t.framesEncoded,lastEncoderTime:t.totalEncodeTime,lastQpSum:t.qpSum,lts:Date.now()}),t.codecId&&(n.codec=this.getCodecFromCodecStats(t.codecId)),t.mediaSourceId&&this.processVideoMediaSource(t.mediaSourceId,n),this.processVideoTrackSenderStats(t,t.trackId,n),t.remoteId)this.processRemoteInboundStats(t.remoteId,n);else{const s=this.findRemoteStatsId(t.ssrc,vn.REMOTE_INBOUND);s&&this.processRemoteInboundStats(s,n)}}processAudioOutboundStats(t){let n=this._stats.audioSend.find(r=>r.ssrc===t.ssrc);if(n||(n=Ir(tB),this._stats.audioSend.push(n)),n.ssrc=t.ssrc,n.packets=t.packetsSent,n.bytes=t.bytesSent,n.retransmittedBytesSent=t.retransmittedBytesSent,n.retransmittedPacketsSent=t.retransmittedPacketsSent,t.mediaSourceId&&this.processAudioMediaSource(t.mediaSourceId,n),t.codecId&&(n.codec=this.getCodecFromCodecStats(t.codecId)),this.processAudioTrackSenderStats(t,t.trackId,n),t.remoteId)this.processRemoteInboundStats(t.remoteId,n);else{const r=this.findRemoteStatsId(t.ssrc,vn.REMOTE_INBOUND);r&&this.processRemoteInboundStats(r,n)}}findRemoteStatsId(t,n){var r;const s=Array.from(Is(r=this.report).call(r)).find(o=>o.type===n&&o.ssrc===t);return s?s.id:null}processVideoMediaSource(t,n){const r=this.report.get(t);r&&r.width&&r.height&&r.framesPerSecond&&(n.inputFrame={width:r.width,height:r.height,frameRate:r.framesPerSecond})}processAudioMediaSource(t,n){const r=this.report.get(t);r&&(n.inputLevel=r.audioLevel)}processVideoTrackSenderStats(t,n,r){var s,o,a,d;const l=n?this.report.get(n):void 0,E=(s=l==null?void 0:l.framesSent)!==null&&s!==void 0?s:t.framesSent;if(typeof E!="number")return;let g=(o=l==null?void 0:l.frameWidth)!==null&&o!==void 0?o:t.frameWidth,f=(a=l==null?void 0:l.frameHeight)!==null&&a!==void 0?a:t.frameHeight,C=(d=l==null?void 0:l.framesPerSecond)!==null&&d!==void 0?d:t.framesPerSecond;if(typeof g=="number"&&typeof f=="number"||(g=0,f=0),C==null){const T=Date.now(),Q=this.lastVideoFramesSent.get(r.ssrc);Q&&T-Q.lts>=800?(C=Math.round((E-Q.count)/((T-Q.lts)/1e3)),this.lastVideoFramesSent.set(r.ssrc,{count:E,lts:T,rate:C})):Q?C=Q.rate:this.lastVideoFramesSent.set(r.ssrc,{count:E,lts:T,rate:0})}r.sentFrame={width:g,height:f,frameRate:Math.max(0,C)}}processVideoTrackReceiverStats(t,n,r){var s,o,a,d,l;const E=n?this.report.get(n):void 0,g=(s=E==null?void 0:E.framesReceived)!==null&&s!==void 0?s:t.framesReceived,f=(o=E==null?void 0:E.frameWidth)!==null&&o!==void 0?o:t.frameWidth,C=(a=E==null?void 0:E.frameHeight)!==null&&a!==void 0?a:t.frameHeight,T=(d=E==null?void 0:E.jitterBufferDelay)!==null&&d!==void 0?d:t.jitterBufferDelay,Q=(l=E==null?void 0:E.jitterBufferEmittedCount)!==null&&l!==void 0?l:t.jitterBufferEmittedCount;if(typeof g=="number"){const U=this.lastVideoFramesRecv.get(r.ssrc),_=Date.now();r.framesReceivedCount=g;let b=0;U&&_-U.lts>=800?(b=Math.round((g-U.count)/((_-U.lts)/1e3)),this.lastVideoFramesRecv.set(r.ssrc,{count:g,lts:_,rate:b})):U?b=U.rate:this.lastVideoFramesRecv.set(r.ssrc,{count:g,lts:_,rate:0}),r.receivedFrame={width:f||0,height:C||0,frameRate:b||0},r.decodedFrame={width:f||0,height:C||0,frameRate:r.decodeFrameRate||0},r.outputFrame={width:f||0,height:C||0,frameRate:r.outputFrameRate||r.decodeFrameRate||0}}if(T&&Q){const U=this.lastVideoJBDelay.get(r.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let _=U.jitterBufferMs;const b=Q-U.jitterBufferEmittedCount;b>0&&(_=1e3*(T-U.jitterBufferDelay)/b),r.jitterBufferMs=_,r.currentDelayMs=Math.round(_),this.lastVideoJBDelay.set(r.ssrc,{jitterBufferDelay:T,jitterBufferEmittedCount:Q,jitterBufferMs:r.currentDelayMs})}}processAudioTrackSenderStats(t,n,r){var s,o,a,d;const l=n?this.report.get(n):void 0,E=(s=(o=l==null?void 0:l.echoReturnLoss)!==null&&o!==void 0?o:t.echoReturnLoss)!==null&&s!==void 0?s:0,g=(a=(d=l==null?void 0:l.echoReturnLossEnhancement)!==null&&d!==void 0?d:t.echoReturnLossEnhancement)!==null&&a!==void 0?a:0;r.aecReturnLoss=E,r.aecReturnLossEnhancement=g}processAudioTrackReceiverStats(t,n,r){var s,o,a,d,l,E,g;const f=n?this.report.get(n):void 0,C=(s=f==null?void 0:f.removedSamplesForAcceleration)!==null&&s!==void 0?s:t.removedSamplesForAcceleration,T=(o=f==null?void 0:f.totalSamplesReceived)!==null&&o!==void 0?o:t.totalSamplesReceived,Q=(a=f==null?void 0:f.jitterBufferDelay)!==null&&a!==void 0?a:t.jitterBufferDelay,U=(d=f==null?void 0:f.jitterBufferEmittedCount)!==null&&d!==void 0?d:t.jitterBufferEmittedCount,_=(l=f==null?void 0:f.audioLevel)!==null&&l!==void 0?l:t==null?void 0:t.audioLevel,b=(E=f==null?void 0:f.totalSamplesDuration)!==null&&E!==void 0?E:t==null?void 0:t.totalSamplesDuration,Y=(g=f==null?void 0:f.concealedSamples)!==null&&g!==void 0?g:t.concealedSamples;if(C&&T&&(r.accelerateRate=C/T),Q&&U){const W=this.lastAudioJBDelay.get(r.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let J=W.jitterBufferMs;const K=U-W.jitterBufferEmittedCount;K>0&&(J=1e3*(Q-W.jitterBufferDelay)/K),r.jitterBufferMs=Math.round(J),this.lastAudioJBDelay.set(r.ssrc,{jitterBufferDelay:Q,jitterBufferEmittedCount:U,jitterBufferMs:r.jitterBufferMs})}r.outputLevel=_;let G=1920;b&&T&&(G=T/b/50,r.receivedFrames=Math.round(T/G)),Y&&(r.droppedFrames=Math.round(Y/G))}processRemoteInboundStats(t,n){const r=this.report.get(t);r&&(n.packetsLost=r.packetsLost,r.roundTripTime&&(n.rttMs=1e3*r.roundTripTime),r.jitter&&(n.jitterMs=1e3*r.jitter),r.timestamp&&(n.timestamp=r.timestamp))}getCodecFromCodecStats(t){const n=this.report.get(t);if(!n)return"";const r=n.mimeType.match(/\/(.*)$/);return r&&r[1]?r[1]:""}updateSendBitrate(){let t=0,n=null,r=null;this.mediaBytesSent.forEach(o=>{t+=o.diffMean()}),this.mediaBytesRetransmit.forEach(o=>{n=n===null?o.diffMean():n+o.diffMean()}),this.mediaBytesTargetEncode.forEach(o=>{r=r===null?o.diffMean():r+o.diffMean()});const s=n!==null?t-n:t;this._stats.bitrate={actualEncoded:8*s/(this.options.updateInterval/1e3),transmit:8*t/(this.options.updateInterval/1e3)},n!==null&&(this._stats.bitrate.retransmit=8*n/(this.options.updateInterval/1e3)),r!==null&&(this._stats.bitrate.targetEncoded=8*r/(this.options.updateInterval/1e3))}}class FG extends Sp{updateStats(){return Ie.resolve()}}function Mp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4;const o=function(){const a=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return a&&a[0]?Number(a[0].split("/")[1]):null}();return o?o<76?new _G(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:s}):new aB(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:s}):function(a){if(!window.RTCStatsReport)return!1;const d=a.getStats();return!!(d instanceof Ie||function(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}(d))}(e)?new aB(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:s}):new FG(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:s})}let AB=class{get localCapabilities(){return Xt(this._localCapabilities)}get rtpCapabilities(){return Xt(this._rtpCapabilities)}get candidates(){return Xt(this._candidates)}get iceParameters(){return Xt(this._iceParameters)}get dtlsParameters(){return Xt(this._dtlsParameters)}constructor(e){F(this,"sessionDesc",void 0),F(this,"_localCapabilities",void 0),F(this,"_rtpCapabilities",void 0),F(this,"_candidates",void 0),F(this,"_iceParameters",void 0),F(this,"_dtlsParameters",void 0),F(this,"setup",void 0),F(this,"currentMidIndex",void 0),F(this,"cname","o/i14u9pJrxRKAsu"),F(this,"firefoxSsrcMidMap",new Map),e=Xt(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:s,localCapabilities:o,direction:a,setup:d,videoCodec:l,audioCodec:E}=e;let g;this.setup=d,g=a===qi.RECEIVE_ONLY?vi.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`):vi.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`),this._rtpCapabilities=s,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=o;const f=a===qi.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,C=a===qi.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,T=a===qi.RECEIVE_ONLY?s.send.videoCodecs:tc(Ne.VIDEO,f,C,l),Q=a===qi.RECEIVE_ONLY?s.send.audioCodecs:tc(Ne.AUDIO,f,C,E);for(const U of g.mediaDescriptions)U.attributes.iceUfrag=t.iceUfrag,U.attributes.icePwd=t.icePwd,U.attributes.fingerprints=n.fingerprints,U.attributes.candidates=r,U.attributes.setup=this.setup,U.media.mediaType==="application"&&(U.attributes.sctpPort="5000"),U.media.mediaType==="video"&&(U.media.fmts=T.map(_=>_.payloadType.toString(10)),U.attributes.payloads=T,U.attributes.extmaps=f.videoExtensions),U.media.mediaType==="audio"&&(U.media.fmts=Q.map(_=>_.payloadType.toString(10)),U.attributes.payloads=Q,U.attributes.extmaps=f.audioExtensions,Ha(U));this.sessionDesc=g,this.currentMidIndex=g.mediaDescriptions.length-1}toString(){return vi.print(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every(t=>this.hasMid(t)):this.sessionDesc.mediaDescriptions.some(t=>t.attributes.mid===e)}send(e,t,n,r,s){n=n.replace(/ /g,"-");const{ssrcs:o,ssrcGroups:a}=Fo(t,this.cname,L("SYNC_GROUP")?n:void 0),d=this.findPreloadMediaDesc(o);if(d){if(Gt()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,d.attributes.mid),s&&(s.twcc||s.remb)){const l=this.sessionDesc.mediaDescriptions.indexOf(d);return this.sessionDesc.mediaDescriptions[l]=this.mungSendMediaDesc(d,s),{mid:d.attributes.mid,needExchangeSDP:!0}}return{mid:d.attributes.mid,needExchangeSDP:!1}}{const l=this.findAvailableMediaIndex(e,o,r);let E;return l===-1?(E=this.createOrRecycleSendMedia(e,o,a,"sendonly",r,s),this.updateBundleMids()):(E=Xt(this.sessionDesc.mediaDescriptions[l]),E.attributes.direction="sendonly",E.attributes.ssrcs=o,E.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[l]=this.mungSendMediaDesc(E,s)),Gt()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,E.attributes.mid),{needExchangeSDP:!0,mid:E.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter(n=>n.attributes.mid&&e.indexOf(n.attributes.mid)!==-1);if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach(n=>{n.attributes.ssrcs=[]}),this.updateBundleMids()}receive(e,t,n){const r=[];return e.forEach(s=>{const o=s._mediaStreamTrack.kind,a=this.findAvailableRecvMediaIndex(o);let d,l=!1;a===-1?(l=!0,d=this.createOrRecycleRecvMedia(s,[],"recvonly",t,n),this.updateBundleMids()):(d=Xt(this.sessionDesc.mediaDescriptions[a]),d.attributes.direction="recvonly"),r.push({mid:d.attributes.mid,needCreateTransceiver:l})}),r}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter(n=>e.indexOf(n.attributes.mid)!==-1);if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach(n=>{n.media.port="0",n.attributes.direction="inactive"}),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:n,address:r,port:s,type:o,relatedAddress:a,relatedPort:d,priority:l}=new RTCIceCandidate(e),E={foundation:t??"",componentId:"1",transport:n??"",priority:l?l+"":"",connectionAddress:r??"",port:s?s+"":"",type:o?o+"":"",relAddr:a??"",relPort:d?d+"":"",extension:{}};this.candidates.some(g=>g.priority===E.priority&&g.connectionAddress===E.connectionAddress&&g.port===E.port)||(this._candidates.push(E),this.sessionDesc.mediaDescriptions.forEach(g=>{g.attributes.candidates=this.candidates}))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,n,r,s){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,d=tc(o,a,this.localCapabilities.send,o===Ne.AUDIO?s:r),l=o===Ne.VIDEO?a.videoExtensions:a.audioExtensions,E="".concat(++this.currentMidIndex);let g={media:{mediaType:o,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:d.map(C=>C.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(E)}};g=this.mungRecvMediaDsec(g,e);const f=this.findFirstClosedMedia(o);if(f){const C=this.sessionDesc.mediaDescriptions.indexOf(f);this.sessionDesc.mediaDescriptions[C]=g}else this.sessionDesc.mediaDescriptions.push(g);return g}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(n=>ge(e).call(e,n.attributes.mid||""));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach(n=>{n.attributes.direction="inactive"})}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(n=>ge(e).call(e,n.attributes.mid||""));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach(n=>{n.attributes.direction="recvonly"})}findAvailableMediaIndex(e,t,n){return this.sessionDesc.mediaDescriptions.findIndex(r=>{const s=r.media.mediaType===e&&r.media.port!=="0"&&(r.attributes.direction==="sendonly"||r.attributes.direction==="sendrecv")&&r.attributes.ssrcs.length===0;if(Gt()){if(s){const o=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(o||r.attributes.mid!=="0"&&r.attributes.mid!=="1")||!(!o||o!==r.attributes.mid)}return!1}return s&&r.attributes.mid===n})}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex(t=>{const n=t.media.mediaType===e&&t.media.port!=="0"&&(t.attributes.direction==="recvonly"||t.attributes.direction==="sendrecv");return t.attributes.mid!=="0"&&t.attributes.mid!=="1"&&n})}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}restartICE(e){e=Xt(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}createOrRecycleSendMedia(e,t,n,r,s,o){const a=this.rtpCapabilities.send,d=e===Ne.VIDEO?a.videoCodecs:a.audioCodecs,l=e===Ne.VIDEO?a.videoExtensions:a.audioExtensions;Gt()&&(s="".concat(++this.currentMidIndex));let E={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:d.map(f=>f.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:s}};E=this.mungSendMediaDesc(E,o);const g=this.findFirstClosedMedia(e);if(g){const f=this.sessionDesc.mediaDescriptions.indexOf(g);this.sessionDesc.mediaDescriptions[f]=E}else this.sessionDesc.mediaDescriptions.push(E);return E}mungRecvMediaDsec(e,t,n){const r=Xt(e);return cp(r),Ja(r,t),dp(r,t),yw(r),vl(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=Xt(e);return vl(n,t,this.localCapabilities.recv),Ha(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex(r=>r.attributes.mid===e);if(n!==-1){const r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=r}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>e.media.port!=="0").map(e=>e.attributes.mid)}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(t=>{var n;return((n=t.attributes)===null||n===void 0||(n=n.ssrcs[0])===null||n===void 0?void 0:n.ssrcId)===e[0].ssrcId})}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(t=>Gt()?t.media.port==="0"&&t.media.mediaType===e:t.media.port==="0")}};const QG=["sdp"];var _t;function cB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let dB=(_t=class AA extends MS{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var t,n;return(t=(n=this.peerConnection.getReceivers()[0])===null||n===void 0||(n=n.transport)===null||n===void 0?void 0:n.state)!==null&&t!==void 0?t:null}get localCodecs(){return[]}set isInRestartIce(t){this._isInRestartIce=t}get isInRestartIce(){return this._isInRestartIce}constructor(t,n,r){super(t,n),F(this,"direction",void 0),F(this,"name",void 0),F(this,"store",void 0),F(this,"spec",void 0),F(this,"peerConnection",void 0),F(this,"initialOffer",void 0),F(this,"transport",void 0),F(this,"statsFilter",void 0),F(this,"localCandidateCount",0),F(this,"_isInRestartIce",!1),F(this,"mutex",void 0),F(this,"onLocalCandidate",void 0),F(this,"remoteSDP",void 0),F(this,"pendingCandidates",[]),F(this,"localCapabilities",void 0),F(this,"isReady",!1),F(this,"restartCnt",0),F(this,"curTurnServerIndex",0),this.store=n,this.spec=t,this.mutex=new Oi("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(AA.resolvePCConfiguration(t,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=r??qi.SEND_ONLY,this.name=this.direction===qi.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=Mp(this.peerConnection,L("STATS_UPDATE_INTERVAL"),void 0,Gt()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(t){try{const n=await Bw();if(this.localCapabilities=_l(n),t){const{sdp:r}=t,s=UG(t,QG),o=function(){const g={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},f=ec(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"sendonly"),C={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},T={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},Q={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(pr(f,g,"videoExtensions",C,T,Q),pr(f,g,"videoCodecs",C,T,Q),pr(f,g,"audioExtensions",C,T,Q),pr(f,g,"audioCodecs",C,T,Q),L("RAISE_H264_BASELINE_PRIORITY")){const U=Q.videoCodecs.findIndex(_=>_.rtpMap&&_.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&_.fmtp&&_.fmtp.parameters["profile-level-id"]==="42001f");if(U!==-1){const _=Q.videoCodecs.findIndex(b=>b.rtpMap&&b.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(_<U){M.debug("raising H264 baseline profile priority");const b=Q.videoCodecs[U];Q.videoCodecs.splice(U,1),Q.videoCodecs.splice(_,0,b)}_!==-1&&L("FILTER_SEND_H264_BASELINE")&&(C.videoCodecs=C.videoCodecs.filter(b=>!(b.rtpMap&&b.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&b.fmtp&&b.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:C,recv:T,sendrecv:Q}}({},{},r);this.remoteSDP=new AB({remoteIceParameters:s.iceParameters,remoteDtlsParameters:s.dtlsParameters,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const a=await this.peerConnection.createAnswer();if(!a.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const d=Ws(a.sdp);await this.peerConnection.setLocalDescription(a);const l=await Uw({},{},a.sdp);this.localCapabilities=_l(l);const E=this.peerConnection.getTransceivers()[0];return E!=null&&E.receiver&&E.receiver.transport&&this.tryBindTransportEvents(E.receiver.transport),Zs(Zs({},d),{},{sdp:a.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const r=await this.peerConnection.createOffer();if(!r.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const s=Ws(r.sdp);return this.initialOffer=r,Zs(Zs({},s),{},{sdp:r.sdp})}}catch(n){throw new $(j.GET_LOCAL_CONNECTION_PARAMS_FAILED,n.toString())}}async connect(t){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:n,iceParameters:r,dtlsParameters:s}=t,o=await Uw({},{},n);this.remoteSDP=new AB({remoteIceParameters:r,remoteDtlsParameters:s,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const a=this.peerConnection.getTransceivers()[0];a!=null&&a.sender&&a.sender.transport&&this.tryBindTransportEvents(a.sender.transport)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(n.toString()))}}async addRemoteCandidate(t){try{t&&this.pendingCandidates.push(t),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(n=>{this.peerConnection.addIceCandidate(n)}),this.pendingCandidates=[])}catch(n){throw new $(j.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(n.toString()))}}send(t,n,r){var s=this;return Jn(function*(){const o=yield it(s.mutex.lock("From P2PConnection.send"));try{if(!s.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const a=[],d=s.remoteSDP.receive(t,n,r);t.forEach((_,b)=>{if(d[b].needCreateTransceiver){const Y=s.peerConnection.addTransceiver(_._mediaStreamTrack,{direction:"sendonly"});a.push(Y),_._updateRtpTransceiver(Y)}else{const Y=s.peerConnection.getTransceivers().find(G=>G.mid===d[b].mid);if(!Y)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(d[b].mid));a.push(Y),_._updateRtpTransceiver(Y)}}),Gt()&&L("SIMULCAST")===!0&&(yield it(s.applySimulcastForFirefox(a,t)));const l=d.map(_=>_.mid),E=yield it(s.peerConnection.createOffer()),g=s.mungSendOfferSDP(E.sdp,t,l),f=vi.parse(g),C=l.map(_=>{const b=f.mediaDescriptions.find(Y=>Y.attributes.mid===_);if(!b)throw new Error("Cannot extract ssrc from mediaDescription.");return Nw(b,L("USE_PUB_RTX"))}),T=a.map((_,b)=>{const Y=l[b];return{localSSRC:C[b],id:Y}});yield it(s.peerConnection.setLocalDescription({type:"offer",sdp:g}));try{yield T}catch(_){const b=s.remoteSDP.toString();throw yield it(s.peerConnection.setLocalDescription({type:"offer",sdp:g})),yield it(s.peerConnection.setRemoteDescription({type:"answer",sdp:b})),yield it(s.stopSending(l,!0)),_}yield it(s.applySimulcastEncodings(a,t)),yield it(s.applySendEncodings(a,t));const Q=s.remoteSDP.toString(),U=s.logSDPExchange(g,"offer","local","send");return U==null||U(Q),yield it(s.setRemoteDescription({type:"answer",sdp:Q})),a.map((_,b)=>{const Y=l[b];return{localSSRC:C[b],id:Y}})}catch(a){throw a instanceof $?a:new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(a.toString()))}finally{o()}})()}async stopSending(t,n){const r=n?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const s=this.peerConnection.getTransceivers().filter(l=>t.indexOf(l.mid)!==-1);if(s.length!==t.length)throw new Error("Transceivers' length (".concat(s.length,") doesn't match mids' length (").concat(t.length,") when trying to call P2PConnection.stopSending."));s.map(l=>{var E;l.direction="inactive",(E=l.stop)===null||E===void 0||E.call(l)});const o=await this.peerConnection.createOffer(),a=this.logSDPExchange(o.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(o),this.remoteSDP.stopReceiving(t);const d=this.remoteSDP.toString();a==null||a(d),await this.setRemoteDescription({type:"answer",sdp:d})}catch(s){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(s.toString()))}finally{r&&r()}}async receive(t,n,r,s){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{mid:o,needExchangeSDP:a}=this.remoteSDP.send(t,n,r,s);if(a){const l=this.remoteSDP.toString(),E=this.logSDPExchange(l,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:l});const g=await this.peerConnection.createAnswer(),f=this.mungReceiveAnswerSDP(g.sdp,o,t);E==null||E(f||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:f}),M.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP."))}else M.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."));const d=this.peerConnection.getTransceivers().find(l=>l.mid===o);if(!d||d.mid===null)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:d.receiver.track,mid:d.mid,transceiver:d}}catch(o){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async mockReceive(t,n,r,s){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{mid:o,needExchangeSDP:a}=this.remoteSDP.send(t,n,r,s);if(a){const d=this.remoteSDP.toString(),l=this.logSDPExchange(d,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:d});const E=await this.peerConnection.createAnswer(),g=this.mungReceiveAnswerSDP(E.sdp,o,t);l==null||l(g||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:g}),M.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP."))}else M.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."))}catch(o){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(t);const n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:n});const s=await this.peerConnection.createAnswer();r==null||r(s.sdp||""),await this.peerConnection.setLocalDescription(s)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(n.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===To.Auto&&(this.store.p2pTransport=To.SdRtn,ot().supportPCSetConfiguration&&this.peerConnection.setConfiguration(AA.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,ot().supportPCSetConfiguration&&this.peerConnection.setConfiguration(AA.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const n=await this.peerConnection.createOffer({iceRestart:!0});if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:r}=Ws(n.sdp);return this.store.descriptionStart(),this.direction===qi.SEND_ONLY&&await this.peerConnection.setLocalDescription(n),r}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===qi.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const n=await this.peerConnection.createAnswer();if(!n.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:r}=Ws(n.sdp);return await this.peerConnection.setLocalDescription(n),r}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(n.toString()))}}close(){var t;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(t=this.onConnectionStateChange)===null||t===void 0||t.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(t){return this.statsFilter.getVideoIsReady(t)}async updateEncoderConfig(t,n){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const r=await this.peerConnection.createOffer(),s=this.mungSendOfferSDP(r.sdp,[n],[t]);this.remoteSDP.updateRecvMedia(t,n);const o=this.remoteSDP.toString(),a=this.logSDPExchange(s,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:s}),a==null||a(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(r){throw new $(j.EXCHANGE_SDP_FAILED,r.toString())}}async updateSendParameters(t,n){const r=this.peerConnection.getTransceivers().filter(s=>s.mid===t);r.length===1&&(this.isVP8Simulcast(n)?Gt()||await this.applySimulcastEncodings(r,[n]):await this.applySendEncodings(r,[n]))}setStatsRemoteVideoIsReady(t,n){this.statsFilter.setVideoIsReady2(t,n)}async replaceTrack(t,n){const r=this.peerConnection.getTransceivers().find(s=>s.mid===n);r&&await r.sender.replaceTrack(t._mediaStreamTrack)}async getSelectedCandidatePair(){const t=this.peerConnection.getReceivers();if(t.length>0&&t[0].transport&&t[0].transport.iceTransport&&t[0].transport.iceTransport.getSelectedCandidatePair&&t[0].transport.iceTransport.getSelectedCandidatePair()){const n=t[0].transport.iceTransport,{local:r,remote:s}=n.getSelectedCandidatePair();return{local:Zs(Zs({},es),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port}),remote:Zs(Zs({},es),{},{candidateType:s.type,protocol:s.protocol,address:s.address,port:s.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var t,n;ge(t=["connected","completed"]).call(t,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(n=this.onICEConnectionStateChange)===null||n===void 0||n.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var t;this.peerConnection.connectionState==="connected"&&(this.restartCnt=0),(t=this.onConnectionStateChange)===null||t===void 0||t.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=t=>{if(t.candidate){var n;t.candidate.candidate&&((n=this.onLocalCandidate)===null||n===void 0||n.call(this,t.candidate.toJSON())),this.localCandidateCount+=1}else M.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const s={iceServers:[]};var o;return t.iceServers?s.iceServers=t.iceServers:t.turnServer&&t.turnServer.mode!=="off"&&(Xd(t.turnServer.servers)?s.iceServers=t.turnServer.servers:(s.iceServers&&s.iceServers.push(...AA.turnServerConfigToIceServers(t.turnServer.servers,n,r)),L("USE_TURN_SERVER_OF_GATEWAY")&&s.iceServers&&t.turnServer.serversFromGateway&&s.iceServers.push(...AA.turnServerConfigToIceServers(t.turnServer.serversFromGateway,n,r)),ge(o=[To.Relay,To.SdRtn]).call(o,n)&&(s.iceTransportPolicy="relay"),L("FORCE_TURN_TCP")?s.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(a=>{a.forceturn&&(s.iceTransportPolicy="relay")}))),L("ENABLE_ENCODED_TRANSFORM")&&ot().supportWebRTCEncodedTransform&&(s.encodedInsertableStreams=!0),M.debug("P2PConnection p2pTransport is ".concat(n)),s}static turnServerConfigToIceServers(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const s=[],o=t.filter(d=>d.tcpport);M.debug("P2PConnection turnServers is ".concat(o,", current index is ").concat(r));const a=o.length>r?o[r]:o[0];switch(n){case To.SdRtn:const d=t.filter(E=>{var g;return ge(g=E.username).call(g,"glb:")&&E.turnServerURL==E.turnServerURL}),l=d.length>r?d[r]:d[0];l&&(s.push({username:l.username,credential:l.password,credentialType:"password",urls:"turn:".concat(wa(l.turnServerURL),":").concat(l.tcpport,"?transport=udp")}),s.push({username:l.username,credential:l.password,credentialType:"password",urls:"turns:".concat(wa(l.turnServerURL),":").concat(l.tcpport,"?transport=tcp")}));break;case To.Relay:a&&(s.push({username:a.username,credential:a.password,credentialType:"password",urls:"turn:".concat(a.turnServerURL,":").concat(a.tcpport,"?transport=udp")}),s.push({username:a.username,credential:a.password,credentialType:"password",urls:"turns:".concat(wa(a.turnServerURL),":").concat(a.tcpport,"?transport=tcp")}));break;default:a&&(s.push({username:a.username,credential:a.password,credentialType:"password",urls:"turn:".concat(a.turnServerURL,":").concat(a.tcpport,"?transport=udp")}),s.push({username:a.username,credential:a.password,credentialType:"password",urls:"turns:".concat(wa(a.turnServerURL),":").concat(a.tcpport,"?transport=tcp")}),s.push({username:a.username,credential:a.password,credentialType:"password",urls:"stun:".concat(a.turnServerURL,":").concat(a.tcpport)}))}return s}tryBindTransportEvents(t){if(t){this.transport=t,t.onstatechange=()=>{var r;t!=null&&t.state&&((r=this.onDTLSTransportStateChange)===null||r===void 0||r.call(this,t.state))},t.onerror=r=>{var s;(s=this.onDTLSTransportError)===null||s===void 0||s.call(this,"error"in r?r.error:r)};const n=t.iceTransport;n&&(n.onstatechange=()=>{const r=t==null?void 0:t.iceTransport.state;var s;r&&((s=this.onICETransportStateChange)===null||s===void 0||s.call(this,r))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){const{local:r,remote:s}=n.getSelectedCandidatePair();M.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:r.type,protocol:r.protocol}),", remote ").concat(JSON.stringify({candidateType:s.type,protocol:s.protocol,address:s.address,port:s.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(t,n){var r;if(n||(n=this.peerConnection.getSenders().find(g=>g.track===t._mediaStreamTrack)),!n)return M.warn("[".concat(t.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(t))return M.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!ot().supportSetRtpSenderParameters)return M.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const s={},o={};switch(t._optimizationMode){case"motion":s.degradationPreference="maintain-framerate";break;case"detail":s.degradationPreference="maintain-resolution";break;default:s.degradationPreference="balanced"}if(t._encoderConfig){var a;const{bitrateMax:g,frameRate:f,scaleResolutionDownBy:C}=t._encoderConfig;g&&(o.maxBitrate=1e3*g),ge(a=t._hints).call(a,Bt.LOW_STREAM)&&(f&&(o.maxFramerate=Rn(f)),C&&C>=1&&(o.scaleResolutionDownBy=C))}if(L("DSCP_TYPE")&&Ys()){var d;const g=L("DSCP_TYPE");ge(d=["very-low","low","medium","high"]).call(d,g)&&(o.networkPriority=g)}const l=n.getParameters(),E=(r=l.encodings)===null||r===void 0?void 0:r[0];Gt()&&!E&&(s.encodings=[o]),E&&Object.assign(E,o),Object.assign(l,s),M.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(l.encodings))),await n.setParameters(l)}async applySendEncodings(t,n){try{if(!ot().supportSetRtpSenderParameters||t.length!==n.length)return;for(let r=0;r<t.length;r++){const s=t[r],o=n[r];o instanceof Qt&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,s.sender)}}catch{M.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(t,n,r){const s=vi.parse(t);return n.forEach((o,a)=>{const d=r[a],l=s.mediaDescriptions.find(E=>E.attributes.mid===d);l&&(Ja(l,o),ww(l,o,this.store.codec))}),vi.print(s)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=t=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstVideoReceived=t=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstAudioDecoded=t=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstVideoDecoded=(t,n,r)=>{var s;(s=this.onFirstVideoDecoded)===null||s===void 0||s.call(this,t,n,r)},this.statsFilter.onSelectedLocalCandidateChanged=(t,n)=>{var r;(r=this.onSelectedLocalCandidateChanged)===null||r===void 0||r.call(this,t,n)},this.statsFilter.onSelectedRemoteCandidateChanged=(t,n)=>{var r;(r=this.onSelectedRemoteCandidateChanged)===null||r===void 0||r.call(this,t,n)},this.statsFilter.onFirstVideoDecodedTimeout=t=>{var n;(n=this.onFirstVideoDecodedTimeout)===null||n===void 0||n.call(this,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(t,n){if(t.length===n.length)for(let l=0;l<t.length;l++){var r,s,o,a,d;const E=t[l],g=n[l];if(g instanceof Qt&&!ge(r=g._hints).call(r,Bt.LOW_STREAM)&&(s=g._encoderConfig)!==null&&s!==void 0&&s.bitrateMax&&((o=g._encoderConfig)===null||o===void 0?void 0:o.bitrateMax)>200&&(a=g._scalabilityMode)!==null&&a!==void 0&&a.numSpatialLayers&&((d=g._scalabilityMode)===null||d===void 0?void 0:d.numSpatialLayers)>1&&this.store.codec==="vp8"){const f={},C={high:1e3*(g._encoderConfig.bitrateMax-50),medium:5e4};f.encodings=[{rid:"m",active:!0,maxBitrate:C.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:C.high}];const T=E.sender.getParameters();await E.sender.setParameters(Object.assign(T,f))}}}async applySimulcastEncodings(t,n){if(!Gt()&&t.length===n.length)for(let r=0;r<t.length;r++){const s=n[r];if(s instanceof Qt&&this.isVP8Simulcast(s)){const o=t[r],a={},d={high:1e3*(s._encoderConfig.bitrateMax-50),medium:5e4};a.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:d.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:d.medium,scaleResolutionDownBy:4}];const l=o.sender.getParameters();await o.sender.setParameters(Object.assign(l,a))}}}isVP8Simulcast(t){var n,r,s,o,a;return!!(t instanceof Qt&&L("SIMULCAST")&&this.store.codec==="vp8"&&!ge(n=t._hints).call(n,Bt.LOW_STREAM)&&(r=t._encoderConfig)!==null&&r!==void 0&&r.bitrateMax&&((s=t._encoderConfig)===null||s===void 0?void 0:s.bitrateMax)>200&&(o=t._scalabilityMode)!==null&&o!==void 0&&o.numSpatialLayers&&((a=t._scalabilityMode)===null||a===void 0?void 0:a.numSpatialLayers)>1)}logSDPExchange(t,n,r,s){if(L("SDP_LOGGING"))return M.upload("[".concat(this.store.clientId,"] exchanging ").concat(r," ").concat(n," SDP during P2PConnection.").concat(s,`
`),t),n==="offer"?o=>{this.logSDPExchange(o,"answer",r==="local"?"remote":"local",s)}:void 0}async muteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const n=this.peerConnection.getTransceivers().filter(a=>a.mid&&t.indexOf(a.mid)!==-1);if(n.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");n.map(a=>{a.direction="inactive"});const r=await this.peerConnection.createOffer(),s=this.logSDPExchange(r.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(r),this.remoteSDP.muteRemote(t);const o=this.remoteSDP.toString();s==null||s(o),await this.setRemoteDescription({type:"answer",sdp:o})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(n.toString()))}}async unmuteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const n=this.peerConnection.getTransceivers().filter(a=>a.mid&&t.indexOf(a.mid)!==-1);if(n.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");n.map(async a=>{a.direction="sendonly"});const r=await this.peerConnection.createOffer(),s=this.logSDPExchange(r.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(r),this.remoteSDP.unmuteRemote(t);const o=this.remoteSDP.toString();s==null||s(o),await this.setRemoteDescription({type:"answer",sdp:o})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(n.toString()))}}async getRemoteSSRC(t,n){var r,s;if(n=(r=n)!==null&&r!==void 0?r:(s=this.currentRemoteDescription)===null||s===void 0?void 0:s.sdp){var o;const a=(o=vi.parse(n).mediaDescriptions.find(d=>d.attributes.mid===t))===null||o===void 0?void 0:o.attributes.ssrcs;return a==null?void 0:a[0].ssrcId}}async setRemoteDescription(t){var n;await this.peerConnection.setRemoteDescription(t),ge(n=["connected","completed"]).call(n,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(t,n,r){const s=vi.parse(t),o=s.mediaDescriptions.find(a=>a.attributes.mid===n);return o&&r===Ne.AUDIO&&o.media.mediaType==="audio"&&Ha(o),vi.print(s)}},Se(_t.prototype,"establish",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"establish"),_t.prototype),Se(_t.prototype,"connect",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"connect"),_t.prototype),Se(_t.prototype,"receive",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"receive"),_t.prototype),Se(_t.prototype,"mockReceive",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"mockReceive"),_t.prototype),Se(_t.prototype,"stopReceiving",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"stopReceiving"),_t.prototype),Se(_t.prototype,"restartICE",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"restartICE"),_t.prototype),Se(_t.prototype,"close",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"close"),_t.prototype),Se(_t.prototype,"updateEncoderConfig",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"updateEncoderConfig"),_t.prototype),Se(_t.prototype,"updateSendParameters",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"updateSendParameters"),_t.prototype),Se(_t.prototype,"replaceTrack",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"replaceTrack"),_t.prototype),Se(_t.prototype,"muteLocal",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"muteLocal"),_t.prototype),Se(_t.prototype,"unmuteLocal",[mr],Object.getOwnPropertyDescriptor(_t.prototype,"unmuteLocal"),_t.prototype),_t);function mr(e,t,n){const r=e[t];if(typeof r!="function")throw new Error("Cannot use mutex on object property.");return n.value=async function(){const s=this.mutex,o=await s.lock("From P2PConnection.".concat(t));try{for(var a=arguments.length,d=new Array(a),l=0;l<a;l++)d[l]=arguments[l];return await r.apply(this,d)}finally{o()}},n}function yp(e,t){let n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=Rn(t.width),r.height=Rn(t.height);const s=Rn(t.framerate||15);document.body.append(n),document.body.append(r);let o=e._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();const a=r.getContext("2d");if(!a)throw new X(j.UNEXPECTED_ERROR,"can not get canvas context");const d=ot(),l=r.captureStream(d.supportRequestFrame?0:s).getVideoTracks()[0];l.canvas||(l.canvas=r),r.startCapture=()=>{if(!n)return r.stopCapture&&r.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const g=n.videoWidth,f=n.videoHeight/g,C=r.width*f;Math.abs(C-r.height)>=2&&(M.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(C)),r.height=C)}a.drawImage(n,0,0,r.width,r.height),l.requestFrame&&l.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,n.srcObject=new MediaStream([o]))},r.stopCapture=qg(()=>r.startCapture&&r.startCapture(),s);const E=l.stop;return l.stop=()=>{E.call(l),n&&(n.remove(),n.srcObject=null,n=null),r&&(r.width=0,r.remove(),r.stopCapture&&r.stopCapture(),r.startCapture=void 0,r.stopCapture=void 0,r=null),M.debug("clean low stream renderer")},l}var Yl=function(e){return e[e.HEIGHT=2033]="HEIGHT",e[e.FRAME_RATE=2034]="FRAME_RATE",e[e.WIDTH=2035]="WIDTH",e}(Yl||{}),ai=function(e){return e[e.FRAME_RATE=2002]="FRAME_RATE",e[e.WIDTH=2003]="WIDTH",e[e.HEIGHT=2004]="HEIGHT",e[e.PACKAGE_LOST=2005]="PACKAGE_LOST",e[e.AVG_ENCODE=2007]="AVG_ENCODE",e[e.NACKS=2009]="NACKS",e[e.PLIS=2010]="PLIS",e[e.FIRS=2011]="FIRS",e[e.BITRATE=2012]="BITRATE",e[e.PACKAGE_RATE=2031]="PACKAGE_RATE",e[e.ADAPTATION=2032]="ADAPTATION",e[e.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",e[e.BANDWIDTH=2061]="BANDWIDTH",e[e.RETRANSMIT=2062]="RETRANSMIT",e[e.TARGET_ENCODED=2064]="TARGET_ENCODED",e[e.TRANSMIT=2066]="TRANSMIT",e[e.FREEZE=2082]="FREEZE",e[e.DISABLED=2095]="DISABLED",e[e.PLAYER_STATUS=2128]="PLAYER_STATUS",e[e.QP_SUM=2143]="QP_SUM",e[e.BYTES_RETRANSMIT=2173]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2172]="PACKAGES_RETRANSMIT",e[e.HUGE_FRAME_SENT=2174]="HUGE_FRAME_SENT",e[e.KEY_FRAMES_ENCODED=2207]="KEY_FRAMES_ENCODED",e}(ai||{}),Qo=function(e){return e[e.BITRATE=2069]="BITRATE",e[e.PACKAGE_LOST=2070]="PACKAGE_LOST",e[e.PACKAGE_RATE=2071]="PACKAGE_RATE",e[e.HEIGHT=2073]="HEIGHT",e[e.FRAME_RATE=2075]="FRAME_RATE",e[e.WIDTH=2077]="WIDTH",e}(Qo||{}),Ai=function(e){return e[e.JITTER=-1]="JITTER",e[e.PACKAGE_LOST=2014]="PACKAGE_LOST",e[e.WIDTH=2018]="WIDTH",e[e.HEIGHT=2019]="HEIGHT",e[e.FRAME_RATE=2020]="FRAME_RATE",e[e.JITTER_BUFFER=2023]="JITTER_BUFFER",e[e.CURRENT_DELAY=2024]="CURRENT_DELAY",e[e.NACKS=2026]="NACKS",e[e.PLIS=2027]="PLIS",e[e.FIRS=2028]="FIRS",e[e.BITRATE=2029]="BITRATE",e[e.PACKAGE_RATE=2078]="PACKAGE_RATE",e[e.FREEZE=2084]="FREEZE",e[e.DISABLED=2101]="DISABLED",e[e.PLAYER_STATUS=2129]="PLAYER_STATUS",e[e.QP_SUM=2144]="QP_SUM",e[e.I_FRAME_DELAY=2149]="I_FRAME_DELAY",e[e.FRAMES_DROPPED=2181]="FRAMES_DROPPED",e[e.BYTES_RETRANSMIT=2175]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2176]="PACKAGES_RETRANSMIT",e[e.PACKAGES_DISCARDED=2198]="PACKAGES_DISCARDED",e[e.AVG_DECODE=2200]="AVG_DECODE",e[e.AVG_PROCESSING_DELAY=2202]="AVG_PROCESSING_DELAY",e[e.AVG_ASSEMBLY_TIME=2203]="AVG_ASSEMBLY_TIME",e[e.AVG_INTER_FRAME_DELAY=2204]="AVG_INTER_FRAME_DELAY",e[e.KEY_FRAMES_DECODED=2206]="KEY_FRAMES_DECODED",e}(Ai||{}),bo=function(e){return e[e.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",e[e.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",e[e.FRAME_RATE_OUTPUT=2155]="FRAME_RATE_OUTPUT",e[e.FREEZE_TIME=2109]="FREEZE_TIME",e[e.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER",e[e.FREEZE_DURATION=2156]="FREEZE_DURATION",e}(bo||{}),lB=function(e){return e[e.PCM_LEVEL=2104]="PCM_LEVEL",e}(lB||{}),Dr=function(e){return e[e.PACKAGE_LOST=-1]="PACKAGE_LOST",e[e.LEVEL=2038]="LEVEL",e[e.BITRATE=2039]="BITRATE",e[e.PACKAGE_RATE=2040]="PACKAGE_RATE",e[e.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",e[e.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",e[e.FREEZE=2081]="FREEZE",e[e.DISABLED=2096]="DISABLED",e[e.BYTES_RETRANSMIT=2179]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2180]="PACKAGES_RETRANSMIT",e}(Dr||{}),ln=function(e){return e[e.BITRATE=2044]="BITRATE",e[e.PACKAGE_LOST=2045]="PACKAGE_LOST",e[e.PACKAGE_RATE=2046]="PACKAGE_RATE",e[e.CURRENT_DELAY=2047]="CURRENT_DELAY",e[e.JITTER_BUFFER=2054]="JITTER_BUFFER",e[e.JITTER=2055]="JITTER",e[e.FREEZE=2083]="FREEZE",e[e.DISABLED=2102]="DISABLED",e[e.PCM_LEVEL=2105]="PCM_LEVEL",e[e.PLAYER_STATUS=2130]="PLAYER_STATUS",e[e.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES",e[e.BYTES_RETRANSMIT=2178]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2177]="PACKAGES_RETRANSMIT",e[e.PACKAGES_DISCARDED=2199]="PACKAGES_DISCARDED",e[e.AVG_PROCESSING_DELAY=2201]="AVG_PROCESSING_DELAY",e}(ln||{}),hB=function(e){return e[e.FREEZE_TIME=-1]="FREEZE_TIME",e[e.LEVEL=2043]="LEVEL",e}(hB||{}),Nn=function(e){return e[e.RTT=2006]="RTT",e[e.CONN_TYPE=801]="CONN_TYPE",e[e.STATS_UPDATE_INTERVAL=2205]="STATS_UPDATE_INTERVAL",e}(Nn||{});const Rs=1e3,Do=3;function Oe(e,t,n){n!=null&&Number.isFinite(n)&&(e[t]=Math.round(Math.max(0,n)))}function uB(e){const t={[Nn.CONN_TYPE]:0,[Nn.RTT]:e.rtt,[Nn.STATS_UPDATE_INTERVAL]:e.updateInterval?Math.round(Math.max(0,e.updateInterval)):void 0};switch(e.selectedCandidatePair.localCandidate.candidateType){case"relay":{const n=e.selectedCandidatePair.localCandidate.relayProtocol;n==="udp"&&(t[Nn.CONN_TYPE]=1),n==="tcp"&&(t[Nn.CONN_TYPE]=3),n==="tls"&&(t[Nn.CONN_TYPE]=4);break}case"srflx":t[Nn.CONN_TYPE]=2}return t}function EB(e){let t=0;switch(e){case"none":t=0;break;case"cpu":t=1;break;case"bandwidth":t=2;break;case"other":t=3}return t}class gB extends Vt{constructor(t){super(),F(this,"store",void 0),F(this,"uploadWRTCStatsTimer",void 0),F(this,"uploadOutboundDenoiserStatsTimer",void 0),F(this,"uploadExtStatsTimer",void 0),F(this,"uploadExtUsageStatsTimer",void 0),F(this,"uploadInboundExtStatsTimer",void 0),F(this,"requestStats",void 0),F(this,"requestTransportStats",void 0),F(this,"requestLocalMedia",void 0),F(this,"requestRemoteMedia",void 0),F(this,"requestAllTracks",void 0),F(this,"requestVideoIsReady",void 0),F(this,"requestUploadStats",void 0),F(this,"requestUpload",void 0),F(this,"uploadOutboundStarted",!1),F(this,"uploadInboundStarted",!1),F(this,"uploadTransportStarted",!1),F(this,"uploadExtensionUsageStarted",!1),F(this,"lastRecvStats",void 0),F(this,"lastSendStats",void 0),F(this,"lastFullRecvStats",void 0),F(this,"lastFullSendStats",void 0),F(this,"needUploadRenderFreezeTime",!0),this.store=t}uploadWRTCStats(t){if(!this.requestStats||!this.requestUploadStats)return;let n,r;if(this.uploadTransportStarted&&(n=this.requestStats(),this.store.useP2P&&(r=this.requestStats(!0))),!n&&this.uploadOutboundStarted&&(n=this.requestStats()),!r&&this.uploadInboundStarted&&(r=this.requestStats(!0)),n||r){const s={};if(this.uploadTransportStarted&&n){const o=this.getTransportStats(n,r,t);o&&(s.misc=[o])}if(this.uploadOutboundStarted&&n){const o=this.getOutboundStats(n,t?this.lastSendStats:this.lastFullSendStats,t);o&&(s.outbound=[o])}if(this.uploadInboundStarted&&r){const o=this.getInboundStats(r,t?this.lastRecvStats:this.lastFullRecvStats,t);o&&(s.inbound=o)}this.requestUploadStats(s)}this.lastRecvStats=r,this.lastSendStats=n,t||(this.lastFullRecvStats=r,this.lastFullSendStats=n)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let t=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(t!==Do),++t===Do+1&&(t=1)},Rs)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(t,n,r){if(!this.requestStats)return;if(r)return t.rtt==null?void 0:{addition:{[Nn.RTT]:t.rtt,[Nn.CONN_TYPE]:void 0,[Nn.STATS_UPDATE_INTERVAL]:t.updateInterval||void 0}};const s=uB(t);if(this.store.useP2P){if(n){const o=uB(n);s[Nn.CONN_TYPE]+=o[Nn.CONN_TYPE]<<3}s[Nn.CONN_TYPE]+=110}else s[Nn.CONN_TYPE]+=100;return{addition:s}}getOutboundStats(t,n,r){if(!this.requestUploadStats||!this.requestLocalMedia)return;const s=this.requestLocalMedia();if(!s||s.length===0)return;let o,a,d;return s.forEach(l=>{let[E,{track:g,ssrcs:f}]=l;switch(E){case se.LocalVideoLowTrack:case se.LocalVideoTrack:if(E===se.LocalVideoTrack){const C=function(U,_,b,Y,G){const W=_.videoSend.find(ye=>ye.ssrc===U);if(!W)return;const J={},{sentFrame:K,inputFrame:ne}=W;if(ne&&K){const ye=ne.frameRate,Xe=K.frameRate;J[ai.FREEZE]=function(lt,vt){let di=!0;return di=!(lt<=5)&&(lt<=10?vt<3:lt<=20?vt<4:vt<5),di}(ye,Xe)?1:0}if(Oe(J,ai.QP_SUM,W.qpSumPerFrame),G)return J;switch(K&&(Oe(J,ai.HEIGHT,K.height),Oe(J,ai.WIDTH,K.width),Oe(J,ai.FRAME_RATE,K.frameRate)),J[ai.DISABLED]=Y._originMediaStreamTrack&&!Y._originMediaStreamTrack.enabled||Y._mediaStreamTrack&&!Y._mediaStreamTrack.enabled?1:0,W.adaptionChangeReason){case"none":J[ai.ADAPTATION]=0;break;case"cpu":J[ai.ADAPTATION]=1;break;case"bandwidth":J[ai.ADAPTATION]=2;break;case"other":J[ai.ADAPTATION]=3}let le=0;W.adaptionChangeReason&&(le+=EB(W.adaptionChangeReason)),_.qualityLimitationReason&&(le+=EB(_.qualityLimitationReason)<<3),J[ai.ADAPTATION]=le,J[ai.PLAYER_STATUS]=Xg[Y._player?Y._player.videoElementStatus:"uninit"],Oe(J,ai.NACKS,W.nacksCount),Oe(J,ai.PLIS,W.plisCount),Oe(J,ai.FIRS,W.firsCount),Oe(J,ai.AVG_ENCODE,W.avgEncodeMs),Oe(J,ai.HUGE_FRAME_SENT,W.hugeFramesSent),Oe(J,ai.BYTES_RETRANSMIT,W.retransmittedBytesSent),Oe(J,ai.PACKAGES_RETRANSMIT,W.retransmittedPacketsSent),Oe(J,ai.KEY_FRAMES_ENCODED,W.keyFramesEncoded);const oe=b&&b.videoSend.find(ye=>ye.ssrc===U);if(oe){let ye=G?Rs:Rs*Do;oe.timestamp&&W.timestamp&&(ye=W.timestamp-oe.timestamp),oe.packets!=null&&W.packets!=null&&Oe(J,ai.PACKAGE_RATE,1e3*(W.packets-oe.packets)/ye),W.packetsLost!=null&&oe.packetsLost!=null&&Oe(J,ai.PACKAGE_LOST,W.packetsLost-oe.packetsLost),oe.bytes!=null&&W.bytes!=null&&Oe(J,ai.BITRATE,8*(W.bytes-oe.bytes)/ye)}return J}(f[0].ssrcId,t,n,g,r),T=r?null:function(U,_,b){const Y=_.videoSend.find(le=>le.ssrc===U);if(!Y)return null;const G={},W=Y.inputFrame,J=W&&W.height||b&&b.videoHeight||0,K=W&&W.width||b&&b.videoWidth||0,ne=W&&W.frameRate||0;return Oe(G,Yl.HEIGHT,J),Oe(G,Yl.WIDTH,K),Oe(G,Yl.FRAME_RATE,ne),G}(f[0].ssrcId,t,g),Q=r?null:function(U){const _={};return Oe(_,ai.RETRANSMIT,U.bitrate.retransmit),Oe(_,ai.TARGET_ENCODED,U.bitrate.targetEncoded),Oe(_,ai.ACTUAL_ENCODED,U.bitrate.actualEncoded),Oe(_,ai.TRANSMIT,U.bitrate.transmit),Oe(_,ai.BANDWIDTH,U.sendBandwidth),_}(t);a=Object.assign({},C,T,Q)}else d=r?void 0:function(C,T,Q){const U=T.videoSend.find(Y=>Y.ssrc===C);if(!U)return;const _={},b=U.sentFrame;if(b&&(Oe(_,Qo.HEIGHT,b.height),Oe(_,Qo.WIDTH,b.width),Oe(_,Qo.FRAME_RATE,b.frameRate)),Q){const Y=Q.videoSend.find(G=>G.ssrc===C);if(Y){let G=Rs*Do;Y.timestamp&&U.timestamp&&(G=U.timestamp-Y.timestamp),Y.packets!=null&&U.packets!=null&&Oe(_,Qo.PACKAGE_RATE,1e3*(U.packets-Y.packets)/G),U.packetsLost!=null&&Y.packetsLost!=null&&Oe(_,Qo.PACKAGE_LOST,U.packetsLost-Y.packetsLost),Y.bytes!=null&&U.bytes!=null&&Oe(_,Qo.BITRATE,8*(U.bytes-Y.bytes)/G)}}return _}(f[0].ssrcId,t,n);break;case se.LocalAudioTrack:o=r?void 0:function(C,T,Q,U){const _=T.audioSend.find(J=>J.ssrc===C);if(!_)return;const b={};b[Dr.DISABLED]=U._originMediaStreamTrack&&!U._originMediaStreamTrack.enabled||U._mediaStreamTrack&&!U._mediaStreamTrack.enabled?1:0;const Y=100*U._source.getAccurateVolumeLevel(),G=_.inputLevel;if(G!=null){const J=Math.ceil(50*Math.log10(100*G+1));Oe(b,Dr.LEVEL,J)}else Oe(b,Dr.LEVEL,Y);Oe(b,lB.PCM_LEVEL,Y),Oe(b,Dr.AEC_RETURN_LOSS,_.aecReturnLoss),Oe(b,Dr.AEC_RETURN_LOSS_ENH,_.aecReturnLossEnhancement),Oe(b,Dr.BYTES_RETRANSMIT,_.retransmittedBytesSent),Oe(b,Dr.PACKAGES_RETRANSMIT,_.retransmittedPacketsSent),b[Dr.FREEZE]=0;const W=Q&&Q.audioSend.find(J=>J.ssrc===C);if(W){let J=Rs*Do;W.timestamp&&_.timestamp&&(J=_.timestamp-W.timestamp),W.bytes!=null&&_.bytes!=null&&Oe(b,Dr.BITRATE,8*(_.bytes-W.bytes)/J),W.packets!=null&&_.packets!=null&&Oe(b,Dr.PACKAGE_RATE,1e3*(_.packets-W.packets)/J)}return b}(f[0].ssrcId,t,n,g)}}),{high:a,low:d,audio:o}}getInboundStats(t,n,r){if(!this.requestRemoteMedia)return;const s=this.requestRemoteMedia()||[],o=[];return s.forEach(a=>{let[d,l]=a;const E={peer:d.uid};if(l.has(Ne.VIDEO)&&d.videoTrack){const g=d._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(d._videoSSRC)||!1,f=d.videoTrack?function(C,T,Q,U,_,b,Y){var G;const W=T.videoRecv.find(Xe=>Xe.ssrc===C);if(!W)return;const J={},{receivedFrame:K,outputFrame:ne,decodeFrameRate:le}=W,oe=Q&&Q.videoRecv.find(Xe=>Xe.ssrc===C);if(J[Ai.FREEZE]=_&&oc.isRemoteVideoFreeze(U,W,oe)?1:0,Oe(J,bo.FRAME_RATE_DECODE,le),Oe(J,Ai.QP_SUM,W.qpSumPerFrame),W.framesRateFirefox&&Oe(J,Ai.FRAME_RATE,W.framesRateFirefox),K&&Oe(J,Ai.FRAME_RATE,K.frameRate),Oe(J,Ai.FRAMES_DROPPED,W.framesDroppedCount),Oe(J,Ai.BYTES_RETRANSMIT,W.retransmittedBytesReceived),Oe(J,Ai.PACKAGES_RETRANSMIT,W.retransmittedPacketsReceived),Oe(J,Ai.PACKAGES_DISCARDED,W.packetsDiscarded),Oe(J,Ai.AVG_DECODE,W.avgDecodeMs),Oe(J,Ai.AVG_PROCESSING_DELAY,W.avgProcessingDelayMs),Oe(J,Ai.AVG_ASSEMBLY_TIME,W.avgFramesAssembledFromMultiplePacketsMs),Oe(J,Ai.AVG_INTER_FRAME_DELAY,W.avgInterFrameDelayMs),Oe(J,Ai.KEY_FRAMES_DECODED,W.keyFramesDecoded),oe){const Xe=T.timestamp-Q.timestamp||(Y?Rs:Do*Rs);W.packetsLost!=null&&oe.packetsLost!=null&&Oe(J,Ai.PACKAGE_LOST,W.packetsLost-oe.packetsLost),oe.bytes!=null&&W.bytes!=null&&Oe(J,Ai.BITRATE,8*(W.bytes-oe.bytes)/Xe),oe.packets!=null&&W.packets!=null&&Oe(J,Ai.PACKAGE_RATE,1e3*(W.packets-oe.packets)/Xe)}if(Y)return J;K?(Oe(J,Ai.HEIGHT,K.height),Oe(J,Ai.WIDTH,K.width)):U&&(Oe(J,Ai.HEIGHT,U._videoHeight||0),Oe(J,Ai.WIDTH,U._videoWidth||0)),ne&&Oe(J,bo.FRAME_RATE_OUTPUT,ne.frameRate);const ye=(G=U._player)===null||G===void 0?void 0:G.rendFrameRate.toFixed(0);if(ye&&Oe(J,bo.FRAME_RATE_RENDER,+ye),Oe(J,Ai.JITTER_BUFFER,W.jitterBufferMs),Oe(J,Ai.CURRENT_DELAY,W.currentDelayMs),Oe(J,Ai.FIRS,W.firsCount),Oe(J,Ai.NACKS,W.nacksCount),Oe(J,Ai.PLIS,W.plisCount),U){J[Ai.DISABLED]=U._originMediaStreamTrack.enabled&&U._mediaStreamTrack.enabled?0:1;const Xe=U._player;if(Xe){const{freezeTimeCounterList:lt,renderFreezeAccTime:vt,videoElementStatus:di}=Xe;if(lt&&lt.length>0&&Oe(J,bo.FREEZE_TIME,lt.splice(0,1)[0]),b&&Cs.visibility==="visible"&&di===xi.PLAYING&&ot().supportRequestVideoFrameCallback){const Ot=Math.min(6e3,vt);Xe.renderFreezeAccTime=Math.max(0,vt-Ot),Oe(J,bo.FREEZE_TIME_RENDER,Ot)}if(typeof W.totalFreezesDuration=="number"){const Ot=oe&&oe.totalFreezesDuration?W.totalFreezesDuration-oe.totalFreezesDuration:W.totalFreezesDuration;Oe(J,bo.FREEZE_DURATION,1e3*Ot)}}}if(J[Ai.PLAYER_STATUS]=Xg[U._player?U._player.videoElementStatus:"uninit"],oe&&W.totalInterFrameDelay!==void 0&&W.totalSquaredInterFrameDelay!==void 0&&oe.totalInterFrameDelay!==void 0&&oe.totalSquaredInterFrameDelay!==void 0){const Xe=W.totalInterFrameDelay-oe.totalInterFrameDelay,lt=W.totalSquaredInterFrameDelay-oe.totalSquaredInterFrameDelay,vt=W.framesDecodeCount-oe.framesDecodeCount,di=Xe/vt*1e3,Ot=Math.round(1e3*Math.sqrt((lt-Math.pow(Xe,2)/vt)/vt));!isNaN(Ot)&&di+Ot>Math.max(3*di,di+150)&&(J[Ai.I_FRAME_DELAY]=Ot)}return J}(d._videoSSRC,t,n,d.videoTrack,g===!0,this.needUploadRenderFreezeTime,r):void 0;f&&(E.video=f)}if(l.has(Ne.AUDIO)&&d.audioTrack){const g=d.audioTrack?function(f,C,T,Q,U){const _=C.audioRecv.find(oe=>oe.ssrc===f);if(!_)return;const b={},Y=T&&T.audioRecv.find(oe=>oe.ssrc===f),{receivedFrames:G,droppedFrames:W}=_;var J,K;if(Oe(b,ln.JITTER,_.jitterMs),Oe(b,ln.BYTES_RETRANSMIT,_.retransmittedBytesReceived),Oe(b,ln.PACKAGES_RETRANSMIT,_.retransmittedPacketsReceived),Oe(b,ln.PACKAGES_DISCARDED,_.packetsDiscarded),Oe(b,ln.AVG_PROCESSING_DELAY,_.avgProcessingDelayMs),G!=null&&W!=null&&(b[ln.FREEZE]=(K=W,(J=G)===0||100*K/J>20?1:0)),Y){const oe=C.timestamp-T.timestamp||(U?Rs:Rs*Do);_.packets!=null&&Y.packets!=null&&Oe(b,ln.PACKAGE_RATE,1e3*(_.packets-Y.packets)/oe),Y.bytes!=null&&_.bytes!=null&&Oe(b,ln.BITRATE,8*(_.bytes-Y.bytes)/oe),_.packetsLost!=null&&Y.packetsLost!=null&&Oe(b,ln.PACKAGE_LOST,_.packetsLost-Y.packetsLost)}if(U)return b;const ne=100*Q._source.getAccurateVolumeLevel(),le=_.outputLevel;if(le!=null){const oe=Math.ceil(50*Math.log10(100*le+1));Oe(b,hB.LEVEL,oe)}if(Oe(b,ln.PCM_LEVEL,ne),Q&&(b[ln.DISABLED]=Q._originMediaStreamTrack.enabled&&Q._mediaStreamTrack.enabled?0:1),Oe(b,ln.JITTER_BUFFER,_.jitterBufferMs),Oe(b,ln.CURRENT_DELAY,_.jitterBufferMs),b[ln.PLAYER_STATUS]=Xg[on.getPlayerState(Q.getTrackId())],Y){const oe=_.concealedSamples-Y.concealedSamples;oe>0&&Oe(b,ln.CONCEALED_SAMPLES,oe)}return b}(d._audioSSRC,t,n,d.audioTrack,r):void 0;g&&(E.audio=g)}(E.video||E.audio)&&o.push(E)}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,o}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;const t=(this.requestAllTracks()||[]).find(n=>n instanceof Nl);if(t&&t._external.getDenoiserStats){const n=t._external.getDenoiserStats();n&&this.requestUpload(GA.DENOISER_STATS,n)}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach(t=>{t.getProcessorStats().forEach(n=>{this.requestUpload&&this.requestUpload(n.type,n.stats)})})},2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach(t=>{let[n,r]=t;r.has(Ne.VIDEO)&&n.videoTrack&&n.videoTrack.getProcessorStats().forEach(s=>{this.requestUpload&&this.requestUpload(s.type,s.stats)}),r.has(Ne.AUDIO)&&n.audioTrack&&n.audioTrack.getProcessorStats().forEach(s=>{this.requestUpload&&this.requestUpload(s.type,s.stats)})})},2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const t=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{const n=Date.now(),r={connectionInterval:L("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:n};let s=[];const o=this.requestAllTracks&&this.requestAllTracks()||[];for(const E of o)!E.muted&&E.enabled&&(s=s.concat(await E.getProcessorUsage()));const a=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[E,g]of a)g.has(Ne.VIDEO)&&E.videoTrack&&(s=s.concat(await E.videoTrack.getProcessorUsage())),g.has(Ne.AUDIO)&&E.audioTrack&&(s=s.concat(await E.audioTrack.getProcessorUsage()));if(s.length===0)return;r.details=function(E,g){const f={};for(const{id:U,value:_,level:b,direction:Y}of E){var C;const G=(C=g.get(U))!==null&&C!==void 0?C:0,W=_===2?G+L("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:G;var T,Q;g.set(U,W),f[U]?(_===2&&(f[U].value=_),b>f[U].level&&(f[U].level=b),Y==="remote"&&(f[U].remoteUidCount+=1),f[U].totalTs=(T=g.get(U))!==null&&T!==void 0?T:0):f[U]={value:_,level:b,remoteUidCount:Y==="local"?0:1,totalTs:(Q=g.get(U))!==null&&Q!==void 0?Q:0}}return Object.keys(f).map(U=>{const{level:_,value:b,totalTs:Y}=f[U];return{id:U,level:_,value:b,totalTs:Y}})}(s,t);const d=Date.now(),l=d>n?d:n+1;this.requestUpload&&this.requestUpload(GA.EXTENSION_USAGE_STATS,{usageStats:r,sendTs:l})},L("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class Xs{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(t,n){F(this,"uid",void 0),F(this,"_uintid",void 0),F(this,"_trust_in_room_",!0),F(this,"_trust_audio_enabled_state_",!0),F(this,"_trust_video_enabled_state_",!0),F(this,"_trust_audio_mute_state_",!0),F(this,"_trust_video_mute_state_",!0),F(this,"_audio_muted_",!1),F(this,"_video_muted_",!1),F(this,"_audio_enabled_",!0),F(this,"_video_enabled_",!0),F(this,"_audio_added_",!1),F(this,"_video_added_",!1),F(this,"_is_pre_created",!1),F(this,"_video_pre_subscribed",!1),F(this,"_audio_pre_subscribed",!1),F(this,"_trust_video_stream_added_state_",!0),F(this,"_trust_audio_stream_added_state_",!0),F(this,"_audioTrack",void 0),F(this,"_videoTrack",void 0),F(this,"_dataChannels",[]),F(this,"_audioSSRC",void 0),F(this,"_videoSSRC",void 0),F(this,"_audioOrtc",void 0),F(this,"_videoOrtc",void 0),F(this,"_cname",void 0),F(this,"_rtxSsrcId",void 0),F(this,"_videoMid",void 0),F(this,"_audioMid",void 0),this.uid=t,this._uintid=n}}let kr=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({});function bG(e,t){var n;let r;switch(t){case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoTrack:r=ge(n=e._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalVideoLowTrack:r=ut.Low}return r}function wp(e){const t=ot();if(e.some(n=>n._bypassWebAudio))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!t.webAudioMediaStreamDest)throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function Bp(e,t){wp(e);const n=new Ii;return e.forEach(r=>n.addAudioTrack(r)),n}var pB,IB,fB,mB,CB,RB,TB,NB,SB,MB,yB,kt;function wB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let Sn=(pB=Yr(kr.SEND_ONLY),IB=Yr(kr.SEND_ONLY),fB=Yr(),mB=Yr(kr.RECEIVE_ONLY),CB=Yr(kr.RECEIVE_ONLY),RB=Yr(kr.RECEIVE_ONLY),TB=Yr(kr.RECEIVE_ONLY),NB=Yr(kr.RECEIVE_ONLY),SB=Yr(kr.RECEIVE_ONLY),MB=Yr(),yB=Yr(kr.RECEIVE_ONLY),kt=class extends Vt{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(je.StateChange,t,this._state)}constructor(e,t){super(),F(this,"isPlanB",!1),F(this,"store",void 0),F(this,"statsUploader",void 0),F(this,"sendConnection",void 0),F(this,"recvConnection",void 0),F(this,"localTrackMap",new Map),F(this,"remoteUserMap",new Map),F(this,"localDataChannels",[]),F(this,"pendingLocalTracks",[]),F(this,"pendingRemoteTracks",[]),F(this,"statsCollector",void 0),F(this,"dtlsFailedCount",0),F(this,"sendMutex",void 0),F(this,"recvMutex",void 0),F(this,"_state",Et.Disconnected),F(this,"_restartStates",["disconnected","failed"]),F(this,"reconnectInterval",void 0),F(this,"uploadUnplinkStarted",!1),F(this,"uploadDownlinkStarted",!1),F(this,"uplinkStateUploadInterval",void 0),F(this,"downlinkStatsUploadInterval",void 0),F(this,"handleMuteLocalTrack",async(n,r,s)=>{const o=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==Et.Connected)return void s(new $(j.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const l=this.filterTobeMutedTracks(n);if(l.length===0)return void r();const E=l.find(T=>T[0]==="videoLowTrack");E&&E[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(l.map(T=>{let[,{id:Q}]=T;return Q}));let g=!1;var a,d;n.trackMediaType==="video"?g=!((a=this.localTrackMap.get(se.LocalAudioTrack))===null||a===void 0||!a.track._muted):g=((d=this.localTrackMap.get(se.LocalVideoTrack))===null||d===void 0?void 0:d.id)===void 0;const f=this.createMuteMessage(l);await St(this,je.RequestMuteLocal,f);const C=n.trackMediaType==="video"?Ls.MUTE_LOCAL_VIDEO:Ls.MUTE_LOCAL_AUDIO;await St(this,je.RequestP2PMuteLocal,{action:C,message:f,isMuteAll:g}),r()}catch(l){s(l)}finally{o()}}),F(this,"handleUnmuteLocalTrack",async(n,r,s)=>{const o=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==Et.Connected)return void s(new $(j.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const a=this.filterTobeUnmutedTracks(n);if(a.length===0)return void r();await this.sendConnection.unmuteLocal(a.map(E=>{let[,{id:g}]=E;return g}));const d=this.createUnmuteMessage(a),l=n.trackMediaType==="video"?Ls.UNMUTE_LOCAL_VIDEO:Ls.UNMUTE_LOCAL_AUDIO;await St(this,je.RequestP2PMuteLocal,{action:l,message:d}),r()}catch(a){s(a)}finally{o()}}),F(this,"handleUpdateVideoEncoder",async(n,r,s)=>{const o=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const a=this.localTrackMap.get(se.LocalVideoTrack);if(!this.sendConnection||!a||a.track!==n||this.state!==Et.Connected)return void r();const{id:d,track:l}=a;d&&(await this.sendConnection.updateSendParameters(d,l),await this.sendConnection.updateEncoderConfig(d,l),this.emit(je.UpdateVideoEncoder,l)),r()}catch(a){s(a)}finally{o()}}),F(this,"handleUpdateVideoSendParameters",async(n,r,s)=>{const o=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const a=this.localTrackMap.get(se.LocalVideoTrack);if(!this.sendConnection||!a||a.track!==n||this.state!==Et.Connected)return void r();const{id:d,track:l}=a;d&&await this.sendConnection.updateSendParameters(d,l),r()}catch(a){s(a)}finally{o()}}),F(this,"handleReplaceTrack",async(n,r,s,o)=>{let a;M.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(n.getTrackId(),"]")),typeof o=="boolean"&&o||(a=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var d;const E=Array.from(this.localTrackMap.entries()).find(g=>{let[,{track:f}]=g;return n===f});if(!this.sendConnection||!E||E[1].id===void 0||this.state!==Et.Connected)return void r();if(await((d=this.sendConnection)===null||d===void 0?void 0:d.replaceTrack(n,E[1].id)),E[0]===se.LocalVideoTrack&&ot().supportDualStreamEncoding){const g=this.localTrackMap.get(se.LocalVideoLowTrack);if(g){const f=n._mediaStreamTrack.clone();g.track._originMediaStreamTrack.stop(),g.track._mediaStreamTrack=f,g.track._originMediaStreamTrack=f,await new Ie((C,T)=>{this.handleReplaceTrack(g.track,C,T,!0)})}}r()}catch(E){s(E)}finally{var l;(l=a)===null||l===void 0||l()}}),F(this,"handleGetLocalVideoStats",n=>{n(this.statsCollector.getLocalVideoTrackStats())}),F(this,"handleGetLocalAudioStats",n=>{n(this.statsCollector.getLocalAudioTrackStats())}),F(this,"handleGetRemoteVideoStats",n=>this.statsCollector.getRemoteVideoTrackStats(n.uid)[n.uid]),F(this,"handleGetRemoteAudioStats",n=>this.statsCollector.getRemoteAudioTrackStats(n.uid)[n.uid]),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new gB(e),this.bindStatsUploaderEvents(),this.sendMutex=new Oi("P2PChannel2-send-mutex",e.clientId),this.recvMutex=new Oi("P2PChannel2-recv-mutex",e.clientId),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(n=>{n&&(n.iceConnectionState!=="disconnected"&&n.iceConnectionState!=="failed"||this.handleDisconnect(n.direction))})},L("ICE_RESTART_INTERVAL"))}async startP2PConnection(e,t){throw new $(j.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(e){throw new $(j.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(e,t){let n;try{if(t){this.recvConnection&&(M.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new dB(e,this.store,qi.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const r=await this.recvConnection.establish(t);return{iceParameters:r.iceParameters,dtlsParameters:r.dtlsParameters,sdp:r.sdp}}{this.state=Et.New,this.sendConnection&&(M.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new dB(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const r=await this.sendConnection.establish();return{iceParameters:r.iceParameters,dtlsParameters:r.dtlsParameters,sdp:r.sdp}}}finally{n&&n()}}async p2pConnect(e){if(!this.sendConnection)throw new $(j.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Et.Connected}async addRemoteCandidate(e,t){if(t===qi.RECEIVE_ONLY){if(!this.sendConnection)throw new $(j.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new $(j.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,n){var r=this;return Jn(function*(){const s=yield it(r.sendMutex.lock("From P2PChannel.publish"));try{if(!r.sendConnection||r.state!==Et.Connected){r.throwIfTrackTypeNotMatch(e);const E=e.filter(g=>r.pendingLocalTracks.indexOf(g)===-1);return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(E))}r.store.pubId=r.store.pubId+1,Vi.markPublishStart(r.store.clientId,r.store.pubId);const o=r.filterTobePublishedTracks(e,t,n);if(o.length===0)return void(yield it(r.tryToUnmuteAudio(e)));o.forEach(E=>{let{track:g,type:f}=E;const C=Date.now();r.store.publish(g.getTrackId(),f===se.LocalAudioTrack?"audio":"video",C)}),r.bindLocalTrackEvents(o);const a=yield it(r.sendConnection.send(o.map(E=>{let{track:g}=E;return g}),r.store.codec,r.store.audioCodec)),d=(yield it(a.next())).value,l=r.createGatewayPublishMessage(o,d);try{yield l}catch(E){throw a.throw(E),(E==null?void 0:E.code)===j.WS_ABORT&&o.forEach(g=>{let{track:f}=g;r.pendingLocalTracks.indexOf(f)===-1&&r.pendingLocalTracks.push(f)}),r.unbindLocalTrackEvents(o),E}yield it(a.next()),o.forEach(E=>{let{type:g}=E;r.statsCollector.addLocalStats(g)}),r.statsUploader.startUploadOutboundStats(),r.assignLocalTracks(o,d),o.forEach(E=>{let{track:g,type:f}=E;const C=Date.now();r.store.publish(g.getTrackId(),f===se.LocalAudioTrack?"audio":"video",void 0,C)}),r.startUploadUplinkState()}finally{s()}})()}async unpublish(e){if(!this.sendConnection||this.state!==Et.Connected)return void(e.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(s=>!ge(e).call(e,s)));const t=this.filterTobeUnpublishedTracks(e);if(t.length===0)return;const n=t.find(s=>s[0]==="videoLowTrack");n&&n[1].track.close();const r=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map(s=>{let[,{id:o}]=s;return o})),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map(s=>{let[o,{track:a}]=s;return{type:o,track:a}})),t.forEach(s=>{let[o]=s;this.statsCollector.removeLocalStats(o)}),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Et.Connected)return n&&n[1].track.close(),r;e.forEach(s=>{const o=this.pendingLocalTracks.indexOf(s);o!==-1&&this.pendingLocalTracks.splice(o,1)})}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const t=[],n=[];Array.from(this.localTrackMap.entries()).forEach(r=>{let[s,{track:o,ssrcs:a}]=r;const d={stream_type:bG(o,s),ssrcs:a};o._muted||!o._enabled?t.push(d):n.push(d)}),t.length>0&&t.forEach(r=>{St(this,je.RequestMuteLocal,[r])}),n.length>0&&n.forEach(r=>{St(this,je.RequestUnmuteLocal,[r])})};e(),this.uplinkStateUploadInterval=window.setInterval(()=>{e()},3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return Jn(function*(){throw new $(j.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")})()}async republish(){this.pendingLocalTracks.length>0&&(M.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await bi(this,je.RequestRePublish,this.pendingLocalTracks),this.emit(je.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new $(j.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(e,t,n,r){var s;if(!this.recvConnection)throw new $(j.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if((s=this.remoteUserMap.get(e))!==null&&s!==void 0&&s.has(t))return;const{track:o,mid:a,transceiver:d}=await this.recvConnection.receive(t,[{ssrcId:n}],String(e.uid),r);t===Ne.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new xa(o,e.uid,e._uintid,this.store),M.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),d&&e._audioTrack._updateRtpTransceiver(d),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new za(o,e.uid,e._uintid,this.store),M.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),d&&e._videoTrack._updateRtpTransceiver(d),this.bindRemoteTrackEvents(e,e._videoTrack));const l=this.remoteUserMap.get(e);l?l.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const E=this.pendingRemoteTracks.findIndex(g=>{let{user:f,kind:C}=g;return f.uid===e.uid&&t===C});E!==-1&&(this.pendingRemoteTracks.splice(E,1),this.emit(je.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,n,r){if(!this.recvConnection)throw new $(j.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(t,[{ssrcId:n}],String(e.uid),r)}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter(o=>{let{user:a,kind:d}=o;return t!==void 0?a.uid===e.uid&&t===d:a.uid===e.uid});if(r.forEach(o=>{const a=this.pendingRemoteTracks.indexOf(o);this.pendingRemoteTracks.splice(a,1)}),this.recvConnection||n||r.forEach(o=>{let{kind:a}=o;var d;if(a===Ne.AUDIO)(d=e._audioTrack)===null||d===void 0||d._destroy(),e._audioTrack=void 0;else if(a===Ne.VIDEO){var l;(l=e._videoTrack)===null||l===void 0||l._destroy(),e._videoTrack=void 0}}),!this.recvConnection)return;const s=this.filterTobeUnSubscribedTracks(e,t);s.length!==0&&(await this.recvConnection.stopReceiving(s.map(o=>{let[,{id:a}]=o;return a})),this.withdrawRemoteTracks(s),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),s.forEach(o=>{let[a,{kind:d}]=o;var l,E;if(d===Ne.VIDEO&&a._videoSSRC&&((l=this.recvConnection)===null||l===void 0||l.setStatsRemoteVideoIsReady(a._videoSSRC,!1)),d===Ne.VIDEO)this.unbindRemoteTrackEvents(a._videoTrack),n||((E=a._videoTrack)===null||E===void 0||E._destroy(),a._videoTrack=void 0);else if(d===Ne.AUDIO){var g;this.unbindRemoteTrackEvents(a._audioTrack),!n&&((g=a._audioTrack)===null||g===void 0||g._destroy(),a._audioTrack=void 0)}}),s.forEach(o=>{let[,{kind:a}]=o;St(this,je.RequestP2PMuteRemote,a)}))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach(t=>{let[,n]=t;[Ne.VIDEO,Ne.AUDIO].forEach(r=>{n.has(r)?St(this,je.RequestP2PUnmuteRemote,r):St(this,je.RequestP2PMuteRemote,r)})});e(),this.downlinkStatsUploadInterval=window.setInterval(()=>{e()},3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new $(j.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(e){throw new $(j.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(e){throw new $(j.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(e){throw new $(j.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);if(!n)return void M.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void M.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const r=t===Ne.VIDEO?e._videoSSRC:e._audioSSRC;r!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);if(!n)return void M.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid,"."));n.get(t)||M.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."))}getAllTracks(e){const t=this.localTrackMap.get(se.LocalAudioTrack);if((t==null?void 0:t.track)instanceof Ii){const n=t.track;return Array.from(this.localTrackMap.entries()).filter(r=>{let[s]=r;return s!==se.LocalAudioTrack}).filter(r=>{let[s]=r;return!(e&&s===se.LocalVideoLowTrack)}).map(r=>{let[,{track:s}]=r;return s}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(n=>{let[r]=n;return!(e&&r===se.LocalVideoLowTrack)}).map(n=>{let[,{track:r}]=n;return r})}reportPublishEvent(e,t,n,r,s){if(e){const a=this.localTrackMap.get(se.LocalAudioTrack),d=r?this.localTrackMap.get(se.LocalVideoLowTrack):this.localTrackMap.get(se.LocalVideoTrack);ve.publish(this.store.sessionId,{eventElapse:Vi.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:a==null?void 0:a.track.getTrackLabel(),videoName:d==null?void 0:d.track.getTrackLabel(),screenshare:(d==null?void 0:d.track._hints.indexOf(Bt.SCREEN_TRACK))!==-1,audio:!!a,video:!!d,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:s})}else{var o;n||(n=[]);const a=n.find(l=>l instanceof Wt),d=r?(o=this.localTrackMap.get(se.LocalVideoTrack))===null||o===void 0?void 0:o.track:n.find(l=>l instanceof Qt);ve.publish(this.store.sessionId,{eventElapse:Vi.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:a==null?void 0:a.getTrackLabel(),videoName:d==null?void 0:d.getTrackLabel(),screenshare:(d==null?void 0:d._hints.indexOf(Bt.SCREEN_TRACK))!==-1,audio:!!a,video:!!d,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:s})}}reportSubscribeEvent(e,t,n,r){const s=r===Ne.VIDEO?n._videoSSRC:n._audioSSRC;s&&ve.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===Ne.VIDEO,audio:r===Ne.AUDIO,peerid:n.uid,subscribeRequestid:r===Ne.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:Vi.measureFromSubscribeStart(this.store.clientId,s)})}reset(){M.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new Oi("P2PChannel2-send-mutex",this.store.clientId),this.sendMutex=new Oi("P2PChannel2-recv-mutex",this.store.clientId),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(se.LocalAudioTrack);if((e==null?void 0:e.track)instanceof Ii){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach(n=>{t.removeAudioTrack(n)})}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Et.Disconnected}getStats(e){var t,n;return e?(n=this.recvConnection)===null||n===void 0?void 0:n.getStats():(t=this.sendConnection)===null||t===void 0?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return((t=this.recvConnection)===null||t===void 0?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(se.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(se.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Qt||t&&t.track instanceof Wt?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(wn(t=this.remoteUserMap).call(t)).find(r=>r.uid===e);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map(n=>{let[r]=n;return{uid:r.uid,level:r.audioTrack?100*r.audioTrack._source.getAccurateVolumeLevel():0}});const t=this.localTrackMap.get(se.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=NA(e).call(e,(n,r)=>n.level-r.level),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(M.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=Et.Reconnecting,L("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&((n=t._videoTrack._player.getVideoElement())===null||n===void 0||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(e=>{var t;let[n,{track:r}]=e;switch(n){case se.LocalVideoTrack:ge(t=r._hints).call(t,Bt.LOW_STREAM)?r.close():this.pendingLocalTracks.push(r);break;case se.LocalAudioTrack:r instanceof Ii?this.pendingLocalTracks=this.pendingLocalTracks.concat(r.trackList):this.pendingLocalTracks.push(r);case se.LocalVideoLowTrack:}}),this.emit(je.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;Array.from(wn(n).call(n)).forEach(r=>{this.setPendingRemoteMedia(t,r)}),this.emit(je.MediaReconnectStart,t.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),M.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:s}=n;if((e instanceof Xs?e.uid:e)===r.uid&&t===s)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let n,r;if(e===qi.SEND_ONLY){if(!this.sendConnection)throw new $(j.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");n=await this.sendMutex.lock("From P2PChannel.restartICE"),r=this.sendConnection}else{if(!this.recvConnection)throw new $(j.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");n=await this.recvMutex.lock("From P2PChannel.restartICE"),r=this.recvConnection}try{if(t){const s=await r.restartICE(t);return r.isInRestartIce=!1,s}{const s=await r.restartICE();if(s){const o=await bi(this,je.RequestP2PRestartICE,{direction:qi.RECEIVE_ONLY,iceParameter:s});await r.restartICE(o),r.isInRestartIce=!1}}}finally{n()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(se.LocalVideoTrack),n=this.localTrackMap.get(se.LocalAudioTrack),r=e.videoSend.find(T=>{var Q;return T.ssrc===(t==null||(Q=t.ssrcs)===null||Q===void 0?void 0:Q[0].ssrcId)}),s=e.audioSend.find(T=>{var Q;return T.ssrc===(n==null||(Q=n.ssrcs)===null||Q===void 0?void 0:Q[0].ssrcId)});if(!r||!s)return 1;const o=Hn(this,je.NeedSignalRTT),a=r?r.rttMs:void 0,d=s?s.rttMs:void 0,l=a&&d?(a+d)/2:a||d,E=(l&&o?(l+o)/2:l||o)||0,g=100*e.sendPacketLossRate*.7/50+.3*E/1500,f=g<.17?1:g<.36?2:g<.59?3:g<.1?4:5,C=t==null?void 0:t.track;if(C&&C._encoderConfig&&C._hints.indexOf(Bt.SCREEN_TRACK)===-1){const T=C._encoderConfig.bitrateMax,Q=e.bitrate.actualEncoded;if(T&&Q){const U=(1e3*T-Q)/(1e3*T);return gS[U<.15?0:U<.3?1:U<.45?2:U<.6?3:4][f]}}return f}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[r]=n;const s=r._audioSSRC,o=r._videoSSRC,a=e.audioRecv.find(Q=>Q.ssrc===s),d=e.videoRecv.find(Q=>Q.ssrc===o);if(!a&&!d)return void(t+=1);const l=Hn(this,je.NeedSignalRTT),E=e.rtt,g=(E&&l?(E+l)/2:E||l)||0,f=a?a.jitterMs:void 0,C=e.recvPacketLossRate;let T=.7*C*100/50+.3*g/1500;f&&(T=.6*C*100/50+.2*g/1500+.2*f/400),t+=T<.1?1:T<.17?2:T<.36?3:T<.59?4:5}),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Ie((t,n)=>{this.handleMuteLocalTrack(e,t,n)})}filterTobePublishedTracks(e,t,n){const r=[],s=ot(),o=this.getAllTracks();e=ma(e=e.filter(l=>o.indexOf(l)===-1));let a=!1,d=!1;for(const l of e){if(l instanceof Qt&&(this.localTrackMap.has(se.LocalVideoTrack)||a?new $(j.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:l,type:se.LocalVideoTrack}),a=!0),t)){const E=this.getLowVideoTrack(l,n);r.push({track:E,type:se.LocalVideoLowTrack})}if(l instanceof Wt){const E=this.localTrackMap.get(se.LocalAudioTrack);if(E){if(!(E.track instanceof Ii))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(l._bypassWebAudio)throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");E.track.addAudioTrack(l),this.bindLocalAudioTrackEvents(l,!0)}else if(d){const g=r.find(f=>{let{type:C}=f;return C===se.LocalAudioTrack});if(!(g.track instanceof Ii))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(l._bypassWebAudio)throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");g.track.addAudioTrack(l)}else{if(!s.webAudioMediaStreamDest||l instanceof Ii||l._bypassWebAudio)r.push({track:l,type:se.LocalAudioTrack});else{const g=new Ii;g.addAudioTrack(l),r.push({track:g,type:se.LocalAudioTrack})}d=!0}}}return r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=ma(e=e.filter(r=>n.indexOf(r)!==-1));for(const r of e){if(r instanceof Wt){const s=this.localTrackMap.get(se.LocalAudioTrack);if(!s)continue;s.track instanceof Ii?(s.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),s.track.trackList.length===0&&(t.push([se.LocalAudioTrack,s]),s.track.close())):t.push([se.LocalAudioTrack,s])}if(r instanceof Qt){const s=this.localTrackMap.get(se.LocalVideoTrack);if(!s)continue;t.push([se.LocalVideoTrack,s]);const o=this.localTrackMap.get(se.LocalVideoLowTrack);o&&t.push([se.LocalVideoLowTrack,o])}}return t}bindLocalTrackEvents(e){e.forEach(t=>{let{track:n,type:r}=t;switch(r){case se.LocalVideoTrack:n.addListener(Te.GET_STATS,this.handleGetLocalVideoStats),n.addListener(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(Te.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.addListener(Te.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.addListener(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.addListener(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case se.LocalAudioTrack:this.bindLocalAudioTrackEvents(n);case se.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(e,t){e instanceof Ii?e.trackList.forEach(n=>{n.addListener(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(Te.GET_STATS,this.handleGetLocalAudioStats),n.addListener(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.addListener(Te.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map(t=>{let[n,{track:r}]=t;return{track:r,type:n}})),e.forEach(t=>{let{track:n,type:r}=t;switch(r){case se.LocalVideoTrack:n.off(Te.GET_STATS,this.handleGetLocalVideoStats),n.off(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.off(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.off(Te.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.off(Te.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.off(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.off(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.off(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case se.LocalAudioTrack:this.unbindLocalAudioTrackEvents(n);case se.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(e){e instanceof Ii?e.trackList.forEach(t=>{t.off(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Te.GET_STATS,this.handleGetLocalAudioStats),t.off(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.off(Te.GET_STATS,this.handleGetLocalAudioStats),e.off(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof za&&t.addListener(Te.GET_STATS,n=>{n(this.handleGetRemoteVideoStats(e))}),t instanceof xa&&t.addListener(Te.GET_STATS,n=>{n(this.handleGetRemoteAudioStats(e))})}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Te.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;n.has(Ne.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(Ne.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)})}createGatewayPublishMessage(e,t){return e.map((n,r)=>{var s;let o,{track:a,type:d}=n;switch(d){case se.LocalAudioTrack:o=ut.Audio;break;case se.LocalVideoTrack:o=ge(s=a._hints).call(s,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalVideoLowTrack:o=ut.Low}return{kind:d===se.LocalAudioTrack?Ne.AUDIO:Ne.VIDEO,stream_type:o,mid:t[r].id,ssrcs:t[r].localSSRC,isMuted:a.muted||!a.enabled}})}createGatewayUnpublishMessage(e){return e.map(t=>{var n;let r,[s,{track:o,ssrcs:a,id:d}]=t;switch(s){case se.LocalVideoTrack:r=ge(n=o._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoLowTrack:r=ut.Low}return{stream_type:r,ssrcs:a,mid:d}})}assignLocalTracks(e,t){e.forEach((n,r)=>{let{track:s,type:o}=n;this.localTrackMap.set(o,{track:s,id:t[r].id,ssrcs:t[r].localSSRC})})}withdrawLocalTracks(e){e.forEach(t=>{let[n]=t;this.localTrackMap.delete(n)})}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var n;M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(e.name,".onConnectionStateChange(").concat(t,")")),this.emit(je.PeerConnectionStateChange,t),t!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),t==="connected"&&(e.isInRestartIce=!1),ge(n=this._restartStates).call(n,t)&&!e.isInRestartIce&&(t==="disconnected"&&await yi(800),e.iceConnectionState!=="disconnected"&&e.iceConnectionState!=="failed"||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=t=>{t!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(t,")")),ve.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:t,tag:zt.TRACER}).onSuccess(),this.emit(je.IceConnectionStateChange,t)},e.onICETransportStateChange=t=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(t,")"))},e.onDTLSTransportStateChange=t=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(t,")"))},e.onDTLSTransportError=t=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(t,")"))},e.onFirstAudioDecoded=t=>{var n;const r=Array.from(wn(n=this.remoteUserMap).call(n)).find(o=>o._audioSSRC===t);var s;r&&(this.store.subscribe(r.uid,"audio",void 0,void 0,void 0,Date.now()),(s=r.audioTrack)===null||s===void 0||s.emit(Oa.FIRST_FRAME_DECODED),ve.firstRemoteFrame(this.store.sessionId,wi.FIRST_AUDIO_DECODE,Lt.FIRST_AUDIO_DECODE,{peer:r._uintid,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=t=>{var n;const r=Array.from(wn(n=this.remoteUserMap).call(n)).find(s=>s._audioSSRC===t);r&&ve.firstRemoteFrame(this.store.sessionId,wi.FIRST_AUDIO_RECEIVED,Lt.FIRST_AUDIO_RECEIVED,{peer:r._uintid,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(t,n,r)=>{this.reportVideoFirstFrameDecoded(t,n,r)},e.onFirstVideoReceived=t=>{var n;const r=Array.from(wn(n=this.remoteUserMap).call(n)).find(s=>s._videoSSRC===t);r&&ve.firstRemoteFrame(this.store.sessionId,wi.FIRST_VIDEO_RECEIVED,Lt.FIRST_VIDEO_RECEIVED,{peer:r._uintid,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(t,n)=>{const r=t.candidateType==="relay",s=n.candidateType==="relay";n.candidateType!=="unknown"&&r===s||this.emit(je.ConnectionTypeChange,r),M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Gs(n))," -> ").concat(JSON.stringify(Gs(t)),")"))},e.onSelectedRemoteCandidateChanged=(t,n)=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Gs(n))," -> ").concat(JSON.stringify(Gs(t)),")"))},e.onFirstVideoDecodedTimeout=t=>{this.reportVideoFirstFrameDecoded(t,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(je.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===qi.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,M.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(t.name,"] start use restartICE")),e===qi.SEND_ONLY?this.restartICE(e):bi(this,je.RequestP2PRestartICE,{direction:qi.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(this.getAllTracks().indexOf(e)===-1)return t;const n=this.localTrackMap.get(se.LocalAudioTrack);if(e instanceof Wt&&(n==null?void 0:n.track)instanceof Ii)return n.track.isActive||t.push([se.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find(s=>{let[,{track:o}]=s;return e===o});if(r&&(t.push(r),r[0]===se.LocalVideoTrack)){const s=this.localTrackMap.get(se.LocalVideoLowTrack);s&&t.push([se.LocalVideoLowTrack,s])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(se.LocalAudioTrack);if(e instanceof Wt&&(n==null?void 0:n.track)instanceof Ii)return n.track.isActive&&t.push([se.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find(s=>{let[,{track:o}]=s;return e===o});if(r)if(r[0]===se.LocalVideoTrack){t.push(r);const s=this.localTrackMap.get(se.LocalVideoLowTrack);s&&t.push([se.LocalVideoLowTrack,s])}else t.push(r);return t}createMuteMessage(e){return e.map(t=>{var n;let r,[s,{track:o,ssrcs:a,id:d}]=t;switch(s){case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoTrack:r=ge(n=o._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalVideoLowTrack:r=ut.Low}return{stream_type:r,ssrcs:a,mid:d}})}createUnmuteMessage(e){return e.map(t=>{var n;let r,[s,{track:o,ssrcs:a,id:d}]=t;switch(s){case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoTrack:r=ge(n=o._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalVideoLowTrack:r=ut.Low}return{stream_type:r,ssrcs:a,mid:d}})}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const s=r.get(t);if(!s)return n;n.push([e,{kind:t,id:s}])}else Array.from(r.entries()).forEach(s=>{let[o,a]=s;n.push([e,{kind:o,id:a}])});return n}createUnsubscribeMessage(e){const t=[];return e.forEach(n=>{let[r,{kind:s,id:o}]=n;switch(s){case Ne.VIDEO:return void(r._videoSSRC&&t.push({stream_type:Ne.VIDEO,ssrcId:r._videoSSRC}));case Ne.AUDIO:return void(r._audioSSRC&&t.push({stream_type:Ne.AUDIO,ssrcId:r._audioSSRC}))}}),t}withdrawRemoteTracks(e){e.forEach(t=>{let[n,{kind:r}]=t;const s=this.remoteUserMap.get(n);s&&(s.delete(r),Array.from(s.entries()).length===0&&this.remoteUserMap.delete(n))})}async updateBitrateLimit(e){const t=this.localTrackMap.get(se.LocalVideoTrack),n=this.localTrackMap.get(se.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return e!=="connected"&&t!=="connected"}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof Wt){const n=this.filterTobeUnmutedTracks(e[t]);if(n.length===0)continue;const r=this.createUnmuteMessage(n);return void await St(this,je.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(e=>{let[,{ssrcs:t}]=e;return!!t}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!((t=this.recvConnection)===null||t===void 0||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(je.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(je.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await yi(ng(this.dtlsFailedCount,hi)),this.emit(je.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(se.LocalVideoTrack)||this.pendingLocalTracks.some(e=>e instanceof Qt)}throwIfTrackTypeNotMatch(e){if(e.filter(t=>t instanceof Qt).length>1)throw new $(j.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter(t=>t instanceof Wt).length>1&&(e.some(t=>t instanceof Wt&&t._bypassWebAudio)||!ot().webAudioMediaStreamDest))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof Qt&&this.pendingLocalTracks.some(n=>n instanceof Qt))throw new $(j.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof Wt&&this.pendingLocalTracks.some(n=>n instanceof Wt)&&(!ot().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some(n=>n instanceof Wt&&n._bypassWebAudio)))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=!L("DISABLE_DUAL_STREAM_USE_ENCODING")&&ot().supportDualStreamEncoding,r=jl(jl({},{width:160,height:120,framerate:15,bitrate:50}),t);let s;s=n?e._mediaStreamTrack.clone():yp(e,r);const o=wt(8,"track-low-"),a=new Qt(s,jl(jl({},n&&{scaleResolutionDownBy:Ng(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,o);return a.on(Bo.TRANSCEIVER_UPDATED,d=>{e._updateRtpTransceiver(d,Ya.LOW_STREAM)}),a._hints.push(Bt.LOW_STREAM),e.addListener(Te.NEED_CLOSE,()=>{a.close()}),a}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(e,t,n,r){var s;const o=Array.from(wn(s=this.remoteUserMap).call(s)).find(a=>a._videoSSRC===e);if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const a=this.store.keyMetrics,d=a.subscribe.find(l=>l.userId===o.uid&&l.type==="video");ve.firstRemoteVideoDecode(this.store.sessionId,wi.FIRST_VIDEO_DECODE,Lt.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:a.requestAPEnd||0,apStart:a.requestAPStart||0,joinGwEnd:a.joinGatewayEnd||0,joinGwStart:a.joinGatewayStart||0,pcEnd:a.peerConnectionEnd||0,pcStart:a.peerConnectionStart||0,subscriberEnd:(d==null?void 0:d.subscribeEnd)||0,subscriberStart:(d==null?void 0:d.subscribeStart)||0,videoAddNotify:(d==null?void 0:d.streamAdded)||0,state:r?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.recvConnection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const s=r.get(t);if(!s)return!1;const o=await this.recvConnection.getRemoteSSRC(s);return o!==void 0&&o!==n}isPreSubScribe(e){return!1}async publishDataChannel(e){throw new $(j.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new $(j.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new $(j.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new $(j.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new $(j.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new $(j.NOT_SUPPORTED)}async preConnect(e){throw new $(j.NOT_SUPPORTED)}getEstablishParams(){throw new $(j.NOT_SUPPORTED)}async reSubscribe(e){throw new $(j.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new $(j.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(e=>{let[t,{track:n}]=e;t===se.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,Ya.LOW_STREAM):n._updateRtpTransceiver(void 0)})}},Se(kt.prototype,"p2pConnect",[pB],Object.getOwnPropertyDescriptor(kt.prototype,"p2pConnect"),kt.prototype),Se(kt.prototype,"unpublish",[IB],Object.getOwnPropertyDescriptor(kt.prototype,"unpublish"),kt.prototype),Se(kt.prototype,"unpublishLowStream",[fB],Object.getOwnPropertyDescriptor(kt.prototype,"unpublishLowStream"),kt.prototype),Se(kt.prototype,"subscribe",[mB],Object.getOwnPropertyDescriptor(kt.prototype,"subscribe"),kt.prototype),Se(kt.prototype,"mockSubscribe",[CB],Object.getOwnPropertyDescriptor(kt.prototype,"mockSubscribe"),kt.prototype),Se(kt.prototype,"unsubscribe",[RB],Object.getOwnPropertyDescriptor(kt.prototype,"unsubscribe"),kt.prototype),Se(kt.prototype,"muteRemote",[TB],Object.getOwnPropertyDescriptor(kt.prototype,"muteRemote"),kt.prototype),Se(kt.prototype,"unmuteRemote",[NB],Object.getOwnPropertyDescriptor(kt.prototype,"unmuteRemote"),kt.prototype),Se(kt.prototype,"hasRemoteMediaWithLock",[SB],Object.getOwnPropertyDescriptor(kt.prototype,"hasRemoteMediaWithLock"),kt.prototype),Se(kt.prototype,"disconnectForReconnect",[MB],Object.getOwnPropertyDescriptor(kt.prototype,"disconnectForReconnect"),kt.prototype),Se(kt.prototype,"remoteMediaSsrcChanged",[yB],Object.getOwnPropertyDescriptor(kt.prototype,"remoteMediaSsrcChanged"),kt.prototype),kt);function Yr(e){return function(t,n,r){const s=t[n];if(typeof s!="function")throw new Error("Cannot use mutex on object property.");return r.value=async function(){for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];switch(e){case kr.SEND_ONLY:{const l=await this.sendMutex.lock("From P2PChannel2.".concat(n));try{return await s.apply(this,a)}finally{l()}}case kr.RECEIVE_ONLY:{const l=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await s.apply(this,a)}finally{l()}}default:{const l=await this.sendMutex.lock("From P2PChannel2.".concat(n)),E=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await s.apply(this,a)}finally{l(),E()}}}},r}}function BB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class oc{constructor(t){F(this,"store",void 0),F(this,"onStatsException",void 0),F(this,"onUploadPublishDuration",void 0),F(this,"onStatsChanged",void 0),F(this,"localStats",new Map),F(this,"remoteStats",new Map),F(this,"updateStatsInterval",void 0),F(this,"trafficStats",void 0),F(this,"trafficStatsPeerList",[]),F(this,"uplinkStats",void 0),F(this,"exceptionMonitor",void 0),F(this,"p2pChannel",void 0),F(this,"scalabilityMode",Eg.L1T1),F(this,"updateStats",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=t,this.exceptionMonitor=new RG,this.exceptionMonitor.on("exception",(n,r,s)=>{this.onStatsException&&this.onStatsException(n,r,s)})}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(se.LocalAudioTrack)||ko({},Hg)}getLocalVideoTrackStats(){return this.localStats.get(se.LocalVideoTrack)||ko({},Zg)}getRemoteAudioTrackStats(t){const n=(o,a)=>{if(!this.trafficStats)return a;const d=this.trafficStats.peer_delay.find(l=>l.peer_uid===o);return d&&(a.publishDuration=d.B_ppad+(Date.now()-this.trafficStats.timestamp)),a},r={};if(t){var s;const o=(s=this.remoteStats.get(t))===null||s===void 0?void 0:s.audioStats;o&&(r[t]=n(t,o))}else Array.from(this.remoteStats.entries()).forEach(o=>{let[a,{audioStats:d}]=o;d&&(r[a]=n(a,d))});return r}getRemoteNetworkQualityStats(t){const n={};if(t){var r;const s=(r=this.remoteStats.get(t))===null||r===void 0?void 0:r.networkStats;s&&(n[t]=s)}else Array.from(this.remoteStats.entries()).forEach(s=>{let[o,{networkStats:a}]=s;a&&(n[o]=a)});return n}getRemoteVideoTrackStats(t){const n=(o,a)=>{if(!this.trafficStats)return a;const d=this.trafficStats.peer_delay.find(l=>l.peer_uid===o);return d&&(a.publishDuration=d.B_ppvd+(Date.now()-this.trafficStats.timestamp)),a},r={};if(t){var s;const o=(s=this.remoteStats.get(t))===null||s===void 0?void 0:s.videoStats;o&&(r[t]=n(t,o))}else Array.from(this.remoteStats.entries()).forEach(o=>{let[a,{videoStats:d}]=o;d&&(r[a]=n(a,d))});return r}getRTCStats(){let t=0,n=0,r=0,s=0;const o=this.localStats.get(se.LocalAudioTrack);o&&(t+=o.sendBytes,n+=o.sendBitrate);const a=this.localStats.get(se.LocalVideoTrack);a&&(t+=a.sendBytes,n+=a.sendBitrate);const d=this.localStats.get(se.LocalVideoLowTrack);d&&(t+=d.sendBytes,n+=d.sendBitrate),this.remoteStats.forEach(E=>{let{audioStats:g,videoStats:f}=E;g&&(r+=g.receiveBytes,s+=g.receiveBitrate),f&&(r+=f.receiveBytes,s+=f.receiveBitrate)});let l=1;return this.trafficStats&&(l+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:l,SendBitrate:n,SendBytes:t,RecvBytes:r,RecvBitrate:s,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(t){this.localStats.set(t,void 0)}removeLocalStats(t){t?this.localStats.delete(t):this.localStats.clear()}addRemoteStats(t){this.remoteStats.set(t,{})}removeRemoteStats(t){t?this.remoteStats.delete(t):this.remoteStats.clear()}addP2PChannel(t){this.p2pChannel=t}updateTrafficStats(t){t.peer_delay=t.peer_delay.filter(n=>n.B_ppad!==void 0||n.B_ppvd!==void 0),t.peer_delay.filter(n=>this.trafficStatsPeerList.indexOf(n.peer_uid)===-1).forEach(n=>{var r;const s=(r=this.p2pChannel)===null||r===void 0?void 0:r.getRemoteMedia(n.peer_uid),o=s!=null&&s.videoSSRC?Vi.measureFromSubscribeStart(this.store.clientId,s.videoSSRC):0,a=s!=null&&s.audioSSRC?Vi.measureFromSubscribeStart(this.store.clientId,s.audioSSRC):0;n.B_ppad!==void 0&&n.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(n.peer_uid,n.B_ppad,n.B_ppvd,o>a?o:a),this.trafficStatsPeerList.push(n.peer_uid))}),this.trafficStats=t}updateUplinkStats(t){this.uplinkStats&&this.uplinkStats.B_fir!==t.B_fir&&M.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(t.B_fir)),this.uplinkStats=t}static isRemoteVideoFreeze(t,n,r){if(!t)return!1;const s=!!r&&n.framesDecodeFreezeTime>r.framesDecodeFreezeTime,o=!r||n.framesDecodeCount>r.framesDecodeCount;return s||!o}static isRemoteAudioFreeze(t){return!!t&&t._isFreeze()}isLocalVideoFreeze(t){return!(!t.inputFrame||!t.sentFrame)&&t.inputFrame.frameRate>5&&t.sentFrame.frameRate<3}updateLocalStats(t){Array.from(this.localStats.entries()).forEach(n=>{let[r,s]=n;switch(r){case se.LocalVideoTrack:case se.LocalVideoLowTrack:{const a=s,d=ko({},Zg),l=t.getStats(),E=t.getLocalMedia(r);if(l){const g=l.videoSend.find(f=>f.ssrc===(E==null?void 0:E.ssrcs[0].ssrcId));if(g){const f=t.getLocalVideoSize(),C=t.getEncoderConfig(se.LocalVideoTrack);g.codec!=="H264"&&g.codec!=="H265"&&g.codec!=="VP8"&&g.codec!=="VP9"&&g.codec!=="AV1X"&&g.codec!=="AV1"||(d.codecType=g.codec),d.sendBytes=g.bytes,d.sendBitrate=a?8*Math.max(0,d.sendBytes-a.sendBytes):0,g.inputFrame?(d.captureFrameRate=g.inputFrame.frameRate,d.captureResolutionHeight=g.inputFrame.height,d.captureResolutionWidth=g.inputFrame.width):f&&(d.captureResolutionWidth=f.width,d.captureResolutionHeight=f.height),g.sentFrame?(d.sendFrameRate=g.sentFrame.frameRate,d.sendResolutionHeight=g.sentFrame.height,d.sendResolutionWidth=g.sentFrame.width):f&&(d.sendResolutionWidth=f.width,d.sendResolutionHeight=f.height),g.avgEncodeMs&&(d.encodeDelay=g.avgEncodeMs),C&&C.bitrateMax&&(d.targetSendBitrate=1e3*C.bitrateMax),d.sendPackets=g.packets,d.sendPacketsLost=g.packetsLost,d.sendJitterMs=g.jitterMs,d.sendRttMs=g.rttMs,d.totalDuration=a?a.totalDuration+1:1,d.totalFreezeTime=a?a.totalFreezeTime:0,this.isLocalVideoFreeze(g)&&(d.totalFreezeTime+=1),g.scalabilityMode&&this.scalabilityMode!==g.scalabilityMode&&(M.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(g.scalabilityMode)),this.scalabilityMode=g.scalabilityMode)}this.trafficStats&&(d.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var o;this.localStats.set(r,d),((a==null?void 0:a.sendResolutionWidth)!==d.sendResolutionWidth||(a==null?void 0:a.sendResolutionHeight)!==d.sendResolutionHeight)&&((o=this.onStatsChanged)===null||o===void 0||o.call(this,"resolution",{width:d.sendResolutionWidth,height:d.sendResolutionHeight})),d&&E&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,E.track,d);break}case se.LocalAudioTrack:{const a=s,d=ko({},Hg),l=t.getStats(),E=t.getLocalMedia(r);if(l){const g=l.audioSend.find(f=>f.ssrc===(E==null?void 0:E.ssrcs[0].ssrcId));if(g){if(g.codec!=="opus"&&g.codec!=="aac"&&g.codec!=="PCMU"&&g.codec!=="PCMA"&&g.codec!=="G722"||(d.codecType=g.codec),g.inputLevel)d.sendVolumeLevel=Math.round(32767*g.inputLevel);else{const f=t.getLocalAudioVolume();f&&(d.sendVolumeLevel=Math.round(32767*f))}d.sendBytes=g.bytes,d.sendPackets=g.packets,d.sendPacketsLost=g.packetsLost,d.sendJitterMs=g.jitterMs,d.sendRttMs=g.rttMs,d.sendBitrate=a?8*Math.max(0,d.sendBytes-a.sendBytes):0}}this.trafficStats&&(d.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(se.LocalAudioTrack,d),d&&E&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,E.track,d);break}}})}updateRemoteStats(t){Array.from(this.remoteStats.entries()).forEach(n=>{var r,s;let[o,{videoStats:a,audioStats:d,videoPcStats:l}]=n;const E=d,g=a,f=l,C=ko({},fM),T=ko({},mM),Q=ko({},q2),{audioTrack:U,videoTrack:_,audioSSRC:b,videoSSRC:Y}=t.getRemoteMedia(o);let G;G=t instanceof Sn?t.getStats(!0):t.getStats();const W=(r=G)===null||r===void 0?void 0:r.audioRecv.find(ne=>ne.ssrc===b),J=(s=G)===null||s===void 0?void 0:s.videoRecv.find(ne=>ne.ssrc===Y),K=this.trafficStats&&this.trafficStats.peer_delay.find(ne=>ne.peer_uid===o);if(W&&(W.codec!=="opus"&&W.codec!=="aac"&&W.codec!=="PCMU"&&W.codec!=="PCMA"&&W.codec!=="G722"||(C.codecType=W.codec),W.outputLevel?C.receiveLevel=Math.round(32767*W.outputLevel):U&&(C.receiveLevel=Math.round(32767*U.getVolumeLevel())),C.receiveBytes=W.bytes,C.receivePackets=W.packets,C.receivePacketsLost=W.packetsLost,C.receivePacketsDiscarded=W.packetsDiscarded,C.packetLossRate=C.receivePacketsLost/(C.receivePackets+C.receivePacketsLost),C.receiveBitrate=E?8*Math.max(0,C.receiveBytes-E.receiveBytes):0,C.totalDuration=E?E.totalDuration+1:1,C.totalFreezeTime=E?E.totalFreezeTime:0,C.freezeRate=C.totalFreezeTime/C.totalDuration,C.receiveDelay=W.jitterBufferMs,C.totalDuration>10&&oc.isRemoteAudioFreeze(U)&&(C.totalFreezeTime+=1)),J){J.codec!=="H264"&&J.codec!=="H265"&&J.codec!=="VP8"&&J.codec!=="VP9"&&J.codec!=="AV1X"&&J.codec!=="AV1"||(T.codecType=J.codec),T.receiveBytes=J.bytes,T.receiveBitrate=g?8*Math.max(0,T.receiveBytes-g.receiveBytes):0,T.decodeFrameRate=J.decodeFrameRate<0?0:J.decodeFrameRate,T.renderFrameRate=J.decodeFrameRate<0?0:J.decodeFrameRate,J.outputFrame&&(T.renderFrameRate=J.outputFrame.frameRate),J.receivedFrame?(T.receiveFrameRate=J.receivedFrame.frameRate,T.receiveResolutionHeight=J.receivedFrame.height,T.receiveResolutionWidth=J.receivedFrame.width):_&&(T.receiveResolutionHeight=_._videoHeight||0,T.receiveResolutionWidth=_._videoWidth||0),J.framesRateFirefox!==void 0&&(T.receiveFrameRate=Math.round(J.framesRateFirefox)),T.receivePackets=J.packets,T.receivePacketsLost=J.packetsLost,T.packetLossRate=T.receivePacketsLost/(T.receivePackets+T.receivePacketsLost),T.totalDuration=g?g.totalDuration+1:1,T.totalFreezeTime=g?g.totalFreezeTime:0,T.receiveDelay=J.jitterBufferMs||0;const ne=!!Y&&t.getRemoteVideoIsReady(Y);_&&ne&&oc.isRemoteVideoFreeze(_,J,f)&&(T.totalFreezeTime+=1),T.freezeRate=T.totalFreezeTime/T.totalDuration}K&&(C.end2EndDelay=K.B_ad,T.end2EndDelay=K.B_vd,C.transportDelay=K.B_ed,T.transportDelay=K.B_ed,C.currentPacketLossRate=K.B_ealr4/100,T.currentPacketLossRate=K.B_evlr4/100,Q.uplinkNetworkQuality=K.B_punq?K.B_punq:0,Q.downlinkNetworkQuality=K.B_pdnq?K.B_pdnq:0),this.remoteStats.set(o,{audioStats:C,videoStats:T,videoPcStats:J,networkStats:Q}),U&&this.exceptionMonitor.setRemoteAudioStats(U,C),_&&this.exceptionMonitor.setRemoteVideoStats(_,T)})}}class UB{constructor(){F(this,"destChannelMediaInfos",new Map),F(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(t){NS(t),this.srcChannelMediaInfo=t}addDestChannelInfo(t){NS(t),this.destChannelMediaInfos.set(t.channelName,t)}removeDestChannelInfo(t){sl(t),this.destChannelMediaInfos.delete(t)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function vB(e){if(!(e instanceof UB))return new X(j.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();if(!t)return new X(j.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw();if(n.size===0)return new X(j.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw()}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function FB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Mt;function QB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let ac=(Mt=class Fc extends yS{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(t=>t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").filter(t=>{var n;return ge(n=Object.keys(il)).call(n,t)}))]}constructor(t,n){super(t,n),F(this,"store",void 0),F(this,"peerConnection",void 0),F(this,"remoteSDP",void 0),F(this,"initialOffer",void 0),F(this,"statsFilter",void 0),F(this,"useRTX",!1),F(this,"localCapabilities",void 0),F(this,"localCandidateCount",0),F(this,"allCandidatesReceived",!1),F(this,"establishPromise",void 0),F(this,"mutex",void 0),this.store=n,this.mutex=new Oi("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(Fc.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=Mp(this.peerConnection,L("STATS_UPDATE_INTERVAL"),void 0,Gt()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const t=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!t.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const n=Ws(t.sdp),r=ec(t.sdp,{filterRTX:!this.useRTX,filterVideoFec:L("FILTER_VIDEO_FEC"),filterAudioFec:L("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=r,this.initialOffer=t,Ol(Ol({},n),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:r},offerSDP:t.sdp})}catch(t){throw new $(j.GET_LOCAL_CONNECTION_PARAMS_FAILED,t.toString())}}async updateRemoteConnect(){}async connect(t){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(r){F(this,"sessionDesc",void 0),F(this,"localCapabilities",void 0),F(this,"rtpCapabilities",void 0),F(this,"candidates",void 0),F(this,"iceParameters",void 0),F(this,"dtlsParameters",void 0),F(this,"setup",void 0),F(this,"currentMidIndex",void 0),F(this,"cname",void 0),r=Xt(r);const{iceParameters:s,dtlsParameters:o,candidates:a,rtpCapabilities:d,setup:l,localCapabilities:E,sdkCodec:g,cname:f}=r,C=vi.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE audio video
a=msid-semantic: WMS
a=ice-lite
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:audio
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:video
`);this.rtpCapabilities=d,this.candidates=a,this.iceParameters=s,this.dtlsParameters=o,this.setup=l,this.localCapabilities=E,this.cname=f;for(let T=0;T<C.mediaDescriptions.length;T++){const Q=C.mediaDescriptions[T];if(Q.attributes.iceUfrag=s.iceUfrag,Q.attributes.icePwd=s.icePwd,Q.attributes.fingerprints=o.fingerprints,Q.attributes.candidates=a,Q.attributes.setup=l,Q.media.mediaType==="video"){Q.media.fmts=d.videoCodecs.map(_=>_.payloadType.toString(10));let U=d.videoCodecs.filter(_=>{var b,Y;return(b=_.rtpMap)===null||b===void 0?void 0:ge(Y=b.encodingName.toLowerCase()).call(Y,g)});U.length===0&&(U=d.videoCodecs),Q.attributes.payloads=U,Q.attributes.extmaps=d.videoExtensions}Q.media.mediaType==="audio"&&(Q.media.fmts=d.audioCodecs.map(U=>U.payloadType.toString(10)),Q.attributes.payloads=d.audioCodecs,Q.attributes.extmaps=d.audioExtensions),C.mediaDescriptions[T]=this.mungMediaDesc(Q)}this.sessionDesc=C,this.currentMidIndex=C.mediaDescriptions.length-1}toString(){return vi.print(this.sessionDesc)}send(r,s,o){const{ssrcs:a,ssrcGroups:d}=Fo(s,this.cname),l=this.sessionDesc.mediaDescriptions.find(f=>r===Ne.VIDEO?f.media.mediaType==="video":f.media.mediaType==="audio"),E=a[0].attributes.label,g=a[0].attributes.mslabel;return l.attributes.ssrcs=l.attributes.ssrcs.concat(a),l.attributes.ssrcGroups=l.attributes.ssrcGroups.concat(d),{id:E,mslabel:g}}batchSend(r){return r.map(s=>{let{kind:o,ssrcMsg:a}=s;return this.send(o,a,void 0)})}stopSending(r){this.sessionDesc.mediaDescriptions.forEach(s=>{const o=[],a=[],d=[];s.attributes.ssrcs.forEach(l=>{ge(r).call(r,l.attributes.label||"")?d.push(l):o.push(l)}),s.attributes.ssrcGroups.forEach(l=>{var E;ge(E=d.map(g=>g.ssrcId)).call(E,l.ssrcIds[0])||a.push(l)}),s.attributes.ssrcs=o,s.attributes.ssrcGroups=a})}mute(r){const s=this.sessionDesc.mediaDescriptions.find(o=>o.attributes.mid===r);if(!s)throw new Error("mediaDescription not found with ".concat(r," in remote SDP when calling RemoteSDP.mute."));s.attributes.direction="inactive"}unmute(r){const s=this.sessionDesc.mediaDescriptions.find(o=>o.attributes.mid===r);if(!s)throw new Error("mediaDescription not found with ".concat(r," in remote SDP when calling RemoteSDP.unmute."));s.attributes.direction="sendonly"}receive(r,s,o){r.forEach((a,d)=>{const l=a._mediaStreamTrack,E=this.sessionDesc.mediaDescriptions.findIndex(f=>f.attributes.mid===l.kind),g=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[E],a);this.sessionDesc.mediaDescriptions[E]=g})}stopReceiving(r){}updateCandidates(r){r===Cn.TCP?this.candidates.forEach(s=>{this.candidates.findIndex(o=>o.transport==="tcp"&&o.connectionAddress===s.connectionAddress&&o.port===s.port)===-1&&this.candidates.push(FB(FB({},s),{},{foundation:"tcpcandidate",priority:Number(s.priority)-1+"",transport:"tcp",port:Number(s.port)+90+""}))}):this.candidates=this.candidates.filter(s=>s.transport!=="tcp");for(const s of this.sessionDesc.mediaDescriptions)s.attributes.candidates=this.candidates}restartICE(r){r=Xt(r),this.iceParameters=r,this.sessionDesc.mediaDescriptions.forEach(s=>{s.attributes.iceUfrag=r.iceUfrag,s.attributes.icePwd=r.icePwd})}predictReceivingMids(r){const s=[];for(let o=0;o<r;o++)s.push((this.currentMidIndex+o+1).toString(10));return s}mungRecvMediaDsec(r,s){const o=Xt(r);return Ja(o,s),dp(o,s),o}updateRecvMedia(r,s){const o=this.sessionDesc.mediaDescriptions.findIndex(a=>a.attributes.mid===r);if(o!==-1){const a=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[o],s);this.sessionDesc.mediaDescriptions[o]=a}}bumpMid(r){this.currentMidIndex+=r}updateTrackLabel(r,s,o){const a=this.sessionDesc.mediaDescriptions.find(l=>r===Ne.VIDEO?l.attributes.mid==="video":l.attributes.mid==="audio");if(a){const l=a.attributes.ssrcs.find(E=>E.attributes.label===s);var d;l&&(l.attributes.label=o,(d=l.attributes.msid)===null||d===void 0||d.replace(s,o))}}mungMediaDesc(r){const s=Xt(r);return cp(s),function(o){const a=o.attributes.extmaps.find(d=>Ul(d.extensionName));a&&o.attributes.extmaps.splice(o.attributes.extmaps.indexOf(a),1),o.attributes.payloads.forEach(d=>{const l=d.rtcpFeedbacks.findIndex(E=>E.type==="transport-cc");l!==-1&&d.rtcpFeedbacks.splice(l,1)})}(s),s}getSSRC(r){for(const s of this.sessionDesc.mediaDescriptions)for(const o of s.attributes.ssrcs)if(o.attributes.label===r)return[o]}}(Ol(Ol({},t),{},{rtpCapabilities:t.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(n.toString()))}}async updateRemoteRTPCapabilities(t,n){throw new $(j.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(t){}send(t,n){var r=this;return Jn(function*(){const s=yield it(r.mutex.lock());try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=t.map(C=>r.peerConnection.addTrack(C._mediaStreamTrack)),a=yield it(r.peerConnection.createOffer()),d=vi.parse(a.sdp),l=t.map(C=>{const T=C._mediaStreamTrack,Q=d.mediaDescriptions.find(U=>U.attributes.mid===T.kind);if(!Q)throw new Error("Cannot extract ssrc from mediaDescription.");return function(U,_,b){const Y=U.attributes.ssrcs.filter(W=>W.attributes.label===_),G=U.attributes.ssrcGroups;if(Y.length===0)throw new Error("Cannot extract ssrc from plan-b SDP.");if(G&&Y.length>1){const W=G.find(J=>J.ssrcIds.indexOf(Y[0].ssrcId)!==-1);return W?[{ssrcId:W.ssrcIds[0],rtx:b?W.ssrcIds[1]:void 0}]:[{ssrcId:Y[0].ssrcId}]}return[{ssrcId:Y[0].ssrcId}]}(Q,T.id,r.useRTX)});let E;try{E=yield l}catch(C){throw o.forEach(T=>{Fi()&&T.replaceTrack(null),r.peerConnection.removeTrack(T)}),C}const g=r.mungSendOfferSDP(a.sdp,t);r.remoteSDP.receive(t,n,E);const f=r.remoteSDP.toString();return yield it(r.peerConnection.setLocalDescription({type:"offer",sdp:g})),yield it(r.applySendEncodings(o,t)),yield it(r.peerConnection.setRemoteDescription({type:"answer",sdp:f})),t.map((C,T)=>{const Q=C._mediaStreamTrack.id;return{localSSRC:l[T],id:Q}})}catch(o){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(o.toString()))}finally{s()}})()}async stopSending(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const n=this.peerConnection.getSenders().filter(o=>{var a;return t.indexOf(((a=o.track)===null||a===void 0?void 0:a.id)||"")!==-1});if(n.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");n.map(o=>{Fi()&&o.replaceTrack(null),this.peerConnection.removeTrack(o)});const r=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(r),this.remoteSDP.stopReceiving(t);const s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:s})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(n.toString()))}}async receive(t,n,r,s){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{id:o,mslabel:a}=this.remoteSDP.send(t,n,s),d=new Ie((g,f)=>{const C=setTimeout(()=>{f(new Error("Cannot receive track, id: ".concat(o)))},1e4),T=Q=>{const U=st();if((U.name==="Safari"&&Number(U.version)===11||Xi())&&Q.track.id!==o&&Q.streams[0].id===a){var _;const b=Q.streams[0].getTracks()[0];return(_=this.remoteSDP)===null||_===void 0||_.updateTrackLabel(t,o,Q.track.id),this.peerConnection.removeEventListener("track",T),clearTimeout(C),void g(b)}if(Q.track.id===o)return this.peerConnection.removeEventListener("track",T),clearTimeout(C),void g(Q.track)};this.peerConnection.addEventListener("track",T)}),l=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:l});const E=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(E),{track:await d,id:o}}catch(o){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(t);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const r=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(r)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(n.toString()))}}async muteRemote(t){}async unmuteRemote(t){}async muteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const n=this.peerConnection.getSenders().filter(r=>{var s;return t.indexOf(((s=r.track)===null||s===void 0?void 0:s.id)||"")!==-1});if(n.length!==t.length)throw new Error("sender' length doesn't match mids' length.");n.map(r=>{if(Fi()&&r.track)r.track.enabled=!1;else{const s=r.getParameters();s.encodings.forEach(o=>o.active=!1),r.setParameters(s)}})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(n.toString()))}}async unmuteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const n=this.peerConnection.getSenders().filter(o=>{var a;return t.indexOf(((a=o.track)===null||a===void 0?void 0:a.id)||"")!==-1});if(n.length!==t.length)throw new Error("Senders' length doesn't match mids' length.");n.map(async o=>{if(Fi()&&o.track)o.track.enabled=!0;else{const a=o.getParameters();a.encodings.forEach(d=>d.active=!0),await o.setParameters(a)}});const r=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(r);const s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:s})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(n.toString()))}}restartICE(t){var n=this;return Jn(function*(){const r=yield it(n.mutex.lock("From P2PConnection.restartICE"));try{if(!n.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(ot().supportPCSetConfiguration){const l=n.peerConnection.getConfiguration(),E=t===Cn.RELAY?"relay":"all";l.iceTransportPolicy!==E&&(M.debug("[".concat(n.store.clientId,"] restartICE change iceTransportPolicy from [").concat(l.iceTransportPolicy,"] to [").concat(E,"]")),l.iceTransportPolicy=E,n.peerConnection.setConfiguration(l))}else if(t===Cn.RELAY)return;t!==Cn.RELAY&&n.remoteSDP.updateCandidates(t);const s=yield it(n.peerConnection.createOffer({iceRestart:!0}));if(!s.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const o=Ws(s.sdp),{remoteIceParameters:a}=yield o.iceParameters;n.remoteSDP.restartICE(a);const d=n.remoteSDP.toString();yield it(n.peerConnection.setLocalDescription(s)),yield it(n.peerConnection.setRemoteDescription({type:"answer",sdp:d}))}catch(s){M.warning("[".concat(n.store.clientId,"] restart ICE failed, abort operation"),s)}finally{r()}})()}close(){var t;this.peerConnection.close(),(t=this.onConnectionStateChange)===null||t===void 0||t.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(t){return this.statsFilter.getVideoIsReady(t)}async updateEncoderConfig(t,n){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const r=await this.peerConnection.createOffer(),s=this.mungSendOfferSDP(r.sdp,[n]);this.remoteSDP.updateRecvMedia(n._mediaStreamTrack.kind,n);const o=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:s}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(r){throw new $(j.EXCHANGE_SDP_FAILED,r.toString())}}async updateSendParameters(t,n){const r=this.peerConnection.getSenders().filter(s=>{var o;return((o=s.track)===null||o===void 0?void 0:o.id)===t});r.length===1&&await this.applySendEncodings(r,[n])}setStatsRemoteVideoIsReady(t,n){this.statsFilter.setVideoIsReady2(t,n)}async replaceTrack(t,n){const r=this.peerConnection.getSenders().find(s=>{var o;return((o=s.track)===null||o===void 0?void 0:o.id)===n});r&&await r.replaceTrack(t._mediaStreamTrack)}createDataChannels(t,n){throw new $(j.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(t){throw new $(j.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var t;(t=this.onICEConnectionStateChange)===null||t===void 0||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var t;(t=this.onConnectionStateChange)===null||t===void 0||t.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=t=>{t.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,M.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,M.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},L("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&t.turnServer.mode!=="off"&&(Xd(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...Fc.turnServerConfigToIceServers(t.turnServer.servers)),L("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...Fc.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(r=>{r.forceturn&&(n.iceTransportPolicy="relay")}))),n}static turnServerConfigToIceServers(t){const n=[];return t.forEach(r=>{r.security?r.tcpport&&n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(r.turnServerURL,":").concat(r.tcpport,"?transport=tcp")}):(r.udpport&&n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(r.turnServerURL,":").concat(r.udpport,"?transport=udp")}),r.tcpport&&n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(r.turnServerURL,":").concat(r.tcpport,"?transport=tcp")}))}),n}async updateRtpSenderEncodings(t,n){var r;if(n||(n=this.peerConnection.getSenders().find(E=>{var g;return((g=E.track)===null||g===void 0?void 0:g.id)===t._mediaStreamTrack.id})),!n)return M.warn("[".concat(t.getTrackId(),"] no rtpSender found}"));if(!ot().supportSetRtpSenderParameters)return M.warn("Browser not support set rtp-sender parameters");const s={},o={};if(t instanceof Qt)switch(t._optimizationMode){case"motion":s.degradationPreference="maintain-framerate";break;case"detail":s.degradationPreference="maintain-resolution";break;default:s.degradationPreference="balanced"}if(L("DSCP_TYPE")&&Ys()){var a;const E=L("DSCP_TYPE");ge(a=["very-low","low","medium","high"]).call(a,E)&&(o.networkPriority=E)}const d=n.getParameters(),l=(r=d.encodings)===null||r===void 0?void 0:r[0];l&&Object.assign(l,o),Object.assign(d,s),M.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(d.encodings))),await n.setParameters(d)}async applySendEncodings(t,n){try{if(!ot().supportSetRtpSenderParameters||t.length!==n.length)return;for(let r=0;r<t.length;r++){const s=t[r],o=n[r];s&&o&&await this.updateRtpSenderEncodings(o,s)}}catch{M.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(t,n){const r=vi.parse(t);return n.forEach((s,o)=>{const a=s._mediaStreamTrack,d=r.mediaDescriptions.find(l=>l.attributes.mid===a.kind);d&&Ja(d,s)}),vi.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=t=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstVideoReceived=t=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstAudioDecoded=t=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstVideoDecoded=(t,n,r)=>{var s;(s=this.onFirstVideoDecoded)===null||s===void 0||s.call(this,t,n,r)},this.statsFilter.onSelectedLocalCandidateChanged=(t,n)=>{var r;(r=this.onSelectedLocalCandidateChanged)===null||r===void 0||r.call(this,t,n)},this.statsFilter.onSelectedRemoteCandidateChanged=(t,n)=>{var r;(r=this.onSelectedRemoteCandidateChanged)===null||r===void 0||r.call(this,t,n)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const n=this.remoteSDP.batchSend(t).map((o,a)=>{let{id:d,mslabel:l}=o;const{kind:E}=t[a];return new Ie((g,f)=>{const C=setTimeout(()=>{f(new Error("Cannot receive track, id: ".concat(d)))},1e4),T=Q=>{const U=st();if(U.name==="Safari"&&Number(U.version)===11&&Q.track.id!==d&&Q.streams[0].id===l){var _;const b=Q.streams[0].getTracks()[0];return(_=this.remoteSDP)===null||_===void 0||_.updateTrackLabel(E,d,Q.track.id),this.peerConnection.removeEventListener("track",T),clearTimeout(C),void g({track:b,id:d})}if(Q.track.id===d)return this.peerConnection.removeEventListener("track",T),clearTimeout(C),void g({track:Q.track,id:d})};this.peerConnection.addEventListener("track",T)})}),r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:r});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),await Ie.all(n)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(n.toString()))}}async getRemoteSSRC(t){if(!this.remoteSDP)return;const n=this.remoteSDP.getSSRC(t);return n==null?void 0:n[0].ssrcId}setConfiguration(t){if(ot().supportPCSetConfiguration){const n=Fc.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}},Se(Mt.prototype,"connect",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"connect"),Mt.prototype),Se(Mt.prototype,"stopSending",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"stopSending"),Mt.prototype),Se(Mt.prototype,"receive",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"receive"),Mt.prototype),Se(Mt.prototype,"stopReceiving",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"stopReceiving"),Mt.prototype),Se(Mt.prototype,"muteRemote",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"muteRemote"),Mt.prototype),Se(Mt.prototype,"unmuteRemote",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"unmuteRemote"),Mt.prototype),Se(Mt.prototype,"muteLocal",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"muteLocal"),Mt.prototype),Se(Mt.prototype,"unmuteLocal",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"unmuteLocal"),Mt.prototype),Se(Mt.prototype,"close",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"close"),Mt.prototype),Se(Mt.prototype,"updateEncoderConfig",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"updateEncoderConfig"),Mt.prototype),Se(Mt.prototype,"updateSendParameters",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"updateSendParameters"),Mt.prototype),Se(Mt.prototype,"replaceTrack",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"replaceTrack"),Mt.prototype),Se(Mt.prototype,"getRemoteSSRC",[$n],Object.getOwnPropertyDescriptor(Mt.prototype,"getRemoteSSRC"),Mt.prototype),Mt);function $n(e,t,n){const r=e[t];if(typeof r!="function")throw new Error("Cannot use mutex on object property.");return n.value=async function(){const s=this.mutex,o=await s.lock("Locking from P2PConnection.".concat(t));try{for(var a=arguments.length,d=new Array(a),l=0;l<a;l++)d[l]=arguments[l];return await r.apply(this,d)}finally{o()}},n}function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Ac="9",DB=4e4;class DG{get localCapabilities(){return Xt(this._localCapabilities)}get rtpCapabilities(){return Xt(this._rtpCapabilities)}get candidates(){return Xt(this._candidates)}get iceParameters(){return Xt(this._iceParameters)}get dtlsParameters(){return Xt(this._dtlsParameters)}constructor(t){F(this,"sessionDesc",void 0),F(this,"_localCapabilities",void 0),F(this,"_rtpCapabilities",void 0),F(this,"_candidates",void 0),F(this,"_iceParameters",void 0),F(this,"_dtlsParameters",void 0),F(this,"setup",void 0),F(this,"currentMidIndex",void 0),F(this,"cname",void 0),F(this,"firefoxSsrcMidMap",new Map),t=Xt(t);const{iceParameters:n,dtlsParameters:r,candidates:s,rtpCapabilities:o,setup:a,localCapabilities:d,cname:l}=t;this._rtpCapabilities=o,this._candidates=s,this._iceParameters=n,this._dtlsParameters=r,this._localCapabilities=d,this.setup=a,this.cname=l,this.sessionDesc=this.updateRemoteRTPCapabilities(o),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(t){const n=this.candidates,r=this.dtlsParameters,s=this.iceParameters,o=this.rtpCapabilities.send;let a=this.sessionDesc.mediaDescriptions.length-1;for(let d=1;d<t;d++){const l=2*d+2e4,E=2*d+DB,{ssrcs:g,ssrcGroups:f}=Fo([{ssrcId:l}],this.cname),{ssrcs:C,ssrcGroups:T}=Fo([{ssrcId:E,rtx:L("USE_SUB_RTX")?E+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:Ac,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.videoCodecs.map(Q=>Q.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:s.iceUfrag,icePwd:s.icePwd,unrecognized:[],candidates:n,extmaps:o.videoExtensions,fingerprints:r.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:C,ssrcGroups:T,rtcpFeedbackWildcards:[],payloads:o.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++a)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:Ac,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.audioCodecs.map(Q=>Q.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:s.iceUfrag,icePwd:s.icePwd,unrecognized:[],candidates:n,extmaps:o.audioExtensions,fingerprints:r.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:g,ssrcGroups:f,rtcpFeedbackWildcards:[],payloads:o.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++a)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return vi.print(this.sessionDesc)}send(t,n,r,s){const{ssrcs:o,ssrcGroups:a}=Fo(n,this.cname,L("SYNC_GROUP")?r:void 0),d=this.findPreloadMediaDesc(o);if(d){if(Gt()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,d.attributes.mid),s&&(s.twcc||s.remb)){const l=this.sessionDesc.mediaDescriptions.indexOf(d);return this.sessionDesc.mediaDescriptions[l]=this.mungSendMediaDesc(d,s),{mid:d.attributes.mid,needExchangeSDP:!0}}return{mid:d.attributes.mid,needExchangeSDP:!1}}{const l=this.findAvailableMediaIndex(t,o);let E;return l===-1||l===1&&(Fi()||function(){const g=st();return!(g.name!==ht.CHROME||!g.osVersion)&&Number(g.version)<=90}())||l===0&&L("USE_SUB_RTX")||jN()?(E=this.createOrRecycleSendMedia(t,o,a,"sendonly",s),this.updateBundleMids()):(E=Xt(this.sessionDesc.mediaDescriptions[l]),E.attributes.direction="sendonly",E.attributes.ssrcs=o,E.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[l]=this.mungSendMediaDesc(E,s)),Gt()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,E.attributes.mid),{mid:E.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:t,needExchangeSDP:n}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:t.attributes.mid,needExchangeSDP:n}}batchSend(t){const n=t.map(o=>{let{kind:a,ssrcMsg:d,mslabel:l}=o;return this.send(a,d,l)}),r=[];let s=!1;return n.forEach(o=>{let{mid:a,needExchangeSDP:d}=o;d&&(s=!0),r.push(a)}),{mids:r,needExchangeSDP:s}}stopSending(t){const n=this.sessionDesc.mediaDescriptions.filter(r=>r.attributes.mid&&t.indexOf(r.attributes.mid)!==-1);if(n.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");n.forEach(r=>{r.attributes.mid==="0"||Gt()||jN()?r.attributes.ssrcs=[]:(r.attributes.ssrcs=[],r.attributes.direction="inactive",r.media.port="0")}),this.updateBundleMids()}mute(t){const n=this.sessionDesc.mediaDescriptions.find(r=>r.attributes.mid===t);if(!n)throw new Error("mediaDescription not found with ".concat(t," in remote SDP when calling RemoteSDP.mute."));n.attributes.direction="inactive"}unmute(t){const n=this.sessionDesc.mediaDescriptions.find(r=>r.attributes.mid===t);if(!n)throw new Error("mediaDescription not found with ".concat(t," in remote SDP when calling RemoteSDP.unmute."));n.attributes.direction="sendonly"}muteRemote(t){const n=this.sessionDesc.mediaDescriptions.filter(r=>ge(t).call(t,r.attributes.mid||""));if(n.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");n.forEach(r=>{r.attributes.direction="inactive"})}unmuteRemote(t){const n=this.sessionDesc.mediaDescriptions.filter(r=>ge(t).call(t,r.attributes.mid||""));if(n.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");n.forEach(r=>{r.attributes.direction="recvonly"})}receive(t,n,r,s){t.forEach((o,a)=>{this.createOrRecycleRecvMedia(o,[],"recvonly",n,r,s[a])}),this.updateBundleMids()}stopReceiving(t){const n=this.sessionDesc.mediaDescriptions.filter(r=>t.indexOf(r.attributes.mid)!==-1);if(n.length!==t.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");n.forEach(r=>{r.media.port="0",r.attributes.direction="inactive"}),this.updateBundleMids()}updateRemoteRTPCapabilities(t){const n=this.sessionDesc||vi.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=ice-lite
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`);this._rtpCapabilities=t;const r=this.rtpCapabilities.send,s=this.localCapabilities.send;for(const o of n.mediaDescriptions){if(o.attributes.iceUfrag=this._iceParameters.iceUfrag,o.attributes.icePwd=this._iceParameters.icePwd,o.attributes.fingerprints=this._dtlsParameters.fingerprints,o.attributes.candidates=this._candidates,o.attributes.setup=this.setup,o.media.mediaType==="application"&&(o.attributes.sctpPort="5000"),o.media.mediaType==="video"){if(r.videoCodecs.length===0){const a=s.videoCodecs.filter(d=>{var l,E;return(l=d.rtpMap)===null||l===void 0?void 0:ge(E=l.encodingName.toLowerCase()).call(E,"vp8")})||[s.videoCodecs[0]];o.media.fmts=a.map(d=>d.payloadType.toString(10)),o.attributes.payloads=a,o.attributes.extmaps=[]}else if(o.media.fmts=r.videoCodecs.map(a=>a.payloadType.toString(10)),o.attributes.payloads=r.videoCodecs,o.attributes.extmaps=r.videoExtensions,L("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:a,ssrcGroups:d}=Fo([{ssrcId:DB,rtx:L("USE_SUB_RTX")?40001:void 0}],this.cname);o.attributes.ssrcs=a,o.attributes.ssrcGroups=d}}if(o.media.mediaType==="audio"){if(r.audioCodecs.length===0){const a=s.audioCodecs.filter(d=>{var l,E;return(l=d.rtpMap)===null||l===void 0?void 0:ge(E=l.encodingName.toLowerCase()).call(E,"opus")})||[s.audioCodecs[0]];o.media.fmts=a.map(d=>d.payloadType.toString(10)),o.attributes.payloads=a,o.attributes.extmaps=[]}else if(o.media.fmts=r.audioCodecs.map(a=>a.payloadType.toString(10)),o.attributes.payloads=r.audioCodecs,o.attributes.extmaps=r.audioExtensions,Ha(o),L("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:a,ssrcGroups:d}=Fo([{ssrcId:2e4}],this.cname);o.attributes.ssrcs=a,o.attributes.ssrcGroups=d}}}return this.sessionDesc=n,this.currentMidIndex=n.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(t){const n=this._candidates.filter(r=>r.transport==="udp");if(t===Cn.TCP){if(n.length===0)return;if(L("TCP_CANDIDATE_ONLY")){const r=this._candidates.filter(s=>s.transport==="tcp");n.forEach(s=>{r.findIndex(o=>o.connectionAddress===s.connectionAddress)===-1&&r.push(Ks(Ks({},s),{},{foundation:"tcpcandidate",priority:Number(s.priority)-1+"",transport:"tcp",port:Number(s.port)+90+""}))}),this._candidates=r}else{const r=[];n.forEach(s=>{r.push(Ks(Ks({},s),{},{foundation:"tcpcandidate",priority:Number(s.priority)-1+"",transport:"tcp",port:Number(s.port)+90+""}))}),this._candidates=[...n,...r]}}else if(t===Cn.RELAY){if(n.length!==0)return;{const r=this._candidates.filter(s=>s.transport==="tcp");r.forEach(s=>{n.push(Ks(Ks({},s),{},{foundation:"udpcandidate",priority:Number(s.priority)+1+"",transport:"udp",port:Number(s.port)-90+""}))}),this._candidates=[...n,...r]}}else n.length===0?(this._candidates.filter(r=>r.transport==="tcp").forEach(r=>{n.push(Ks(Ks({},r),{},{foundation:"udpcandidate",priority:Number(r.priority)+1+"",transport:"udp",port:Number(r.port)-90+""}))}),this._candidates=n):this._candidates=this._candidates.filter(r=>r.transport!=="tcp");for(const r of this.sessionDesc.mediaDescriptions)r.attributes.candidates=this.candidates}restartICE(t){t=Xt(t),this._iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(n=>{n.attributes.iceUfrag=t.iceUfrag,n.attributes.icePwd=t.icePwd})}predictReceivingMids(t){const n=[];for(let r=0;r<t;r++)n.push((this.currentMidIndex+r+1).toString(10));return n}findAvailableMediaIndex(t,n){return this.sessionDesc.mediaDescriptions.findIndex(r=>{const s=r.media.mediaType===t&&r.media.port!=="0"&&(r.attributes.direction==="sendonly"||r.attributes.direction==="sendrecv")&&r.attributes.ssrcs.length===0;if(Gt()){if(s){const o=this.firefoxSsrcMidMap.get(n[0].ssrcId);return!(o||r.attributes.mid!=="0"&&r.attributes.mid!=="1")||!(!o||o!==r.attributes.mid)}return!1}return s})}createOrRecycleDataChannel(){for(const r of this.sessionDesc.mediaDescriptions)if(r.media.mediaType==="application")return{mediaDesc:r,needExchangeSDP:!1};this.currentMidIndex+=1;const t="".concat(this.currentMidIndex),n={media:{mediaType:"application",port:Ac,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(t),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(n),{mediaDesc:n,needExchangeSDP:!0}}createOrRecycleRecvMedia(t,n,r,s,o,a){const d=t._mediaStreamTrack.kind,l=this.rtpCapabilities.recv,E=tc(d,l,this.localCapabilities.send,d===Ne.VIDEO?s:o),g=d===Ne.VIDEO?l.videoExtensions:l.audioExtensions;this.currentMidIndex+=1;const f="".concat(this.currentMidIndex);let C={media:{mediaType:d,port:Ac,protos:["UDP","TLS","RTP","SAVPF"],fmts:E.map(Q=>Q.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:g,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:n,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:E,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(f)}};C=this.mungRecvMediaDsec(C,t,a);const T=this.findFirstClosedMedia(d);if(T){const Q=this.sessionDesc.mediaDescriptions.indexOf(T);this.sessionDesc.mediaDescriptions[Q]=C}else this.sessionDesc.mediaDescriptions.push(C);return C}updateRemoteCodec(t,n,r){const s=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(C=>C.rtpMap&&C.rtpMap.encodingName.toLowerCase()||"").filter(C=>{var T;return ge(T=Object.keys(il)).call(T,C)}))],o=new Set(n);if(s.every(C=>o.has(C)))return M.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(n)),!1;const a=this._rtpCapabilities.recv.videoCodecs.filter(C=>n.some(T=>{var Q;return ge(Q=C.rtpMap&&C.rtpMap.encodingName.toLowerCase()||"").call(Q,T)}));if(a.length===0)return M.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(s," codecs: ").concat(n)),!1;const d=[...new Set(a.map(C=>C.rtpMap&&C.rtpMap.encodingName.toLowerCase()||""))];let l;if(M.debug("updateRemoteCodec, from ".concat(s," to ").concat(d)),t.length===0)l=this.sessionDesc.mediaDescriptions.filter(C=>C.media.mediaType==="video"&&C.attributes.direction==="recvonly");else if(l=this.sessionDesc.mediaDescriptions.filter(C=>C.attributes.mid&&ge(t).call(t,C.attributes.mid)&&C.attributes.direction==="recvonly"),l.length!==t.length)return M.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(t,", codecs: ").concat(n)),!1;if(L("USE_PUB_RTX")||L("USE_SUB_RTX")){const C=lp(a,this.rtpCapabilities.recv.videoCodecs);a.push(...C)}this._rtpCapabilities.recv.videoCodecs=a;const E=this.localCapabilities.send,g=this.rtpCapabilities.recv,f=tc(Ne.VIDEO,g,E,r);return l.forEach(C=>{const T=f.map(Q=>Q.payloadType.toString(10));M.debug("updateRemoteCodec mid: ".concat(C.attributes.mid,", from"),C.attributes.payloads,"to",f),C.attributes.payloads=f,C.media.fmts=T}),!0}createOrRecycleSendMedia(t,n,r,s,o){const a=this.rtpCapabilities.send,d=t===Ne.VIDEO?a.videoCodecs:a.audioCodecs,l=t===Ne.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const E="".concat(this.currentMidIndex);let g={media:{mediaType:t,port:Ac,protos:["UDP","TLS","RTP","SAVPF"],fmts:d.map(C=>C.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:n,ssrcGroups:r,rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:s,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(E)}};g=this.mungSendMediaDesc(g,o);const f=this.findFirstClosedMedia(t);if(f){const C=this.sessionDesc.mediaDescriptions.indexOf(f);this.sessionDesc.mediaDescriptions[C]=g}else this.sessionDesc.mediaDescriptions.push(g);return g}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(t=>t.media.port!=="0").map(t=>t.attributes.mid)}mungRecvMediaDsec(t,n,r){const s=Xt(t);return cp(s),Ja(s,n),dp(s,n),yw(s),vl(s,r,this.localCapabilities.send),s}mungSendMediaDesc(t,n){const r=Xt(t);return vl(r,n,this.localCapabilities.recv),Ha(r),r}updateRecvMedia(t,n){const r=this.sessionDesc.mediaDescriptions.findIndex(s=>s.attributes.mid===t);if(r!==-1){const s=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r],n);this.sessionDesc.mediaDescriptions[r]=s}}bumpMid(t){this.currentMidIndex+=t}findFirstClosedMedia(t){return this.sessionDesc.mediaDescriptions.find(n=>Gt()?n.media.port==="0"&&n.media.mediaType===t:n.media.port==="0")}findPreloadMediaDesc(t){return this.sessionDesc.mediaDescriptions.find(n=>{var r;return((r=n.attributes)===null||r===void 0||(r=r.ssrcs[0])===null||r===void 0?void 0:r.ssrcId)===t[0].ssrcId})}getSSRC(t){var n;return(n=this.sessionDesc.mediaDescriptions.find(r=>r.attributes.mid===t))===null||n===void 0?void 0:n.attributes.ssrcs}}function kB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let cc=function(e){return e.BANDWIDTH="bandwidth",e.CPU="cpu",e.NONE="none",e.OTHER="other",e}({});var qa=function(e){return e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e}(qa||{});const Pl=new Map;function YB(e,t,n,r){let{scale:s}=e;if(s===0&&r===qa.UP||s>=t.length-1&&r===qa.DOWN)return e;let o=Ts(Ts({},e),{},{scale:r===qa.DOWN?++s:--s});switch(n){case"maintain-framerate":o=Ts(Ts({},o),t[s].motion);break;case"maintain-resolution":o=Ts(Ts({},o),t[s].detail);break;case"balanced":o=Ts(Ts({},o),t[s].balanced)}return o}function jB(e,t){if(t){const n={overUse:0,underUse:0,adaptationList:OB(t)};Pl.set(e,n)}else Pl.delete(e)}function OB(e){const t=Ts({},e),{bitrateMax:n,frameRate:r,scaleResolutionDownBy:s,bitrateMin:o}=t,{MIN_FRAME_RATE:a,MAX_THRESHOLD_FRAMERATE:d,MAX_SCALE:l,BITRATE_MIN_THRESHOLD:E,BITRATE_MAX_THRESHOLD:g,BWE_SCALE_UP_THRESHOLD:f,BWE_SCALE_DOWN_THRESHOLD:C,PERF_SCALE_DOWN_THRESHOLD:T,PERF_SCALE_UP_THRESHOLD:Q,BALANCE_BITRATE_FACTOR:U,BALANCE_FRAMERATE_FACTOR:_,BALANCE_RESOLUTION_FACTOR:b,MOTION_RESOLUTION_FACTOR:Y,MOTION_BITRATE_FACTOR:G,DETAIL_FRAMERATE_FACTOR:W,DETAIL_BITRATE_FACTOR:J}=ag,K=Math.min(t.frameRate,d),ne=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(C,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(T,1)*K),fps_up:r},balanced:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:o}}];for(let le=1;le<=l;le++){const oe={bwe_up:Math.round(Math.pow(f,le)*n),bwe_down:Math.round(Math.pow(C,le+1)*n),fps_up:Math.round(Math.pow(Q,le)*K),fps_down:Math.round(Math.pow(T,le+1)*K)},ye={scaleResolutionDownBy:s/Math.pow(b,le),frameRate:Math.max(Math.round(Math.pow(_,le)*r),a),bitrateMax:Math.max(Math.round(Math.pow(U,le)*n),g),bitrateMin:Math.max(Math.round(Math.pow(U,le)*o),E)},Xe={scaleResolutionDownBy:s/Math.pow(Y,le),frameRate:r,bitrateMax:Math.max(Math.round(Math.pow(G,le)*n),g),bitrateMin:Math.max(Math.round(Math.pow(G,le)*o),E)},lt={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(W,le)*r),a),bitrateMax:Math.max(Math.round(Math.pow(J,le)*n),g),bitrateMin:Math.max(Math.round(Math.pow(J,le)*o),E)};ne.push({scale:le,threshold:oe,balanced:ye,motion:Xe,detail:lt})}return ne}function kG(e,t,n,r,s,o){const a=Pl.get(e)||{overUse:0,underUse:0,adaptationList:OB(s)},{adaptationList:d}=a;Pl.set(e,a);const{OVERUSE_TIMES_THRESHOLD:l,UNDERUSE_TIMES_THRESHOLD:E}=ag,{scale:g}=r;let f,C;return typeof t=="number"&&t>0&&function(T,Q,U,_){if(Q>=U.length)return!1;let{threshold:{fps_down:b}}=U[Q];return L("FORCE_AG_HIGH_FRAMERATE")&&_==="maintain-framerate"&&(b=U[0].threshold.fps_down),T<b}(t,g,d,o)&&(a.overUse++,C=cc.CPU,a.overUse>l)||typeof n=="number"&&n>0&&function(T,Q,U){if(Q>=U.length)return!1;const{threshold:{bwe_down:_}}=U[Q];return T<_}(n,g,d)&&(a.overUse++,C=cc.BANDWIDTH,a.overUse>l)?(a.overUse=0,a.underUse=0,f=YB(r,d,o,qa.DOWN),[f,C]):(typeof t=="number"&&t>0&&typeof n=="number"&&n>0&&function(T,Q,U,_){if(Q===0)return;let{threshold:{fps_up:b}}=U[Q];return L("FORCE_AG_HIGH_FRAMERATE")&&_==="maintain-framerate"&&(b=U[1].threshold.fps_up),T>b}(t,g,d,o)&&function(T,Q,U){if(Q===0)return;const{threshold:{bwe_up:_}}=U[Q];return T>_}(n,g,d)&&(a.underUse++,a.underUse>E&&(a.overUse=0,a.underUse=0,f=YB(r,d,o,qa.UP),f.scale===0&&(C=cc.NONE))),[f,C])}function PB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YG(e){var t;return!!L("ENABLE_AG_ADAPTATION")&&!!(e instanceof sp||ge(t=e._hints).call(t,Bt.CUSTOM_TRACK))&&(!!L("FORCE_SUPPORT_AG_ADAPTATION")||!!(function(n){const r=st();if(r.os!==Ri.IOS||!r.osVersion)return!1;const s=r.osVersion.split(".");return Number(s[0])>=n}(14)&&DN(17,4)||bN(14)&&kN(17,4,!0)))}const Vl=new Map;function Ll(e,t){const n=Vl.get(e);if(n){const{timer:r}=n;window.clearTimeout(r),Vl.delete(e)}t.qualityLimitationReason=cc.NONE,jB(e)}var tt;function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let jr=(tt=class Qc extends yS{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var t,n;return(t=(n=this.peerConnection.getReceivers()[0])===null||n===void 0||(n=n.transport)===null||n===void 0?void 0:n.state)!==null&&t!==void 0?t:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(t=>t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").filter(t=>{var n;return ge(n=Object.keys(il)).call(n,t)}))]}constructor(t,n){super(t,n),F(this,"store",void 0),F(this,"peerConnection",void 0),F(this,"id",wt(5,"connection-")),F(this,"remoteSDP",void 0),F(this,"initialOffer",void 0),F(this,"transportEventReceiver",void 0),F(this,"statsFilter",void 0),F(this,"extension",{useXR:L("USE_XR")}),F(this,"localCapabilities",void 0),F(this,"remoteCodecs",void 0),F(this,"localCandidateCount",0),F(this,"allCandidatesReceived",!1),F(this,"isPreallocation",!1),F(this,"preSSRCMap",new Map),F(this,"dataStreamChannelMap",new Map),F(this,"establishPromise",void 0),F(this,"recoveredDataChannelIds",[]),F(this,"currentDataChannelId",1),F(this,"mutex",void 0),F(this,"qualityLimitationReason",cc.NONE),this.store=n,this.mutex=new Oi("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(Qc.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=Mp(this.peerConnection,L("STATS_UPDATE_INTERVAL"),void 0,Gt()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(t){const n=this.preSSRCMap.get(t);if(n!==void 0){const r=this.peerConnection.getTransceivers().find(s=>s.mid===n);if(r)return{transceiver:r,track:r.receiver.track,id:n}}}async updateRemoteRTPCapabilities(t,n){if(this.remoteCodecs=n,!this.remoteSDP)return void M.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(n));if(this.remoteSDP.updateRemoteCodec(t,n,this.store.codec)){const r=await this.peerConnection.createOffer(),s=this.logSDPExchange(r.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(r);const o=this.remoteSDP.toString();s==null||s(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}else M.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.")}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const n=await this.peerConnection.createOffer();if(!n.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const r=Ws(n.sdp),s=await Bw({filterRTX:!L("USE_PUB_RTX")&&!L("USE_SUB_RTX"),filterVideoFec:L("FILTER_VIDEO_FEC"),filterAudioFec:L("FILTER_AUDIO_FEC"),filterVideoCodec:L("FILTER_VIDEO_CODEC")},this.extension);let o;return this.localCapabilities=_l(s),this.initialOffer=n,n.sdp&&Fw(n.sdp)&&(o=Xt(s),(t=o).send&&(Wa(Ne.VIDEO,t.send.videoExtensions),Wa(Ne.AUDIO,t.send.audioExtensions)),t.recv&&(Wa(Ne.VIDEO,t.recv.videoExtensions),Wa(Ne.AUDIO,t.recv.audioExtensions)),t.sendrecv&&(Wa(Ne.VIDEO,t.sendrecv.videoExtensions),Wa(Ne.AUDIO,t.sendrecv.audioExtensions))),ts(ts({},r),{},{rtpCapabilities:o||s,offerSDP:n.sdp})}catch(n){throw new $(j.GET_LOCAL_CONNECTION_PARAMS_FAILED,n.toString())}var t}async connect(t){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.initialOffer.sdp&&Fw(this.initialOffer.sdp)&&(n=t.rtpCapabilities,r=this.localCapabilities,n.send&&(Bl(Ne.VIDEO,n.send.videoExtensions,r.send.videoExtensions),Bl(Ne.AUDIO,n.send.audioExtensions,r.send.audioExtensions)),n.recv&&(Bl(Ne.VIDEO,n.recv.videoExtensions,r.recv.videoExtensions),Bl(Ne.AUDIO,n.recv.audioExtensions,r.recv.audioExtensions))),this.remoteSDP=new DG(ts(ts({},t),{},{localCapabilities:this.localCapabilities})),t.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const s=this.remoteSDP.toString(),o=vw(this.initialOffer.sdp,this.extension),a=this.logSDPExchange(o||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:o}),a==null||a(s),await this.peerConnection.setRemoteDescription({type:"answer",sdp:s});const d=this.peerConnection.getTransceivers()[0];if(d!=null&&d.receiver&&this.tryBindTransportEvents(d.receiver),L("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia(L("PRELOAD_MEDIA_COUNT"));const E=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:E});const g=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(g)}const{preSSRCs:l}=t;if(Array.isArray(l)&&l.length>0){const{mids:E}=this.remoteSDP.batchSend(l.map(g=>({kind:g.kind,ssrcMsg:[{ssrcId:g.ssrcId,rtx:g.rtx}],mslabel:g.mslabel})));E.forEach((g,f)=>{this.preSSRCMap.set(l[f].ssrcId,g)}),await Fl(this.peerConnection,this.remoteSDP,this.extension),M.debug("[".concat(this.store.clientId,"] [P2PConnection] pre-batchReceive exchange SDP."))}}catch(s){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(s.toString()))}var n,r}async updateRemoteConnect(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");const{rtpCapabilities:n}=t;this.remoteSDP.updateRemoteRTPCapabilities(n),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:r}=t;if(Array.isArray(r)&&r.length>0){const{mids:s}=this.remoteSDP.batchSend(r.map(o=>Object.assign({},{kind:o.kind,ssrcMsg:[{ssrcId:o.ssrcId,rtx:o.rtx}],mslabel:o.mslabel})));s.forEach((o,a)=>{this.preSSRCMap.set(r[a].ssrcId,o)})}await Fl(this.peerConnection,this.remoteSDP,this.extension),M.debug("[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.")}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(n.toString()))}}send(t,n,r){var s=this;return Jn(function*(){const o=yield it(s.mutex.lock("From P2PConnection.send"));try{if(!s.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const a=[];t.forEach(U=>{const _=s.peerConnection.addTransceiver(U._mediaStreamTrack,{direction:"sendonly"});a.push(_),U._updateRtpTransceiver(_)}),Gt()&&L("SIMULCAST")===!0&&(yield it(s.applySimulcastForFirefox(a,t)));const d=yield it(s.peerConnection.createOffer()),l=s.remoteSDP.predictReceivingMids(t.length),E=s.mungSendOfferSDP(d.sdp,t,l),g=vi.parse(E),f=l.map(U=>{const _=g.mediaDescriptions.find(b=>b.attributes.mid===U);if(!_)throw new Error("Cannot extract ssrc from mediaDescription.");return Nw(_,L("USE_PUB_RTX"))});let C;try{C=yield f}catch(U){C=[],s.remoteSDP.receive(t,n,r,C);const _=s.remoteSDP.toString();throw yield it(s.peerConnection.setLocalDescription({type:"offer",sdp:E})),yield it(s.peerConnection.setRemoteDescription({type:"answer",sdp:_})),yield it(s.stopSending(l,!0)),U}s.remoteSDP.receive(t,n,r,C);const T=s.remoteSDP.toString(),Q=s.logSDPExchange(E,"offer","local","send");return yield it(s.peerConnection.setLocalDescription({type:"offer",sdp:E})),yield it(s.applySimulcastEncodings(a,t)),yield it(s.applySendEncodings(a,t)),Q==null||Q(T),yield it(s.peerConnection.setRemoteDescription({type:"answer",sdp:T})),a.map((U,_)=>{const b=l[_];return{localSSRC:f[_],id:b,transceiver:U}})}catch(a){throw a instanceof $?a:new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(a.toString()))}finally{o()}})()}async createDataChannels(t,n){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let r=this.dataStreamChannelMap.get(t);if(r&&r.readyState==="open")M.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const o=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof o!="number")throw new Error("create DataChannel error, because cannot get dc id");r=this.peerConnection.createDataChannel("datastream-channel",{id:o,negotiated:!0,ordered:!1,maxRetransmits:L("DATASTREAM_MAX_RETRANSMITS")}),r.binaryType="arraybuffer",this.dataStreamChannelMap.set(t,r)}n.forEach(o=>{o._updateOriginDataChannel(r)});const{needExchangeSDP:s}=this.remoteSDP.sendDataChannel();if(s){const o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a),M.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else M.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(r){throw r instanceof $?r:new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(r.toString()))}}async stopDataChannels(t){try{const n=this.dataStreamChannelMap.get(t);return n&&(n.id&&this.recoveredDataChannelIds.push(n.id),n.close()),void this.dataStreamChannelMap.delete(t)}catch(n){throw n instanceof $?n:new $(j.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(n.toString()))}}async stopSending(t,n){const r=n?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const s=this.peerConnection.getTransceivers().filter(l=>t.indexOf(l.mid)!==-1);if(s.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");s.map(l=>{var E;Ll(this.id+l.mid,this),l.direction="inactive",(E=l.stop)===null||E===void 0||E.call(l)});const o=await this.peerConnection.createOffer(),a=this.logSDPExchange(o.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(o),this.remoteSDP.stopReceiving(t);const d=this.remoteSDP.toString();a==null||a(d),await this.peerConnection.setRemoteDescription({type:"answer",sdp:d})}catch(s){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(s.toString()))}finally{r&&r()}}async receive(t,n,r,s){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{mid:o,needExchangeSDP:a}=this.remoteSDP.send(t,n,r,s);a&&(await Fl(this.peerConnection,this.remoteSDP,this.extension),M.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP.")));const d=this.peerConnection.getTransceivers().find(l=>l.mid===o);if(!d)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:d.receiver.track,id:o,transceiver:d}}catch(o){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async batchReceive(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:n,needExchangeSDP:r}=this.remoteSDP.batchSend(t);return r&&(await Fl(this.peerConnection,this.remoteSDP,this.extension),M.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),n.map(s=>{const o=this.peerConnection.getTransceivers().find(a=>a.mid===s);if(!o)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:o.receiver.track,id:s,transceiver:o}})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(n.toString()))}}async stopReceiving(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");t.forEach(o=>{Array.from(this.preSSRCMap.entries()).some(a=>{let[d,l]=a;if(l===o)return this.preSSRCMap.delete(d),!0})}),this.remoteSDP.stopSending(t);const n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const s=await this.peerConnection.createAnswer();r==null||r(s.sdp||""),await this.peerConnection.setLocalDescription(s)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(n.toString()))}}async muteRemote(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(t," before remote SDP created."));this.remoteSDP.mute(t);const n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const s=await this.peerConnection.createAnswer();r==null||r(s.sdp||""),await this.peerConnection.setLocalDescription(s)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(n.toString()))}}async unmuteRemote(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(t," before remote SDP created."));this.remoteSDP.unmute(t);const n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const s=await this.peerConnection.createAnswer();r==null||r(s.sdp||""),await this.peerConnection.setLocalDescription(s)}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(n.toString()))}}async muteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const n=this.peerConnection.getTransceivers().filter(a=>a.mid&&t.indexOf(a.mid)!==-1);if(n.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");n.map(a=>{a.direction="inactive"});const r=await this.peerConnection.createOffer(),s=this.logSDPExchange(r.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(r),this.remoteSDP.muteRemote(t);const o=this.remoteSDP.toString();s==null||s(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(n.toString()))}}async unmuteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const n=this.peerConnection.getTransceivers().filter(a=>a.mid&&t.indexOf(a.mid)!==-1);if(n.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");n.map(async(a,d)=>{a.direction="sendonly"});const r=await this.peerConnection.createOffer(),s=this.logSDPExchange(r.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(r),this.remoteSDP.unmuteRemote(t);const o=this.remoteSDP.toString();s==null||s(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(n){throw new $(j.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(n.toString()))}}restartICE(t){var n=this;return Jn(function*(){const r=yield it(n.mutex.lock("From P2PConnection.restartICE"));try{if(!n.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(ot().supportPCSetConfiguration){const E=n.peerConnection.getConfiguration(),g=t===Cn.RELAY?"relay":"all";E.iceTransportPolicy!==g&&(M.debug("[".concat(n.store.clientId,"] restartICE change iceTransportPolicy from [").concat(E.iceTransportPolicy,"] to [").concat(g,"]")),E.iceTransportPolicy=g,n.peerConnection.setConfiguration(E))}else if(t===Cn.RELAY)return;n.remoteSDP.updateCandidates(t);const s=yield it(n.peerConnection.createOffer({iceRestart:!0}));if(!s.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const o=Ws(s.sdp),{remoteIceParameters:a}=yield o.iceParameters;n.remoteSDP.restartICE(a);const d=n.remoteSDP.toString(),l=n.logSDPExchange(s.sdp||"","offer","local","restartICE");n.store.descriptionStart(),yield it(n.peerConnection.setLocalDescription(s)),l==null||l(d),yield it(n.peerConnection.setRemoteDescription({type:"answer",sdp:d}))}catch(s){M.warning("[".concat(n.store.clientId,"] restart ICE failed, abort operation"),s)}finally{r()}})()}close(){var t;this.peerConnection.getTransceivers().forEach(n=>{Ll(this.id+n.mid,this)}),this.preSSRCMap.clear(),this.peerConnection.close(),(t=this.onConnectionStateChange)===null||t===void 0||t.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return ts(ts({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(t){return this.statsFilter.getVideoIsReady(t)}async updateEncoderConfig(t,n){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const r=await this.peerConnection.createOffer(),s=this.mungSendOfferSDP(r.sdp,[n],[t]);this.remoteSDP.updateRecvMedia(t,n);const o=this.remoteSDP.toString(),a=this.logSDPExchange(s,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:s}),a==null||a(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(r){throw new $(j.EXCHANGE_SDP_FAILED,r.toString())}}async updateSendParameters(t,n){const r=this.peerConnection.getTransceivers().filter(s=>s.mid===t);r.length===1&&(this.isVP8Simulcast(n)?Gt()||await this.applySimulcastEncodings(r,[n]):await this.applySendEncodings(r,[n]))}setStatsRemoteVideoIsReady(t,n){this.statsFilter.setVideoIsReady2(t,n)}async replaceTrack(t,n){const r=this.peerConnection.getTransceivers().find(s=>s.mid===n);r&&await r.sender.replaceTrack(t._mediaStreamTrack)}async getSelectedCandidatePair(){const t=this.peerConnection.getReceivers();if(t.length>0&&t[0].transport&&t[0].transport.iceTransport&&t[0].transport.iceTransport.getSelectedCandidatePair&&t[0].transport.iceTransport.getSelectedCandidatePair()){const n=t[0].transport.iceTransport,{local:r,remote:s}=n.getSelectedCandidatePair();return{local:ts(ts({},es),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port}),remote:ts(ts({},es),{},{candidateType:s.type,protocol:s.protocol,address:s.address,port:s.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var t;(t=this.onICEConnectionStateChange)===null||t===void 0||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var t;(t=this.onConnectionStateChange)===null||t===void 0||t.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=t=>{t.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,M.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,M.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},L("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&t.turnServer.mode!=="off"&&(Xd(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...Qc.turnServerConfigToIceServers(t.turnServer.servers)),L("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...Qc.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),L("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(r=>{r.forceturn&&(n.iceTransportPolicy="relay")}))),L("ENABLE_ENCODED_TRANSFORM")&&ot().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(t){const n=[];return t.forEach(r=>{r.security?r.tcpport&&n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(wa(r.turnServerURL),":").concat(r.tcpport,"?transport=tcp")}):(r.udpport&&!L("FORCE_TURN_TCP")&&n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(r.turnServerURL,":").concat(r.udpport,"?transport=udp")}),r.tcpport&&n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(r.turnServerURL,":").concat(r.tcpport,"?transport=tcp")}))}),n}tryBindTransportEvents(t){const n=t.transport;if(n){this.transportEventReceiver=t,n.onstatechange=()=>{var s;n!=null&&n.state&&((s=this.onDTLSTransportStateChange)===null||s===void 0||s.call(this,n.state))},n.onerror=s=>{var o;(o=this.onDTLSTransportError)===null||o===void 0||o.call(this,"error"in s?s.error:s)};const r=n.iceTransport;r&&(r.onstatechange=()=>{const s=n==null?void 0:n.iceTransport.state;var o;s&&((o=this.onICETransportStateChange)===null||o===void 0||o.call(this,s))},r.getSelectedCandidatePair&&(r.onselectedcandidatepairchange=()=>{if(r.getSelectedCandidatePair()){const{local:s,remote:o}=r.getSelectedCandidatePair();M.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:s.type,protocol:s.protocol}),", remote ").concat(JSON.stringify({candidateType:o.type,protocol:o.protocol,address:o.address,port:o.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(t,n){var r,s;if(n||(n=this.peerConnection.getSenders().find(_=>_.track===t._mediaStreamTrack)),!n)return M.warn("[".concat(t.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(t))return M.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!ot().supportSetRtpSenderParameters)return M.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const o={},a={};switch(t._optimizationMode){case"motion":o.degradationPreference="maintain-framerate";break;case"detail":o.degradationPreference="maintain-resolution";break;case"balanced":o.degradationPreference="balanced"}const d=function(U,_){return U.getTransceivers().find(b=>b.sender.track===_||b.receiver.track===_)}(this.peerConnection,t._mediaStreamTrack),l=nG(t);if(YG(t)&&d&&n&&l&&this.getLocalVideoStats&&ge(r=["vp8","vp9"]).call(r,this.store.codec)){var E;const U=o.degradationPreference||(ge(E=t._hints).call(E,Bt.CUSTOM_TRACK)?L("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");(function(_,b,Y,G,W,J){if(Ll(_,Y),W(b),G!=="balanced"&&G!=="maintain-framerate"&&G!=="maintain-resolution")return;let K=-1;jB(_,b);const ne=window.setInterval(()=>{const oe=Vl.get(_);if(!L("ENABLE_AG_ADAPTATION")||!oe)return Ll(_,Y),void W(b);const ye=J();if(ye.sendPackets>0&&ye.OutgoingAvailableBandwidth>0){if(K===-1)return void(K=Date.now());if(Date.now()-K<1e3)return;const Xe=ye.sendFrameRate,lt=ye.OutgoingAvailableBandwidth,[vt,di]=kG(_,Xe,lt,oe.adaptationConfig,b,G);di&&(Y.qualityLimitationReason=di),vt&&oe.adaptationConfig.scale!==vt.scale&&(M.debug("[".concat(_,"] applyAdaptation: ").concat(Y.qualityLimitationReason,`
           sendFps `).concat(Xe,", bwe ").concat(lt,", switch from ").concat(oe.adaptationConfig.scale," to ").concat(vt.scale," ")),oe.adaptationConfig=Up(Up({},oe.adaptationConfig),vt),W(vt))}},L("CHECK_LOCAL_STATS_INTERVAL")),le=Up({},b);Vl.set(_,{timer:ne,adaptationConfig:le,originConfig:b,adaptationFunc:W}),M.debug("[".concat(_,"] start adaptation, originConfig: ").concat(JSON.stringify(b),", degradationPreference: ").concat(G))})(this.id+d.mid,l,this,U,_=>{n&&this.updateAdaptation(n,_)},this.getLocalVideoStats.bind(this))}if(t._encoderConfig){var g;const{bitrateMax:U,frameRate:_,scaleResolutionDownBy:b}=t._encoderConfig;U&&(a.maxBitrate=1e3*U),(ge(g=t._hints).call(g,Bt.LOW_STREAM)||t.isUseScaleResolutionDownBy)&&(_&&(a.maxFramerate=Rn(_)),b&&b>=1&&(a.scaleResolutionDownBy=b))}const{maxFramerate:f}=L("ENCODER_CONFIG_LIMIT");if(f&&typeof f=="number"&&(a.maxFramerate=a.maxFramerate?Math.min(a.maxFramerate,f):f),L("DSCP_TYPE")&&Ys()){var C;const U=L("DSCP_TYPE");ge(C=["very-low","low","medium","high"]).call(C,U)&&(a.networkPriority=U)}const T=n.getParameters(),Q=(s=T.encodings)===null||s===void 0?void 0:s[0];Gt()&&!Q&&(o.encodings=[a]),Q&&Object.assign(Q,a),Object.assign(T,o),M.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(T.encodings))),await n.setParameters(T),await async function(U,_,b){try{var Y;if(!ot().supportSetRtpSenderParameters||!function(ne){return ne==="vp9"}(U)||!L("ENABLE_SVC"))return;const G={},W={},J=_.getParameters(),K=(Y=J.encodings)===null||Y===void 0?void 0:Y[0];W.scalabilityMode=Ap(b),K&&Object.assign(K,W),Object.assign(J,G),await _.setParameters(J),M.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(J.encodings)))}catch(G){M.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",G)}}(this.store.codec,n,L("SVC_MODE"))}async updateAdaptation(t,n){var r,s;if(!t)return M.debug("[updateAdaptation] no rtpSender found");if(!ot().supportSetRtpSenderParameters)return M.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const o={},{bitrateMax:a,frameRate:d,scaleResolutionDownBy:l}=n;a&&(o.maxBitrate=1e3*a),d&&(o.maxFramerate=Rn(d)),l&&l>=1&&ge(r=["vp8","vp9"]).call(r,this.store.codec)&&(o.scaleResolutionDownBy=l);const E=t.getParameters(),g=(s=E.encodings)===null||s===void 0?void 0:s[0];g&&Object.assign(g,o),Object.assign(E,{});try{await t.setParameters(E),M.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(E.encodings)))}catch(f){!("transport"in t)||t.transport&&t.transport.state==="connected"?this.peerConnectionState!=="connected"?M.debug("[updateAdaptation] peerConnection not connected}"):M.debug("[updateAdaptation] updateRtpSenderEncodings failed",f):M.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(t,n){try{if(!ot().supportSetRtpSenderParameters||t.length!==n.length)return;for(let r=0;r<t.length;r++){const s=t[r],o=n[r];o instanceof Qt&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,s.sender)}}catch{M.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(t,n,r){const s=vi.parse(t);return n.forEach((o,a)=>{const d=r[a],l=s.mediaDescriptions.find(E=>E.attributes.mid===d);l&&(Ja(l,o),ww(l,o,this.store.codec))}),vi.print(s)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=t=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstVideoReceived=t=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstAudioDecoded=t=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,t)},this.statsFilter.onFirstVideoDecoded=(t,n,r)=>{var s;(s=this.onFirstVideoDecoded)===null||s===void 0||s.call(this,t,n,r)},this.statsFilter.onSelectedLocalCandidateChanged=(t,n)=>{var r;(r=this.onSelectedLocalCandidateChanged)===null||r===void 0||r.call(this,t,n)},this.statsFilter.onSelectedRemoteCandidateChanged=(t,n)=>{var r;(r=this.onSelectedRemoteCandidateChanged)===null||r===void 0||r.call(this,t,n)},this.statsFilter.onFirstVideoDecodedTimeout=t=>{var n;(n=this.onFirstVideoDecodedTimeout)===null||n===void 0||n.call(this,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(t,n){if(t.length===n.length)for(let l=0;l<t.length;l++){var r,s,o,a,d;const E=t[l],g=n[l];if(g instanceof Qt&&!ge(r=g._hints).call(r,Bt.LOW_STREAM)&&(s=g._encoderConfig)!==null&&s!==void 0&&s.bitrateMax&&((o=g._encoderConfig)===null||o===void 0?void 0:o.bitrateMax)>200&&(a=g._scalabilityMode)!==null&&a!==void 0&&a.numSpatialLayers&&((d=g._scalabilityMode)===null||d===void 0?void 0:d.numSpatialLayers)>1&&this.store.codec==="vp8"){const f={},C={high:1e3*(g._encoderConfig.bitrateMax-50),medium:5e4};f.encodings=[{rid:"m",active:!0,maxBitrate:C.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:C.high}];const T=E.sender.getParameters();await E.sender.setParameters(Object.assign(T,f))}}}async applySimulcastEncodings(t,n){if(!Gt()&&t.length===n.length)for(let r=0;r<t.length;r++){const s=n[r];if(s instanceof Qt&&this.isVP8Simulcast(s)){const o=t[r],a={},d={high:1e3*(s._encoderConfig.bitrateMax-50),medium:5e4};a.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:d.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:d.medium,scaleResolutionDownBy:4}];const l=o.sender.getParameters();await o.sender.setParameters(Object.assign(l,a))}}}isVP8Simulcast(t){var n,r,s,o,a;return!!(t instanceof Qt&&L("SIMULCAST")&&this.store.codec==="vp8"&&!ge(n=t._hints).call(n,Bt.LOW_STREAM)&&(r=t._encoderConfig)!==null&&r!==void 0&&r.bitrateMax&&((s=t._encoderConfig)===null||s===void 0?void 0:s.bitrateMax)>200&&(o=t._scalabilityMode)!==null&&o!==void 0&&o.numSpatialLayers&&((a=t._scalabilityMode)===null||a===void 0?void 0:a.numSpatialLayers)>1)}logSDPExchange(t,n,r,s){if(L("SDP_LOGGING"))return M.upload("[".concat(this.store.clientId,"] exchanging ").concat(r," ").concat(n," SDP during P2PConnection.").concat(s,`
`),t),n==="offer"?o=>{this.logSDPExchange(o,"answer",r==="local"?"remote":"local",s)}:void 0}async getRemoteSSRC(t){if(!this.remoteSDP)return;const n=this.remoteSDP.getSSRC(t);return n&&n.length!==0?n[0].ssrcId:void 0}setConfiguration(t){if(ot().supportPCSetConfiguration){const n=Qc.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}},Se(tt.prototype,"updateRemoteRTPCapabilities",[an],Object.getOwnPropertyDescriptor(tt.prototype,"updateRemoteRTPCapabilities"),tt.prototype),Se(tt.prototype,"connect",[an],Object.getOwnPropertyDescriptor(tt.prototype,"connect"),tt.prototype),Se(tt.prototype,"updateRemoteConnect",[an],Object.getOwnPropertyDescriptor(tt.prototype,"updateRemoteConnect"),tt.prototype),Se(tt.prototype,"createDataChannels",[an],Object.getOwnPropertyDescriptor(tt.prototype,"createDataChannels"),tt.prototype),Se(tt.prototype,"receive",[an],Object.getOwnPropertyDescriptor(tt.prototype,"receive"),tt.prototype),Se(tt.prototype,"batchReceive",[an],Object.getOwnPropertyDescriptor(tt.prototype,"batchReceive"),tt.prototype),Se(tt.prototype,"stopReceiving",[an],Object.getOwnPropertyDescriptor(tt.prototype,"stopReceiving"),tt.prototype),Se(tt.prototype,"muteRemote",[an],Object.getOwnPropertyDescriptor(tt.prototype,"muteRemote"),tt.prototype),Se(tt.prototype,"unmuteRemote",[an],Object.getOwnPropertyDescriptor(tt.prototype,"unmuteRemote"),tt.prototype),Se(tt.prototype,"muteLocal",[an],Object.getOwnPropertyDescriptor(tt.prototype,"muteLocal"),tt.prototype),Se(tt.prototype,"unmuteLocal",[an],Object.getOwnPropertyDescriptor(tt.prototype,"unmuteLocal"),tt.prototype),Se(tt.prototype,"close",[an],Object.getOwnPropertyDescriptor(tt.prototype,"close"),tt.prototype),Se(tt.prototype,"updateEncoderConfig",[an],Object.getOwnPropertyDescriptor(tt.prototype,"updateEncoderConfig"),tt.prototype),Se(tt.prototype,"updateSendParameters",[an],Object.getOwnPropertyDescriptor(tt.prototype,"updateSendParameters"),tt.prototype),Se(tt.prototype,"replaceTrack",[an],Object.getOwnPropertyDescriptor(tt.prototype,"replaceTrack"),tt.prototype),Se(tt.prototype,"updateAdaptation",[an],Object.getOwnPropertyDescriptor(tt.prototype,"updateAdaptation"),tt.prototype),Se(tt.prototype,"getRemoteSSRC",[an],Object.getOwnPropertyDescriptor(tt.prototype,"getRemoteSSRC"),tt.prototype),tt);function an(e,t,n){const r=e[t];if(typeof r!="function")throw new Error("Cannot use mutex on object property.");return n.value=async function(){const s=this.mutex,o=await s.lock("From P2PConnection.".concat(t));try{for(var a=arguments.length,d=new Array(a),l=0;l<a;l++)d[l]=arguments[l];return await r.apply(this,d)}finally{o()}},n}var Ze;function LB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GB(e){var t,n,r,s=2;for(typeof Symbol<"u"&&(n=jE,r=Symbol.iterator);s--;){if(n&&(t=e[n])!=null)return t.call(e);if(r&&(t=e[r])!=null)return new Gl(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Gl(e){function t(n){if(Object(n)!==n)return Ie.reject(new TypeError(n+" is not an object."));var r=n.done;return Ie.resolve(n.value).then(function(s){return{value:s,done:r}})}return Gl=function(n){this.s=n,this.n=n.next},Gl.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Ie.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Ie.reject(n):t(r.apply(this.s,arguments))}},new Gl(e)}let zl=(Ze=class extends Vt{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(je.StateChange,t,this._state)}constructor(e,t){super(),F(this,"isPlanB",void 0),F(this,"store",void 0),F(this,"statsUploader",void 0),F(this,"connection",void 0),F(this,"localTrackMap",new Map),F(this,"remoteUserMap",new Map),F(this,"localDataChannels",[]),F(this,"remoteDataChannelMap",new Map),F(this,"pendingLocalTracks",[]),F(this,"pendingRemoteTracks",[]),F(this,"pendingLocalDataChannels",[]),F(this,"pendingRemoteDataChannels",[]),F(this,"statsCollector",void 0),F(this,"shouldForwardP2PCreation",void 0),F(this,"iceFailedCount",0),F(this,"dtlsFailedCount",0),F(this,"mutex",void 0),F(this,"_state",Et.Disconnected),F(this,"_pcStatsUploadType",L("NEW_ICE_RESTART")?ps.FIRST_CONNECTION:ps.OLD_FIRST_CONNECTION),F(this,"_isInRestartIce",!1),F(this,"_isStartRestartIce",!1),F(this,"_restartStates",["disconnected","failed"]),F(this,"_restartTimer",void 0),F(this,"_isFirstConnected",!0),F(this,"handleMuteLocalTrack",async(n,r,s)=>{const o=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==Et.Connected)return void s(new $(j.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const a=this.filterTobeMutedTracks(n);if(a.length===0)return void r();const d=a.find(E=>E[0]==="videoLowTrack");d&&d[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(a.map(E=>{let[,{id:g}]=E;return g}));const l=this.createMuteMessage(a);await St(this,je.RequestMuteLocal,l),r()}catch(a){s(a)}finally{o()}}),F(this,"handleUnmuteLocalTrack",async(n,r,s)=>{const o=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==Et.Connected)return void s(new $(j.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const a=this.filterTobeUnmutedTracks(n);if(a.length===0)return void r();const d=a.find(E=>E[0]==="videoLowTrack");if(d){const E=d[1];if(E.track._originMediaStreamTrack.stop(),!L("DISABLE_DUAL_STREAM_USE_ENCODING")&&ot().supportDualStreamEncoding){const g=n._mediaStreamTrack.clone();E.track._mediaStreamTrack=g,E.track._originMediaStreamTrack=g}else{const g=yp(n,VA(this,je.RequestLowStreamParameter));E.track._mediaStreamTrack=g,E.track._originMediaStreamTrack=g}await new Ie((g,f)=>{this.handleReplaceTrack(E.track,g,f,!0)})}await this.connection.unmuteLocal(a.map(E=>{let[,{id:g}]=E;return g}));const l=this.createUnmuteMessage(a);await St(this,je.RequestUnmuteLocal,l),r()}catch(a){s(a)}finally{o()}}),F(this,"handleUpdateVideoEncoder",async(n,r,s)=>{const o=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const a=this.localTrackMap.get(se.LocalVideoTrack);if(!this.connection||!a||a.track!==n||this.state!==Et.Connected)return void r();const{id:d,track:l}=a;await this.connection.updateSendParameters(d,l),await this.connection.updateEncoderConfig(d,l),this.emit(je.UpdateVideoEncoder,l),r()}catch(a){s(a)}finally{o()}}),F(this,"handleUpdateVideoSendParameters",async(n,r,s)=>{const o=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const a=this.localTrackMap.get(se.LocalVideoTrack);if(!this.connection||!a||a.track!==n||this.state!==Et.Connected)return void r();const{id:d,track:l}=a;await this.connection.updateSendParameters(d,l),r()}catch(a){s(a)}finally{o()}}),F(this,"handleReplaceMixingTrack",async(n,r,s,o)=>{if(!this.connection||this.state!==Et.Connected)return void r();const a=Bp([n]);let d;M.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(a.getTrackId(),"]")),typeof o=="boolean"&&o||(d=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(n,a),r()}catch(E){s(E)}finally{var l;(l=d)===null||l===void 0||l()}}),F(this,"handleReplaceTrack",async(n,r,s,o)=>{let a;M.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(n.getTrackId(),"]")),typeof o=="boolean"&&o||(a=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var d;const E=Array.from(this.localTrackMap.entries()).find(g=>{let[,{track:f}]=g;return n===f});if(!this.connection||!E||this.state!==Et.Connected)return void r();if(await((d=this.connection)===null||d===void 0?void 0:d.replaceTrack(n,E[1].id)),this.isPlanB){const g=E[1];g.id=n._mediaStreamTrack.id,this.localTrackMap.set(E[0],g)}if(E[0]===se.LocalVideoTrack&&!L("DISABLE_DUAL_STREAM_USE_ENCODING")&&ot().supportDualStreamEncoding){const g=this.localTrackMap.get(se.LocalVideoLowTrack);if(g){const f=n._mediaStreamTrack.clone();g.track._originMediaStreamTrack.stop(),g.track._mediaStreamTrack=f,g.track._originMediaStreamTrack=f,await new Ie((C,T)=>{this.handleReplaceTrack(g.track,C,T,!0)})}}r()}catch(E){s(E)}finally{var l;(l=a)===null||l===void 0||l()}}),F(this,"handleGetRTCStats",n=>{n(this.statsCollector.getRTCStats())}),F(this,"handleGetLocalVideoStats",n=>{n(this.statsCollector.getLocalVideoTrackStats())}),F(this,"handleGetLocalAudioStats",n=>{n(this.statsCollector.getLocalAudioTrackStats())}),F(this,"handleGetRemoteVideoStats",n=>this.statsCollector.getRemoteVideoTrackStats(n.uid)[n.uid]),F(this,"handleGetRemoteAudioStats",n=>this.statsCollector.getRemoteAudioTrackStats(n.uid)[n.uid]),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new gB(this.store),this.bindStatsUploaderEvents(),this.mutex=new Oi("P2PChannel-mutex",this.store.clientId),this.isPlanB=!ot().supportUnifiedPlan||L("CHROME_FORCE_PLAN_B")&&Ys(),this.shouldForwardP2PCreation=L("FORWARD_P2P_CREATION")&&ot().supportPCSetConfiguration&&XE(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new ac({},this.store):new jr({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e){var t;this.state=Et.New;const n=this.shouldForwardP2PCreation&&((t=this.connection)===null||t===void 0?void 0:t.peerConnectionState)==="closed";if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(M.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new ac(e,this.store):new jr(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new $(j.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=L("NEW_ICE_RESTART")?ps.FIRST_CONNECTION:ps.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e){if(!this.connection)throw new $(j.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");L("ENABLE_PREALLOC_PC")&&this.state===Et.Connected?await this.connection.updateRemoteConnect(e):(this.store.peerConnectionStart(),await this.connection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Et.Connected)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter(s=>{var o;let[a]=s;return ge(o=[se.LocalVideoLowTrack,se.LocalVideoTrack]).call(o,a)}),n=t.map(s=>{let[,{id:o}]=s;return o}),r=t.map(s=>{let[o]=s;return o});if(this.connection instanceof jr){if(ve.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(r),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!ge(e).call(e,this.store.codec)){const s=["vp9","vp8","h264"].find(o=>ge(e).call(e,o));s&&(this.store.codec=s,M.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(s,".")))}this.connection.updateRemoteRTPCapabilities(n,e)}}async getEstablishParams(){var e;if(this.connection instanceof jr&&this.connection.peerConnectionState!=="closed"&&ge(e=[Et.New,Et.Connected]).call(e,this.state))return this.connection.establishPromise}async publishDataChannel(e){if(!this.connection||this.state!==Et.Connected){if(this.state===Et.Disconnected)throw new $(j.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return e.forEach(n=>{var r;ge(r=this.pendingLocalDataChannels).call(r,n)||this.pendingLocalDataChannels.push(n)}),[]}const t=this.filterTobePublishedDataChannels(e);return t.length===0?[]:(t.forEach(n=>{const r=Date.now();this.store.publish(n.id.toString(),"datachannel",r)}),await this.connection.createDataChannels(this.store.uid,t),t.forEach(n=>{this.localDataChannels.push(n);const r=Date.now();this.store.publish(n.id+"","datachannel",void 0,r)}),e.map(n=>({streamId:n.id,ordered:n.ordered,maxRetransmits:n.maxRetransmits,metadata:n.metadata,channelId:n._originDataChannelId})))}publish(e,t,n){var r=this;return Jn(function*(){const s=yield it(r.mutex.lock("From P2PChannel.publish"));try{if(!r.connection||r.state!==Et.Connected){if(r.state===Et.Disconnected)throw new $(j.UNEXPECTED_ERROR,"PeerConnection already disconnected.");r.throwIfTrackTypeNotMatch(e);const a=e.filter(d=>r.pendingLocalTracks.indexOf(d)===-1);return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(a))}r.store.pubId=r.store.pubId+1,Vi.markPublishStart(r.store.clientId,r.store.pubId);const o=r.filterTobePublishedTracks(e,t,n);if(o.length===0)return void(yield it(r.tryToUnmuteAudio(e)));yield*Od(GB(r.doPublish(r.connection,o)))}finally{s()}})()}doPublish(e,t){var n=this;return Jn(function*(){t.forEach(f=>{let{track:C,type:T}=f;const Q=Date.now();n.store.publish(C.getTrackId(),T===se.LocalAudioTrack?"audio":"video",Q)}),n.bindLocalTrackEvents(t);const r=t.map(f=>{let{track:C}=f;return C}),s=yield it(e.send(r,n.store.codec,n.store.audioCodec)),o=(yield it(s.next())).value,a=n.createGatewayPublishMessage(t,o);let d;try{d=yield a}catch(f){throw s.throw(f),(f==null?void 0:f.code)===j.WS_ABORT&&t.forEach(C=>{let{track:T}=C;n.pendingLocalTracks.indexOf(T)===-1&&n.pendingLocalTracks.push(T)}),n.unbindLocalTrackEvents(t),f}const l=n.mapPubResToRemoteConfig(a,d,r),E=(yield it(s.next(l))).value,g=L("ENABLE_VIDEO_SEI");r.forEach(async f=>{const C=f.getRTCRtpTransceiver();C&&g&&(f.trackMediaType===Ne.VIDEO?await cG(C.sender,f):f.trackMediaType===Ne.AUDIO&&await async function(T){if(!ot().supportWebRTCEncodedTransform)return void M.warning("browser not support audio encoded transform");if(Ml.has(T)||!T.track)return;const Q={track:T.track};if(ks()){if(!T.createEncodedStreams)return void M.warning("browser not support createEncodedStreams() API");let _=null;try{_=T.createEncodedStreams()}catch(Y){return void M.error("create audio-encoded-streams error",Y&&Y.message)}const b=new TransformStream({transform(Y,G){Q.controller||(Q.controller=G),T.track&&T.track.id!==Q.track.id&&(M.debug("audio track changed: ".concat(Q.track.id," => ").concat(T.track.id)),Q.track.removeEventListener("ended",U),Q.track=T.track,Q.track.addEventListener("ended",U)),G.enqueue(Y)}});_.readable.pipeThrough(b).pipeTo(_.writable)}else if(Fi()){if(typeof RTCRtpScriptTransform>"u")return void M.warning("browser not support RTCRtpScriptTransform");const _=Sl(),b=new MessageChannel;await new Ie(G=>_.onmessage=W=>{W.data==="registered"&&G(void 0)});const Y=new RTCRtpScriptTransform(_,{name:"tx",port:b.port2},[b.port2]);T.transform=Y,await new Ie(G=>_.onmessage=W=>{W.data==="started"&&G(void 0)}),b.port1.onmessage=G=>{var W;G.data.transformed&&T.track&&((W=T.track)===null||W===void 0?void 0:W.id)!==Q.track.id&&(M.debug("audio track changed: ".concat(Q.track.id," => ").concat(T.track.id)),Q.track.removeEventListener("ended",U),Q.track=T.track,Q.track.addEventListener("ended",U))},Q.worker=_}function U(){if(T.track){if(this.id!==T.track.id)return;T.track.removeEventListener("ended",U)}const _=Ml.get(T);if(_){Ml.delete(T);try{var b,Y;(b=_.controller)===null||b===void 0||b.terminate(),(Y=_.worker)===null||Y===void 0||Y.terminate()}catch(G){M.warning(G&&G.message)}}}Ml.set(T,Q),T.track.addEventListener("ended",U)}(C.sender))}),t.forEach(f=>{let{type:C}=f;n.statsCollector.addLocalStats(C)}),n.assignLocalTracks(t,E),n.statsUploader.startUploadOutboundStats(),t.forEach(f=>{let{track:C,type:T}=f;const Q=Date.now();n.store.publish(C.getTrackId(),T===se.LocalAudioTrack?"audio":"video",void 0,Q)})})()}async updateVideoStreamParameter(e,t){const n=this.localTrackMap.get(t);if(!n)return;if(!(n.track instanceof Qt))return M.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof jr||this.connection instanceof ac))return M.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:r}=n,s=function(o,a){const d={};return o.height&&o.width&&(d.scaleResolutionDownBy=Ng(o,a)),d.maxFramerate=o.framerate?Rn(o.framerate):void 0,d.maxBitrate=o.bitrate?1e3*o.bitrate:void 0,d}(e,r);if(r._encoderConfig||(r._encoderConfig={}),t!==se.LocalVideoLowTrack||!L("DISABLE_DUAL_STREAM_USE_ENCODING")&&ot().supportDualStreamEncoding)s.scaleResolutionDownBy!=null&&(r._encoderConfig.scaleResolutionDownBy=s.scaleResolutionDownBy);else{const o=r._originMediaStreamTrack;if(!o.canvas)return M.warn("[".concat(r.getTrackId(),"] no canvas on track"));(function(a,d){const l=a.canvas;d.width&&(l.width=Rn(d.width)),d.height&&(l.height=Rn(d.height)),d.framerate&&(l.stopCapture&&l.stopCapture(),l.stopCapture=qg(()=>{!l.startCapture&&l.stopCapture&&l.stopCapture(),l.startCapture&&l.startCapture()},Rn(d.framerate)))})(o,e)}s.maxBitrate!=null&&(r._encoderConfig.bitrateMax=s.maxBitrate/1e3),s.maxFramerate!=null&&(r._encoderConfig.frameRate&&typeof r._encoderConfig.frameRate=="object"?r._encoderConfig.frameRate.max=s.maxFramerate:r._encoderConfig.frameRate={max:s.maxFramerate}),M.debug("[".concat(r.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(r._encoderConfig))),await this.connection.updateRtpSenderEncodings(r)}publishLowStream(e){var t=this;return Jn(function*(){if(!t.connection||t.state!==Et.Connected)return;const n=yield it(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const s=t.localTrackMap.get(se.LocalVideoTrack);if(!s)throw new $(j.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(se.LocalVideoLowTrack))throw new $(j.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));const o=[{track:t.getLowVideoTrack(s.track,e),type:se.LocalVideoLowTrack}];if(yield*Od(GB(t.doPublish(t.connection,o))),s.track.muted||!s.track.enabled){var r;const a=(r=t.localTrackMap.get(se.LocalVideoLowTrack))===null||r===void 0?void 0:r.id;a!==void 0&&(yield it(t.connection.muteLocal([a])))}}finally{n()}})()}async republish(){this.pendingLocalTracks.length>0&&(M.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await bi(this,je.RequestRePublish,this.pendingLocalTracks),this.emit(je.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(M.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await bi(this,je.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let t=this.pendingRemoteTracks.length-1;t>=0;t--){const{user:n,kind:r}=this.pendingRemoteTracks[t];(r!==Ne.AUDIO||n._audio_added_&&n._audioSSRC)&&(r!==Ne.VIDEO||n._video_added_&&n._videoSSRC)||this.pendingRemoteTracks.splice(t,1)}if(e)await bi(this,je.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:t,kind:n}of this.pendingRemoteTracks)await this.subscribe(t,n,n===Ne.VIDEO?t._videoSSRC:t._audioSSRC);this.pendingRemoteTracks.forEach(t=>{let{user:n}=t;this.emit(je.MediaReconnectEnd,n.uid)}),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==Et.Connected)return void e.forEach(r=>{const s=this.pendingLocalTracks.indexOf(r);s!==-1&&this.pendingLocalTracks.splice(s,1)});const t=this.filterTobeUnpublishedTracks(e);if(t.length===0)return;const n=t.find(r=>r[0]==="videoLowTrack");return n&&n[1].track.close(),this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==Et.Connected)return void e.forEach(n=>{const r=this.pendingLocalDataChannels.indexOf(n);r!==-1&&this.pendingLocalDataChannels.splice(r,1)});const t=this.filterTobeUnpublishedDataChannels(e);return t.length!==0?(t.forEach(n=>{const r=this.localDataChannels.indexOf(n);r!==-1&&this.localDataChannels.splice(r,1)}),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),t.map(n=>n.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==Et.Connected)return;const e=this.localTrackMap.get(se.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[se.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map(r=>{let[,{id:s}]=r;return s})),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map(r=>{let[s,{track:o}]=r;return{type:s,track:o}})),t.forEach(r=>{let[s]=r;this.statsCollector.removeLocalStats(s)}),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(e,t){if(!this.connection||this.state!==Et.Connected)throw new $(j.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const n=t.filter(r=>{var s;return!((s=this.remoteDataChannelMap.get(e))!==null&&s!==void 0&&s.get(r.id))});if(n.length!==0)return await this.connection.createDataChannels(e.uid,n),n.forEach(r=>{var s;this.remoteDataChannelMap.has(e)?(s=this.remoteDataChannelMap.get(e))===null||s===void 0||s.set(r.id,r):this.remoteDataChannelMap.set(e,new Map([[r.id,r]]));const o=this.pendingRemoteDataChannels.findIndex(a=>{let{user:d,id:l}=a;return d.uid===e.uid&&l===r.id});o!==-1&&this.pendingRemoteDataChannels.splice(o,1)}),n.map(r=>r.id)}async subscribe(e,t,n,r,s){var o;if(!this.connection||this.state!==Et.Connected)throw new $(j.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if((o=this.remoteUserMap.get(e))!==null&&o!==void 0&&o.has(t))return;let a,d,l;const E=this.connection.getPreMedia(n);if(E)M.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(n,", no need to send sub to gateway.")),l=E.transceiver,a=E.track,d=E.id;else if(s){const C=s.find(Q=>{let{stream_type:U}=Q;return U===t});if(!C)throw new $(j.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const T=await this.connection.receive(t,C.ssrcs,String(e._uintid),C.attributes);this.connection instanceof jr&&(l=T.transceiver),a=T.track,d=T.id}else{const C=await this.connection.receive(t,[{ssrcId:n,rtx:r}],String(e._uintid),void 0);this.connection instanceof jr&&(l=C.transceiver),a=C.track,d=C.id}t===Ne.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new xa(a,e.uid,e._uintid,this.store),M.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),l&&e._audioTrack._updateRtpTransceiver(l),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new za(a,e.uid,e._uintid,this.store),M.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),l&&e._videoTrack._updateRtpTransceiver(l),this.bindRemoteTrackEvents(e,e._videoTrack)),L("ENABLE_VIDEO_SEI")&&l&&(t==Ne.VIDEO?await async function(C){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ot().supportWebRTCEncodedTransform)return void M.warning("browser not support video encoded transform");if(!C.track)return;if($A.has(C)){const _=$A.get(C);return void(_&&(_.onSei=T.onSei))}const Q={track:C.track,onSei:T.onSei};if(ks()){if(!C.createEncodedStreams)return void M.warning("browser not support createEncodedStreams() API");let _=null;try{_=C.createEncodedStreams()}catch(Y){return void M.error("create video-encoded-streams error",Y&&Y.message)}const b=new TransformStream({transform(Y,G){Q.controller||(Q.controller=G),C.track&&C.track.id!==Q.track.id&&(M.debug("video track changed: ".concat(Q.track.id," => ").concat(C.track.id)),Q.track.removeEventListener("ended",U),Q.track=C.track,Q.track.addEventListener("ended",U));const W=function(J){const K=new DataView(J.data);let ne=0;for(;ne+4<J.data.byteLength;){if(K.getUint8(ne+0)===0&&K.getUint8(ne+1)===0&&K.getUint8(ne+2)===0&&K.getUint8(ne+3)===1&&K.getUint8(ne+4)===6){let le=ne+6,oe=0,ye=0;for(;(ye=K.getUint8(le++))===255;)oe+=255;oe+=ye;const Xe=AG(J.data,le,oe);return new Uint8Array(Xe)}ne++}return null}(Y);W&&Q.onSei&&Q.onSei(W),G.enqueue(Y)}});_.readable.pipeThrough(b).pipeTo(_.writable)}else if(Fi()){if(typeof RTCRtpScriptTransform>"u")return void M.warning("browser not support RTCRtpScriptTransform");const _=Sl(),b=new MessageChannel;await new Ie(G=>_.onmessage=W=>{W.data==="registered"&&G(void 0)});const Y=new RTCRtpScriptTransform(_,{name:"rx",port:b.port2},[b.port2]);C.transform=Y,await new Ie(G=>_.onmessage=W=>{W.data==="started"&&G(void 0)}),b.port1.onmessage=G=>{var W;G.data.transformed&&C.track&&((W=C.track)===null||W===void 0?void 0:W.id)!==Q.track.id?(M.debug("video track changed: ".concat(Q.track.id," => ").concat(C.track.id)),Q.track.removeEventListener("ended",U),Q.track=C.track,Q.track.addEventListener("ended",U)):G.data.sei&&Q.onSei&&Q.onSei(G.data.sei)},Q.worker=_}function U(){if(C.track){if(this.id!==C.track.id)return;C.track.removeEventListener("ended",U)}(function(_){const b=$A.get(_);if(b){$A.delete(_);try{var Y,G;(Y=b.controller)===null||Y===void 0||Y.terminate(),(G=b.worker)===null||G===void 0||G.terminate()}catch(W){M.warning(W&&W.message)}}})(C)}$A.set(C,Q),C.track.addEventListener("ended",U)}(l.receiver,{onSei:C=>{var T;(T=e._videoTrack)===null||T===void 0||T._onSei(C)}}):t==Ne.AUDIO&&await async function(C){if(!ot().supportWebRTCEncodedTransform)return void M.warning("browser not support audio encoded transform");if(yl.has(C))return;const T={track:C.track};if(ks()){if(!C.createEncodedStreams)return void M.warning("browser not support createEncodedStreams() API");let U=null;try{U=C.createEncodedStreams()}catch(b){return void M.error("create audio-encoded-streams error",b&&b.message)}const _=new TransformStream({transform(b,Y){T.controller||(T.controller=Y),C.track&&C.track.id!==T.track.id&&(M.debug("audio track changed: ".concat(T.track.id," => ").concat(C.track.id)),T.track.removeEventListener("ended",Q),T.track=C.track,T.track.addEventListener("ended",Q)),Y.enqueue(b)}});U.readable.pipeThrough(_).pipeTo(U.writable)}else if(Fi()){if(typeof RTCRtpScriptTransform>"u")return void M.warning("browser not support RTCRtpScriptTransform");const U=Sl(),_=new MessageChannel;await new Ie(Y=>U.onmessage=G=>{G.data==="registered"&&Y(void 0)});const b=new RTCRtpScriptTransform(U,{name:"rx",port:_.port2},[_.port2]);C.transform=b,await new Ie(Y=>U.onmessage=G=>{G.data==="started"&&Y(void 0)}),_.port1.onmessage=Y=>{var G;Y.data.transformed&&C.track&&((G=C.track)===null||G===void 0?void 0:G.id)!==T.track.id&&(M.debug("audio track changed: ".concat(T.track.id," => ").concat(C.track.id)),T.track.removeEventListener("ended",Q),T.track=C.track,T.track.addEventListener("ended",Q))},T.worker=U}function Q(){C.track.removeEventListener("ended",Q),function(U){const _=yl.get(U);if(_){yl.delete(U);try{var b,Y;(b=_.controller)===null||b===void 0||b.terminate(),(Y=_.worker)===null||Y===void 0||Y.terminate()}catch(G){M.warning(G&&G.message)}}}(C)}yl.set(C,T),C.track.addEventListener("ended",Q)}(l.receiver));const g=this.remoteUserMap.get(e);g?g.set(t,d):this.remoteUserMap.set(e,new Map([[t,d]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const f=this.pendingRemoteTracks.findIndex(C=>{let{user:T,kind:Q}=C;return T.uid===e.uid&&t===Q});f!==-1&&(this.pendingRemoteTracks.splice(f,1),this.emit(je.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==Et.Connected)throw new $(j.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");e=e.filter(s=>{var o;let{user:a,mediaType:d}=s;return!((o=this.remoteUserMap.get(a))!==null&&o!==void 0&&o.has(d))});const t=[],n=new Map;e.forEach(s=>{if(!this.connection)return;const o=this.connection.getPreMedia(s.ssrcId);o?n.set(s.ssrcId,o):t.push(s)});const r=await this.connection.batchReceive(t.map(s=>{let{user:o,mediaType:a,ssrcId:d,rtxSsrcId:l}=s;return{kind:a,ssrcMsg:[{ssrcId:d,rtx:l}],mslabel:String(o._uintid)}}));t.forEach((s,o)=>{n.set(s.ssrcId,r[o])}),e.forEach(s=>{let{user:o,mediaType:a,ssrcId:d}=s;const l=n.get(d);if(!l)return void M.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(o.uid," subscribe data,").concat(a,", ").concat(d));const{track:E,id:g,transceiver:f}=l;a===Ne.AUDIO?(o._audioTrack?o._audioTrack._updateOriginMediaStreamTrack(E):(o._audioTrack=new xa(E,o.uid,o._uintid,this.store),M.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(o._audioTrack.getTrackId()))),f&&o._audioTrack._updateRtpTransceiver(f),this.bindRemoteTrackEvents(o,o._audioTrack)):(o._videoTrack?o._videoTrack._updateOriginMediaStreamTrack(E):(o._videoTrack=new za(E,o.uid,o._uintid,this.store),M.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(o._videoTrack.getTrackId()))),f&&o._videoTrack._updateRtpTransceiver(f),this.bindRemoteTrackEvents(o,o._videoTrack));const C=this.remoteUserMap.get(o);C?C.set(a,g):this.remoteUserMap.set(o,new Map([[a,g]])),this.statsCollector.addRemoteStats(o.uid),this.statsUploader.startUploadInboundStats();const T=this.pendingRemoteTracks.findIndex(Q=>{let{user:U,kind:_}=Q;return U.uid===o.uid&&a===_});T!==-1&&(this.pendingRemoteTracks.splice(T,1),this.emit(je.MediaReconnectEnd,o.uid))})}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter(a=>{let{user:d,kind:l}=a;return t!==void 0?d.uid===e.uid&&t===l:d.uid===e.uid});if(r.forEach(a=>{const d=this.pendingRemoteTracks.indexOf(a);this.pendingRemoteTracks.splice(d,1)}),this.connection&&this.state===Et.Connected||n||r.forEach(a=>{let{kind:d}=a;var l;if(d===Ne.AUDIO)(l=e._audioTrack)===null||l===void 0||l._destroy(),e._audioTrack=void 0;else if(d===Ne.VIDEO){var E;(E=e._videoTrack)===null||E===void 0||E._destroy(),e._videoTrack=void 0}}),!this.connection||this.state!==Et.Connected)return;const s=this.filterTobeUnSubscribedTracks(e,t);if(s.length===0)return;await this.connection.stopReceiving(s.map(a=>{let[,{id:d}]=a;return d}));const o=this.createUnsubscribeMessage(s);return this.withdrawRemoteTracks(s),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),s.forEach(a=>{let[d,{kind:l}]=a;var E,g;if(l===Ne.VIDEO&&d._videoSSRC&&((E=this.connection)===null||E===void 0||E.setStatsRemoteVideoIsReady(d._videoSSRC,!1)),l===Ne.VIDEO)this.unbindRemoteTrackEvents(d._videoTrack),n||((g=d._videoTrack)===null||g===void 0||g._destroy(),d._videoTrack=void 0);else if(l===Ne.AUDIO){var f;this.unbindRemoteTrackEvents(d._audioTrack),!n&&((f=d._audioTrack)===null||f===void 0||f._destroy(),d._audioTrack=void 0)}}),o}async unsubscribeDataChannel(e,t){if(t.forEach(s=>{const o=this.pendingRemoteDataChannels.findIndex(a=>a.id===s.id);o!==-1&&this.pendingRemoteDataChannels.splice(o,1)}),!this.connection)return;const n=this.filterTobeUnSubscribedDataChannels(e,t);if(n.length===0)return;t.forEach(s=>{s._close()});const r=this.remoteDataChannelMap.get(e);return n.forEach(s=>{r&&r.delete(s.id)}),r&&r.size===0&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),n.map(s=>s.id)}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:s,mediaType:o}of e){const a=this.pendingRemoteTracks.filter(d=>{let{user:l,kind:E}=d;return o!==void 0?l.uid===s.uid&&o===E:l.uid===s.uid});a.forEach(d=>{const l=this.pendingRemoteTracks.indexOf(d);this.pendingRemoteTracks.splice(l,1)}),t=t.concat(a)}if(!this.connection||this.state!==Et.Connected)return void t.forEach(s=>{let{user:o,kind:a}=s;var d;if(a===Ne.AUDIO)(d=o._audioTrack)===null||d===void 0||d._destroy(),o._audioTrack=void 0;else if(a===Ne.VIDEO){var l;(l=o._videoTrack)===null||l===void 0||l._destroy(),o._videoTrack=void 0}});const n=Mr(e).call(e,(s,o)=>{let{user:a,mediaType:d}=o;const l=this.filterTobeUnSubscribedTracks(a,d);return s.concat(l)},[]);if(n.length===0)return;await this.connection.stopReceiving(n.map(s=>{let[,{id:o}]=s;return o}));const r=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),n.forEach(s=>{let[o,{kind:a}]=s;var d,l;if(a===Ne.VIDEO&&o._videoSSRC&&((d=this.connection)===null||d===void 0||d.setStatsRemoteVideoIsReady(o._videoSSRC,!1)),a===Ne.VIDEO)this.unbindRemoteTrackEvents(o._videoTrack),(l=o._videoTrack)===null||l===void 0||l._destroy(),o._videoTrack=void 0;else if(a===Ne.AUDIO){var E;this.unbindRemoteTrackEvents(o._audioTrack),(E=o._audioTrack)===null||E===void 0||E._destroy(),o._audioTrack=void 0}}),r}isPreSubScribe(e){return!this.connection||this.state!==Et.Connected?!1:!!this.connection.getPreMedia(e)}async muteRemote(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void M.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void M.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const r=t===Ne.VIDEO?e._videoSSRC:e._audioSSRC;r!==void 0&&this.connection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void M.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid,"."));n.get(t)||M.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."))}getAllTracks(e){const t=this.localTrackMap.get(se.LocalAudioTrack);if((t==null?void 0:t.track)instanceof Ii){const n=t.track;return Array.from(this.localTrackMap.entries()).filter(r=>{let[s]=r;return s!==se.LocalAudioTrack}).filter(r=>{let[s]=r;return!(e&&s===se.LocalVideoLowTrack)}).map(r=>{let[,{track:s}]=r;return s}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(n=>{let[r]=n;return!(e&&r===se.LocalVideoLowTrack)}).map(n=>{let[,{track:r}]=n;return r})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,n,r,s){if(e){const a=this.localTrackMap.get(se.LocalAudioTrack),d=r?this.localTrackMap.get(se.LocalVideoLowTrack):this.localTrackMap.get(se.LocalVideoTrack);ve.publish(this.store.sessionId,{eventElapse:Vi.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:a==null?void 0:a.track.getTrackLabel(),videoName:d==null?void 0:d.track.getTrackLabel(),screenshare:(d==null?void 0:d.track._hints.indexOf(Bt.SCREEN_TRACK))!==-1,audio:!!a,video:!!d,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:s})}else{var o;n||(n=[]);const a=n.find(l=>l instanceof Wt),d=r?(o=this.localTrackMap.get(se.LocalVideoTrack))===null||o===void 0?void 0:o.track:n.find(l=>l instanceof Qt);ve.publish(this.store.sessionId,{eventElapse:Vi.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:a==null?void 0:a.getTrackLabel(),videoName:d==null?void 0:d.getTrackLabel(),screenshare:(d==null?void 0:d._hints.indexOf(Bt.SCREEN_TRACK))!==-1,audio:!!a,video:!!d,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:s})}}reportSubscribeEvent(e,t,n,r){const s=r===Ne.VIDEO?n._videoSSRC:n._audioSSRC;s&&ve.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===Ne.VIDEO,audio:r===Ne.AUDIO,peerid:n.uid,subscribeRequestid:s,p2pid:this.store.p2pId,eventElapse:Vi.measureFromSubscribeStart(this.store.clientId,s),preSsrc:this.isPreSubScribe(s)})}reset(){M.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new Oi("P2PChannel-mutex",this.store.clientId),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new ac({},this.store):new jr({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(se.LocalAudioTrack);if((e==null?void 0:e.track)instanceof Ii){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach(n=>{t.removeAudioTrack(n)})}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Et.Disconnected}getStats(){var e;return(e=this.connection)===null||e===void 0?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return((t=this.connection)===null||t===void 0?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(se.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(se.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Qt||t&&t.track instanceof Wt?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(wn(t=this.remoteUserMap).call(t)).find(r=>r.uid===e);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map(n=>{let[r]=n;return{uid:r.uid,level:r.audioTrack?100*r.audioTrack._source.getAccurateVolumeLevel():0}});const t=this.localTrackMap.get(se.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=NA(e).call(e,(n,r)=>n.level-r.level),e}async disconnectForReconnect(){this.connection&&(M.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=Et.Reconnecting,L("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&((n=t._videoTrack._player.getVideoElement())===null||n===void 0||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new ac({},this.store):new jr({},this.store),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(e=>{var t;let[n,{track:r}]=e;switch(n){case se.LocalVideoTrack:ge(t=r._hints).call(t,Bt.LOW_STREAM)?r.close():this.pendingLocalTracks.push(r);break;case se.LocalAudioTrack:r instanceof Ii?this.pendingLocalTracks=this.pendingLocalTracks.concat(r.trackList):this.pendingLocalTracks.push(r);case se.LocalVideoLowTrack:}}),this.emit(je.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;Array.from(wn(n).call(n)).forEach(r=>{this.setPendingRemoteMedia(t,r)}),this.emit(je.MediaReconnectStart,t.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach(e=>{this.pendingLocalDataChannels.push(e)}),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach(e=>{let[t,n]=e;Array.from(wn(n).call(n)).forEach(r=>{this.setPendingRemoteDataChannel(t,r)})}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),M.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(e,t){for(const n of this.pendingRemoteDataChannels){const{user:r,id:s}=n;if((e instanceof Xs?e.uid:e)===r.uid&&s===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:s}=n;if((e instanceof Xs?e.uid:e)===r.uid&&t===s)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return Jn(function*(){if(!t.connection||t.state!==Et.Connected)return;const n=yield it(t.mutex.lock("From P2PChannel.restartICE"));let r;try{r=yield it(t.connection.restartICE(e));const o=yield it(r.next());if(o.done)return;const a=o.value,d=yield a;switch(t.reportPCDisconnectedOrFailed(e),e){case Cn.TCP:t._pcStatsUploadType=ps.TCP_RESTART;break;case Cn.RELAY:t._pcStatsUploadType=ps.RELAY_RESTART;break;default:t._pcStatsUploadType=ps.OLD_RESTART}t._isInRestartIce=!0,r.next(d)}catch(o){var s;(s=r)===null||s===void 0||s.throw(o)}finally{n()}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(se.LocalVideoTrack),n=this.localTrackMap.get(se.LocalAudioTrack),r=e.videoSend.find(T=>T.ssrc===(t==null?void 0:t.ssrcs[0].ssrcId)),s=e.audioSend.find(T=>T.ssrc===(n==null?void 0:n.ssrcs[0].ssrcId));if(!r||!s)return 1;const o=Hn(this,je.NeedSignalRTT),a=r?r.rttMs:void 0,d=s?s.rttMs:void 0,l=a&&d?(a+d)/2:a||d,E=(l&&o?(l+o)/2:l||o)||0,g=100*e.sendPacketLossRate*.7/50+.3*E/1500,f=g<.17?1:g<.36?2:g<.59?3:g<.1?4:5,C=t==null?void 0:t.track;if(C&&C._encoderConfig&&C._hints.indexOf(Bt.SCREEN_TRACK)===-1){const T=C._encoderConfig.bitrateMax,Q=e.bitrate.actualEncoded;if(T&&Q){const U=(1e3*T-Q)/(1e3*T);return gS[U<.15?0:U<.3?1:U<.45?2:U<.6?3:4][f]}}return f}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[r]=n;const s=r._audioSSRC,o=r._videoSSRC,a=e.audioRecv.find(Q=>Q.ssrc===s),d=e.videoRecv.find(Q=>Q.ssrc===o);if(!a&&!d)return void(t+=1);const l=Hn(this,je.NeedSignalRTT),E=e.rtt,g=(E&&l?(E+l)/2:E||l)||0,f=a?a.jitterMs:void 0,C=e.recvPacketLossRate;let T=.7*C*100/50+.3*g/1500;f&&(T=.6*C*100/50+.2*g/1500+.2*f/400),t+=T<.1?1:T<.17?2:T<.36?3:T<.59?4:5}),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Ie((t,n)=>{this.handleMuteLocalTrack(e,t,n)})}async replaceTrack(e,t){var n;if(M.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(e.getTrackId(),"] to [").concat(t.getTrackId(),"]")),!this.connection||this.state!==Et.Connected)return;const r=Array.from(this.localTrackMap.entries()).find(o=>{let[,{track:a}]=o;return e===a});if(!r)return;const s=r[0];if(e!==t&&(this.unbindLocalTrackEvents([{track:e,type:s}]),this.bindLocalTrackEvents([{track:t,type:s}]),r[1].track=t),await((n=this.connection)===null||n===void 0?void 0:n.replaceTrack(t,r[1].id)),this.isPlanB){const o=r[1];o.id=t._mediaStreamTrack.id,this.localTrackMap.set(s,o)}if(s===se.LocalVideoTrack&&!L("DISABLE_DUAL_STREAM_USE_ENCODING")&&ot().supportDualStreamEncoding){const o=this.localTrackMap.get(se.LocalVideoLowTrack);if(o){const a=e._mediaStreamTrack.clone();o.track._originMediaStreamTrack.stop(),o.track._mediaStreamTrack=a,o.track._originMediaStreamTrack=a,await new Ie((d,l)=>{this.handleReplaceTrack(o.track,d,l,!0)})}}}filterTobePublishedTracks(e,t,n){const r=[],s=this.getAllTracks();e=ma(e=e.filter(l=>s.indexOf(l)===-1));let o,a=!1;const d=this.localTrackMap.get(se.LocalAudioTrack);for(const l of e){if(l instanceof Qt&&(this.localTrackMap.has(se.LocalVideoTrack)||a?new $(j.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:l,type:se.LocalVideoTrack}),a=!0),t)){const E=this.getLowVideoTrack(l,n);r.push({track:E,type:se.LocalVideoLowTrack})}if(l instanceof Wt)if(d){const E=d.track;if(E instanceof Ii)wp([l]),E.addAudioTrack(l),this.bindLocalAudioTrackEvents(l,!0);else{const g=Bp([E,l]);M.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(g.getTrackId(),"]")),this.replaceTrack(E,g)}}else o instanceof Ii?(wp([l]),o.addAudioTrack(l)):o||!l._useAudioElement&&ot().webAudioMediaStreamDest&&!l._bypassWebAudio?o=Bp(o?[l,o]:[l]):o=l}return o&&(M.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(o.getTrackId(),"]")),r.push({track:o,type:se.LocalAudioTrack})),r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=ma(e=e.filter(r=>n.indexOf(r)!==-1));for(const r of e){if(r instanceof Wt){const s=this.localTrackMap.get(se.LocalAudioTrack);if(!s)continue;s.track instanceof Ii?(s.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),s.track.trackList.length===0&&(t.push([se.LocalAudioTrack,s]),s.track.close())):t.push([se.LocalAudioTrack,s])}if(r instanceof Qt){const s=this.localTrackMap.get(se.LocalVideoTrack);if(!s)continue;t.push([se.LocalVideoTrack,s]);const o=this.localTrackMap.get(se.LocalVideoLowTrack);o&&t.push([se.LocalVideoLowTrack,o])}}return t}filterTobePublishedDataChannels(e){return e=(e=ma(e)).filter(t=>this.localDataChannels.findIndex(n=>n.id===t.id)===-1)}filterTobeUnpublishedDataChannels(e){return e=(e=(e=ma(e)).filter(t=>this.localDataChannels.indexOf(t)!==-1)).filter(t=>t._originDataChannel)}bindLocalTrackEvents(e){e.forEach(t=>{let{track:n,type:r}=t;switch(r){case se.LocalVideoTrack:n.addListener(Te.GET_STATS,this.handleGetLocalVideoStats),n.addListener(Te.GET_RTC_STATS,this.handleGetRTCStats),n.addListener(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(Te.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.addListener(Te.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.addListener(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.addListener(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case se.LocalAudioTrack:this.bindLocalAudioTrackEvents(n);case se.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(e,t){e instanceof Ii?e.trackList.forEach(n=>{n.addListener(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(Te.GET_STATS,this.handleGetLocalAudioStats),n.addListener(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.addListener(Te.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(Te.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map(t=>{let[n,{track:r}]=t;return{track:r,type:n}})),e.forEach(t=>{let{track:n,type:r}=t;switch(r){case se.LocalVideoTrack:n.off(Te.GET_STATS,this.handleGetLocalVideoStats),n.off(Te.GET_RTC_STATS,this.handleGetRTCStats),n.off(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.off(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.off(Te.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.off(Te.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.off(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.off(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.off(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case se.LocalAudioTrack:this.unbindLocalAudioTrackEvents(n);case se.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(e){e instanceof Ii?e.trackList.forEach(t=>{t.off(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Te.GET_STATS,this.handleGetLocalAudioStats),t.off(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.off(Te.GET_STATS,this.handleGetLocalAudioStats),e.off(Te.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Te.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Te.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Te.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off(Te.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Te.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof za&&t.addListener(Te.GET_STATS,n=>{n(this.handleGetRemoteVideoStats(e))}),t instanceof xa&&t.addListener(Te.GET_STATS,n=>{n(this.handleGetRemoteAudioStats(e))})}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Te.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;n.has(Ne.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(Ne.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)})}createGatewayPublishMessage(e,t){return e.map((n,r)=>{var s;let o,a,{track:d,type:l}=n;switch(l){case se.LocalAudioTrack:o=ut.Audio,a={dtx:d instanceof Nl&&d._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case se.LocalVideoTrack:o=ge(s=d._hints).call(s,Bt.SCREEN_TRACK)?ut.Screen:ut.High,a=is(is({},bS(d)),{},{codec:this.store.codec,svc_mode:Ap()});break;case se.LocalVideoLowTrack:o=ut.Low,a=is(is({},bS(d)),{},{codec:this.store.codec,svc_mode:Ap()})}return{stream_type:o,attributes:a,ssrcs:t[r]}})}createGatewayUnpublishMessage(e){return e.map(t=>{var n;let r,[s,{track:o,ssrcs:a,id:d}]=t;switch(s){case se.LocalVideoTrack:r=ge(n=o._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoLowTrack:r=ut.Low}return{stream_type:r,ssrcs:a,mid:d}})}assignLocalTracks(e,t){e.forEach((n,r)=>{let{track:s,type:o}=n;this.localTrackMap.set(o,{track:s,id:t[r].id,ssrcs:t[r].localSSRC})})}withdrawLocalTracks(e){e.forEach(t=>{let[n]=t;this.localTrackMap.delete(n)})}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(t,")")),this.emit(je.PeerConnectionStateChange,t),t!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),t==="connected"&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),L("NEW_ICE_RESTART")){var n;if(ge(n=this._restartStates).call(n,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const r=a=>{(e.iceConnectionState==="disconnected"||e.iceConnectionState==="checking"||e.iceConnectionState==="failed")&&(M.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(a)),Hn(this,je.QueryClientConnectionState)==="CONNECTED"&&this.emit(je.RequestRestartICE,a))},s=()=>{e.iceConnectionState!=="disconnected"&&e.iceConnectionState!=="checking"&&e.iceConnectionState!=="failed"||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),M.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout(()=>this.emit(je.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},o=L("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout(()=>{if(L("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&ot().supportPCSetConfiguration)r(Cn.RELAY),this._restartTimer=window.setTimeout(s,o);else if(Gt())r(Cn.UDP),this._restartTimer=window.setTimeout(s,4e3);else{if(r(Cn.TCP),ot().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{r(Cn.RELAY),this._restartTimer=window.setTimeout(s,o)},o));this._restartTimer=window.setTimeout(s,o)}},800))}}else{if(t==="disconnected"&&e.iceConnectionState==="disconnected")return setTimeout(()=>{e.iceConnectionState==="disconnected"&&L("ICE_RESTART")&&Hn(this,je.QueryClientConnectionState)==="CONNECTED"&&this.emit(je.RequestRestartICE)},800),void setTimeout(()=>{e.peerConnectionState==="disconnected"&&(M.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(je.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);t==="failed"&&(M.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(je.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=t=>{t!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(t,")")),ve.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:t,tag:zt.TRACER}).onSuccess(),this.emit(je.IceConnectionStateChange,t)},e.onICETransportStateChange=t=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(t,")"))},e.onDTLSTransportStateChange=t=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(t,")"))},e.onDTLSTransportError=t=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(t,")"))},e.onFirstAudioDecoded=t=>{var n;const r=Array.from(wn(n=this.remoteUserMap).call(n)).find(o=>o._audioSSRC===t);var s;r&&(this.store.subscribe(r.uid,"audio",void 0,void 0,void 0,Date.now()),(s=r.audioTrack)===null||s===void 0||s.emit(Oa.FIRST_FRAME_DECODED),ve.firstRemoteFrame(this.store.sessionId,wi.FIRST_AUDIO_DECODE,Lt.FIRST_AUDIO_DECODE,{peer:r._uintid,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=t=>{var n;const r=Array.from(wn(n=this.remoteUserMap).call(n)).find(s=>s._audioSSRC===t);r&&ve.firstRemoteFrame(this.store.sessionId,wi.FIRST_AUDIO_RECEIVED,Lt.FIRST_AUDIO_RECEIVED,{peer:r._uintid,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(t,n,r)=>{this.reportVideoFirstFrameDecoded(t,n,r)},e.onFirstVideoReceived=t=>{var n;const r=Array.from(wn(n=this.remoteUserMap).call(n)).find(s=>s._videoSSRC===t);r&&ve.firstRemoteFrame(this.store.sessionId,wi.FIRST_VIDEO_RECEIVED,Lt.FIRST_VIDEO_RECEIVED,{peer:r._uintid,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(t,n)=>{const r=t.candidateType==="relay",s=n.candidateType==="relay";n.candidateType!=="unknown"&&r===s||this.emit(je.ConnectionTypeChange,r),M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Gs(n))," -> ").concat(JSON.stringify(Gs(t)),")"))},e.onSelectedRemoteCandidateChanged=(t,n)=>{M.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Gs(n))," -> ").concat(JSON.stringify(Gs(t)),")"))},e.onFirstVideoDecodedTimeout=t=>{this.reportVideoFirstFrameDecoded(t,void 0,void 0,!0)},e.getLocalVideoStats=()=>{const t=this.statsCollector.getLocalVideoTrackStats(),n=this.statsCollector.getRTCStats();return is(is({},t),n)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.getLocalVideoStats=void 0}filterTobeMutedTracks(e){const t=[];if(this.getAllTracks().indexOf(e)===-1)return t;const n=this.localTrackMap.get(se.LocalAudioTrack);if(e instanceof Wt&&(n==null?void 0:n.track)instanceof Ii)return n.track.isActive||t.push([se.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find(s=>{let[,{track:o}]=s;return e===o});if(r&&(t.push(r),r[0]===se.LocalVideoTrack)){const s=this.localTrackMap.get(se.LocalVideoLowTrack);s&&t.push([se.LocalVideoLowTrack,s])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(se.LocalAudioTrack);if(e instanceof Wt&&(n==null?void 0:n.track)instanceof Ii)return n.track.isActive&&t.push([se.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find(s=>{let[,{track:o}]=s;return e===o});if(r)if(r[0]===se.LocalVideoTrack){t.push(r);const s=this.localTrackMap.get(se.LocalVideoLowTrack);s&&t.push([se.LocalVideoLowTrack,s])}else t.push(r);return t}createMuteMessage(e){return e.map(t=>{var n;let r,[s,{track:o,ssrcs:a,id:d}]=t;switch(s){case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoTrack:r=ge(n=o._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalVideoLowTrack:r=ut.Low}return{stream_type:r,ssrcs:a,mid:d}})}createUnmuteMessage(e){return e.map(t=>{var n;let r,[s,{track:o,ssrcs:a,id:d}]=t;switch(s){case se.LocalAudioTrack:r=ut.Audio;break;case se.LocalVideoTrack:r=ge(n=o._hints).call(n,Bt.SCREEN_TRACK)?ut.Screen:ut.High;break;case se.LocalVideoLowTrack:r=ut.Low}return{stream_type:r,ssrcs:a,mid:d}})}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const s=r.get(t);if(!s)return n;n.push([e,{kind:t,id:s}])}else Array.from(r.entries()).forEach(s=>{let[o,a]=s;n.push([e,{kind:o,id:a}])});return n}filterTobeUnSubscribedDataChannels(e,t){const n=[];return t.forEach(r=>{var s;(s=this.remoteDataChannelMap.get(e))!==null&&s!==void 0&&s.has(r.id)&&n.push(r)}),n}createUnsubscribeMessage(e){const t=[];return e.forEach(n=>{let[r,{kind:s,id:o}]=n;switch(s){case Ne.VIDEO:return void(r._videoSSRC&&t.push({stream_type:Ne.VIDEO,ssrcId:r._videoSSRC}));case Ne.AUDIO:return void(r._audioSSRC&&t.push({stream_type:Ne.AUDIO,ssrcId:r._audioSSRC}))}}),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach(n=>{let[r,{kind:s}]=n;if(t.has(r)){let o=t.get(r);s===Ne.VIDEO?o|=Ti.Video:o|=Ti.Audio,t.set(r,o)}else s===Ne.VIDEO?t.set(r,Ti.Video):t.set(r,Ti.Audio)}),{users:Array.from(t.entries()).map(n=>{let[r,s]=n;return{stream_id:r.uid,stream_type:s}})}}withdrawRemoteTracks(e){e.forEach(t=>{let[n,{kind:r}]=t;const s=this.remoteUserMap.get(n);s&&(s.delete(r),Array.from(s.entries()).length===0&&this.remoteUserMap.delete(n))})}async updateBitrateLimit(e){const t=this.localTrackMap.get(se.LocalVideoTrack),n=this.localTrackMap.get(se.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!=="connected":!0}mapPubResToRemoteConfig(e,t,n){return e.map((r,s)=>{var o;let{stream_type:a}=r;const d=(o=t.find(l=>{let{stream_type:E}=l;return a===E}))===null||o===void 0?void 0:o.attributes;if(d&&L("DISABLE_SCREEN_SHARE_REMB")){const l=n[s]._hints;(ge(l).call(l,Bt.SCREEN_TRACK)||ge(l).call(l,Bt.SCREEN_LOW_TRACK))&&(d.remb=!1,M.debug("disable remb for screen share, hints:",l))}return d})}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof Wt){var t;const r=this.filterTobeUnmutedTracks(e[n]);if(r.length===0)continue;await((t=this.connection)===null||t===void 0?void 0:t.unmuteLocal(r.map(o=>{let[,{id:a}]=o;return a})));const s=this.createUnmuteMessage(r);return void await St(this,je.RequestUnmuteLocal,s)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!((t=this.connection)===null||t===void 0||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(je.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(je.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await yi(ng(this.dtlsFailedCount,hi)),this.emit(je.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await bi(this,je.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(je.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(se.LocalVideoTrack)||this.pendingLocalTracks.some(e=>e instanceof Qt)}throwIfTrackTypeNotMatch(e){if(e.filter(t=>t instanceof Qt).length>1)throw new $(j.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter(t=>t instanceof Wt).length>1&&(e.some(t=>t instanceof Wt&&t._bypassWebAudio)||!ot().webAudioMediaStreamDest))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof Qt&&this.pendingLocalTracks.some(n=>n instanceof Qt))throw new $(j.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof Wt&&this.pendingLocalTracks.some(n=>n instanceof Wt)&&(!ot().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some(n=>n instanceof Wt&&n._bypassWebAudio)))throw new $(j.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){var n;const r=!L("DISABLE_DUAL_STREAM_USE_ENCODING")&&ot().supportDualStreamEncoding,s=is(is({},{width:160,height:120,framerate:15,bitrate:50}),t);let o;o=r?e._mediaStreamTrack.clone():yp(e,s);const a=wt(8,"track-low-"),d=new Qt(o,is(is({},r&&{scaleResolutionDownBy:Ng(s,e)}),{},{frameRate:s.framerate,bitrateMax:s.bitrate,bitrateMin:s.bitrate}),void 0,void 0,a);return d.on(Bo.TRANSCEIVER_UPDATED,l=>{e._updateRtpTransceiver(l,Ya.LOW_STREAM)}),d._hints.push(Bt.LOW_STREAM),ge(n=e._hints).call(n,Bt.SCREEN_TRACK)&&d._hints.push(Bt.SCREEN_LOW_TRACK),e.on("sei-to-send",l=>{d.emit("sei-to-send",l)}),e.addListener(Te.NEED_CLOSE,()=>{d.close()}),d}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof jr){var s,o,a,d;const l=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:E,dtlsTransportState:g,peerConnectionState:f}=this.connection,{local:C,remote:T}=await this.connection.getSelectedCandidatePair();ve.pcStats(this.store.sessionId,{startTime:l,eventElapse:e-l||0,iceconnectionsate:E,dtlsstate:g,connectionstate:f,intSucc:t?1:2,error:r,selectedLocalCandidateProtocol:(s=C==null?void 0:C.protocol)!==null&&s!==void 0?s:"",selectedLocalCandidateType:(o=C.candidateType)!==null&&o!==void 0?o:"",selectedLocalCandidateAddress:"".concat(C.address,":").concat(C.port),selectedRemoteCandidateProtocol:(a=T.protocol)!==null&&a!==void 0?a:"",selectedRemoteCandidateType:(d=T.candidateType)!==null&&d!==void 0?d:"",selectedRemoteCandidateAddress:"".concat(T.address,":").concat(T.port),restartCnt:n,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(e,t,n,r){var s;const o=Array.from(wn(s=this.remoteUserMap).call(s)).find(a=>a._videoSSRC===e);if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const a=this.store.keyMetrics,d=a.subscribe.find(l=>l.userId===o.uid&&l.type==="video");ve.firstRemoteVideoDecode(this.store.sessionId,wi.FIRST_VIDEO_DECODE,Lt.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:Vi.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:a.requestAPEnd||0,apStart:a.requestAPStart||0,joinGwEnd:a.joinGatewayEnd||0,joinGwStart:a.joinGatewayStart||0,pcEnd:a.peerConnectionEnd||0,pcStart:a.peerConnectionStart||0,subscriberEnd:(d==null?void 0:d.subscribeEnd)||0,subscriberStart:(d==null?void 0:d.subscribeStart)||0,videoAddNotify:(d==null?void 0:d.streamAdded)||0,state:r?1:0,firstFrame:(d==null?void 0:d.firstFrame)||0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const s=r.get(t);if(!s)return!1;const o=await this.connection.getRemoteSSRC(s);return o!==void 0&&o!==n}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(e=>{let[t,{track:n}]=e;t===se.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,Ya.LOW_STREAM):n._updateRtpTransceiver(void 0)})}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof jr&&(this.connection.iceConnectionState!=="disconnected"&&this.connection.iceConnectionState!=="checking"&&this.connection.iceConnectionState!=="failed"||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===ps.TCP_RESTART&&e===Cn.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,ps.DISCONNECTED_OR_FAILED)))}},Se(Ze.prototype,"startP2PConnection",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"startP2PConnection"),Ze.prototype),Se(Ze.prototype,"connect",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"connect"),Ze.prototype),Se(Ze.prototype,"updateRemoteRTPCapabilities",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"updateRemoteRTPCapabilities"),Ze.prototype),Se(Ze.prototype,"publishDataChannel",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"publishDataChannel"),Ze.prototype),Se(Ze.prototype,"unpublish",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"unpublish"),Ze.prototype),Se(Ze.prototype,"unpublishDataChannel",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"unpublishDataChannel"),Ze.prototype),Se(Ze.prototype,"unpublishLowStream",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"unpublishLowStream"),Ze.prototype),Se(Ze.prototype,"subscribeDataChannel",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"subscribeDataChannel"),Ze.prototype),Se(Ze.prototype,"subscribe",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"subscribe"),Ze.prototype),Se(Ze.prototype,"massSubscribe",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"massSubscribe"),Ze.prototype),Se(Ze.prototype,"unsubscribe",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"unsubscribe"),Ze.prototype),Se(Ze.prototype,"unsubscribeDataChannel",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"unsubscribeDataChannel"),Ze.prototype),Se(Ze.prototype,"massUnsubscribe",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"massUnsubscribe"),Ze.prototype),Se(Ze.prototype,"muteRemote",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"muteRemote"),Ze.prototype),Se(Ze.prototype,"unmuteRemote",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"unmuteRemote"),Ze.prototype),Se(Ze.prototype,"hasRemoteMediaWithLock",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"hasRemoteMediaWithLock"),Ze.prototype),Se(Ze.prototype,"disconnectForReconnect",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"disconnectForReconnect"),Ze.prototype),Se(Ze.prototype,"updateBitrateLimit",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"updateBitrateLimit"),Ze.prototype),Se(Ze.prototype,"remoteMediaSsrcChanged",[Ji],Object.getOwnPropertyDescriptor(Ze.prototype,"remoteMediaSsrcChanged"),Ze.prototype),Ze);function Ji(e,t,n){const r=e[t];if(typeof r!="function")throw new Error("Cannot use mutex on object property.");return n.value=async function(){const s=this.mutex,o=await s.lock("From P2PChannel.".concat(t));try{for(var a=arguments.length,d=new Array(a),l=0;l<a;l++)d[l]=arguments[l];return await r.apply(this,d)}finally{o()}},n}const zB={};function dc(e){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&M.debug("install service ".concat(e.name)),zB[e.name]=e}function lc(e){const t=zB[e];if(!t)throw new $(j.INVALID_OPERATION,"".concat(e," not found, please use AgoraRTC.use(").concat(e,"Service) to load it first"));return t}function xB(e,t){return lc("DataStream").create(e,t)}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function JB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const jG=Date.now(),OG=20,vp=new Map,xl=new Map;async function HB(e){const t=vp.get(e),n=Array.isArray(t)&&t[t.length-1],r=xl.get(e);if(!n)return void(r.isSyncing=!1);const s={uid:n.uid,payload:n.payload};r.firstRecvTs===0&&(r.firstRecvTs=n.recvTs,r.firstSendTs=n.sendTs);const o=n.sendTs-r.firstSendTs,a=o-(Date.now()-r.firstRecvTs);a>0&&(r.firstRecvTs=Date.now()-o);let d=n.mediaDelay+a;d<=0?(t.pop(),ZB(n.context,s),d=0):d=Math.min(d,OG),setTimeout(()=>t.length&&HB(e),d)}function ZB(e,t){e.safeEmit($e.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function PG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return ZB(n,{uid:e.uid,payload:e.payload});const r="".concat(n.id,"-").concat(e.uid),s=vp.get(r)||[],o=s.findIndex(E=>e.sendTs>=E.sendTs),a=JB(JB({},e),{},{context:n,mediaDelay:t,recvTs:Date.now()});o===-1?s.push(a):s.splice(o,0,a),vp.set(r,s);let d=!1;var l;xl.has(r)?d=!((l=xl.get(r))===null||l===void 0||!l.isSyncing):xl.set(r,{isSyncing:d,firstRecvTs:0,firstSendTs:0}),d||HB(r)}const VG=st().name;function XB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function KB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $a="websdk_ng_cache_parameter",LG=L("MAX_PRELOAD_ASYNC_LENGTH"),GG=1e4,Yo=new Map,jo=[];let _p=null,Fp=0,Qp=0;const Wl=new Map,zG=function(e,t){const n=[];let r=0;const s=async()=>{const o=n.shift();o&&await o(),n.length>0&&r<t?s():r--};return async function(){for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return new Ie(async(l,E)=>{n.push(async()=>{try{const g=await e(...a);l(g)}catch(g){E(g)}}),r<t&&(r++,s())})}}(qB,LG),bp=sn.CancelToken.source();async function qB(e,t,n,r,s,o){try{if(!L("ENABLE_PRELOAD"))return;if(!ot().supportWebCrypto)return void js(()=>{M.warn("Your browser does not support preloading, this feature  be run in a secure environment")},"preload_webcrypto_not_supported");if(!n&&n!==null)throw new $(j.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&Mi(n,"token",1,2047),Mi(e,"appid",1,2047),sl(t),r&&ol(r);const a=Ca();M.debug("preload channel ".concat(t,", uid is ").concat(r));const d={appId:e,cname:t,token:n||e,uid:typeof r!="string"?r:null,sid:a,proxyServer:s};let l,E;typeof r=="string"?(d.stringUid=r,[E,l]=await Ie.all([pG(r,{sid:a,appId:e},bp.token),zw(KB(KB({},d),{},{token:n||e,uid:0}),bp.token)]),d.uid=E.uid,l.gatewayInfo.uid=d.uid,l.gatewayInfo.res.uid=d.uid):(o&&(d.stringUid=o),l=await zw(d,bp.token));const g={sid:a,appId:e,cname:t,token:n||e,uid:d.stringUid||r,intUid:d.uid||l.gatewayInfo.uid,stringUid:d.stringUid,ts:Date.now(),sua:E,ap:l};await async function(f){let C;try{f.uid&&eU({appId:f.appId,cname:f.cname,token:f.token,uid:f.uid,stringUid:f.stringUid});const T=rU(f),Q=await async function(_,b){try{const Y=await window.crypto.subtle.importKey("raw",KN(b),"AES-GCM",!1,["encrypt"]),G=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},Y,Ro(window.btoa(JSON.stringify(_))));return Os(new Uint8Array(G))}catch{return}}(f,f.token||f.appId);if(!Q)return;C=nU($a);const U=C?JSON.parse(C):[];U.push({[T]:Q}),U.length>L("AP_CACHE_NUM")&&U.shift(),Jl($a,JSON.stringify(U))}catch(T){M.warn("Error caching server parameters:",T.message),Jl($a,"")}}(g),Fp++}catch(a){throw Qp++,function(d){_p||(_p=window.setTimeout(()=>{let E="";Wl.forEach((g,f)=>{E+="".concat(f,": ").concat(g," ;")}),ve.reportApiInvoke(null,{name:gi.PRELOAD,options:{success:Fp,failed:Qp,err:E}}).onError(d),Fp=0,Qp=0,Wl.clear(),_p=null},GG));const l=Wl.get(d.code)||0;Wl.set(d.code,l+1)}(a),a}}async function $B(e){try{if(L("AP_REQUEST_DETAIL"))return;const t=eU(e);if(!t||e.cloudProxyServer!=="disabled")return;const n=await async function(r,s){try{const o=await window.crypto.subtle.importKey("raw",KN(s),"AES-GCM",!1,["decrypt"]),a=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},o,Ro(r));return JSON.parse(window.atob(Os(new Uint8Array(a))))}catch{return}}(t,e.token||e.appId);if(!n||!function(r,s){return r.cname===s.cname&&r.appId===s.appId&&r.token===s.token?s.stringUid?r.stringUid===s.stringUid:typeof s.uid=="number"?r.uid===s.uid:r.uid==s.uid:!1}(n,e))return;if(n&&Date.now()-n.ts<L("AP_CACHE_LIFETIME"))return n}catch(t){M.warn("Error get preloadInfo",t.message)}}function eU(e){let t;try{if(t=nU($a),!t)return;const n=JSON.parse(t),r=rU(e),s=function(a,d){for(let l=a.length-1;l>=0;l--)if(d(a[l]))return l;return-1}(n,a=>r in a);if(s===-1)return;const o=n.splice(s,1)[0];return Jl($a,JSON.stringify(n)),o[r]}catch(n){M.warn("Error delete preload info: ".concat(t),n.message),Jl($a,"")}}function Dp(e){if(e){let t=Yo.get(e);t&&(window.clearTimeout(t),t=null,Yo.delete(e)),ge(jo).call(jo,e)||e.cloudProxyServer!=="disabled"||jo.push(e)}if(Yo.size<L("AP_CACHE_NUM")&&jo.length>0){const t=jo.shift();Yo.set(t,window.setTimeout(async()=>{const{appId:n,cname:r,token:s,stringUid:o,uid:a,proxyServer:d}=t;try{await zG(n,r,s,a,d,o),Yo.has(t)&&Dp(t)}catch(l){M.warn("update preload failed",l.message),tU(t)}},L("AP_UPDATE_INTERVAL")))}}function tU(e){const t=jo.indexOf(e);t!==-1&&jo.splice(t,1);let n=Yo.get(e);n&&(window.clearTimeout(n),n=null,Yo.delete(e),Dp())}function iU(e,t){const n=e.sua,r=e.ap;t&&n&&ve.reqUserAccount(e.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:t,uid:e.intUid,errorCode:null,extend:n.req}),ve.reportResourceTiming(e.ap.url,e.sid),ve.joinWebProxyAP(e.sid,{lts:r.requestTime,elapse:r.elapse,sucess:1,apServerAddr:r.url,turnServerAddrList:r.proxyInfo.addresses.map(s=>s.ip).join(","),eventType:"disabled",unilbsServerIds:[oi.CHOOSE_SERVER,oi.CLOUD_PROXY_FALLBACK].toString()}),ve.joinChooseServer(e.sid,{lts:r.requestTime,elapse:r.elapse,succ:!0,csAddr:r.url,opid:r.opid,serverList:r.gatewayInfo.gatewayAddrs.map(s=>s.address),ec:null,cid:r.gatewayInfo.cid.toString(),uid:r.gatewayInfo.uid.toString(),csIp:r.gatewayInfo.csIp,unilbsServerIds:[oi.CHOOSE_SERVER].toString(),isHttp3:r.isHttp3})}function nU(e){return window.atob(window.localStorage.getItem(e)||"")}function Jl(e,t){window.localStorage.setItem(e,window.btoa(t))}function rU(e){let t="".concat(e.appId,"_").concat(e.cname);return typeof e.uid=="string"&&(t+="_s_".concat(e.uid)),typeof e.uid=="number"&&(t+="_".concat(e.uid)),e.token&&(t+="_".concat(e.token)),rS(t)}function xG(e){let t=function(){const n=HG.pop();return n?(n.offset=n.limit=0,n):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(n,r){let s=n.appId;s!==void 0&&(ci(r,10),qs(r,s));let o=n.cid;o!==void 0&&(ci(r,16),ci(r,o));let a=n.cname;a!==void 0&&(ci(r,26),qs(r,a));let d=n.deviceId;d!==void 0&&(ci(r,34),qs(r,d));let l=n.elapse;l!==void 0&&(ci(r,40),$s(r,l));let E=n.fileSize;E!==void 0&&(ci(r,48),$s(r,eA(E)));let g=n.height;g!==void 0&&(ci(r,56),$s(r,eA(g)));let f=n.jpg;f!==void 0&&(ci(r,66),ci(r,f.length),oU(r,f));let C=n.networkType;C!==void 0&&(ci(r,72),$s(r,eA(C)));let T=n.osType;T!==void 0&&(ci(r,80),$s(r,eA(T)));let Q=n.requestId;Q!==void 0&&(ci(r,90),qs(r,Q));let U=n.sdkVersion;U!==void 0&&(ci(r,98),qs(r,U));let _=n.sequence;_!==void 0&&(ci(r,104),$s(r,eA(_)));let b=n.sid;b!==void 0&&(ci(r,114),qs(r,b));let Y=n.timestamp;Y!==void 0&&(ci(r,120),$s(r,Y));let G=n.uid;G!==void 0&&(ci(r,128),ci(r,G));let W=n.vid;W!==void 0&&(ci(r,136),ci(r,W));let J=n.width;J!==void 0&&(ci(r,144),$s(r,eA(J)));let K=n.service;K!==void 0&&(ci(r,152),ci(r,K));let ne=n.callbackData;ne!==void 0&&(ci(r,162),ci(r,ne.length),oU(r,ne));let le=n.ticket;le!==void 0&&(ci(r,170),qs(r,le));let oe=n.vendorConfigs;oe!==void 0&&(ci(r,178),qs(r,oe))}(e,t),function(n){let r=n.bytes,s=n.limit;return r.length===s?r:r.subarray(0,s)}(t)}function WG(e){return function(n){let r={};e:for(;!ZG(n);){let s=hc(n);switch(s>>>3){case 0:break e;case 1:r.code=hc(n);break;case 2:r.msg=aU(n,hc(n));break;case 3:r.requestId=aU(n,hc(n));break;case 4:r.timestamp=XG(n,!1);break;default:JG(n,7&s)}}return r}({bytes:t=e,offset:0,limit:t.length});var t}function JG(e,t){switch(t){case 0:for(;128&Cr(e););break;case 2:kp(e,hc(e));break;case 5:kp(e,4);break;case 1:kp(e,8);break;default:throw new Error("Unimplemented type: "+t)}}function eA(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let HG=[];function kp(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function ZG(e){return e.offset>=e.limit}function Hl(e,t){let n=e.bytes,r=e.offset,s=e.limit,o=r+t;if(o>n.length){let a=new Uint8Array(2*o);a.set(n),e.bytes=a}return e.offset=o,o>s&&(e.limit=o),r}function sU(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function oU(e,t){let n=Hl(e,t.length);e.bytes.set(t,n)}function aU(e,t){let n=sU(e,t),r=String.fromCharCode,s=e.bytes,o="�",a="";for(let d=0;d<t;d++){let l,E,g,f,C=s[d+n];(128&C)==0?a+=r(C):(224&C)==192?d+1>=t?a+=o:(l=s[d+n+1],(192&l)!=128?a+=o:(f=(31&C)<<6|63&l,f<128?a+=o:(a+=r(f),d++))):(240&C)==224?d+2>=t?a+=o:(l=s[d+n+1],E=s[d+n+2],(49344&(l|E<<8))!=32896?a+=o:(f=(15&C)<<12|(63&l)<<6|63&E,f<2048||f>=55296&&f<=57343?a+=o:(a+=r(f),d+=2))):(248&C)==240?d+3>=t?a+=o:(l=s[d+n+1],E=s[d+n+2],g=s[d+n+3],(12632256&(l|E<<8|g<<16))!=8421504?a+=o:(f=(7&C)<<18|(63&l)<<12|(63&E)<<6|63&g,f<65536||f>1114111?a+=o:(f-=65536,a+=r(55296+(f>>10),56320+(1023&f)),d+=3))):a+=o}return a}function qs(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let d=t.charCodeAt(a);d>=55296&&d<=56319&&a+1<n&&(d=(d<<10)+t.charCodeAt(++a)-56613888),r+=d<128?1:d<2048?2:d<65536?3:4}ci(e,r);let s=Hl(e,r),o=e.bytes;for(let a=0;a<n;a++){let d=t.charCodeAt(a);d>=55296&&d<=56319&&a+1<n&&(d=(d<<10)+t.charCodeAt(++a)-56613888),d<128?o[s++]=d:(d<2048?o[s++]=d>>6&31|192:(d<65536?o[s++]=d>>12&15|224:(o[s++]=d>>18&7|240,o[s++]=d>>12&63|128),o[s++]=d>>6&63|128),o[s++]=63&d|128)}}function Cr(e){return e.bytes[sU(e,1)]}function AU(e,t){let n=Hl(e,1);e.bytes[n]=t}function hc(e){let t,n=0,r=0;do t=Cr(e),n<32&&(r|=(127&t)<<n),n+=7;while(128&t);return r}function ci(e,t){for(t>>>=0;t>=128;)AU(e,127&t|128),t>>>=7;AU(e,t)}function XG(e,t){let n,r=0,s=0,o=0;return n=Cr(e),r=127&n,128&n&&(n=Cr(e),r|=(127&n)<<7,128&n&&(n=Cr(e),r|=(127&n)<<14,128&n&&(n=Cr(e),r|=(127&n)<<21,128&n&&(n=Cr(e),s=127&n,128&n&&(n=Cr(e),s|=(127&n)<<7,128&n&&(n=Cr(e),s|=(127&n)<<14,128&n&&(n=Cr(e),s|=(127&n)<<21,128&n&&(n=Cr(e),o=127&n,128&n&&(n=Cr(e),o|=(127&n)<<7))))))))),{low:r|s<<28,high:s>>>4|o<<24,unsigned:t}}function $s(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,s=t.high>>>24,o=s===0?r===0?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:s<128?9:10,a=Hl(e,o),d=e.bytes;switch(o){case 10:d[a+9]=s>>>7&1;case 9:d[a+8]=o!==9?128|s:127&s;case 8:d[a+7]=o!==8?r>>>21|128:r>>>21&127;case 7:d[a+6]=o!==7?r>>>14|128:r>>>14&127;case 6:d[a+5]=o!==6?r>>>7|128:r>>>7&127;case 5:d[a+4]=o!==5?128|r:127&r;case 4:d[a+3]=o!==4?n>>>21|128:n>>>21&127;case 3:d[a+2]=o!==3?n>>>14|128:n>>>14&127;case 2:d[a+1]=o!==2?n>>>7|128:n>>>7&127;case 1:d[a]=o!==1?128|n:127&n}}const cU={},dU={},Zl=4294967296,KG=Zl*Zl,qG=KG/2;hU(0,!0);const lU=hU(0),$G=uc(0,-2147483648,!1),ez=uc(-1,2147483647,!1);function hU(e,t){let n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=dU[e],r)?r:(n=uc(e,0,!0),s&&(dU[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=cU[e],r)?r:(n=uc(e,e<0?-1:0,!1),s&&(cU[e]=n),n)}function uc(e,t,n){return{low:0|e,high:0|t,unsigned:!!n}}function tz(e,t){if(isNaN(e))return lU;{if(e<=-9223372036854776e3)return $G;if(e+1>=qG)return ez}return e<0?lU:uc(e%Zl|0,e/Zl|0,t)}function uU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}class Yp extends Vt{get connectionState(){return this._connectionState}set connectionState(t){if(this._connectionState===t)return;const n=this._connectionState;this._connectionState=t,this.emit(_r.CONNECTION_STATE_CHANGE,t,n)}get quality(){return this._quality}set quality(t){this._quality=t>1?1:t<.1?.1:t,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(t){var n;super(),F(this,"name","AgoraRTCImageModeration"),F(this,"_connectionState",Kn.CONNECTING),F(this,"_sequence",0),F(this,"_moderationStartTime",void 0),F(this,"_workerConnection",void 0),F(this,"_workerMessageLengthLimit",void 0),F(this,"_qualityRatio",void 0),F(this,"_connectInfo",void 0),F(this,"_cancelTokenSource",sn.CancelToken.source()),F(this,"_retryConfig",void 0),F(this,"_moderationInterval",void 0),F(this,"_moderationTimer",null),F(this,"_moderationMode",1),F(this,"_quality",1),F(this,"_qualityTimer",null),F(this,"_ticket",void 0),F(this,"_moderationIntervalMinimum",void 0),F(this,"_uploadFailedNum",0),F(this,"_uploadNum",0),F(this,"_uploadTimer",null),F(this,"_extraInfo",void 0),F(this,"_vendor",""),F(this,"_encoder",new TextEncoder),F(this,"_moderationId",void 0),F(this,"inspectImage",()=>{if(this.connectionState!==Kn.CONNECTED)throw new X(j.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===Kn.CONNECTED?this.requestToInspectImage():M.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=wt(5,"image-moderation-"),this._workerMessageLengthLimit=L("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=L("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=(n=t.interval)!==null&&n!==void 0?n:1e3,t.extraInfo&&(this._extraInfo=this._encoder.encode(t.extraInfo)),t.vendor&&(this._vendor=t.vendor),this._qualityRatio=L("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new xA("worker-"+this._moderationId,hi),this.on(_r.STATE_CHANGE,(r,s)=>{M.debug("[".concat(this._moderationId,"] Moderation operation :").concat(Sa[r]," ").concat(s||""))}),this.handleWorkerEvents()}async init(t,n){this.emit(_r.STATE_CHANGE,Sa.CONNECT_AP),this._connectInfo=t;const r=this._cancelTokenSource.token;return this._retryConfig=n,new Ie((s,o)=>{this.on(_r.CONNECTION_STATE_CHANGE,(a,d)=>{a===Kn.CONNECTED&&s()}),this.requestAP(t,r,n).then(a=>{this.connectWorker(a)}).catch(a=>{o(a)})})}updateConfig(t){var n;this._moderationInterval=(n=t.interval)!==null&&n!==void 0?n:1e3,t.extraInfo&&(this._extraInfo=this._encoder.encode(t.extraInfo)),t.vendor&&(this._vendor=t.vendor),M.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(t))),this.connectionState===Kn.CONNECTED&&this.inspectImage()}async requestAP(t,n,r){const s=L("WEBCS_DOMAIN").map(l=>"https://".concat(l,"/api/v1")),o=await function(l,E,g,f){let{appId:C,areaCode:T,cname:Q,sid:U,token:_,uid:b}=E;Za++;const Y="moderation_plugin",G={service_name:Y,json_body:JSON.stringify({appId:C,areaCode:T,cname:Q,command:"allocateEdge",requestId:Za,seq:Za,sid:U,appToken:_,ts:Date.now(),uid:b+""})};let W,J,K=l[0];return vr(async()=>{W=Date.now();const ne=await br(K,{data:G,cancelToken:g,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(J=Date.now()-W,ne.code!==0){const ye=new X(j.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+ne.code,{retry:!0,responseTime:J});throw M.error(ye.toString()),ye}const le=JSON.parse(ne.json_body);if(le.code!==200){const ye=new X(j.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(le.code,", reason: ").concat(le.reason),{code:le.code,responseTime:J});throw M.error(ye.toString()),ye}if(!le.servers||!Array.isArray(le.servers)||le.servers.length===0){const ye=new X(j.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:le.code,responseTime:J});throw M.error(ye.toString()),ye}if(!le.servers.some(ye=>!!ye.wss)){const ye=new X(j.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:le.code,responseTime:J});throw M.error(ye.toString()),ye}const oe=L("IMAGE_MODERATION_WORKER_HOST");return{addressList:le.servers.map(ye=>{let{address:Xe,wss:lt}=ye;if(Xe&&lt)return"wss://".concat(Xe.replace(/\./g,"-"),".").concat(oe,":").concat(lt,"/moderation")}).filter(ye=>!!ye),workerToken:le.workerToken,vid:le.vid,ticket:le.appTicket,responseTime:J}},(ne,le)=>(ve.apworkerEvent(U,{success:!0,sc:200,serviceName:Y,responseDetail:JSON.stringify(ne.addressList),firstSuccess:le===0,responseTime:J,serverIp:l[le%l.length]}),!1),(ne,le)=>(ve.apworkerEvent(U,{success:!1,sc:ne.data&&ne.data.code||200,serviceName:Y,responseTime:J,serverIp:l[le%l.length]}),!!(ne.code!==j.OPERATION_ABORTED&&ne.code!==j.UNEXPECTED_RESPONSE||ne.data&&ne.data.retry)&&(K=l[(le+1)%l.length],!0)),f)}(s,t,n,r);this.emit(_r.STATE_CHANGE,Sa.AP_CONNECTED);const{addressList:a,ticket:d}=o;return this._ticket=d,a}async connectWorker(t){this.emit(_r.STATE_CHANGE,Sa.CONNECT_WORKER),await this._workerConnection.init(t,1e4)}handleWorkerEvents(){this._workerConnection.on(ze.CONNECTED,async()=>{this.emit(_r.STATE_CHANGE,Sa.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Kn.CONNECTED}),this._workerConnection.on(ze.CLOSED,()=>{this.connectionState=Kn.CLOSED}),this._workerConnection.on(ze.FAILED,()=>{this.connectionState=Kn.CLOSED}),this._workerConnection.on(ze.RECONNECTING,()=>{this.connectionState=this.connectionState===Kn.CONNECTED?Kn.RECONNECTING:Kn.CONNECTING}),this._workerConnection.on(ze.ON_MESSAGE,async t=>{if(t.data instanceof ArrayBuffer){const n=WG(new Uint8Array(t.data));L("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&M.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(n)),this._uploadNum++,n.code===void 0||n.code===0||(this._uploadFailedNum++,M.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(n.code,", msg is ").concat(n.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{ve.reportApiInvoke(this._connectInfo.sid||null,{name:gi.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,n.code],tag:zt.TRACER}).onError(new X(j.IMAGE_MODERATION_UPLOAD_FAILED,n.msg)),this._uploadTimer=null},L("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else M.error("[".concat(this._moderationId,"] Unexpected message type from worker"))}),this._workerConnection.on(ze.WILL_RECONNECT,(t,n,r)=>{t==="recover"&&r(t),r("tryNext")}),this._workerConnection.on(ze.REQUEST_NEW_URLS,(t,n)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(t).catch(n)})}static intToLong(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}async requestToInspectImage(){const t=Hn(this,_r.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(t){if(!t.isPlaying)return void(L("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&M.debug("Only the track being played can be inspected"));this._sequence++;const r=await this.generateRequestData(t,n);this._workerConnection.sendMessage(r,!0,!0)}else L("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&M.debug("Only the track being published can be inspected")}async generateRequestData(t,n){let{appId:r,cname:s,cid:o,vid:a,sid:d,uid:l}=n;const E=Date.now(),g=await t.getCurrentFrameImage("image/jpeg",this.quality),f=await OM(g,r,s),C=this._sequence+"-"+o+"-"+l+"-"+E+"-"+wt(12,""),T={appId:r,cid:o,cname:s,deviceId:"",elapse:Yp.intToLong(Number(E-this._moderationStartTime)),fileSize:g.buffer.byteLength,height:g.height,width:g.width,jpg:f,networkType:6,osType:7,requestId:C,sdkVersion:"4.22.2",sequence:this._sequence,sid:d,timestamp:tz(E),uid:l,vid:a,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete T.callbackData;const Q=xG(T);if(Q.byteLength<this._workerMessageLengthLimit){if(L("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const U=function(_){for(var b=1;b<arguments.length;b++){var Y=arguments[b]!=null?arguments[b]:{};b%2?uU(Object(Y),!0).forEach(function(G){F(_,G,Y[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(Y)):uU(Object(Y)).forEach(function(G){Object.defineProperty(_,G,Object.getOwnPropertyDescriptor(Y,G))})}return _}({},T);delete U.jpg,M.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(U))}return Q}{const U=this.quality*this._qualityRatio;return this.quality=U,await this.generateRequestData(t,{appId:r,cname:s,cid:o,vid:a,sid:d,uid:l})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=sn.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Kn.CLOSED,this.emit(_r.STATE_CHANGE,Sa.CLOSED)}}function EU(e){if(Tt(e.interval,"interval",1e3,1/0),e&&e.extraInfo&&e.extraInfo.length>1024)throw new X(j.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(e&&e.vendor&&e.vendor.length>1024)throw new X(j.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const iz={name:"ImageModeration",create:function(e){let{config:t}=e;return EU(t),new Yp(t)}};var gU,pU,IU,fU,mU,CU,RU,TU,NU,SU,MU,yU,wU,BU,UU,vU,_U,FU,QU,bU,DU,kU,YU,jU,OU,PU,VU,LU,GU,zU,xU,WU,JU,HU,ZU,XU,KU,qU,$U,e0,me;function t0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}Oi.setLogger(M);let nz=(gU=Ye(),pU=Ye({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof Va))return[t];t=[t]}return t.map(n=>n?Object(n).toString():"null")}}),IU=Ye({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||t.trackMediaType!==Pa.DATA?(Array.isArray(t)||(t=[t]),t.map(n=>n.getTrackId())):[t.getChannelId()])}),fU=Ye({argsMap:(e,t,n,r)=>[typeof t=="object"?t.uid:t,n,r]}),mU=Ye({argsMap:(e,t,n)=>[t,n]}),CU=Ye({argsMap:(e,t)=>t.map(n=>{let{user:r,mediaType:s}=n;return[r==null?void 0:r.uid,s]})}),RU=Ye({argsMap:(e,t,n,r)=>[typeof t=="object"?t.uid:t,n,r]}),TU=Ye({argsMap:(e,t)=>t.map(n=>{let{user:r,mediaType:s}=n;return{uid:r==null?void 0:r.uid,mediaType:s}})}),NU=Ye(),SU=Ye(),MU=Ye(),yU=Ye(),wU=Ye(),BU=Ye(),UU=Ye(),vU=Ye(),_U=Ye(),FU=Ye(),QU=Ye(),bU=Ye(),DU=Ye(),kU=Ye(),YU=Ye({argsMap:(e,t)=>[t]}),jU=Ye(),OU=Ye(),PU=Ye(),VU=Ye(),LU=Ye(),GU=Ye(),zU=Ye(),xU=Ye(),WU=Ye({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),JU=Ye(),HU=Ye(),ZU=Ye(),XU=Ye(),KU=Ye(),qU=Ye(),$U=Ye({reportResult:!0}),e0=Ye(),me=class extends Vt{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return((e=this._config)===null||e===void 0?void 0:e.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(e,t){let n;if(super(),F(this,"store",void 0),F(this,"_uid",void 0),F(this,"_channelName",void 0),F(this,"_uintUid",void 0),F(this,"_users",[]),F(this,"_config",void 0),F(this,"_clientId",void 0),F(this,"_appId",void 0),F(this,"_sessionId",null),F(this,"_key",void 0),F(this,"_rtmConfig",{}),F(this,"_joinInfo",void 0),F(this,"_gateway",void 0),F(this,"_statsCollector",void 0),F(this,"_configDistribute",void 0),F(this,"_leaveMutex",void 0),F(this,"_publishMutex",void 0),F(this,"_renewTokenMutex",void 0),F(this,"_subscribeMutex",void 0),F(this,"_encryptionMode","none"),F(this,"_encryptionSecret",null),F(this,"_encryptionSalt",null),F(this,"_encryptDataStream",!1),F(this,"_encryptDataStreamKey",null),F(this,"_encryptDataStreamIv",null),F(this,"_proxyServer",void 0),F(this,"_turnServer",{servers:[],mode:"auto"}),F(this,"_cloudProxyServerMode","disabled"),F(this,"_isDualStreamEnabled",!1),F(this,"_defaultStreamFallbackType",void 0),F(this,"_lowStreamParameter",void 0),F(this,"_streamFallbackTypeCacheMap",new Map),F(this,"_remoteStreamTypeCacheMap",new Map),F(this,"_axiosCancelSource",sn.CancelToken.source()),F(this,"_audioVolumeIndicationInterval",void 0),F(this,"_networkQualityInterval",void 0),F(this,"_userOfflineTimeout",void 0),F(this,"_streamRemovedTimeout",void 0),F(this,"_liveTranscodeStreamingClient",void 0),F(this,"_liveRawStreamingClient",void 0),F(this,"_channelMediaRelayClient",void 0),F(this,"_networkQualitySensitivity","normal"),F(this,"_p2pChannel",void 0),F(this,"_useLocalAccessPoint",!1),F(this,"_setLocalAPVersion",void 0),F(this,"_joinAndNotLeaveYet",!1),F(this,"_numberOfJoinCount",0),F(this,"_remoteDefaultVideoStreamType",void 0),F(this,"_inspect",void 0),F(this,"_moderation",void 0),F(this,"_license",void 0),F(this,"_pendingPublishedUsers",[]),F(this,"ntpAlignErrorCount",0),F(this,"remoteInboundOffset",0),F(this,"_handleLocalTrackEnable",(r,s,o)=>{this.publish(r,!1).then(s).catch(o)}),F(this,"_handleLocalTrackDisable",(r,s,o)=>{this.unpublish(r).then(s).catch(o)}),F(this,"_handleUserOnline",r=>{if(L("BLOCK_LOCAL_CLIENT")&&So(r.uid,this.channelName))return void M.debug("[".concat(r.uid,"] will be ignored in local"));this.isStringUID&&typeof r.uid!="string"&&M.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const s=this._users.find(o=>o.uid===r.uid);if(s)s._trust_in_room_=!0,s._is_pre_created&&(s._is_pre_created=!1,this.safeEmit($e.USER_JOINED,s));else{const o=new Xs(r.uid,r.uint_id||r.uid);this._users.push(o),M.debug("[".concat(this._clientId,"] user online"),r.uid),this.safeEmit($e.USER_JOINED,o)}}),F(this,"_handleUserOffline",r=>{if(L("BLOCK_LOCAL_CLIENT")&&So(r.uid,this.channelName))return;const s=this._users.find(o=>o.uid===r.uid);s&&(this._handleRemoveStream(r),this._handleRemoveDataChannels(r),s._audio_pre_subscribed||s._video_pre_subscribed?s._is_pre_created=!0:Kd(this._users,s),this._remoteStreamTypeCacheMap.delete(s.uid),this._streamFallbackTypeCacheMap.delete(s.uid),M.debug("[".concat(this._clientId,"] user offline"),r.uid,"reason:",r.reason),this.safeEmit($e.USER_LEAVED,s,r.reason))}),F(this,"_handleAddAudioOrVideoStream",(r,s,o,a,d,l,E)=>{if(L("BLOCK_LOCAL_CLIENT")&&So(s,this.channelName))return;const g=this._users.find(C=>C.uid===s);if(!g)return void M.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));M.debug("[".concat(this._clientId,"] stream added with uid ").concat(s,", type ").concat(r)),this.store.subscribe(g.uid,r,void 0,void 0,void 0,Date.now());const f=r==="audio"?g.hasAudio:g.hasVideo;g._uintid||(g._uintid=d||s),r==="audio"?g._trust_audio_stream_added_state_=!0:g._trust_video_stream_added_state_=!0,r==="audio"?(g._audio_added_=!0,o!==void 0&&(g._audioSSRC=o),a!==void 0&&(g._cname=a),l&&(g._audioOrtc=l)):(g._video_added_=!0,o!==void 0&&(g._videoSSRC=o),a!==void 0&&(g._cname=a),E!==void 0&&(g._rtxSsrcId=E),l&&(g._videoOrtc=l)),(r==="audio"?g.hasAudio:g.hasVideo)&&!f&&(M.info("[".concat(this._clientId,"] remote user ").concat(g.uid," published ").concat(r)),this.safeEmit($e.USER_PUBLISHED,g,r)),r==="video"?ve.onGatewayStream(this._sessionId,wi.ON_ADD_VIDEO_STREAM,Lt.ON_ADD_VIDEO_STREAM,{peer:d||s,ssrc:g._videoSSRC}):ve.onGatewayStream(this._sessionId,wi.ON_ADD_AUDIO_STREAM,Lt.ON_ADD_AUDIO_STREAM,{peer:d||s,ssrc:g._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(g,r,o).then(C=>{if(C&&(M.debug("[".concat(this._clientId,"] resubscribe ").concat(r," for user ").concat(g.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof zl))return this._p2pChannel.unsubscribe(g,r,!0).then(()=>this._subscribe(g,r,!0).catch(T=>{M.error("[".concat(this._clientId,"] resubscribe error"),T.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(g,r)&&(M.debug("[".concat(this._clientId,"] resubscribe ").concat(r," for user ").concat(g.uid," after reconnect.")),this._subscribe(g,r,!0).catch(C=>{M.error("[".concat(this._clientId,"] resubscribe error"),C.toString())}))}),F(this,"_handleRemoveStream",r=>{if(L("BLOCK_LOCAL_CLIENT")&&So(r.uid,this.channelName))return;const s=this._users.find(a=>a.uid===r.uid);if(!s)return void M.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));M.debug("[".concat(this._clientId,"] stream removed with uid ").concat(r.uid));let o=()=>{};s.hasAudio&&s.hasVideo?o=()=>{M.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished audio track")),this.safeEmit($e.USER_UNPUBLISHED,s,"audio"),M.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished video track")),this.safeEmit($e.USER_UNPUBLISHED,s,"video")}:s.hasVideo?o=()=>{M.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished video track")),this.safeEmit($e.USER_UNPUBLISHED,s,"video")}:s.hasAudio&&(o=()=>{M.info("[".concat(this._clientId,"] remote user ").concat(s.uid," unpublished audio track")),this.safeEmit($e.USER_UNPUBLISHED,s,"audio")}),s._video_pre_subscribed||s._audio_pre_subscribed||(s._trust_audio_stream_added_state_=!0,s._trust_video_stream_added_state_=!0,s._audio_added_=!1,s._video_added_=!1,this._p2pChannel instanceof zl&&this._p2pChannel.unsubscribe(s).then(a=>{if(a)return this._gateway.unsubscribe(a,s.uid)}),s._audioSSRC=void 0,s._videoSSRC=void 0,s._audioOrtc=void 0,s._videoOrtc=void 0,s._rtxSsrcId=void 0),ve.onGatewayStream(this._sessionId,wi.ON_REMOVE_STREAM,Lt.ON_REMOVE_STREAM,{peer:r.uint_id||r.uid}),o()}),F(this,"_handleSetStreamLocalEnable",(r,s,o)=>{if(L("BLOCK_LOCAL_CLIENT")&&So(s,this.channelName))return;const a=this._users.find(E=>E.uid===s);if(!a)return void M.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));M.debug("[".concat(this._clientId,"] local ").concat(r," ").concat(o?"enabled":"disabled"," with uid ").concat(s));const d=r==="audio"?a.hasAudio:a.hasVideo;if(r==="audio"){a._trust_audio_enabled_state_=!0;const E=a._audio_enabled_;if(a._audio_enabled_=o,a._audio_enabled_===E)return;{const g=a._audio_enabled_?"enable-local-audio":"disable-local-audio";M.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(s,", msg: ").concat(g)),this.safeEmit($e.USER_INFO_UPDATED,s,g)}}else{a._trust_video_enabled_state_=!0;const E=a._video_enabled_;if(a._video_enabled_=o,a._video_enabled_===E)return;{const g=a._video_enabled_?"enable-local-video":"disable-local-video";M.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(s,", msg: ").concat(g)),this.safeEmit($e.USER_INFO_UPDATED,s,g)}}const l=r==="audio"?a.hasAudio:a.hasVideo;return d!==l?!d&&l?(M.info("[".concat(this._clientId,"] remote user ").concat(s," published ").concat(r)),void this.safeEmit($e.USER_PUBLISHED,a,r)):(r==="video"&&a._videoTrack&&a._videoTrack._destroy(),r==="audio"&&a._audioTrack,this._p2pChannel.muteRemote(a,r),M.info("[".concat(this._clientId,"] remote user ").concat(s," unpublished ").concat(r)),void this.safeEmit($e.USER_UNPUBLISHED,a,r)):void 0}),F(this,"_handleMuteStream",(r,s,o)=>{if(L("BLOCK_LOCAL_CLIENT")&&So(r,this.channelName))return;M.debug("[".concat(this._clientId,"] receive mute message"),r,s,o);const a=this._users.find(E=>E.uid===r);if(!a)return void M.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(r));const d=s==="audio"?a.hasAudio:a.hasVideo;if(s==="audio"){a._trust_audio_mute_state_=!0;const E=a._audio_muted_;if(a._audio_muted_=o,a._audio_muted_===E)return;{const g=a._audio_muted_?"mute-audio":"unmute-audio";M.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(r,", msg: ").concat(g)),this.safeEmit($e.USER_INFO_UPDATED,r,g)}}else{a._trust_video_mute_state_=!0;const E=a._video_muted_;if(a._video_muted_=o,a._video_muted_===E)return;{const g=a._video_muted_?"mute-video":"unmute-video";M.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(r,", msg: ").concat(g)),this.safeEmit($e.USER_INFO_UPDATED,r,g)}}const l=s==="audio"?a.hasAudio:a.hasVideo;if(d!==l){if(!d&&l)return(s==="audio"?a._audioSSRC:a._videoSSRC)?(M.info("[".concat(this._clientId,"] remote user ").concat(r," published ").concat(s)),void this.safeEmit($e.USER_PUBLISHED,a,s)):void M.warning("[".concat(this._clientId,"] remote user ").concat(r," receive ").concat(s," unmute message  before add stream message, ").concat(s," SSRC doesn't exist yet."));s==="video"&&a._videoTrack&&!a._video_pre_subscribed&&a._videoTrack._destroy(),s==="audio"&&a._audioTrack,this._p2pChannel.muteRemote(a,s),M.info("[".concat(this._clientId,"] remote user ").concat(r," unpublished ").concat(s)),this.safeEmit($e.USER_UNPUBLISHED,a,s)}}),F(this,"_handleP2PLost",async r=>{M.debug("[".concat(this._clientId,"] receive p2p lost"),r),parseInt(r.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():M.warning("[".concat(this._clientId,"] P2PLost stream not found"),r)}),F(this,"_handleTokenWillExpire",()=>{M.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit($e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),F(this,"_handleBeforeUnload",r=>{r.type==="beforeunload"&&r.returnValue!==void 0&&r.returnValue!==""||(this.leave(),M.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))}),F(this,"_handleUpdateNetworkQuality",()=>{if(this._networkQualitySensitivity==="normal")return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit($e.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const r={downlinkNetworkQuality:0,uplinkNetworkQuality:0};r.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),r.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit($e.NETWORK_QUALITY,r)}),F(this,"_handleP2PAddAudioOrVideoStream",(r,s,o,a)=>{const d=this._users.find(E=>E.uid===s);if(!d)return void M.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));M.debug("[".concat(this._clientId,"] stream added with uid ").concat(s,", type ").concat(r)),this.store.subscribe(d.uid,r,void 0,void 0,void 0,Date.now());const l=r==="audio"?d.hasAudio:d.hasVideo;r==="audio"?d._trust_audio_stream_added_state_=!0:d._trust_video_stream_added_state_=!0,r==="audio"?(d._audio_added_=!0,o!==void 0&&(d._audioSSRC=o),a!==void 0&&(d._audioMid=a)):(d._video_added_=!0,o!==void 0&&(d._videoSSRC=o),a!==void 0&&(d._videoMid=a)),(r==="audio"?d.hasAudio:d.hasVideo)&&!l&&(M.info("[".concat(this._clientId,"] remote user ").concat(d.uid," published ").concat(r)),this.safeEmit($e.USER_PUBLISHED,d,r)),this._p2pChannel.hasPendingRemoteMedia(d,r)&&(M.debug("[".concat(this._clientId,"] resubscribe ").concat(r," for user ").concat(d.uid," after reconnect.")),this._subscribe(d,r,!0).catch(E=>{M.error("[".concat(this._clientId,"] resubscribe error"),E.toString())}))}),this._config=e,this._clientId=t||wt(5,"client-"),this.store=new bV(e.codec,e.audioCodec,e.mode,this._clientId),this._leaveMutex=new Oi("client-leave",this._clientId),this._publishMutex=new Oi("client-publish",this._clientId),this._renewTokenMutex=new Oi("client-renewtoken",this._clientId),this._subscribeMutex=new Oi("client-subscribe",this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),M.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(Zn," build: ").concat(Ag,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),e.clientRoleOptions)try{ZN(e.clientRoleOptions),n=Object.assign({},e.clientRoleOptions)}catch(r){M.warning("[".concat(this._clientId,"] ").concat(r.toString()))}this._statsCollector=new oc(this.store),this._statsCollector.onStatsException=(r,s,o)=>{M.warn("[".concat(this._clientId,"] receive exception msg, code: ").concat(r,", msg: ").concat(s,", uid: ").concat(o)),this.safeEmit($e.EXCEPTION,{code:r,msg:s,uid:o})},this._statsCollector.onUploadPublishDuration=(r,s,o,a)=>{const d=this._users.find(l=>l.uid===r);d&&ve.peerPublishStatus(this._sessionId,{subscribeElapse:a,audioPublishDuration:s,videoPublishDuration:o,peer:d._uintid})},this.store.useP2P=e.mode==="p2p",this._gateway=new dG(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||hi,httpRetryConfig:e.httpRetryConfig||hi,forceWaitGatewayResponse:e.forceWaitGatewayResponse===void 0||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:n}),this._configDistribute=new CG(this._clientId),this.store.useP2P?(this._p2pChannel=new Sn(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new zl(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,n,r,s){let o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],a=arguments.length>6&&arguments[6]!==void 0&&arguments[6];Nt("JOIN_GATEWAY_USE_443PORT_ONLY",o),Nt("JOIN_GATEWAY_USE_DUAL_DOMAIN",a);const d=this._gateway.signal.websocket;return d instanceof Rg&&(d.use443PortOnly=o,d.tryDoubleDomain=a),async function(l,E,g){xd.get(l)||xd.set(l,[]),Wd.get(l)||Wd.set(l,E),Wr.get(l)||Wr.set(l,0);const f=xd.get(l),C=Wd.get(l);if(!f||!C)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(Wr.get(l)===C){const b=YA();f.push(b),await b.promise}Wr.set(l,Wr.get(l)+1);for(var T=arguments.length,Q=new Array(T>3?T-3:0),U=3;U<T;U++)Q[U-3]=arguments[U];const _=await g(...Q);return Wr.set(l,Wr.get(l)-1),Wr.get(l)===C-1&&f.length>0&&(f[0].resolve(),f.shift()),Wr.get(l)===0&&(xd.set(l,[]),Wd.set(l,0),Wr.set(l,0)),_}("client.join",L("JOIN_MAX_CONCURRENCY"),this.join.bind(this),e,t,n,r,s)}async join(e,t,n,r,s){const o=++this._numberOfJoinCount;this.store.joinStart(),r&&(this.store.uid=r);const a=(el||el||(el=(window.location.protocol.split(":")[0]||"").toUpperCase(),el))==="HTTPS",d=aS()?window.isSecureContext:"Browser Not Support";(!aS()&&!a||!window.isSecureContext)&&M.warning("The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser"),this.connectionState==="DISCONNECTED"&&(this.store.avoidJoinStart=Math.round(Date.now()),M.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),ve.setAppId(e);try{if(!n&&n!==null)throw new X(j.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&Mi(n,"token",1,2047),Mi(e,"appid",1,2047),sl(t),r&&ol(r),s&&Mi(s,"optionalInfo",1,2047)}catch(U){throw ve.reportApiInvoke(Ca(),{name:gi.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:d},tag:zt.TRACER}).onError(U),U}if(this._leaveMutex.isLocked&&(M.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),M.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,this.connectionState!=="DISCONNECTED"){const U=new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw ve.reportApiInvoke(Ca(),{name:gi.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:d},tag:zt.TRACER}).onError(U),U}this._gateway.state="CONNECTING";const l=await $B({appId:e,cname:t,uid:r,stringUid:typeof r=="string"?r:void 0,token:n||e,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const E=(l==null?void 0:l.sid)||Ca();M.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(o)),this._sessionId||(this._sessionId=E,this.store.sessionId=this._sessionId);const g=ve.reportApiInvoke(E,{id:this._clientId,name:gi.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:d},tag:zt.TRACER}),f=Rr(Rr(Rr({},this._rtmConfig),{},{clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:typeof r!="string"?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:s,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!l},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:L("AP_REQUEST_DETAIL")||void 0});if(this._useLocalAccessPoint&&(f.setLocalAPVersion=this._setLocalAPVersion),typeof r=="string"&&(f.stringUid=r,this._uintUid?(f.uid=this._uintUid,this._uintUid=void 0):f.uid=0),this._encryptionMode!=="none"&&this._encryptionSecret){if(f.aesmode=this._encryptionMode,f.aespassword=await(async U=>{const _=function(W){const J=window.atob(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu
STM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+
HvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy
xQiYDz3vqa6bP29adwIDAQAB`),K=new Uint8Array(new ArrayBuffer(J.length));for(let ne=0;ne<J.length;ne+=1)K[ne]=J.charCodeAt(ne);return K}(),b=await window.crypto.subtle.importKey("spki",_,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),Y=$E(U),G=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},b,Y);return function(W){let J="";for(let K=0;K<W.length;K+=1)J+=String.fromCharCode(W[K]);return window.btoa(J)}(new Uint8Array(G))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(f.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&(this._encryptionMode==="aes-128-gcm2"||this._encryptionMode==="aes-256-gcm2"))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const U=new TextEncoder,_=L("USE_PURE_ENCRYPTION_MASTER_KEY")?U.encode(f.appId+this._encryptionSecret+this._encryptionSecret):U.encode(f.appId+f.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(b,Y,G){const W=await window.crypto.subtle.importKey("raw",Y,"PBKDF2",!1,["deriveBits","deriveKey"]),J=b==="aes-128-gcm2"?128:256,K=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:cS,hash:"SHA-256",salt:G},W,J+DV);return new Uint8Array(K).subarray(J/8)}(this._encryptionMode,_,Ro(this._encryptionSalt)),this._encryptDataStreamKey=await async function(b,Y,G){const W=await window.crypto.subtle.importKey("raw",Y,"PBKDF2",!1,["deriveBits","deriveKey"]),J=b==="aes-128-gcm2"?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:cS,hash:"SHA-256",salt:G},W,{name:"AES-GCM",length:J},!0,["encrypt","decrypt"])}(this._encryptionMode,_,Ro(this._encryptionSalt))}else d?M.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):M.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,M.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:t,appId:e,stringUid:f.stringUid});const C=this._sessionId;setTimeout(()=>{this.connectionState==="CONNECTING"&&C===this._sessionId&&ve.joinChannelTimeout(this._sessionId,5)},5e3);try{var T;let U;const _=f.cloudProxyServer;if(ge(T=["proxy3","proxy4","proxy5"]).call(T,_)){const J=L("PROXY_SERVER_TYPE3");Array.isArray(J)?f.proxyServer=J[0]:f.proxyServer=J}if(ve.setProxyServer(f.proxyServer),M.setProxyServer(f.proxyServer),this.store.requestAPStart(),l){if(M.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(f.stringUid?", ".concat(f.stringUid," => ").concat(l.intUid):""," ")),f.stringUid&&!f.uid&&(f.uid=l.intUid),U={gatewayInfo:l.ap.gatewayInfo},L("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&f.turnServer.mode==="auto")if(l.ap.proxyInfo.addresses.length===0)M.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const J=(await kS(l.ap.proxyInfo,l.ap.gatewayInfo.uid)).map(K=>({turnServerURL:K.address,tcpport:K.tcpport||Di.tcpport,udpport:K.udpport||Di.udpport,username:K.username||Di.username,password:K.password||Di.password,forceturn:!1,security:!0}));f.turnServer={mode:"manual",servers:J}}iU(l,f.stringUid)}else{if(f.stringUid&&!f.uid){let J;[J,U]=await Ie.all([Gw(f.stringUid,f,this._axiosCancelSource.token,this._config.httpRetryConfig||hi,this.store),Lw(f,this._axiosCancelSource.token,this._config.httpRetryConfig||hi,!0,this.store)]),M.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(f.stringUid," => ").concat(J)),f.uid=J,U.gatewayInfo.uid=J,U.gatewayInfo.res.uid=J}else U=await Lw(f,this._axiosCancelSource.token,this._config.httpRetryConfig||hi,!0,this.store);if(!this._joinAndNotLeaveYet)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(f,this._axiosCancelSource.token),this._configDistribute.on(mg.UPDATE_BITRATE_LIMIT,J=>{this._p2pChannel.updateBitrateLimit(J)})},0),this._key=n||e;const b=U.gatewayInfo,Y=f.uid?f.uid:b.uid;this._joinInfo=Rr(Rr({},f),{},{cid:b.cid,uid:Y,vid:b.vid,apResponse:b.res,apGatewayAddress:b.apGatewayAddress,uni_lbs_ip:b.uni_lbs_ip,gatewayAddrs:b.gatewayAddrs}),this.store.intUid=Y;const G=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));g.onSuccess(G),this._appId=e,this._channelName=f.cname,this._uid=G,this.store.uid=G,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(Fi()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()},0);const W=f.stringUid?"string uid: ".concat(f.stringUid,",uid: ").concat(f.uid):"uid: ".concat(this._uid);return M.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(t,",").concat(W)),setTimeout(()=>{M.startUpload()},5e3),this.store.joinEnd(),Q=this,ge(No).call(No,Q)||No.push(Q),this._cloudProxyServerMode==="disabled"&&ot().supportWebCrypto&&L("ENABLE_PRELOAD")&&Dp(this._joinInfo),G}catch(U){const _=Array.isArray(U)?U[0]:U;throw _&&_.code===j.OPERATION_ABORTED?M.warning("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),_):M.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),_),_.code!==j.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),g.onError(_),_}var Q}_joinGateway(){if(!this._joinInfo||!this._key)throw new X(j.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!=="disabled"||this._joinInfo.proxyServer||!L("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){M.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(Fi()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(t){const n=No.indexOf(t);n!==-1&&No.splice(n,1)}(this),this._statsCollector.stopUpdateStats();const e=await this._leaveMutex.lock();if(this.connectionState==="DISCONNECTED")return M.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void e();await this._gateway.leave(this.connectionState!=="CONNECTED"),M.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(e)){if(!(e instanceof Va))return this._publishDataChannel(e);e=[e]}if(e.length===0)throw new X(j.INVALID_PARAMS,"param list is empty");const n=e;if(this._gateway.role==="audience")throw new X(j.INVALID_OPERATION,"audience can not publish stream");for(const s of n){if(!(s instanceof Va))throw new X(j.INVALID_PARAMS,"parameter is not local track");if(!s._enabled&&t)throw new X(j.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(s.getTrackId()))}M.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map(s=>"".concat(s.getTrackId()," "))));const r=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&n.forEach(s=>{const o=this._configDistribute.getBitrateLimit();s instanceof Qt&&o&&s.setBitrateLimit(o.uplink)});try{await this._publishHighStream(n),M.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map(s=>"".concat(s.getTrackId()," "))))}catch(s){throw M.error("[".concat(this._clientId,"] publish error"),s.toString()),s}finally{r()}}async _publishDataChannel(e){Tt(e.id,"id",0,65535,!0),hs(e.ordered,"ordered"),Mi(e.metadata,"metadata",0,512),M.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(e.id));const t=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex(s=>s.id===e.id)!==-1)throw new X(j.INVALID_PARAMS,"Invalid id: ".concat(e.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||this._uid===void 0)throw new X(j.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&L("FORCE_TURN")&&!L("TURN_ENABLE_TCP")&&!L("TURN_ENABLE_UDP"))throw new X(j.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const n=function(s){return xB(s,!1)}(e),r=await this._p2pChannel.publishDataChannel([n]);if(r.length>0){if(typeof n._originDataChannelId!="number")throw M.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new X(j.CREATE_DATACHANNEL_ERROR);try{await Ie.all(r.map(s=>this._uid&&this._gateway.publishDataChannel(this._uid,s,!0))),await n._waitTillOpen()}catch(s){if(s.code!==j.DISCONNECT_P2P)throw s}}return M.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(n.id)),n}catch(n){throw M.error("[".concat(this._clientId,"] publish datachannels error"),n.toString()),n}finally{t()}}async unpublish(e){if(!this._joinInfo||this._uid===void 0)throw new X(j.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof Va))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);M.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(t.map(r=>"".concat(r.getTrackId()," "))," "));const n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof Sn){const r=await this._p2pChannel.unpublish(t);r&&await this._gateway.sendExtensionMessage(qt.UNPUBLISH,{unpubMsg:r},!0)}else{const r=await this._p2pChannel.unpublish(t);r&&await this._gateway.unpublish(r,this._uid),M.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(t.map(s=>"".concat(s.getTrackId()))))}}catch(r){throw M.error("[".concat(this._clientId,"] unpublish error"),r.toString()),r}finally{n&&n()}}async _unpublishDataChannel(e){e!==void 0&&e.length!==0||(e=this._p2pChannel.getAllDataChannels()),M.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(e.map(n=>"".concat(n.id," "))," "));const t=await this._publishMutex.lock();try{const n=await this._p2pChannel.unpublishDataChannel(e);n&&await this._gateway.unpublishDataChannel(n),M.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(e.map(r=>"".concat(r.id))))}catch(n){throw M.error("[".concat(this._clientId,"] unpublish dataChannel error"),n.toString()),n}finally{t&&t()}}async subscribe(e,t,n){if(!(e instanceof Xs)){const r=this.remoteUsers.find(s=>s.uid===e);if(!r)throw new X(j.INVALID_REMOTE_USER,"user is not in the channel");e=r}return t==="datachannel"?this._subscribeDataChannel(e,n):this._subscribe(e,t)}async presubscribe(e,t){if(fi(t,"mediaType",["audio","video"]),this._p2pChannel instanceof Sn)throw new X(j.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new X(j.INVALID_OPERATION,"can't presub when not join");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const n=t===Ne.AUDIO,r=t===Ne.VIDEO,s=await this._subscribeMutex.lock();try{const{ssrcId:o,ortc:a,rtxSsrcId:d,cname:l,uint_id:E}=await this._gateway.presubscribe(e,t,!0);if(o==null)throw new X(j.UNEXPECTED_RESPONSE,"no ssrc id");let g=this._users.find(C=>C.uid===e);g||(g=new Xs(e,E||e),g._is_pre_created=!0,this._users.push(g)),l&&(g._cname=l),g._uintid||(g._uintid=E||e),n&&(g._audioSSRC=o,g._audio_pre_subscribed=!0,a&&(g._audioOrtc=a)),r&&(g._videoSSRC=o,g._video_pre_subscribed=!0,a&&(g._videoOrtc=a),d!=null&&(g._rtxSsrcId=d)),M.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(o)),await this._p2pChannel.subscribe(g,t,o,d,a);const f=n?g._audioTrack:g._videoTrack;if(!f)throw new X(j.UNEXPECTED_ERROR,"can not find remote track in user");return n&&(g._trust_audio_stream_added_state_=!0,g._audio_added_=!0),r&&(g._trust_video_stream_added_state_=!0,g._video_added_=!0),f}catch(o){throw M.error("[".concat(this._clientId,"] presub user ").concat(e," error"),o),o}finally{s()}}async _subscribeDataChannel(e,t){var n;if(Tt(t,"channelId",0,65535,!0),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));if(!this._users.find(d=>d===e))throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),new X(j.INVALID_REMOTE_USER,"user is not in the channel");if(!e.hasAudio&&!e.hasVideo&&e._dataChannels.length===0)throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),new X(j.INVALID_REMOTE_USER,"user is not published");const s=(n=e._dataChannels)===null||n===void 0?void 0:n.find(d=>d.id===t);if(!s)throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, remote datachannel is not published")),new X(j.REMOTE_USER_IS_NOT_PUBLISHED);const o=await this._subscribeMutex.lock();M.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: datachannel"));try{const d=await this._p2pChannel.subscribeDataChannel(e,[s]);if(d&&ge(d).call(d,s.id))try{var a;if(typeof s._originDataChannelId!="number")throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, cannot get RTCDatachannel")),new X(j.CREATE_DATACHANNEL_ERROR);const l={id:s.id,datachannelId:s._originDataChannelId,ordered:s.ordered,maxRetransmits:s.maxRetransmits,metadata:(a=s.metadata)!==null&&a!==void 0?a:""};await this._gateway.subscribeDataChannel(e.uid,l,!0),await s._waitTillOpen()}catch(l){if((l==null?void 0:l.code)!==j.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[s]),l;await this._p2pChannel.unsubscribeDataChannel(e,[s]),this._p2pChannel.setPendingRemoteDataChannel(e,s.id)}return M.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: datachannel")),s}finally{o()}}async _p2pSubscribe(e,t,n){if(fi(t,"mediaType",["audio","video"]),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(o=>o===e)){const o=new X(j.INVALID_REMOTE_USER,"user is not in the channel");throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),o}if(!e.hasAudio&&!e.hasVideo){const o=new X(j.INVALID_REMOTE_USER,"user is not published");throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),o}if(!n&&(t==="audio"&&!e.hasAudio||t==="video"&&!e.hasVideo)){const o=new X(j.REMOTE_USER_IS_NOT_PUBLISHED);throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),o}const s=await this._subscribeMutex.lock();M.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const a=t==="audio"?e._audioSSRC:e._videoSSRC,d=t==="audio"?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof Sn&&await this._p2pChannel.subscribe(e,t,a,d)}catch(a){throw a}M.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch(a=>{M.warning("[".concat(this._clientId,"] auto set fallback failed"),a)});const o=t==="audio"?e._audioTrack:e._videoTrack;if(!o)throw new X(j.UNEXPECTED_ERROR,"can not find remote track in user object");return o}catch(o){throw M.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),o),o}finally{s()}}async _subscribe(e,t,n){if(this._p2pChannel instanceof Sn)return this._p2pSubscribe(e,t);if(fi(t,"mediaType",["audio","video"]),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(E=>E===e)){const E=new X(j.INVALID_REMOTE_USER,"user is not in the channel");throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),E}if(!e.hasAudio&&!e.hasVideo){const E=new X(j.INVALID_REMOTE_USER,"user is not published");throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),E}if(!(n||(t!=="audio"||e.hasAudio&&e._audioSSRC!==void 0)&&(t!=="video"||e.hasVideo&&e._videoSSRC!==void 0))){const E=new X(j.REMOTE_USER_IS_NOT_PUBLISHED);throw M.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),E}let s=t==="audio"?e._audioSSRC:e._videoSSRC,o=t==="audio"?e._audioOrtc:e._videoOrtc,a=t==="video"?e._rtxSsrcId:void 0,d={stream_type:t==="audio"?Ne.AUDIO:Ne.VIDEO,ssrcId:s};const l=await this._subscribeMutex.lock();M.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const g=t==="audio"?e._audioSSRC:e._videoSSRC;g!==void 0&&g!==s&&(s=g,o=t==="audio"?e._audioOrtc:e._videoOrtc,a=t==="video"?e._rtxSsrcId:void 0,d={stream_type:t==="audio"?Ne.AUDIO:Ne.VIDEO,ssrcId:s}),Vi.markSubscribeStart(this.store.clientId,s),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,s,a,o);try{this._p2pChannel.isPreSubScribe(s)||await this._gateway.subscribe(e.uid,d,!0)}catch(f){if((f==null?void 0:f.code)!==j.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),f;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(g){throw this._p2pChannel.reportSubscribeEvent(!1,g==null?void 0:g.code,e,t),g}M.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch(g=>{M.warning("[".concat(this._clientId,"] auto set fallback failed"),g)});const E=t==="audio"?e._audioTrack:e._videoTrack;if(!E)throw new X(j.UNEXPECTED_ERROR,"can not find remote track in user object");return E}catch(E){throw M.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),E),E}finally{l()}}async massSubscribe(e){if(us(e,"subscribeList"),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const t=Date.now(),n=new Map,r=await this._subscribeMutex.lock();M.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map(d=>{let{user:l,mediaType:E}=d;return"user: ".concat(l==null?void 0:l.uid,", mediaType: ").concat(E)}).join("; ")));const s=(e=[...e]).map(d=>{let{user:l,mediaType:E}=d;return{user:l,mediaType:E}}),o=await this._p2pChannel.globalLock();try{var a;for(let l=e.length-1;l>=0;l--){const E=e[l],{user:g,mediaType:f}=E;if(fi(f,"mediaType",["audio","video"]),!g){const U=new X(j.INVALID_PARAMS,"user property does not exist in subscribeList item");throw M.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),U}if(!this._users.find(U=>U===g)){const U=new X(j.INVALID_REMOTE_USER,"user is not in the channel");M.error("[".concat(this._clientId,"] can not massSubscribe ").concat(g.uid,", this user is not in the channel")),s[l].error=U,e.splice(l,1);continue}if(f==="audio"&&(!g.hasAudio||g._audioSSRC===void 0)||f==="video"&&(!g.hasVideo||g._videoSSRC===void 0)){const U=new X(j.REMOTE_USER_IS_NOT_PUBLISHED);M.error("[".concat(this._clientId,"] can not subscribe ").concat(g.uid," with mediaType ").concat(f,", remote user is not published")),s[l].error=U,e.splice(l,1);continue}const T=Ti.Video|Ti.LwoVideo,Q=n.get(g);if(Q){if(f==="video"?Q&T:Q&Ti.Audio){e.splice(l,1),M.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(g.uid,", mediaType:").concat(f," twice"));continue}n.set(g,Q|(f==="video"?T:Ti.Audio))}else n.set(g,f==="video"?T:Ti.Audio)}for(let l=e.length-1;l>=0;l--){const E=e[l],{user:g,mediaType:f}=E,C=Ti.Video|Ti.LwoVideo;if(this._p2pChannel.hasRemoteMedia(g,f)){await this._p2pChannel.unmuteRemoteNoLock(g,f);const T=n.get(g);n.set(g,f==="video"?T^C:T^Ti.Audio),e.splice(l,1)}}this.store.massSubscribe(e.map(l=>({userId:l.user.uid,type:l.mediaType})),t);let d=Mr(a=Array.from(n.entries())).call(a,(l,E)=>{let[g,f]=E;if(f===0)return l;const C={stream_id:g.uid,stream_type:f};return f&Ti.Audio&&(C.audio_ssrc=g._audioSSRC),f&Ti.Video&&(C.video_ssrc=g._videoSSRC),l.push(C),l},[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map(E=>{let{user:g,mediaType:f}=E;return{user:g,mediaType:f,ssrcId:f===Ne.VIDEO?g._videoSSRC:g._audioSSRC,rtxSsrcId:f===Ne.VIDEO?g._rtxSsrcId:void 0}}));const l=new Map;if(d=d.filter(E=>E.video_ssrc&&!this._p2pChannel.isPreSubScribe(E.video_ssrc)||E.audio_ssrc&&!this._p2pChannel.isPreSubScribe(E.audio_ssrc)||!E.video_ssrc&&!E.audio_ssrc),d.length>0){const E=await this._gateway.subscribeAll(d,!0);((E==null?void 0:E.users)||[]).forEach(g=>{let{stream_id:f,video_error_code:C,audio_error_code:T,error_code:Q}=g;(C||T||Q)&&l.set(f,{video_error_code:C,audio_error_code:T,error_code:Q})})}if(Array.from(l.entries()).length>0){const E=[];Array.from(l.entries()).forEach(g=>{let[f,C]=g;const T=this.remoteUsers.find(Q=>Q.uid===f);if(T){let Q;C.error_code||C.video_error_code&&C.audio_error_code?Q=void 0:C.video_error_code?Q=Ne.VIDEO:C.audio_error_code&&(Q=Ne.AUDIO),E.push({user:T,mediaType:Q})}}),E.length>0&&await this._p2pChannel.massUnsubscribeNoLock(E)}for(const E of s){const g=l.get(E.user.uid);if(g){const f=g.error_code||E.mediaType==="audio"&&g.audio_error_code||E.mediaType==="video"&&g.video_error_code;if(f){const C=zA(f);M.error("user:".concat(E.user.uid," mediaType:").concat(E.mediaType," has massSubscribe error ").concat(C.desc)),E.error=new X(j.SUBSCRIBE_FAILED,"code ".concat(f,": ").concat(C.desc))}}E.error||(E.mediaType==="video"?E.track=E.user.videoTrack:E.track=E.user.audioTrack)}return this.store.massSubscribe(s.filter(E=>!E.error).map(E=>({userId:E.user.uid,type:E.mediaType})),void 0,Date.now()),s.forEach(E=>{var g;ve.subscribe(this.store.sessionId,{succ:!!E.error,ec:((g=E.error)===null||g===void 0?void 0:g.code)||null,video:E.mediaType===Ne.VIDEO,audio:E.mediaType===Ne.AUDIO,peerid:E.user.uid,subscribeRequestid:E.mediaType===Ne.VIDEO?E.user._videoSSRC:E.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t),preSsrc:this._p2pChannel.isPreSubScribe(E.user._videoSSRC)},!0)}),M.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map(E=>{let{user:g,mediaType:f}=E;return"user: ".concat(g==null?void 0:g.uid,", mediaType: ").concat(f)}).join("; "))),s}catch(l){throw await this._p2pChannel.massUnsubscribeNoLock(e),l}}finally{o(),r()}}async unsubscribe(e,t,n){if(!(e instanceof Xs)){const o=this.remoteUsers.find(a=>a.uid===e);if(!o)throw new X(j.INVALID_REMOTE_USER,"user is not in the channel");e=o}if(t||this.store.useP2P){if(t==="datachannel")return this._unsubscribeDataChannel(e,n)}else await this._unsubscribeDataChannel(e,n);if(t&&fi(t,"mediaType",["audio","video"]),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find(o=>o===e)){const o=new X(j.INVALID_REMOTE_USER,"user is not in the channel");throw M.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),o}M.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t));const s=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof Sn)await this._p2pChannel.unsubscribe(e,t);else{const o=await this._p2pChannel.unsubscribe(e,t);o&&await this._gateway.unsubscribe(o,e.uid),t&&t!=="audio"||(e._audio_pre_subscribed=!1),t&&t!=="video"||(e._video_pre_subscribed=!1),e._is_pre_created&&Kd(this._users,e),M.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t))}}catch(o){if(o.code===j.DISCONNECT_P2P)return void M.warning("disconnecting p2p, abort unsubscribe request.");throw M.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),o.toString()),o}finally{s()}}async _unsubscribeDataChannel(e,t){if(t&&Tt(t,"id",0,65535,!0),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");if(!this._users.find(s=>s===e)){const s=new X(j.INVALID_REMOTE_USER,"user is not in the channel");throw M.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),s}let r;if(typeof t=="number"){const s=e._dataChannels.find(o=>o.id===t);s&&(r=[s])}else r=e._dataChannels;if(r===void 0){const s=new X(j.REMOTE_USER_IS_NOT_PUBLISHED);throw M.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid," with channelId ").concat(t,", remote datachannel is not published")),s}M.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(r.map(s=>s.id)));try{const s=await this._p2pChannel.unsubscribeDataChannel(e,r);s&&await this._gateway.unsubscribeDataChannel(s,e.uid),M.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(s))}catch(s){if(s.code===j.DISCONNECT_P2P)return void M.warning("disconnecting p2p, abort unsubscribe request.");throw M.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),s.toString()),s}}async massUnsubscribe(e){if(us(e,"unsubscribeList"),!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");M.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map(n=>{let{user:r,mediaType:s}=n;return"user: ".concat(r==null?void 0:r.uid,", mediaType: ").concat(s,";")}).join())),e=[...e];const t=new Map;for(let n=e.length-1;n>=0;n--){const{user:r,mediaType:s}=e[n];if(!r){const d=new X(j.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw M.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),d}if(fi(s,"mediaType",["video","audio",void 0]),!this._users.find(d=>d===r)){M.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(r.uid,", user is not in the channel")),e.splice(n,1);continue}const a=Ti.Video|Ti.LwoVideo;if(t.has(r)){const d=t.get(r);let l;switch(s){case"video":l=d&a;break;case"audio":l=d&Ti.Audio;break;default:l=d&(Ti.Audio|a)}if(l){M.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(r.uid,",mediaType:").concat(s," twice.")),e.splice(n,1);continue}s?s==="audio"?t.set(r,d|Ti.Audio):s==="video"&&t.set(r,d|a):t.set(r,d|Ti.Audio|a)}else s?s==="audio"?t.set(r,Ti.Audio):s==="video"&&t.set(r,a):t.set(r,Ti.Audio|a)}try{const n=await this._p2pChannel.massUnsubscribe(e);n&&await this._gateway.massUnsubscribe(n),M.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map(r=>{let{user:s,mediaType:o}=r;return"user: ".concat(s==null?void 0:s.uid,", mediaType: ").concat(o,";")}).join()))}catch(n){if(n.code===j.DISCONNECT_P2P)return void M.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw M.error("[".concat(this._clientId,"] massUnsubscribe error"),n.toString()),n}}async setLowStreamParameter(e){(function(n){if(!n)throw new $(j.INVALID_PARAMS);Pt(n.width)||KE(n.width,"streamParameter.width"),Pt(n.height)||KE(n.height,"streamParameter.height"),Pt(n.framerate)||KE(n.framerate,"streamParameter.framerate"),Pt(n.bitrate)||Tt(n.bitrate,"streamParameter.bitrate")})(e),(!e.width&&e.height||e.width&&!e.height)&&M.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),M.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,se.LocalVideoLowTrack)}async enableDualStream(){if(!ot().supportDualStream)throw ve.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new X(j.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new X(j.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw ve.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,ve.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),M.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new X(j.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(se.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw ve.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,ve.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),M.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(e,t){if(function(n){fi(n,"role",["audience","host"])}(e),t&&ZN(t),this.mode==="rtc"||this.mode==="p2p")throw M.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new X(j.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(t&&t.level&&e==="host")throw new X(j.INVALID_OPERATION,"host mode can not set audience latency level");if(e==="audience"&&this._p2pChannel.hasLocalMedia())throw new X(j.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(e,t),this._config.role=e,M.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=(e=this._p2pChannel.getStats())===null||e===void 0?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const n=t.timestamp-Date.now();return Math.abs(n)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return document.visibilityState==="visible"&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(Mi(e,"proxyServer"),!t){if(this.connectionState!=="DISCONNECTED")throw new X(j.INVALID_OPERATION,"Set proxy server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new X(j.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,ve.setProxyServer(this._proxyServer),M.setProxyServer(this._proxyServer),M.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if(this.connectionState!=="DISCONNECTED")throw new X(j.INVALID_OPERATION,"Set turn server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new X(j.INVALID_OPERATION,"You have already set the proxy")}if(Xd(e))return this._turnServer={servers:e,mode:"original-manual"},void M.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map(n=>n.urls).join(","),"."));e.forEach(n=>HN(n)),this._turnServer={servers:e,mode:"manual"},M.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}setLicense(e){if(this.connectionState!=="DISCONNECTED")throw new X(j.INVALID_OPERATION,"you should set license before join channel");if(Mi(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new X(j.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,M.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){if(this.connectionState!=="DISCONNECTED")throw new X(j.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||this._turnServer.mode==="manual"||this._useLocalAccessPoint)throw new X(j.INVALID_OPERATION,"You have already set the proxy");const t=[3,4,5];let n;switch(e===void 0&&(e=3),e){case 1:case 2:throw new X(j.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new X(j.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,M.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if(this.connectionState!=="DISCONNECTED")throw new X(j.INVALID_OPERATION,"Stop proxy server after leave channel");ve.setProxyServer(),M.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",M.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new X(j.INVALID_PARAMS,"accessPoints is required.");us(e.accessPoints.serverList,"accessPoints.serverList"),Mi(e.accessPoints.domain,"accessPoints.domain");const t=(C,T)=>{Tt(C,T,0,65535,!0)};let n=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),n=e.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new X(j.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");L("CLOSE_AFB_FOR_LOCAL_AP")&&(Nt("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),Nt("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const r=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,s=e.accessPoints.domain,o=e.accessPoints.serverList.map(C=>r.test(C)?"".concat(C.replace(/\./g,"-"),".").concat(s):C),a=o.map(C=>"".concat(C,":").concat(n));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Nt("WEBCS_DOMAIN",a),Nt("WEBCS_DOMAIN_BACKUP_LIST",a),Nt("GATEWAY_DOMAINS",[s]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(us(e.report.hostname,"report.hostname"),Nt("EVENT_REPORT_DOMAIN",e.report.hostname[0]),Nt("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(Nt("EVENT_REPORT_DOMAIN",o[0]),Nt("EVENT_REPORT_BACKUP_DOMAIN",o[1]||o[0]));let d=6443;e.report&&e.report.port&&(t(e.report.port,"report.port"),d=e.report.port),Nt("STATS_COLLECTOR_PORT",d),e.report?Nt("ENABLE_EVENT_REPORT",!0):Nt("ENABLE_EVENT_REPORT",!1);let l="";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(us(e.log.hostname,"log.hostname"),l=e.log.hostname[0]):l=o[0];let E=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),E=e.log.port),Nt("LOG_UPLOAD_SERVER","".concat(l,":").concat(E));let g=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(us(e.cds.hostname,"cds.hostname"),g=e.cds.hostname):g=o;let f=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),f=e.cds.port),Nt("CDS_AP",g.map(C=>"".concat(C,":").concat(f))),e.cds?Nt("ENABLE_CONFIG_DISTRIBUTE",!0):Nt("ENABLE_CONFIG_DISTRIBUTE",!1),M.info("set local access point v2 success")}setLocalAccessPoints(e,t){if(us(e,"serverList"),Mi(t,"domain"),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new X(j.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map(r=>n.test(r)?"".concat(r.replace(/\./g,"-"),".").concat(t):r),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Nt("WEBCS_DOMAIN",e),Nt("WEBCS_DOMAIN_BACKUP_LIST",e),Nt("GATEWAY_DOMAINS",[t]),Nt("EVENT_REPORT_DOMAIN",e[0]),Nt("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),Nt("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),M.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(e){if(fi(e,"streamType",[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(t){throw M.error("[".concat(this._clientId,"] set default remote video stream type error"),t.toString()),t}else M.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(e))}async setRemoteVideoStreamType(e,t){fi(t,"streamType",[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout(()=>{const n=this._users.find(r=>r.uid===e);n&&n.videoTrack&&n.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(n){throw M.error("[".concat(this._clientId,"] set remote video stream type error"),n.toString()),n}M.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){fi(t,"fallbackType",[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(n){throw M.error("[".concat(this._clientId,"] set stream fallback option"),n.toString()),n}M.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,n,r){(function(o){fi(o,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])})(e),Mi(t,"secret");const s=["aes-128-gcm2","aes-256-gcm2"];if(ge(s).call(s,e)){if(!n||!(n instanceof Uint8Array&&n.length===32))throw new X(j.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new X(j.INVALID_PARAMS,"current encrypt mode does not need salt");if(r){if(hs(r,"encryptDataStream"),!ge(s).call(s,e))throw new X(j.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\\[\\]])(?=.{8,})`).test(t)||M.warning(`The secret is not strong:
      The secret must contain at least 1 lowercase alphabetical character,
      The secret must contain at least 1 uppercase alphabetical character,
      The secret must contain at least 1 numeric character,
      The secret must contain at least one special character,
      The secret must be eight characters or longer.
      `),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=Os(n))}async renewToken(e){if(Mi(e,"token",1,2047),!this._key||!this._joinInfo)throw new X(j.INVALID_OPERATION,"renewToken should not be called before user join");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const n=await this._renewTokenMutex.lock();try{if(L("USE_NEW_TOKEN")){M.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const r=await mG(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||hi);M.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:e,ticket:r})}else M.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:e});M.debug("[".concat(this._clientId,"] renewToken success"))}catch(r){throw this._key=t,this._joinInfo.token=t,M.error("[".concat(this._clientId,"] renewToken failed"),r.toString()),r}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?M.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit($e.VOLUME_INDICATOR,e)},L("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if(this.codec!=="h264")throw new X(j.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new X(j.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new X(j.LIVE_STREAMING_TASK_CONFLICT);const n=t?Es.TRANSCODE:Es.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(e,n)}setLiveTranscoding(e){return this._createLiveStreamingClient(Es.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(n=>n&&n.hasUrl(e));if(!t.length)throw new X(j.INVALID_PARAMS,"can not find live streaming url to stop");await Ie.all(t.map(n=>n&&n.stopLiveStreamingTask(e)))}async startChannelMediaRelay(e){vB(e),await this._createChannelMediaRelayClient().startChannelMediaRelay(e)}async updateChannelMediaRelay(e){vB(e),await this._createChannelMediaRelayClient().updateChannelMediaRelay(e)}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(e){var t;let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new X(j.INVALID_OPERATION,"can not send data stream, not joined");if((typeof e=="string"||e instanceof Uint8Array)&&(e={payload:e}),typeof e.payload=="string"){const s=new TextEncoder;e.payload=s.encode(e.payload)}let r=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&ge(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)&&(r=!0,e.payload=await async function(s,o,a){var d;const l=Mr(d=Array.from(a)).call(d,(U,_)=>U+_,0),E={serverTs:0,seq:kV++,length:a.length,checkSum:l},g=new Uint8Array(nS(l,2)),f=new ArrayBuffer(Ta),C=new DataView(f);C.setUint32(0,E.serverTs),C.setUint16(4,E.seq),C.setUint16(6,E.length),C.setUint16(8,E.checkSum);const T=16-a.length%16;a=qN(a,new Uint8Array(T));const Q=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s,tagLength:AS,additionalData:g},o,a);return qN(new Uint8Array(f),new Uint8Array(Q))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e.payload)),new Blob([e.payload]).size>1024)throw new X(j.INVALID_PARAMS,r?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(Pe.DATA_STREAM,{payload:Os(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-jG},!n)}sendMetadata(e){if(!this._joinInfo)throw new X(j.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new X(j.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(Pe.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:Os(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(jV),!this._joinInfo)throw new X(j.INVALID_OPERATION,"can not send custom report, not joined");await ve.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){fi(t.spatialLayer,"spatialLayer",[0,1,2,3]),fi(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(n){throw M.error("[".concat(this._clientId,"] pick SVC layer failed"),n.toString()),n}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:n}=e;if(hs(t,"apRTM"),Tt(n,"rtmFlag",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=n,M.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(e)," in ").concat(this.connectionState," state")),(this.connectionState==="CONNECTED"||this.connectionState==="RECONNECTING")&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(M.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=sn.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&tU(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&ve.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach(t=>t._close()),e._dataChannels.length=0)}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._cloudProxyServerMode==="fallback"&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new Oi("client-publish",this._clientId),this._subscribeMutex=new Oi("client-subscribe",this._clientId),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch{}if(this._moderation)try{this.setImageModeration(!1)}catch{}}_startSession(e,t){var n;const r=e||Ca();e?M.debug("[".concat(this._clientId,"] new Session ").concat(r)):M.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(r));const s=e?"":this._sessionId||"";this._sessionId=r,this.store.sessionId=r,ve.addSid(r);const o={lts:new Date().getTime(),mode:this.mode,buildFormat:1,stringUid:(t==null?void 0:t.stringUid)||((n=this._joinInfo)===null||n===void 0?void 0:n.stringUid),channelProfile:this.mode==="live"?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:s,clientRole:this.role==="audience"?2:1};ve.sessionInit(this._sessionId,Rr({cname:t.channel,appid:t.appId},o)),this._joinInfo&&(this._joinInfo.sid=r),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=r)}async _publishHighStream(e){if(!this._joinInfo||this._uid===void 0)throw new X(j.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&L("FORCE_TURN")&&!L("TURN_ENABLE_TCP")&&!L("TURN_ENABLE_UDP"))throw new X(j.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");M.debug("[".concat(this._clientId,"] publish high stream"));try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof Sn){const r=(await n.next()).value;if(r){try{await this._gateway.sendExtensionMessage(qt.PUBLISH,r,!0)}catch(s){throw n.throw(s),s}await n.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const r=(await n.next()).value;if(r){var t;let s;try{s=await this._gateway.publish(this._uid,r,!0)}catch(o){if(o.code!==j.DISCONNECT_P2P)throw n.throw(o),o}await n.next(((t=s)===null||t===void 0?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const s of e)s instanceof Qt&&s._encoderConfig&&this._gateway.setVideoProfile(s._encoderConfig),!s.muted&&s.enabled||await this._p2pChannel.muteLocalTrack(s)}}catch(n){if(this._p2pChannel.reportPublishEvent(!1,n==null?void 0:n.code,e),(n==null?void 0:n.code)===j.WS_ABORT)return;throw n}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new X(j.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new X(j.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));M.debug("[".concat(this._clientId,"] publish low stream"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const n=await this._p2pChannel.publishLowStream(this._lowStreamParameter),r=(await n.next()).value;if(r){var t;let s;try{s=await this._gateway.publish(this._uid,r,!0)}catch(o){if(o.code!==j.DISCONNECT_P2P)throw n.throw(o),o}n.next(((t=s)===null||t===void 0?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(n){if(this._p2pChannel.reportPublishEvent(!1,n==null?void 0:n.code,void 0,!0),(n==null?void 0:n.code)===j.WS_ABORT)return;throw n}}_createLiveStreamingClient(e){const t=()=>{if(!this._joinInfo||!this._appId)return new X(j.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const n=(r={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},lc("LiveStreaming").create(r));var r;return n.onLiveStreamError=(s,o)=>{ve.reportApiInvoke(this._sessionId,{name:gi.ON_LIVE_STREAM_ERROR,options:[s,o],tag:zt.TRACER}).onSuccess(),this.safeEmit($e.LIVE_STREAMING_ERROR,s,o)},n.onLiveStreamWarning=(s,o)=>{ve.reportApiInvoke(this._sessionId,{name:gi.ON_LIVE_STREAM_WARNING,options:[s,o],tag:zt.TRACER}).onSuccess(),this.safeEmit($e.LIVE_STREAMING_WARNING,s,o)},n.on(fg.REQUEST_WORKER_MANAGER_LIST,(s,o,a)=>{if(!this._joinInfo)return a(new X(j.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(d,l,E,g){const f=L("UAP_AP").slice(0,L("AJAX_REQUEST_CONCURRENT")).map(C=>l.proxyServer?"https://".concat(l.proxyServer,"/ap/?url=").concat(C+"/api/v1?action=uap"):"https://".concat(C,"/api/v1?action=uap"));return await uG(f,d,l,E,g)})(s,this._joinInfo,this._axiosCancelSource.token,hi).then(o).catch(a)}),n};return e===Es.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new X(j.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:t,sendResolutionHeight:n}=this.getLocalVideoStats(),r=(e={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t,height:n}},lc("ChannelMediaRelay").create(e));r.on("state",s=>{s===dn.RELAY_STATE_FAILURE&&r&&r.dispose(),this.safeEmit($e.CHANNEL_MEDIA_RELAY_STATE,s)}),r.on("event",s=>{this.safeEmit($e.CHANNEL_MEDIA_RELAY_EVENT,s)}),this._channelMediaRelayClient=r,this._statsCollector.onStatsChanged=(s,o)=>{var a;s==="resolution"&&((a=this._channelMediaRelayClient)===null||a===void 0||a.setVideoProfile(o))}}var e;return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:n,deleted:r}=e,s=[];if(t){const o=[];this._users.forEach(a=>{a._dataChannels.forEach(d=>{n.every(l=>l.uid!==a._uintid||l.stream_id!==d.id)&&o.push({uid:a._uintid,stream_id:d.id,ordered:d.ordered,max_retrans_times:d.maxRetransmits,metadata:d.metadata})})}),o.length>0&&this._handleUpdateDataChannel({added:[],deleted:o})}Array.isArray(n)&&n.length>0&&n.forEach(o=>{const{uid:a,stream_id:d,ordered:l,max_retrans_times:E,metadata:g}=o,f=this._users.find(C=>C._uintid===a);if(!f)return void M.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"));if(M.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(a)),ge(s).call(s,f)||s.push(f),f._uintid||(f._uintid=a),f._dataChannels.findIndex(C=>C.id===o.stream_id)===-1){const C={id:d,ordered:!!l,maxRetransmits:E,metadata:g},T=function(Q){return xB(Q,!0)}(C);f._dataChannels.push(T),M.info("[".concat(this._clientId,"] remote user ").concat(f.uid," published datachannel")),t||this.safeEmit($e.USER_PUBLISHED,f,"datachannel",C)}this._p2pChannel.hasPendingRemoteDataChannel(f,o.stream_id)&&(M.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(f.uid," after reconnect.")),this._subscribeDataChannel(f,o.stream_id).catch(C=>{M.error("[".concat(this._clientId,"] resubscribe datachannel error"),C.toString())}))}),t&&(this.safeEmit($e.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(r)&&r.length>0&&r.forEach(o=>{const{uid:a,stream_id:d}=o,l=this._users.find(g=>g._uintid===a);if(!l)return void M.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const E=l._dataChannels.find(g=>g.id===o.stream_id);E&&(M.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(a)),this._p2pChannel.unsubscribeDataChannel(l,[E]).then(g=>{if(l._dataChannels=l._dataChannels.filter(f=>f!==E),g)return this._gateway.unsubscribeDataChannel(g,l.uid)}),M.info("[".concat(this._clientId,"] remote user ").concat(a," unpublished datachannel ,id:").concat(E.id)),this.safeEmit($e.USER_UNPUBLISHED,l,"datachannel",E._config))})}_handleRemoveDataChannels(e){const t=this._users.find(n=>n.uid===e.uid);if(t){if(t._dataChannels!==void 0&&t._dataChannels.length>0){M.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(e.uid));const n=()=>{M.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished datachannel")),t._dataChannels.forEach(r=>{this.safeEmit($e.USER_UNPUBLISHED,t,"datachannel",r._config)})};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then(r=>{if(r)return this._gateway.unsubscribeDataChannel(r,t.uid)}),n()}}else M.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(ki.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(ki.CONNECTION_STATE_CHANGE,(e,t,n)=>{var r;if(n===gt.FALLBACK)return;const s=()=>{this.safeEmit($e.CONNECTION_STATE_CHANGE,e,t,n)};if(ve.reportApiInvoke(this._sessionId||((r=this._gateway.joinInfo)===null||r===void 0?void 0:r.sid)||null,{name:gi.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:zt.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),M.info("[".concat(this._clientId,"] signal connection state change: ").concat(t," -> ").concat(e)),e==="DISCONNECTED")return this._reset(),void s();if(e==="RECONNECTING")this._users.forEach(a=>{a._trust_in_room_=!1,a._trust_audio_enabled_state_=!1,a._trust_video_enabled_state_=!1,a._trust_audio_mute_state_=!1,a._trust_video_mute_state_=!1,a._trust_audio_stream_added_state_=!1,a._trust_video_stream_added_state_=!1,a._is_pre_created||(a._audio_pre_subscribed||(a._audioSSRC=void 0,a._audioOrtc=void 0),a._video_pre_subscribed||(a._videoSSRC=void 0,a._videoOrtc=void 0,a._rtxSsrcId=void 0),a._cname=void 0)}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(e==="CONNECTED"){var o;this._streamFallbackTypeCacheMap.forEach((a,d)=>{this._gateway.setStreamFallbackOption(d,a).catch(l=>{M.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),l)})}),this._remoteStreamTypeCacheMap.forEach((a,d)=>{this._gateway.setRemoteVideoStreamType(d,a).catch(l=>{M.warning("[".concat(this._clientId,"] auto set remote stream type failed"),l)})}),this._remoteDefaultVideoStreamType!==void 0&&((o=this._joinInfo)===null||o===void 0?void 0:o.defaultVideoStream)===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{M.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))}).catch(a=>{M.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(a))}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._userOfflineTimeout=void 0,this._users.filter(a=>!a._trust_in_room_).forEach(a=>{M.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(a.uid)),this._handleUserOffline({uid:a.uid})}))},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._streamRemovedTimeout=void 0,this._users.forEach(a=>{a._trust_audio_mute_state_||(M.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(a.uid)),this._handleMuteStream(a.uid,Ne.AUDIO,!1)),a._trust_video_mute_state_||(M.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(a.uid)),this._handleMuteStream(a.uid,Ne.VIDEO,!1)),a._trust_audio_enabled_state_||(M.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(a.uid)),this._handleSetStreamLocalEnable("audio",a.uid,!0)),a._trust_video_enabled_state_||(M.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(a.uid)),this._handleSetStreamLocalEnable("video",a.uid,!0)),a._trust_video_stream_added_state_||(M.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(a.uid)),this._handleResetAddStream(a,"video")),a._trust_audio_stream_added_state_||(M.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(a.uid)),this._handleResetAddStream(a,"audio")),a._video_added_||a._audio_added_||(M.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(a.uid)),this._handleRemoveStream({uid:a.uid,uint_id:a._uintid}))}))},1e3))}s()}),this._gateway.on(ki.REQUEST_NEW_GATEWAY_LIST,async(e,t)=>{if(!this._joinInfo)return t(new X(j.UNEXPECTED_ERROR,"can not recover, no join info"));try{let n;const r=await $B(Rr(Rr({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));r?(n=r.ap,iU(r),this._joinInfo.preload=!0):(n=await Cp(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||hi,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=n.gatewayInfo.res,this._joinInfo.gatewayAddrs=n.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=n.gatewayInfo.uni_lbs_ip);const s=[];n.gatewayInfo.gatewayAddrs.forEach(o=>{let{address:a}=o;const[d,l]=a.split(":");this._joinInfo&&this._joinInfo.proxyServer?s.push({proxy:this._joinInfo.proxyServer,host:d,port:l}):s.push({host:d,port:l})}),e(s)}catch(n){t(n)}}),this._gateway.on(ki.NETWORK_QUALITY,e=>{this._networkQualitySensitivity==="normal"&&this.safeEmit($e.NETWORK_QUALITY,e)}),this._gateway.on(ki.STREAM_TYPE_CHANGE,(e,t)=>{this.safeEmit($e.STREAM_TYPE_CHANGED,e,t),ve.reportApiInvoke(this._sessionId,{name:gi.STREAM_TYPE_CHANGE,options:[e,t],tag:zt.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))}),this._gateway.on(ki.IS_P2P_DISCONNECTED,e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)}),this._gateway.on(ki.REQUEST_P2P_CONNECTION_PARAMS,async(e,t,n)=>{try{let r=await this._p2pChannel.getEstablishParams();L("ENABLE_PREALLOC_PC")&&r||(r=await this._p2pChannel.startP2PConnection(e)),t(r)}catch(r){n(r)}}),this._gateway.on(ki.JOIN_RESPONSE,(e,t)=>{if(this.store.useP2P)return;let n;e.attributes?n=e.attributes.userAttributes.preSubSsrcs:M.debug("no attributes in joinResponse");const r=Sw(e.ortc,t,n);this._p2pChannel.connect(r)}),this._gateway.on(ki.PRE_CONNECT_PC,async e=>{const{candidates:t,fingerprint:n}=e;if(this._joinInfo&&t.length>0&&!this._p2pChannel.isPlanB){var r;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:s,cid:o}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(o,"_").concat(s),icePwd:"".concat(o,"_").concat(s)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:(r=L("FINGERPRINT"))!==null&&r!==void 0?r:n}]},candidates:t,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}})}_handleGatewaySignalEvents(){this._gateway.signal.on(qe.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(qe.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(qe.ON_ADD_AUDIO_STREAM,e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc)),this._gateway.signal.on(qe.ON_ADD_VIDEO_STREAM,e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId)),this._gateway.signal.on(qe.ON_REMOTE_DATASTREAM_UPDATE,e=>{this._handleUpdateDataChannel(e)}),this._gateway.signal.on(qe.ON_REMOTE_FULL_DATASTREAM_INFO,e=>{this._handleUpdateDataChannel({added:e.datastreams||[],deleted:[]},!0)}),this._gateway.signal.on(qe.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(qe.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(qe.MUTE_AUDIO,e=>this._handleMuteStream(e.uid,Ne.AUDIO,!0)),this._gateway.signal.on(qe.UNMUTE_AUDIO,e=>this._handleMuteStream(e.uid,Ne.AUDIO,!1)),this._gateway.signal.on(qe.MUTE_VIDEO,e=>this._handleMuteStream(e.uid,Ne.VIDEO,!0)),this._gateway.signal.on(qe.UNMUTE_VIDEO,e=>this._handleMuteStream(e.uid,Ne.VIDEO,!1)),this._gateway.signal.on(qe.RECEIVE_METADATA,e=>{const t=Ro(e.metadata);this.safeEmit($e.RECEIVE_METADATA,e.uid,t)}),this._gateway.signal.on(qe.ON_DATA_STREAM,async e=>{var t;if(!e)return;let n=Ro(e.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&ge(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)){if(e.payload.length<Ta)throw new X(j.UNEXPECTED_RESPONSE,"payload length ".concat(e.payload.length," is less than header length ").concat(Ta));n=await async function(o,a,d){const l=d.subarray(0,Ta),E=l.slice(8,Ta),g=(E[0]<<8)+E[1],f=(l[6]<<8)+l[7],C=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:o,tagLength:AS,additionalData:new Uint8Array(nS(g,2))},a,d.subarray(Ta));return new Uint8Array(C).subarray(0,f)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n)}let r=0;if(e.ordered||e.syncWithAudio){const s=this._p2pChannel.getStats(),o=this.remoteUsers.find(d=>d.uid===e.uid),a=s==null?void 0:s.audioRecv.find(d=>d.ssrc===(o==null?void 0:o._audioSSRC));r=a==null?void 0:a.jitterBufferMs}r==null&&(r=0),PG(Rr(Rr({},e),{},{payload:n}),r,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage=="function"?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})}),this._gateway.signal.on(qe.ON_CRYPT_ERROR,()=>{js(()=>{M.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit($e.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(qe.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(qe.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{M.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,gt.TOKEN_EXPIRE),this.safeEmit($e.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(qe.ON_STREAM_FALLBACK_UPDATE,e=>{M.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),this.safeEmit($e.STREAM_FALLBACK,e.stream_id,e.stream_type===1?"fallback":"recover")}),this._gateway.signal.on(qe.ON_PUBLISH_STREAM,e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),M.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))))}),this._gateway.signal.on(qe.ENABLE_LOCAL_VIDEO,e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)}),this._gateway.signal.on(qe.DISABLE_LOCAL_VIDEO,e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)}),this._gateway.signal.on(Ve.REQUEST_TIMEOUT,(e,t)=>{if(this._joinInfo)switch(e){case Pe.PUBLISH:{if(!t)return;const s=t.ortc;if(s){var n,r;const o=s.some(l=>{let{stream_type:E}=l;return E===ut.Audio}),a=s.some(l=>{let{stream_type:E}=l;return E!==ut.Audio}),d=s.some(l=>{let{stream_type:E}=l;return E===ut.Screen||E===ut.ScreenLow});t.state==="offer"&&ve.publish(this._joinInfo.sid,{eventElapse:Vi.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:j.TIMEOUT,audio:o,video:a,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:d,audioName:o?(n=s.find(l=>{let{stream_type:E}=l;return E===ut.Audio}))===null||n===void 0||(n=n.ssrcs[0])===null||n===void 0?void 0:n.ssrcId.toString():void 0,videoName:a?(r=s.find(l=>{let{stream_type:E}=l;return E!==ut.Audio}))===null||r===void 0||(r=r.ssrcs[0])===null||r===void 0?void 0:r.ssrcId.toString():void 0})}break}case Pe.SUBSCRIBE:t&&ve.subscribe(this._joinInfo.sid,{succ:!1,ec:j.TIMEOUT,audio:t.stream_type===Ne.AUDIO,video:t.stream_type===Ne.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:Vi.measureFromSubscribeStart(this.store.clientId,t.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t.ssrcId)})}}),this._gateway.signal.on(qe.ON_P2P_OK,e=>{this.uid,this._uid}),this._gateway.signal.on(qe.ON_PUBLISHED_USER_LIST,e=>{if(e==null||!e.users)return;L("BLOCK_LOCAL_CLIENT")&&(e.users=e.users.filter(r=>!So(r.string_id||r.stream_id,this.channelName)));const t=[],n=[];for(const r of e.users){let s=this._users.find(g=>g._uintid===r.stream_id);s?s._trust_in_room_=!0:(s=new Xs(r.string_id||r.stream_id,r.stream_id),this._users.push(s),this.getListeners($e.PUBLISHED_USER_LIST).length===0&&(M.debug("[".concat(this._clientId,"] user online"),r.stream_id),this.safeEmit($e.USER_JOINED,s)));const o=Ti.Audio&r.stream_type,a=(Ti.Video|Ti.LwoVideo)&r.stream_type,d=(65280&r.stream_type)!=0,l=o&&s.hasAudio,E=a&&s.hasVideo;a&&(s._trust_video_stream_added_state_=!0,s._video_added_=!0,s._videoSSRC=r.video_ssrc,s._rtxSsrcId=r.video_rtx),o&&(s._trust_audio_stream_added_state_=!0,s._audio_added_=!0,s._audioSSRC=r.audio_ssrc),o&&!l&&this.getListeners($e.PUBLISHED_USER_LIST).length===0&&(M.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published audio")),this.safeEmit($e.USER_PUBLISHED,s,"audio")),a&&!E&&this.getListeners($e.PUBLISHED_USER_LIST).length===0&&(M.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published video")),this.safeEmit($e.USER_PUBLISHED,s,"video")),(o&&!l||a&&!E||d)&&t.push(s),a&&this._p2pChannel.hasPendingRemoteMedia(s,"video")&&n.push({user:s,mediaType:"video"}),o&&this._p2pChannel.hasPendingRemoteMedia(s,"audio")&&n.push({user:s,mediaType:"audio"})}n.length>0&&(M.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map(r=>"user: ".concat(r.user.uid,", mediaType: ").concat(r.mediaType)).join("; ")," ")),this.massSubscribe(n).catch(r=>{M.error("[".concat(this._clientId,"] mass resubscribe error"),r.toString())})),this.getListeners($e.PUBLISHED_USER_LIST).length>0?L("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=t:(M.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map(r=>r.uid).join(", "))),this.safeEmit($e.PUBLISHED_USER_LIST,t)):M.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map(r=>r.uid).join(", ")))}),this._gateway.signal.on(qe.ON_RTP_CAPABILITY_CHANGE,e=>{const{video_codec:t}=e;this._p2pChannel instanceof zl&&this._p2pChannel.updateRemoteRTPCapabilities(t.map(n=>n.toLowerCase()).filter(n=>{var r;return ge(r=Object.keys(il)).call(r,n)}))})}_handleP2PEvents(){this._gateway.signal.on(qe.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect()}),this._gateway.signal.on(qt.PUBLISH,(e,t,n)=>{const{uid:r}=e;e.forEach(s=>{const{kind:o,ssrcs:a,mid:d,isMuted:l}=s;this._handleP2PAddAudioOrVideoStream(o,r,a[0].ssrcId,d);const E=this._users.find(g=>g.uid===r);return E&&this._p2pChannel instanceof Sn?this._p2pChannel.mockSubscribe(E,o,a[0].ssrcId,d).then(()=>{t()}).catch(n):t(),this._handleMuteStream(r,o,!!l)})}),this._gateway.signal.on(qt.CALL,async(e,t,n)=>{if(this._p2pChannel instanceof Sn)try{var r;t(await this._p2pChannel.startP2P({turnServer:(r=this._joinInfo)===null||r===void 0?void 0:r.turnServer},e))}catch(s){n(s)}}),this._gateway.signal.on(Ve.P2P_CONNECTION,async e=>{this._p2pChannel instanceof Sn&&await this._p2pChannel.p2pConnect(e)}),this._gateway.signal.on(qt.UNPUBLISH,async(e,t,n)=>{if(this._p2pChannel instanceof Sn){const{unpubMsg:r,uid:s}=e,o=this._users.find(a=>a.uid===s);if(!o)return M.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(s)),void t();try{r.forEach(async a=>{let{stream_type:d}=a;const l=d===ut.Audio?Ne.AUDIO:Ne.VIDEO;await this._p2pChannel.unsubscribe(o,l),this._handleMuteStream(s,l,!0)}),t()}catch(a){n(a)}}}),this._gateway.signal.on(qt.CONTROL,async(e,t)=>{const{action:n}=e;switch(n){case Ls.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,Ne.VIDEO,!0);break;case Ls.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,Ne.AUDIO,!0);break;case Ls.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",t),this._handleMuteStream(t,Ne.VIDEO,!1);break;case Ls.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",t),this._handleMuteStream(t,Ne.AUDIO,!1)}}),this._gateway.signal.on(qt.RESTART_ICE,async(e,t,n)=>{if(this._p2pChannel instanceof Sn)try{const{direction:r,iceParameter:s}=e;r!==qi.SEND_ONLY||s?t(await this._p2pChannel.restartICE(r,s)):(this._p2pChannel.handleDisconnect(r),t())}catch(r){n(r)}}),this._gateway.signal.on(qt.CANDIDATE,e=>{if(this._p2pChannel instanceof Sn){const{candidate:t,direction:n}=e;this._p2pChannel.addRemoteCandidate(t,n)}}),this._p2pChannel.on(je.RequestP2PRestartICE,async(e,t,n)=>{try{const{direction:r}=e;t(await this._gateway.sendExtensionMessage(qt.RESTART_ICE,e,r===qi.SEND_ONLY))}catch(r){n(r)}}),this._p2pChannel.on(je.LocalCandidate,e=>{this._gateway.sendExtensionMessage(qt.CANDIDATE,JSON.stringify(e),!0)}),this._p2pChannel.on(je.RequestP2PMuteLocal,async(e,t,n)=>{try{await this._gateway.sendExtensionMessage(qt.CONTROL,e,!0),t()}catch(r){n(r)}}),this._p2pChannel.on(je.RequestP2PUnmuteRemote,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===j.DISCONNECT_P2P?t():n(r)}else t()}),this._p2pChannel.on(je.RequestP2PMuteRemote,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===j.DISCONNECT_P2P?t():n(r)}else t()}),this._p2pChannel.on(je.StateChange,(e,t)=>{t===Et.Connected&&this._p2pChannel.republish()})}_handleP2PChannelEvents(){this._p2pChannel.on(je.RequestMuteLocal,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===j.DISCONNECT_P2P?t():n(r)}else t()}),this._p2pChannel.on(je.RequestUnmuteLocal,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===j.DISCONNECT_P2P?t():n(r)}else t()}),this._p2pChannel.on(je.RequestRePublish,(e,t,n)=>{this.publish(e,!1).then(t).catch(n)}),this._p2pChannel.on(je.RequestRePublishDataChannel,(e,t,n)=>{Ie.all(e.map(async r=>{const s=await this._p2pChannel.publishDataChannel([r]);try{s.forEach(o=>{this._uid&&this._gateway.publishDataChannel(this._uid,o,!0)})}catch(o){if(o.code!==j.DISCONNECT_P2P)throw o}})).then(t).catch(n)}),this._p2pChannel.on(je.RequestReSubscribe,async(e,t,n)=>{try{for(const{user:r,kind:s}of e)s===Ne.VIDEO?await this.subscribe(r,"video"):await this.subscribe(r,"audio");t()}catch(r){n(r)}}),this._p2pChannel.on(je.RequestUpload,(e,t)=>{this._gateway.upload(e,t)}),this._p2pChannel.on(je.RequestUploadStats,e=>{this._gateway.uploadWRTCStats(e)}),this._p2pChannel.on(je.MediaReconnectStart,e=>{this.safeEmit($e.MEDIA_RECONNECT_START,e)}),this._p2pChannel.on(je.MediaReconnectEnd,e=>{this.safeEmit($e.MEDIA_RECONNECT_END,e)}),this._p2pChannel.on(je.NeedSignalRTT,e=>{e(this._gateway.getSignalRTT())}),this._p2pChannel.on(je.RequestRestartICE,async e=>{if(this._p2pChannel instanceof Sn)return;const t=await this._p2pChannel.restartICE(e),n=await t.next();if(n.done)return;const r=n.value;let s;try{s=await this._gateway.restartICE({iceParameters:r})}catch(a){return void t.throw(a)}const{iceParameters:o}=function(a){const d=a.iceParameters;return{iceParameters:{iceUfrag:d.iceUfrag,icePwd:d.icePwd}}}(s);await t.next({remoteIceParameters:o})}),this._p2pChannel.on(je.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(je.RequestReconnectPC,async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await this._p2pChannel.startP2PConnection({turnServer:(e=this._joinInfo)===null||e===void 0?void 0:e.turnServer}),{gatewayEstablishParams:s,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:r}),a=Sw(s,o);await this._p2pChannel.connect(a),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(je.RequestUnpublishForReconnectPC,async(e,t,n)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(e,this._uid),t()):n()}),this._p2pChannel.on(je.P2PLost,()=>{this.safeEmit($e.P2P_LOST,this.store.uid)}),this._p2pChannel.on(je.UpdateVideoEncoder,e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)}),this._p2pChannel.on(je.ConnectionTypeChange,e=>{this.safeEmit($e.IS_USING_CLOUD_PROXY,e)}),this._p2pChannel.on(je.RequestLowStreamParameter,e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(je.QueryClientConnectionState,e=>{e(this.connectionState)})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(!this._joinInfo||this.connectionState!=="CONNECTED")throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const n=(t={config:e},lc("ContentInspect").create(t));this._inspect=n,this.handleVideoInspectEvents(n);const{appId:r,cname:s,sid:o,token:a,uid:d,cid:l,vid:E}=this._joinInfo;await n.init({appId:r,areaCode:"",cname:s,sid:o,token:a,uid:d,cid:l,vid:E?Number(E):0},hi)}catch(n){throw Array.isArray(n)?n[0]:n}var t}handleVideoInspectEvents(e){e.on(Ni.CONNECTION_STATE_CHANGE,(t,n)=>{if(this.safeEmit($e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===Ar.CONNECTED){if(this.connectionState!=="CONNECTED")return void this.safeEmit($e.CONTENT_INSPECT_ERROR,new X(j.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}}),e.on(Ni.INSPECT_RESULT,(t,n)=>{var r;if((n==null?void 0:n.code)===j.INVALID_OPERATION&&this.connectionState==="DISCONNECTED")return M.debug("Stop inspect content because that has left channel"),this==null||(r=this._inspect)===null||r===void 0||r.close(),void(this._inspect=void 0);this.safeEmit($e.CONTENT_INSPECT_RESULT,t,n)}),e.on(Ni.CLIENT_LOCAL_VIDEO_TRACK,t=>{t(this.localTracks.filter(n=>n.trackMediaType==="video")[0])})}async disableContentInspect(){if(!this._inspect)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(hs(e,"enabled"),e){if(!t)throw new X(j.INVALID_PARAMS,"config is required");if(EU(t),!this._joinInfo)throw new X(j.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(t);else{const r=(n={config:t},lc("ImageModeration").create(n));this._moderation=r,this.handleImageModerationEvents(r);const{appId:s,cname:o,sid:a,token:d,uid:l,cid:E,vid:g}=this._joinInfo;await r.init({appId:s,areaCode:"",cname:o,sid:a,token:d,uid:l,cid:E,vid:g?Number(g):0},hi)}}catch(r){throw Array.isArray(r)?r[0]:r}}else{var n;if(!this._moderation)throw new X(j.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(r){throw Array.isArray(r)?r[0]:r}}}handleImageModerationEvents(e){e.on(_r.CONNECTION_STATE_CHANGE,(t,n)=>{if(this.safeEmit($e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,n),t===Kn.CONNECTED){if(this.connectionState!=="CONNECTED")throw this.setImageModeration(!1),new X(j.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");e.inspectImage()}}),e.on(_r.CLIENT_LOCAL_VIDEO_TRACK,t=>{t(this.localTracks.filter(n=>n.trackMediaType==="video")[0])})}setP2PTransport(e){if(function(t){fi(t,"transport",["default","auto","relay","sd-rtn"])}(e),this.mode!=="p2p")throw new X(j.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=e,M.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(e))}getJoinChannelServiceRecords(){return M.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){hs(e,"enabled"),Nt("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}},Se(me.prototype,"leave",[gU],Object.getOwnPropertyDescriptor(me.prototype,"leave"),me.prototype),Se(me.prototype,"publish",[pU],Object.getOwnPropertyDescriptor(me.prototype,"publish"),me.prototype),Se(me.prototype,"unpublish",[IU],Object.getOwnPropertyDescriptor(me.prototype,"unpublish"),me.prototype),Se(me.prototype,"subscribe",[fU],Object.getOwnPropertyDescriptor(me.prototype,"subscribe"),me.prototype),Se(me.prototype,"presubscribe",[mU],Object.getOwnPropertyDescriptor(me.prototype,"presubscribe"),me.prototype),Se(me.prototype,"massSubscribe",[CU],Object.getOwnPropertyDescriptor(me.prototype,"massSubscribe"),me.prototype),Se(me.prototype,"unsubscribe",[RU],Object.getOwnPropertyDescriptor(me.prototype,"unsubscribe"),me.prototype),Se(me.prototype,"massUnsubscribe",[TU],Object.getOwnPropertyDescriptor(me.prototype,"massUnsubscribe"),me.prototype),Se(me.prototype,"setLowStreamParameter",[NU],Object.getOwnPropertyDescriptor(me.prototype,"setLowStreamParameter"),me.prototype),Se(me.prototype,"enableDualStream",[SU],Object.getOwnPropertyDescriptor(me.prototype,"enableDualStream"),me.prototype),Se(me.prototype,"disableDualStream",[MU],Object.getOwnPropertyDescriptor(me.prototype,"disableDualStream"),me.prototype),Se(me.prototype,"setClientRole",[yU],Object.getOwnPropertyDescriptor(me.prototype,"setClientRole"),me.prototype),Se(me.prototype,"setProxyServer",[wU],Object.getOwnPropertyDescriptor(me.prototype,"setProxyServer"),me.prototype),Se(me.prototype,"setTurnServer",[BU],Object.getOwnPropertyDescriptor(me.prototype,"setTurnServer"),me.prototype),Se(me.prototype,"setLicense",[UU],Object.getOwnPropertyDescriptor(me.prototype,"setLicense"),me.prototype),Se(me.prototype,"startProxyServer",[vU],Object.getOwnPropertyDescriptor(me.prototype,"startProxyServer"),me.prototype),Se(me.prototype,"stopProxyServer",[_U],Object.getOwnPropertyDescriptor(me.prototype,"stopProxyServer"),me.prototype),Se(me.prototype,"setLocalAccessPointsV2",[FU],Object.getOwnPropertyDescriptor(me.prototype,"setLocalAccessPointsV2"),me.prototype),Se(me.prototype,"setLocalAccessPoints",[QU],Object.getOwnPropertyDescriptor(me.prototype,"setLocalAccessPoints"),me.prototype),Se(me.prototype,"setRemoteDefaultVideoStreamType",[bU],Object.getOwnPropertyDescriptor(me.prototype,"setRemoteDefaultVideoStreamType"),me.prototype),Se(me.prototype,"setRemoteVideoStreamType",[DU],Object.getOwnPropertyDescriptor(me.prototype,"setRemoteVideoStreamType"),me.prototype),Se(me.prototype,"setStreamFallbackOption",[kU],Object.getOwnPropertyDescriptor(me.prototype,"setStreamFallbackOption"),me.prototype),Se(me.prototype,"setEncryptionConfig",[YU],Object.getOwnPropertyDescriptor(me.prototype,"setEncryptionConfig"),me.prototype),Se(me.prototype,"renewToken",[jU],Object.getOwnPropertyDescriptor(me.prototype,"renewToken"),me.prototype),Se(me.prototype,"enableAudioVolumeIndicator",[OU],Object.getOwnPropertyDescriptor(me.prototype,"enableAudioVolumeIndicator"),me.prototype),Se(me.prototype,"startLiveStreaming",[PU],Object.getOwnPropertyDescriptor(me.prototype,"startLiveStreaming"),me.prototype),Se(me.prototype,"setLiveTranscoding",[VU],Object.getOwnPropertyDescriptor(me.prototype,"setLiveTranscoding"),me.prototype),Se(me.prototype,"stopLiveStreaming",[LU],Object.getOwnPropertyDescriptor(me.prototype,"stopLiveStreaming"),me.prototype),Se(me.prototype,"startChannelMediaRelay",[GU],Object.getOwnPropertyDescriptor(me.prototype,"startChannelMediaRelay"),me.prototype),Se(me.prototype,"updateChannelMediaRelay",[zU],Object.getOwnPropertyDescriptor(me.prototype,"updateChannelMediaRelay"),me.prototype),Se(me.prototype,"stopChannelMediaRelay",[xU],Object.getOwnPropertyDescriptor(me.prototype,"stopChannelMediaRelay"),me.prototype),Se(me.prototype,"sendCustomReportMessage",[WU],Object.getOwnPropertyDescriptor(me.prototype,"sendCustomReportMessage"),me.prototype),Se(me.prototype,"pickSVCLayer",[JU],Object.getOwnPropertyDescriptor(me.prototype,"pickSVCLayer"),me.prototype),Se(me.prototype,"setRTMConfig",[HU],Object.getOwnPropertyDescriptor(me.prototype,"setRTMConfig"),me.prototype),Se(me.prototype,"enableContentInspect",[ZU],Object.getOwnPropertyDescriptor(me.prototype,"enableContentInspect"),me.prototype),Se(me.prototype,"disableContentInspect",[XU],Object.getOwnPropertyDescriptor(me.prototype,"disableContentInspect"),me.prototype),Se(me.prototype,"setImageModeration",[KU],Object.getOwnPropertyDescriptor(me.prototype,"setImageModeration"),me.prototype),Se(me.prototype,"setP2PTransport",[qU],Object.getOwnPropertyDescriptor(me.prototype,"setP2PTransport"),me.prototype),Se(me.prototype,"getJoinChannelServiceRecords",[$U],Object.getOwnPropertyDescriptor(me.prototype,"getJoinChannelServiceRecords"),me.prototype),Se(me.prototype,"setPublishAudioFilterEnabled",[e0],Object.getOwnPropertyDescriptor(me.prototype,"setPublishAudioFilterEnabled"),me.prototype),me);class Ec{constructor(t,n){F(this,"id",0),F(this,"element",void 0),F(this,"peerPair",void 0),F(this,"context",void 0),F(this,"audioPlayerElement",void 0),F(this,"audioTrack",void 0),Ec.count+=1,this.id=Ec.count,this.element=t,this.context=n}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=t=>{const n=document.createElement("audio");n.srcObject=new MediaStream([t.track]),n.play(),this.audioPlayerElement=n}}async switchSdp(){if(!this.peerPair)return;const t=async(r,s)=>{const o=s==="offer"?await r.createOffer():await r.createAnswer();return await r.setLocalDescription(o),r.iceGatheringState==="complete"?r.localDescription:new Ie(a=>{r.onicegatheringstatechange=()=>{r.iceGatheringState==="complete"&&a(r.localDescription)}})},n=async(r,s)=>await r.setRemoteDescription(s);try{const r=await t(this.peerPair[0],"offer");await n(this.peerPair[1],r);const s=await t(this.peerPair[1],"answer");await n(this.peerPair[0],s)}catch(r){throw new X(j.LOCAL_AEC_ERROR,r.toString()).print()}}async getTracksFromMediaElement(t){if(this.audioTrack)return this.audioTrack;let n;try{t instanceof HTMLVideoElement&&(t.captureStream?t.captureStream():t.mozCaptureStream()),n=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(t).connect(n)}catch(s){throw new X(j.LOCAL_AEC_ERROR,s.toString()).print()}if(!n)throw new X(j.LOCAL_AEC_ERROR,"no dest node when local aec").print();const r=n.stream.getAudioTracks()[0];return this.audioTrack=r,r}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const t=this.element,n=await this.getTracksFromMediaElement(t);this.peerPair&&this.peerPair[0].addTrack(n),await this.switchSdp()}close(){M.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(t=>{t.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}var i0,Xl;F(Ec,"count",0);const rz=window.AudioContext||window.webkitAudioContext,sz=new(i0=Ye({report:ve}),Se((Xl=class{constructor(){F(this,"units",[]),F(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return M.debug("the system does not need to process local aec"),-1;this.context||(this.context=new rz);let t=this.units.find(n=>n&&n.getElement()===e);return t||(t=new Ec(e,this.context),this.units.push(t)),t.startEchoCancellation(),M.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return st().name!==ht.SAFARI}}).prototype,"processExternalMediaAEC",[i0],Object.getOwnPropertyDescriptor(Xl.prototype,"processExternalMediaAEC"),Xl.prototype),Xl);function n0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function r0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const jp=window||document;function s0(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!jp)return;const n=ui._cspEventHandlerPointer;if(n&&t)return void console.error(n,t);const r=s=>{if(!(s&&s.blockedURI&&(ui.onSecurityPolicyViolation||ui.getListeners(Hr.SECURITY_POLICY_VIOLATION).length>0)))return;const o=s.blockedURI;L("CSP_DETECTED_HOSTNAME_LIST").some(a=>ge(o).call(o,a))&&(ui.onSecurityPolicyViolation&&typeof ui.onSecurityPolicyViolation=="function"&&ui.onSecurityPolicyViolation(s),ui.getListeners(Hr.SECURITY_POLICY_VIOLATION).length>0&&ui.safeEmit(Hr.SECURITY_POLICY_VIOLATION,s))};n&&jp.removeEventListener("securitypolicyviolation",n),(t||e&&typeof e=="function"||ui.getListeners(Hr.SECURITY_POLICY_VIOLATION).length>0)&&jp.addEventListener("securitypolicyviolation",r),ui._cspEventHandlerPointer=r}var oz=O,az=JT,o0=RegExp.prototype,Az=function(e){return e===o0||oz(o0,e)?az(e):e.flags},Hi=I(Az);function tA(e){let t=e.length;for(;--t>=0;)e[t]=0}const Pp=256,a0=286,gc=30,pc=15,Vp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Kl=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cz=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),A0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ns=new Array(576);tA(Ns);const Ic=new Array(60);tA(Ic);const fc=new Array(512);tA(fc);const mc=new Array(256);tA(mc);const Lp=new Array(29);tA(Lp);const ql=new Array(gc);function Gp(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}let c0,d0,l0;function zp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}tA(ql);const h0=e=>e<256?fc[e]:fc[256+(e>>>7)],Cc=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},jn=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Cc(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ns=(e,t,n)=>{jn(e,n[2*t],n[2*t+1])},u0=(e,t)=>{let n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1},E0=(e,t,n)=>{const r=new Array(16);let s,o,a=0;for(s=1;s<=pc;s++)a=a+n[s-1]<<1,r[s]=a;for(o=0;o<=t;o++){let d=e[2*o+1];d!==0&&(e[2*o]=u0(r[d]++,d))}},g0=e=>{let t;for(t=0;t<a0;t++)e.dyn_ltree[2*t]=0;for(t=0;t<gc;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},p0=e=>{e.bi_valid>8?Cc(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},I0=(e,t,n,r)=>{const s=2*t,o=2*n;return e[s]<e[o]||e[s]===e[o]&&r[t]<=r[n]},xp=(e,t,n)=>{const r=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&I0(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!I0(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r},f0=(e,t,n)=>{let r,s,o,a,d=0;if(e.sym_next!==0)do r=255&e.pending_buf[e.sym_buf+d++],r+=(255&e.pending_buf[e.sym_buf+d++])<<8,s=e.pending_buf[e.sym_buf+d++],r===0?ns(e,s,t):(o=mc[s],ns(e,o+Pp+1,t),a=Vp[o],a!==0&&(s-=Lp[o],jn(e,s,a)),r--,o=h0(r),ns(e,o,n),a=Kl[o],a!==0&&(r-=ql[o],jn(e,r,a)));while(d<e.sym_next);ns(e,256,t)},Wp=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,d,l,E=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)n[2*a]!==0?(e.heap[++e.heap_len]=E=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=E<2?++E:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,s&&(e.static_len-=r[2*l+1]);for(t.max_code=E,a=e.heap_len>>1;a>=1;a--)xp(e,n,a);l=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],xp(e,n,1),d=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=d,n[2*l]=n[2*a]+n[2*d],e.depth[l]=(e.depth[a]>=e.depth[d]?e.depth[a]:e.depth[d])+1,n[2*a+1]=n[2*d+1]=l,e.heap[1]=l++,xp(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((g,f)=>{const C=f.dyn_tree,T=f.max_code,Q=f.stat_desc.static_tree,U=f.stat_desc.has_stree,_=f.stat_desc.extra_bits,b=f.stat_desc.extra_base,Y=f.stat_desc.max_length;let G,W,J,K,ne,le,oe=0;for(K=0;K<=pc;K++)g.bl_count[K]=0;for(C[2*g.heap[g.heap_max]+1]=0,G=g.heap_max+1;G<573;G++)W=g.heap[G],K=C[2*C[2*W+1]+1]+1,K>Y&&(K=Y,oe++),C[2*W+1]=K,W>T||(g.bl_count[K]++,ne=0,W>=b&&(ne=_[W-b]),le=C[2*W],g.opt_len+=le*(K+ne),U&&(g.static_len+=le*(Q[2*W+1]+ne)));if(oe!==0){do{for(K=Y-1;g.bl_count[K]===0;)K--;g.bl_count[K]--,g.bl_count[K+1]+=2,g.bl_count[Y]--,oe-=2}while(oe>0);for(K=Y;K!==0;K--)for(W=g.bl_count[K];W!==0;)J=g.heap[--G],J>T||(C[2*J+1]!==K&&(g.opt_len+=(K-C[2*J+1])*C[2*J],C[2*J+1]=K),W--)}})(e,t),E0(n,E,e.bl_count)},m0=(e,t,n)=>{let r,s,o=-1,a=t[1],d=0,l=7,E=4;for(a===0&&(l=138,E=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)s=a,a=t[2*(r+1)+1],++d<l&&s===a||(d<E?e.bl_tree[2*s]+=d:s!==0?(s!==o&&e.bl_tree[2*s]++,e.bl_tree[32]++):d<=10?e.bl_tree[34]++:e.bl_tree[36]++,d=0,o=s,a===0?(l=138,E=3):s===a?(l=6,E=3):(l=7,E=4))},C0=(e,t,n)=>{let r,s,o=-1,a=t[1],d=0,l=7,E=4;for(a===0&&(l=138,E=3),r=0;r<=n;r++)if(s=a,a=t[2*(r+1)+1],!(++d<l&&s===a)){if(d<E)do ns(e,s,e.bl_tree);while(--d!=0);else s!==0?(s!==o&&(ns(e,s,e.bl_tree),d--),ns(e,16,e.bl_tree),jn(e,d-3,2)):d<=10?(ns(e,17,e.bl_tree),jn(e,d-3,3)):(ns(e,18,e.bl_tree),jn(e,d-11,7));d=0,o=s,a===0?(l=138,E=3):s===a?(l=6,E=3):(l=7,E=4)}};let R0=!1;const T0=(e,t,n,r)=>{jn(e,0+(r?1:0),3),p0(e),Cc(e,n),Cc(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var dz=e=>{R0||((()=>{let t,n,r,s,o;const a=new Array(16);for(r=0,s=0;s<28;s++)for(Lp[s]=r,t=0;t<1<<Vp[s];t++)mc[r++]=s;for(mc[r-1]=s,o=0,s=0;s<16;s++)for(ql[s]=o,t=0;t<1<<Kl[s];t++)fc[o++]=s;for(o>>=7;s<gc;s++)for(ql[s]=o<<7,t=0;t<1<<Kl[s]-7;t++)fc[256+o++]=s;for(n=0;n<=pc;n++)a[n]=0;for(t=0;t<=143;)Ns[2*t+1]=8,t++,a[8]++;for(;t<=255;)Ns[2*t+1]=9,t++,a[9]++;for(;t<=279;)Ns[2*t+1]=7,t++,a[7]++;for(;t<=287;)Ns[2*t+1]=8,t++,a[8]++;for(E0(Ns,287,a),t=0;t<gc;t++)Ic[2*t+1]=5,Ic[2*t]=u0(t,5);c0=new Gp(Ns,Vp,257,a0,pc),d0=new Gp(Ic,Kl,0,gc,pc),l0=new Gp(new Array(0),cz,0,19,7)})(),R0=!0),e.l_desc=new zp(e.dyn_ltree,c0),e.d_desc=new zp(e.dyn_dtree,d0),e.bl_desc=new zp(e.bl_tree,l0),e.bi_buf=0,e.bi_valid=0,g0(e)},lz=(e,t,n,r)=>{let s,o,a=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=(d=>{let l,E=4093624447;for(l=0;l<=31;l++,E>>>=1)if(1&E&&d.dyn_ltree[2*l]!==0)return 0;if(d.dyn_ltree[18]!==0||d.dyn_ltree[20]!==0||d.dyn_ltree[26]!==0)return 1;for(l=32;l<Pp;l++)if(d.dyn_ltree[2*l]!==0)return 1;return 0})(e)),Wp(e,e.l_desc),Wp(e,e.d_desc),a=(d=>{let l;for(m0(d,d.dyn_ltree,d.l_desc.max_code),m0(d,d.dyn_dtree,d.d_desc.max_code),Wp(d,d.bl_desc),l=18;l>=3&&d.bl_tree[2*A0[l]+1]===0;l--);return d.opt_len+=3*(l+1)+5+5+4,l})(e),s=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=s&&(s=o)):s=o=n+5,n+4<=s&&t!==-1?T0(e,t,n,r):e.strategy===4||o===s?(jn(e,2+(r?1:0),3),f0(e,Ns,Ic)):(jn(e,4+(r?1:0),3),((d,l,E,g)=>{let f;for(jn(d,l-257,5),jn(d,E-1,5),jn(d,g-4,4),f=0;f<g;f++)jn(d,d.bl_tree[2*A0[f]+1],3);C0(d,d.dyn_ltree,l-1),C0(d,d.dyn_dtree,E-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),f0(e,e.dyn_ltree,e.dyn_dtree)),g0(e),r&&p0(e)},hz=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(mc[n]+Pp+1)]++,e.dyn_dtree[2*h0(t)]++),e.sym_next===e.sym_end),uz=e=>{jn(e,2,3),ns(e,256,Ns),(t=>{t.bi_valid===16?(Cc(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(e)},Ez={_tr_init:dz,_tr_stored_block:T0,_tr_flush_block:lz,_tr_tally:hz,_tr_align:uz},Rc=(e,t,n,r)=>{let s=65535&e|0,o=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do s=s+t[r++]|0,o=o+s|0;while(--a);s%=65521,o%=65521}return s|o<<16|0};const gz=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var tn=(e,t,n,r)=>{const s=gz,o=r+n;e^=-1;for(let a=r;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e},Oo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$l={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:pz,_tr_stored_block:Jp,_tr_flush_block:Iz,_tr_tally:eo,_tr_align:fz}=Ez,{Z_NO_FLUSH:to,Z_PARTIAL_FLUSH:mz,Z_FULL_FLUSH:Cz,Z_FINISH:Tr,Z_BLOCK:N0,Z_OK:An,Z_STREAM_END:S0,Z_STREAM_ERROR:rs,Z_DATA_ERROR:Rz,Z_BUF_ERROR:Hp,Z_DEFAULT_COMPRESSION:Tz,Z_FILTERED:Nz,Z_HUFFMAN_ONLY:eh,Z_RLE:Sz,Z_FIXED:Mz,Z_DEFAULT_STRATEGY:yz,Z_UNKNOWN:wz,Z_DEFLATED:th}=$l,Zp=286,Bz=30,Uz=19,vz=2*Zp+1,_z=15,Po=258,ss=262,iA=42,Vo=113,Tc=666,Lo=(e,t)=>(e.msg=Oo[t],t),M0=e=>2*e-(e>4?9:0),io=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Fz=e=>{let t,n,r,s=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=s?n-s:0;while(--t);t=s,r=t;do n=e.prev[--r],e.prev[r]=n>=s?n-s:0;while(--t)};let no=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const er=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},tr=(e,t)=>{Iz(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,er(e.strm)},Jt=(e,t)=>{e.pending_buf[e.pending++]=t},Nc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Xp=(e,t,n,r)=>{let s=e.avail_in;return s>r&&(s=r),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),n),e.state.wrap===1?e.adler=Rc(e.adler,t,s,n):e.state.wrap===2&&(e.adler=tn(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)},y0=(e,t)=>{let n,r,s=e.max_chain_length,o=e.strstart,a=e.prev_length,d=e.nice_match;const l=e.strstart>e.w_size-ss?e.strstart-(e.w_size-ss):0,E=e.window,g=e.w_mask,f=e.prev,C=e.strstart+Po;let T=E[o+a-1],Q=E[o+a];e.prev_length>=e.good_match&&(s>>=2),d>e.lookahead&&(d=e.lookahead);do if(n=t,E[n+a]===Q&&E[n+a-1]===T&&E[n]===E[o]&&E[++n]===E[o+1]){o+=2,n++;do;while(E[++o]===E[++n]&&E[++o]===E[++n]&&E[++o]===E[++n]&&E[++o]===E[++n]&&E[++o]===E[++n]&&E[++o]===E[++n]&&E[++o]===E[++n]&&E[++o]===E[++n]&&o<C);if(r=Po-(C-o),o=C-Po,r>a){if(e.match_start=t,a=r,r>=d)break;T=E[o+a-1],Q=E[o+a]}}while((t=f[t&g])>l&&--s!=0);return a<=e.lookahead?a:e.lookahead},nA=e=>{const t=e.w_size;let n,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ss)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Fz(e),r+=t),e.strm.avail_in===0)break;if(n=Xp(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=no(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=no(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ss&&e.strm.avail_in!==0)},w0=(e,t)=>{let n,r,s,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,d=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>s&&(n=s),n<o&&(n===0&&t!==Tr||t===to||n!==r+e.strm.avail_in)))break;a=t===Tr&&n===r+e.strm.avail_in?1:0,Jp(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,er(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Xp(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return d-=e.strm.avail_in,d&&(d>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=d&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-d,e.strm.next_in),e.strstart),e.strstart+=d,e.insert+=d>e.w_size-e.insert?e.w_size-e.insert:d),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==to&&t!==Tr&&e.strm.avail_in===0&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(Xp(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,o=s>e.w_size?e.w_size:s,r=e.strstart-e.block_start,(r>=o||(r||t===Tr)&&t!==to&&e.strm.avail_in===0&&r<=s)&&(n=r>s?s:r,a=t===Tr&&e.strm.avail_in===0&&n===r?1:0,Jp(e,e.block_start,n,a),e.block_start+=n,er(e.strm)),a?3:1)},Kp=(e,t)=>{let n,r;for(;;){if(e.lookahead<ss){if(nA(e),e.lookahead<ss&&t===to)return 1;if(e.lookahead===0)break}if(n=0,e.lookahead>=3&&(e.ins_h=no(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ss&&(e.match_length=y0(e,n)),e.match_length>=3)if(r=eo(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=no(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=no(e,e.ins_h,e.window[e.strstart+1]);else r=eo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(tr(e,!1),e.strm.avail_out===0))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Tr?(tr(e,!0),e.strm.avail_out===0?3:4):e.sym_next&&(tr(e,!1),e.strm.avail_out===0)?1:2},rA=(e,t)=>{let n,r,s;for(;;){if(e.lookahead<ss){if(nA(e),e.lookahead<ss&&t===to)return 1;if(e.lookahead===0)break}if(n=0,e.lookahead>=3&&(e.ins_h=no(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ss&&(e.match_length=y0(e,n),e.match_length<=5&&(e.strategy===Nz||e.match_length===3&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,r=eo(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=no(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(tr(e,!1),e.strm.avail_out===0))return 1}else if(e.match_available){if(r=eo(e,0,e.window[e.strstart-1]),r&&tr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=eo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Tr?(tr(e,!0),e.strm.avail_out===0?3:4):e.sym_next&&(tr(e,!1),e.strm.avail_out===0)?1:2};function os(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}const Sc=[new os(0,0,0,0,w0),new os(4,4,8,4,Kp),new os(4,5,16,8,Kp),new os(4,6,32,32,Kp),new os(4,4,16,16,rA),new os(8,16,32,32,rA),new os(8,16,128,128,rA),new os(8,32,128,256,rA),new os(32,128,258,1024,rA),new os(32,258,258,4096,rA)];function Qz(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=th,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*vz),this.dyn_dtree=new Uint16Array(2*(2*Bz+1)),this.bl_tree=new Uint16Array(2*(2*Uz+1)),io(this.dyn_ltree),io(this.dyn_dtree),io(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_z+1),this.heap=new Uint16Array(2*Zp+1),io(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Zp+1),io(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Mc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==iA&&t.status!==57&&t.status!==69&&t.status!==73&&t.status!==91&&t.status!==103&&t.status!==Vo&&t.status!==Tc?1:0},B0=e=>{if(Mc(e))return Lo(e,rs);e.total_in=e.total_out=0,e.data_type=wz;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?57:t.wrap?iA:Vo,e.adler=t.wrap===2?0:1,t.last_flush=-2,pz(t),An},U0=e=>{const t=B0(e);return t===An&&(n=>{n.window_size=2*n.w_size,io(n.head),n.max_lazy_match=Sc[n.level].max_lazy,n.good_match=Sc[n.level].good_length,n.nice_match=Sc[n.level].nice_length,n.max_chain_length=Sc[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0})(e.state),t},v0=(e,t,n,r,s,o)=>{if(!e)return rs;let a=1;if(t===Tz&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),s<1||s>9||n!==th||r<8||r>15||t<0||t>9||o<0||o>Mz||r===8&&a!==1)return Lo(e,rs);r===8&&(r=9);const d=new Qz;return e.state=d,d.strm=e,d.status=iA,d.wrap=a,d.gzhead=null,d.w_bits=r,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=s+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+3-1)/3),d.window=new Uint8Array(2*d.w_size),d.head=new Uint16Array(d.hash_size),d.prev=new Uint16Array(d.w_size),d.lit_bufsize=1<<s+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new Uint8Array(d.pending_buf_size),d.sym_buf=d.lit_bufsize,d.sym_end=3*(d.lit_bufsize-1),d.level=t,d.strategy=o,d.method=n,U0(e)};var bz=(e,t)=>{if(Mc(e)||t>N0||t<0)return e?Lo(e,rs):rs;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Tc&&t!==Tr)return Lo(e,e.avail_out===0?Hp:rs);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(er(e),e.avail_out===0)return n.last_flush=-1,An}else if(e.avail_in===0&&M0(t)<=M0(r)&&t!==Tr)return Lo(e,Hp);if(n.status===Tc&&e.avail_in!==0)return Lo(e,Hp);if(n.status===iA&&n.wrap===0&&(n.status=Vo),n.status===iA){let s=th+(n.w_bits-8<<4)<<8,o=-1;if(o=n.strategy>=eh||n.level<2?0:n.level<6?1:n.level===6?2:3,s|=o<<6,n.strstart!==0&&(s|=32),s+=31-s%31,Nc(n,s),n.strstart!==0&&(Nc(n,e.adler>>>16),Nc(n,65535&e.adler)),e.adler=1,n.status=Vo,er(e),n.pending!==0)return n.last_flush=-1,An}if(n.status===57){if(e.adler=0,Jt(n,31),Jt(n,139),Jt(n,8),n.gzhead)Jt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Jt(n,255&n.gzhead.time),Jt(n,n.gzhead.time>>8&255),Jt(n,n.gzhead.time>>16&255),Jt(n,n.gzhead.time>>24&255),Jt(n,n.level===9?2:n.strategy>=eh||n.level<2?4:0),Jt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Jt(n,255&n.gzhead.extra.length),Jt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=tn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Jt(n,0),Jt(n,0),Jt(n,0),Jt(n,0),Jt(n,0),Jt(n,n.level===9?2:n.strategy>=eh||n.level<2?4:0),Jt(n,3),n.status=Vo,er(e),n.pending!==0)return n.last_flush=-1,An}if(n.status===69){if(n.gzhead.extra){let s=n.pending,o=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let d=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+d),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(e.adler=tn(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=d,er(e),n.pending!==0)return n.last_flush=-1,An;s=0,o-=d}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>s&&(e.adler=tn(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=73}if(n.status===73){if(n.gzhead.name){let s,o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=tn(e.adler,n.pending_buf,n.pending-o,o)),er(e),n.pending!==0)return n.last_flush=-1,An;o=0}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Jt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=tn(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=91}if(n.status===91){if(n.gzhead.comment){let s,o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=tn(e.adler,n.pending_buf,n.pending-o,o)),er(e),n.pending!==0)return n.last_flush=-1,An;o=0}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Jt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=tn(e.adler,n.pending_buf,n.pending-o,o))}n.status=103}if(n.status===103){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(er(e),n.pending!==0))return n.last_flush=-1,An;Jt(n,255&e.adler),Jt(n,e.adler>>8&255),e.adler=0}if(n.status=Vo,er(e),n.pending!==0)return n.last_flush=-1,An}if(e.avail_in!==0||n.lookahead!==0||t!==to&&n.status!==Tc){let s=n.level===0?w0(n,t):n.strategy===eh?((o,a)=>{let d;for(;;){if(o.lookahead===0&&(nA(o),o.lookahead===0)){if(a===to)return 1;break}if(o.match_length=0,d=eo(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,d&&(tr(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,a===Tr?(tr(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(tr(o,!1),o.strm.avail_out===0)?1:2})(n,t):n.strategy===Sz?((o,a)=>{let d,l,E,g;const f=o.window;for(;;){if(o.lookahead<=Po){if(nA(o),o.lookahead<=Po&&a===to)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(E=o.strstart-1,l=f[E],l===f[++E]&&l===f[++E]&&l===f[++E])){g=o.strstart+Po;do;while(l===f[++E]&&l===f[++E]&&l===f[++E]&&l===f[++E]&&l===f[++E]&&l===f[++E]&&l===f[++E]&&l===f[++E]&&E<g);o.match_length=Po-(g-E),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(d=eo(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(d=eo(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),d&&(tr(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,a===Tr?(tr(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(tr(o,!1),o.strm.avail_out===0)?1:2})(n,t):Sc[n.level].func(n,t);if(s!==3&&s!==4||(n.status=Tc),s===1||s===3)return e.avail_out===0&&(n.last_flush=-1),An;if(s===2&&(t===mz?fz(n):t!==N0&&(Jp(n,0,0,!1),t===Cz&&(io(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),er(e),e.avail_out===0))return n.last_flush=-1,An}return t!==Tr?An:n.wrap<=0?S0:(n.wrap===2?(Jt(n,255&e.adler),Jt(n,e.adler>>8&255),Jt(n,e.adler>>16&255),Jt(n,e.adler>>24&255),Jt(n,255&e.total_in),Jt(n,e.total_in>>8&255),Jt(n,e.total_in>>16&255),Jt(n,e.total_in>>24&255)):(Nc(n,e.adler>>>16),Nc(n,65535&e.adler)),er(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?An:S0)},Dz=(e,t)=>{let n=t.length;if(Mc(e))return rs;const r=e.state,s=r.wrap;if(s===2||s===1&&r.status!==iA||r.lookahead)return rs;if(s===1&&(e.adler=Rc(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){s===0&&(io(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const o=e.avail_in,a=e.next_in,d=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,nA(r);r.lookahead>=3;){let l=r.strstart,E=r.lookahead-2;do r.ins_h=no(r,r.ins_h,r.window[l+3-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--E);r.strstart=l,r.lookahead=2,nA(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=d,e.avail_in=o,r.wrap=s,An},yc={deflateInit:(e,t)=>v0(e,t,th,15,8,yz),deflateInit2:v0,deflateReset:U0,deflateResetKeep:B0,deflateSetHeader:(e,t)=>Mc(e)||e.state.wrap!==2?rs:(e.state.gzhead=t,An),deflate:bz,deflateEnd:e=>{if(Mc(e))return rs;const t=e.state.status;return e.state=null,t===Vo?Lo(e,Rz):An},deflateSetDictionary:Dz,deflateInfo:"pako deflate (from Nodeca project)"};const kz=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ih={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)kz(n,r)&&(e[r]=n[r])}}return e},flattenChunks:e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,s=0,o=e.length;r<o;r++){let a=e[r];n.set(a,s),s+=a.length}return n}};let _0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_0=!1}const wc=new Uint8Array(256);for(let e=0;e<256;e++)wc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;wc[254]=wc[254]=1;var Bc={string2buf:e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,s,o,a=e.length,d=0;for(s=0;s<a;s++)n=e.charCodeAt(s),(64512&n)==55296&&s+1<a&&(r=e.charCodeAt(s+1),(64512&r)==56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(d),o=0,s=0;o<d;s++)n=e.charCodeAt(s),(64512&n)==55296&&s+1<a&&(r=e.charCodeAt(s+1),(64512&r)==56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,s;const o=new Array(2*n);for(s=0,r=0;r<n;){let a=e[r++];if(a<128){o[s++]=a;continue}let d=wc[a];if(d>4)o[s++]=65533,r+=d-1;else{for(a&=d===2?31:d===3?15:7;d>1&&r<n;)a=a<<6|63&e[r++],d--;d>1?o[s++]=65533:a<65536?o[s++]=a:(a-=65536,o[s++]=55296|a>>10&1023,o[s++]=56320|1023&a)}}return((a,d)=>{if(d<65534&&a.subarray&&_0)return String.fromCharCode.apply(null,a.length===d?a:a.subarray(0,d));let l="";for(let E=0;E<d;E++)l+=String.fromCharCode(a[E]);return l})(o,s)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(192&e[n])==128;)n--;return n<0||n===0?t:n+wc[e[n]]>t?n:t}},F0=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Q0=Object.prototype.toString,{Z_NO_FLUSH:Yz,Z_SYNC_FLUSH:jz,Z_FULL_FLUSH:Oz,Z_FINISH:Pz,Z_OK:nh,Z_STREAM_END:Vz,Z_DEFAULT_COMPRESSION:Lz,Z_DEFAULT_STRATEGY:Gz,Z_DEFLATED:zz}=$l;function rh(e){this.options=ih.assign({level:Lz,method:zz,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gz},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F0,this.strm.avail_out=0;let n=yc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==nh)throw new Error(Oo[n]);if(t.header&&yc.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(r=typeof t.dictionary=="string"?Bc.string2buf(t.dictionary):Q0.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,n=yc.deflateSetDictionary(this.strm,r),n!==nh)throw new Error(Oo[n]);this._dict_set=!0}}function xz(e,t){const n=new rh(t);if(n.push(e,!0),n.err)throw n.msg||Oo[n.err];return n.result}rh.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let s,o;if(this.ended)return!1;for(o=t===~~t?t:t===!0?Pz:Yz,typeof e=="string"?n.input=Bc.string2buf(e):Q0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===jz||o===Oz)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(s=yc.deflate(n,o),s===Vz)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=yc.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===nh;if(n.avail_out!==0){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(n.avail_in===0)break}else this.onData(n.output)}return!0},rh.prototype.onData=function(e){this.chunks.push(e)},rh.prototype.onEnd=function(e){e===nh&&(this.result=ih.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Wz={deflate:xz};const sh=16209;var Jz=function(e,t){let n,r,s,o,a,d,l,E,g,f,C,T,Q,U,_,b,Y,G,W,J,K,ne,le,oe;const ye=e.state;n=e.next_in,le=e.input,r=n+(e.avail_in-5),s=e.next_out,oe=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),d=ye.dmax,l=ye.wsize,E=ye.whave,g=ye.wnext,f=ye.window,C=ye.hold,T=ye.bits,Q=ye.lencode,U=ye.distcode,_=(1<<ye.lenbits)-1,b=(1<<ye.distbits)-1;e:do{T<15&&(C+=le[n++]<<T,T+=8,C+=le[n++]<<T,T+=8),Y=Q[C&_];t:for(;;){if(G=Y>>>24,C>>>=G,T-=G,G=Y>>>16&255,G===0)oe[s++]=65535&Y;else{if(!(16&G)){if((64&G)==0){Y=Q[(65535&Y)+(C&(1<<G)-1)];continue t}if(32&G){ye.mode=16191;break e}e.msg="invalid literal/length code",ye.mode=sh;break e}W=65535&Y,G&=15,G&&(T<G&&(C+=le[n++]<<T,T+=8),W+=C&(1<<G)-1,C>>>=G,T-=G),T<15&&(C+=le[n++]<<T,T+=8,C+=le[n++]<<T,T+=8),Y=U[C&b];i:for(;;){if(G=Y>>>24,C>>>=G,T-=G,G=Y>>>16&255,!(16&G)){if((64&G)==0){Y=U[(65535&Y)+(C&(1<<G)-1)];continue i}e.msg="invalid distance code",ye.mode=sh;break e}if(J=65535&Y,G&=15,T<G&&(C+=le[n++]<<T,T+=8,T<G&&(C+=le[n++]<<T,T+=8)),J+=C&(1<<G)-1,J>d){e.msg="invalid distance too far back",ye.mode=sh;break e}if(C>>>=G,T-=G,G=s-o,J>G){if(G=J-G,G>E&&ye.sane){e.msg="invalid distance too far back",ye.mode=sh;break e}if(K=0,ne=f,g===0){if(K+=l-G,G<W){W-=G;do oe[s++]=f[K++];while(--G);K=s-J,ne=oe}}else if(g<G){if(K+=l+g-G,G-=g,G<W){W-=G;do oe[s++]=f[K++];while(--G);if(K=0,g<W){G=g,W-=G;do oe[s++]=f[K++];while(--G);K=s-J,ne=oe}}}else if(K+=g-G,G<W){W-=G;do oe[s++]=f[K++];while(--G);K=s-J,ne=oe}for(;W>2;)oe[s++]=ne[K++],oe[s++]=ne[K++],oe[s++]=ne[K++],W-=3;W&&(oe[s++]=ne[K++],W>1&&(oe[s++]=ne[K++]))}else{K=s-J;do oe[s++]=oe[K++],oe[s++]=oe[K++],oe[s++]=oe[K++],W-=3;while(W>2);W&&(oe[s++]=oe[K++],W>1&&(oe[s++]=oe[K++]))}break}}break}}while(n<r&&s<a);W=T>>3,n-=W,T-=W<<3,C&=(1<<T)-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=s<a?a-s+257:257-(s-a),ye.hold=C,ye.bits=T};const oh=15,Hz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Xz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Kz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Uc=(e,t,n,r,s,o,a,d)=>{const l=d.bits;let E,g,f,C,T,Q,U=0,_=0,b=0,Y=0,G=0,W=0,J=0,K=0,ne=0,le=0,oe=null;const ye=new Uint16Array(16),Xe=new Uint16Array(16);let lt,vt,di,Ot=null;for(U=0;U<=oh;U++)ye[U]=0;for(_=0;_<r;_++)ye[t[n+_]]++;for(G=l,Y=oh;Y>=1&&ye[Y]===0;Y--);if(G>Y&&(G=Y),Y===0)return s[o++]=20971520,s[o++]=20971520,d.bits=1,0;for(b=1;b<Y&&ye[b]===0;b++);for(G<b&&(G=b),K=1,U=1;U<=oh;U++)if(K<<=1,K-=ye[U],K<0)return-1;if(K>0&&(e===0||Y!==1))return-1;for(Xe[1]=0,U=1;U<oh;U++)Xe[U+1]=Xe[U]+ye[U];for(_=0;_<r;_++)t[n+_]!==0&&(a[Xe[t[n+_]]++]=_);if(e===0?(oe=Ot=a,Q=20):e===1?(oe=Hz,Ot=Zz,Q=257):(oe=Xz,Ot=Kz,Q=0),le=0,_=0,U=b,T=o,W=G,J=0,f=-1,ne=1<<G,C=ne-1,e===1&&ne>852||e===2&&ne>592)return 1;for(;;){lt=U-J,a[_]+1<Q?(vt=0,di=a[_]):a[_]>=Q?(vt=Ot[a[_]-Q],di=oe[a[_]-Q]):(vt=96,di=0),E=1<<U-J,g=1<<W,b=g;do g-=E,s[T+(le>>J)+g]=lt<<24|vt<<16|di|0;while(g!==0);for(E=1<<U-1;le&E;)E>>=1;if(E!==0?(le&=E-1,le+=E):le=0,_++,--ye[U]==0){if(U===Y)break;U=t[n+a[_]]}if(U>G&&(le&C)!==f){for(J===0&&(J=G),T+=b,W=U-J,K=1<<W;W+J<Y&&(K-=ye[W+J],!(K<=0));)W++,K<<=1;if(ne+=1<<W,e===1&&ne>852||e===2&&ne>592)return 1;f=le&C,s[f]=G<<24|W<<16|T-o|0}}return le!==0&&(s[T+le]=U-J<<24|64<<16|0),d.bits=G,0};const{Z_FINISH:b0,Z_BLOCK:qz,Z_TREES:ah,Z_OK:Go,Z_STREAM_END:$z,Z_NEED_DICT:ex,Z_STREAM_ERROR:Nr,Z_DATA_ERROR:D0,Z_MEM_ERROR:k0,Z_BUF_ERROR:tx,Z_DEFLATED:Y0}=$l,Ah=16180,ch=16190,Ss=16191,qp=16192,$p=16194,dh=16199,lh=16200,eI=16206,Si=16209,j0=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function ix(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zo=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Ah||t.mode>16211?1:0},O0=e=>{if(zo(e))return Nr;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Ah,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Go},P0=e=>{if(zo(e))return Nr;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,O0(e)},V0=(e,t)=>{let n;if(zo(e))return Nr;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Nr:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,P0(e))},L0=(e,t)=>{if(!e)return Nr;const n=new ix;e.state=n,n.strm=e,n.window=null,n.mode=Ah;const r=V0(e,t);return r!==Go&&(e.state=null),r};let tI,iI,G0=!0;const nx=e=>{if(G0){tI=new Int32Array(512),iI=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Uc(1,e.lens,0,288,tI,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Uc(2,e.lens,0,32,iI,0,e.work,{bits:5}),G0=!1}e.lencode=tI,e.lenbits=9,e.distcode=iI,e.distbits=5},z0=(e,t,n,r)=>{let s;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(t.subarray(n-r,n-r+s),o.wnext),(r-=s)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0};var rx=(e,t)=>{let n,r,s,o,a,d,l,E,g,f,C,T,Q,U,_,b,Y,G,W,J,K,ne,le=0;const oe=new Uint8Array(4);let ye,Xe;const lt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zo(e)||!e.output||!e.input&&e.avail_in!==0)return Nr;n=e.state,n.mode===Ss&&(n.mode=qp),a=e.next_out,s=e.output,l=e.avail_out,o=e.next_in,r=e.input,d=e.avail_in,E=n.hold,g=n.bits,f=d,C=l,ne=Go;e:for(;;)switch(n.mode){case Ah:if(n.wrap===0){n.mode=qp;break}for(;g<16;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(2&n.wrap&&E===35615){n.wbits===0&&(n.wbits=15),n.check=0,oe[0]=255&E,oe[1]=E>>>8&255,n.check=tn(n.check,oe,2,0),E=0,g=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&E)<<8)+(E>>8))%31){e.msg="incorrect header check",n.mode=Si;break}if((15&E)!==Y0){e.msg="unknown compression method",n.mode=Si;break}if(E>>>=4,g-=4,K=8+(15&E),n.wbits===0&&(n.wbits=K),K>15||K>n.wbits){e.msg="invalid window size",n.mode=Si;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&E?16189:Ss,E=0,g=0;break;case 16181:for(;g<16;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(n.flags=E,(255&Hi(n))!==Y0){e.msg="unknown compression method",n.mode=Si;break}if(57344&Hi(n)){e.msg="unknown header flags set",n.mode=Si;break}n.head&&(n.head.text=E>>8&1),512&Hi(n)&&4&n.wrap&&(oe[0]=255&E,oe[1]=E>>>8&255,n.check=tn(n.check,oe,2,0)),E=0,g=0,n.mode=16182;case 16182:for(;g<32;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}n.head&&(n.head.time=E),512&Hi(n)&&4&n.wrap&&(oe[0]=255&E,oe[1]=E>>>8&255,oe[2]=E>>>16&255,oe[3]=E>>>24&255,n.check=tn(n.check,oe,4,0)),E=0,g=0,n.mode=16183;case 16183:for(;g<16;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}n.head&&(n.head.xflags=255&E,n.head.os=E>>8),512&Hi(n)&&4&n.wrap&&(oe[0]=255&E,oe[1]=E>>>8&255,n.check=tn(n.check,oe,2,0)),E=0,g=0,n.mode=16184;case 16184:if(1024&Hi(n)){for(;g<16;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}n.length=E,n.head&&(n.head.extra_len=E),512&Hi(n)&&4&n.wrap&&(oe[0]=255&E,oe[1]=E>>>8&255,n.check=tn(n.check,oe,2,0)),E=0,g=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&Hi(n)&&(T=n.length,T>d&&(T=d),T&&(n.head&&(K=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+T),K)),512&Hi(n)&&4&n.wrap&&(n.check=tn(n.check,r,T,o)),d-=T,o+=T,n.length-=T),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&Hi(n)){if(d===0)break e;T=0;do K=r[o+T++],n.head&&K&&n.length<65536&&(n.head.name+=String.fromCharCode(K));while(K&&T<d);if(512&Hi(n)&&4&n.wrap&&(n.check=tn(n.check,r,T,o)),d-=T,o+=T,K)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&Hi(n)){if(d===0)break e;T=0;do K=r[o+T++],n.head&&K&&n.length<65536&&(n.head.comment+=String.fromCharCode(K));while(K&&T<d);if(512&Hi(n)&&4&n.wrap&&(n.check=tn(n.check,r,T,o)),d-=T,o+=T,K)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&Hi(n)){for(;g<16;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(4&n.wrap&&E!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Si;break}E=0,g=0}n.head&&(n.head.hcrc=Hi(n)>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ss;break;case 16189:for(;g<32;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}e.adler=n.check=j0(E),E=0,g=0,n.mode=ch;case ch:if(n.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=d,n.hold=E,n.bits=g,ex;e.adler=n.check=1,n.mode=Ss;case Ss:if(t===qz||t===ah)break e;case qp:if(n.last){E>>>=7&g,g-=7&g,n.mode=eI;break}for(;g<3;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}switch(n.last=1&E,E>>>=1,g-=1,3&E){case 0:n.mode=16193;break;case 1:if(nx(n),n.mode=dh,t===ah){E>>>=2,g-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Si}E>>>=2,g-=2;break;case 16193:for(E>>>=7&g,g-=7&g;g<32;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if((65535&E)!=(E>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Si;break}if(n.length=65535&E,E=0,g=0,n.mode=$p,t===ah)break e;case $p:n.mode=16195;case 16195:if(T=n.length,T){if(T>d&&(T=d),T>l&&(T=l),T===0)break e;s.set(r.subarray(o,o+T),a),d-=T,o+=T,l-=T,a+=T,n.length-=T;break}n.mode=Ss;break;case 16196:for(;g<14;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(n.nlen=257+(31&E),E>>>=5,g-=5,n.ndist=1+(31&E),E>>>=5,g-=5,n.ncode=4+(15&E),E>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Si;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;g<3;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}n.lens[lt[n.have++]]=7&E,E>>>=3,g-=3}for(;n.have<19;)n.lens[lt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ye={bits:n.lenbits},ne=Uc(0,n.lens,0,19,n.lencode,0,n.work,ye),n.lenbits=ye.bits,ne){e.msg="invalid code lengths set",n.mode=Si;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;le=n.lencode[E&(1<<n.lenbits)-1],_=le>>>24,b=le>>>16&255,Y=65535&le,!(_<=g);){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(Y<16)E>>>=_,g-=_,n.lens[n.have++]=Y;else{if(Y===16){for(Xe=_+2;g<Xe;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(E>>>=_,g-=_,n.have===0){e.msg="invalid bit length repeat",n.mode=Si;break}K=n.lens[n.have-1],T=3+(3&E),E>>>=2,g-=2}else if(Y===17){for(Xe=_+3;g<Xe;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}E>>>=_,g-=_,K=0,T=3+(7&E),E>>>=3,g-=3}else{for(Xe=_+7;g<Xe;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}E>>>=_,g-=_,K=0,T=11+(127&E),E>>>=7,g-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Si;break}for(;T--;)n.lens[n.have++]=K}}if(n.mode===Si)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Si;break}if(n.lenbits=9,ye={bits:n.lenbits},ne=Uc(1,n.lens,0,n.nlen,n.lencode,0,n.work,ye),n.lenbits=ye.bits,ne){e.msg="invalid literal/lengths set",n.mode=Si;break}if(n.distbits=6,n.distcode=n.distdyn,ye={bits:n.distbits},ne=Uc(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ye),n.distbits=ye.bits,ne){e.msg="invalid distances set",n.mode=Si;break}if(n.mode=dh,t===ah)break e;case dh:n.mode=lh;case lh:if(d>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=d,n.hold=E,n.bits=g,Jz(e,C),a=e.next_out,s=e.output,l=e.avail_out,o=e.next_in,r=e.input,d=e.avail_in,E=n.hold,g=n.bits,n.mode===Ss&&(n.back=-1);break}for(n.back=0;le=n.lencode[E&(1<<n.lenbits)-1],_=le>>>24,b=le>>>16&255,Y=65535&le,!(_<=g);){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(b&&(240&b)==0){for(G=_,W=b,J=Y;le=n.lencode[J+((E&(1<<G+W)-1)>>G)],_=le>>>24,b=le>>>16&255,Y=65535&le,!(G+_<=g);){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}E>>>=G,g-=G,n.back+=G}if(E>>>=_,g-=_,n.back+=_,n.length=Y,b===0){n.mode=16205;break}if(32&b){n.back=-1,n.mode=Ss;break}if(64&b){e.msg="invalid literal/length code",n.mode=Si;break}n.extra=15&b,n.mode=16201;case 16201:if(n.extra){for(Xe=n.extra;g<Xe;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}n.length+=E&(1<<n.extra)-1,E>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;le=n.distcode[E&(1<<n.distbits)-1],_=le>>>24,b=le>>>16&255,Y=65535&le,!(_<=g);){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if((240&b)==0){for(G=_,W=b,J=Y;le=n.distcode[J+((E&(1<<G+W)-1)>>G)],_=le>>>24,b=le>>>16&255,Y=65535&le,!(G+_<=g);){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}E>>>=G,g-=G,n.back+=G}if(E>>>=_,g-=_,n.back+=_,64&b){e.msg="invalid distance code",n.mode=Si;break}n.offset=Y,n.extra=15&b,n.mode=16203;case 16203:if(n.extra){for(Xe=n.extra;g<Xe;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}n.offset+=E&(1<<n.extra)-1,E>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Si;break}n.mode=16204;case 16204:if(l===0)break e;if(T=C-l,n.offset>T){if(T=n.offset-T,T>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Si;break}T>n.wnext?(T-=n.wnext,Q=n.wsize-T):Q=n.wnext-T,T>n.length&&(T=n.length),U=n.window}else U=s,Q=a-n.offset,T=n.length;T>l&&(T=l),l-=T,n.length-=T;do s[a++]=U[Q++];while(--T);n.length===0&&(n.mode=lh);break;case 16205:if(l===0)break e;s[a++]=n.length,l--,n.mode=lh;break;case eI:if(n.wrap){for(;g<32;){if(d===0)break e;d--,E|=r[o++]<<g,g+=8}if(C-=l,e.total_out+=C,n.total+=C,4&n.wrap&&C&&(e.adler=n.check=Hi(n)?tn(n.check,s,C,a-C):Rc(n.check,s,C,a-C)),C=l,4&n.wrap&&(Hi(n)?E:j0(E))!==n.check){e.msg="incorrect data check",n.mode=Si;break}E=0,g=0}n.mode=16207;case 16207:if(n.wrap&&Hi(n)){for(;g<32;){if(d===0)break e;d--,E+=r[o++]<<g,g+=8}if(4&n.wrap&&E!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Si;break}E=0,g=0}n.mode=16208;case 16208:ne=$z;break e;case Si:ne=D0;break e;case 16210:return k0;default:return Nr}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=d,n.hold=E,n.bits=g,(n.wsize||C!==e.avail_out&&n.mode<Si&&(n.mode<eI||t!==b0))&&z0(e,e.output,e.next_out,C-e.avail_out),f-=e.avail_in,C-=e.avail_out,e.total_in+=f,e.total_out+=C,n.total+=C,4&n.wrap&&C&&(e.adler=n.check=Hi(n)?tn(n.check,s,C,e.next_out-C):Rc(n.check,s,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ss?128:0)+(n.mode===dh||n.mode===$p?256:0),(f===0&&C===0||t===b0)&&ne===Go&&(ne=tx),ne},Ms={inflateReset:P0,inflateReset2:V0,inflateResetKeep:O0,inflateInit:e=>L0(e,15),inflateInit2:L0,inflate:rx,inflateEnd:e=>{if(zo(e))return Nr;let t=e.state;return t.window&&(t.window=null),e.state=null,Go},inflateGetHeader:(e,t)=>{if(zo(e))return Nr;const n=e.state;return(2&n.wrap)==0?Nr:(n.head=t,t.done=!1,Go)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,s,o;return zo(e)?Nr:(r=e.state,r.wrap!==0&&r.mode!==ch?Nr:r.mode===ch&&(s=1,s=Rc(s,t,n,0),s!==r.check)?D0:(o=z0(e,t,n,n),o?(r.mode=16210,k0):(r.havedict=1,Go)))},inflateInfo:"pako inflate (from Nodeca project)"},sx=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const x0=Object.prototype.toString,{Z_NO_FLUSH:ox,Z_FINISH:ax,Z_OK:vc,Z_STREAM_END:nI,Z_NEED_DICT:rI,Z_STREAM_ERROR:Ax,Z_DATA_ERROR:W0,Z_MEM_ERROR:cx}=$l;function hh(e){this.options=ih.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F0,this.strm.avail_out=0;let n=Ms.inflateInit2(this.strm,t.windowBits);if(n!==vc)throw new Error(Oo[n]);if(this.header=new sx,Ms.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Bc.string2buf(t.dictionary):x0.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ms.inflateSetDictionary(this.strm,t.dictionary),n!==vc)))throw new Error(Oo[n])}function dx(e,t){const n=new hh(t);if(n.push(e),n.err)throw n.msg||Oo[n.err];return n.result}hh.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,a,d;if(this.ended)return!1;for(a=t===~~t?t:t===!0?ax:ox,x0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Ms.inflate(n,a),o===rI&&s&&(o=Ms.inflateSetDictionary(n,s),o===vc?o=Ms.inflate(n,a):o===W0&&(o=rI));n.avail_in>0&&o===nI&&n.state.wrap>0&&e[n.next_in]!==0;)Ms.inflateReset(n),o=Ms.inflate(n,a);switch(o){case Ax:case W0:case rI:case cx:return this.onEnd(o),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||o===nI))if(this.options.to==="string"){let l=Bc.utf8border(n.output,n.next_out),E=n.next_out-l,g=Bc.buf2string(n.output,l);n.next_out=E,n.avail_out=r-E,E&&n.output.set(n.output.subarray(l,l+E),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==vc||d!==0){if(o===nI)return o=Ms.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},hh.prototype.onData=function(e){this.chunks.push(e)},hh.prototype.onEnd=function(e){e===vc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ih.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var lx={inflate:dx};const{deflate:hx}=Wz,{inflate:ux}=lx;var Ex=hx,gx=ux,J0=function(e){return e[e.ONE_BYTE=0]="ONE_BYTE",e[e.TWO_BYTE=1]="TWO_BYTE",e}(J0||{});class px{constructor(){F(this,"_sequence",0),F(this,"_startTime",Date.now()),F(this,"isUseOneByte",!0)}get startTime(){const t=Date.now()-this._startTime;return t<Math.pow(2,16)?t:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(t){const n={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:t};if(t.byteLength>128){const d=new Uint8Array(4);d.set([1,0,0,0]);const l={id:0,length:4,data:d.buffer},E={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[l]};n.commonPacketHeader.extension=1,n.extension=E,n.payload=this.compress(t),n.commonPacketHeader.length=8+(n.extension.length+2)+n.payload.byteLength}else n.commonPacketHeader.length=8+n.payload.byteLength;L("SHOW_DATASTREAM2_LOG")&&M.debug("send data header: ".concat(JSON.stringify(n.commonPacketHeader)));const r=new ArrayBuffer(n.commonPacketHeader.length),s=new Uint8Array(r),o=new DataView(r);let a=0;if(o.setUint16(a,n.commonPacketHeader.extension<<15|n.commonPacketHeader.reserved<<14|n.commonPacketHeader.length,!0),a+=2,o.setUint32(a,n.commonPacketHeader.sequence,!0),a+=4,o.setUint16(a,n.commonStreamHeader,!0),a+=2,n.extension){const d=this.serializeExtension(n.extension);s.set(new Uint8Array(d),a),a+=d.byteLength}if(s.set(new Uint8Array(n.payload),a),a+=n.payload.byteLength,a!==n.commonPacketHeader.length)throw Error("serialize error!");return r}deserialize(t){if(t.byteLength<4)return new ArrayBuffer(0);const n=new DataView(t);let r=0;const s=n.getUint16(r,!0);r+=2;const o={length:16383&s,reserved:(16384&s)>>14,extension:(32768&s)>>15,sequence:n.getUint16(r+2,!0)<<16|n.getUint16(r,!0)};let a,d;if(r+=4,L("SHOW_DATASTREAM2_LOG")&&M.debug("receive data header: ".concat(JSON.stringify(o))),n.getUint16(r,!0),r+=2,o.extension){d=this.deserializeExtension(t.slice(r)),r+=2+d.length,a=t.slice(r);let l=!1;if(d.datas.length>0){const E=d.datas.find(g=>g.id===0);E&&(l=(1&new DataView(E.data).getUint32(0,!0))==1)}a=l?this.decompress(a):a}else a=t.slice(8);return a}serializeExtension(t){const{profile:n,length:r,datas:s}=t,o=new ArrayBuffer(r+2),a=new Uint8Array(o),d=new DataView(o);let l=0;if(d.setUint8(l++,n),d.setUint8(l++,r),s.forEach(E=>{n?(d.setUint8(l++,E.id),d.setUint8(l++,E.length),a.set(new Uint8Array(E.data),l),l+=E.data.byteLength):(d.setUint8(l++,E.id|E.length<<4),a.set(new Uint8Array(E.data),l),l+=E.data.byteLength)}),l!==r+2)throw Error("serialize extension error, is ".concat(l,"!==").concat(r+2));return o}deserializeExtension(t){const n=new DataView(t);let r=0;const s=n.getUint8(r);r++;const o=n.getUint8(r);r++;const a=s===J0.TWO_BYTE,d=[],l=new DataView(t,2);let E=0;for(;E<o;){let g=0,f=0,C=new ArrayBuffer(0);a?(g=l.getUint8(E),E++,f=l.getUint8(E),E++):(g=15&l.getUint8(E),f=l.getUint8(E)>>4,E++),f>0&&(C=l.buffer.slice(E+2,E+2+f),E+=C.byteLength),d.push({id:g,length:f,data:C})}if(E!==o)throw Error("parse error");return{profile:s,length:o,datas:d}}decompress(t){return gx(new Uint8Array(t))}compress(t){return Ex(new Uint8Array(t))}}const Ix={name:"DataStream",create:(e,t)=>{const n=t?new oG(e):new aG(e);return n.useDataStream(new px),n}};class fx extends Vt{constructor(t,n,r){super(),F(this,"ws",void 0),F(this,"requestId",1),F(this,"heartBeatTimer",void 0),F(this,"joinInfo",void 0),F(this,"clientId",void 0),F(this,"onOpen",()=>{this.emit("open"),this.startHeartBeatCheck()}),F(this,"onClose",s=>{this.emit("close"),this.dispose()}),F(this,"onMessage",s=>{const o=JSON.parse(s.data);if(!o||o.command!=="serverResponse"||!o.requestId)return o&&o.command==="serverStatus"&&o.serverStatus&&o.serverStatus.command?(this.emit("status",o.serverStatus),void this.emit(o.serverStatus.command,o.serverStatus)):void 0;this.emit("req_".concat(o.requestId),o)}),this.joinInfo=t,this.clientId=n,this.ws=new xA("cross-channel-".concat(this.clientId),r),this.ws.on(ze.RECONNECTING,()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")}),this.ws.on(ze.CONNECTED,this.onOpen),this.ws.on(ze.ON_MESSAGE,this.onMessage),this.ws.on(ze.CLOSED,this.onClose)}isConnect(){return this.ws.state==="connected"}sendMessage(t){const n=this.requestId++;return t.requestId=n,t.seq=n,this.ws.sendMessage(t),n}waitStatus(t){return new Ie((n,r)=>{const s=window.setTimeout(()=>{r(new X(j.TIMEOUT,"wait status timeout, status: ".concat(t)))},5e3);this.once(t,o=>{window.clearTimeout(s),o.state&&o.state!==0?r(new X(j.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(t))):n(void 0)}),this.once("dispose",()=>{window.clearTimeout(s),r(new X(j.WS_ABORT))})})}async request(t){if(this.ws.state==="closed")throw new X(j.WS_DISCONNECT);const n=()=>new Ie((a,d)=>{this.ws.once(ze.CLOSED,()=>d(new X(j.WS_ABORT))),this.ws.once(ze.CONNECTED,a)});this.ws.state!=="connected"&&await n();const r=this.sendMessage(t),s=new Ie((a,d)=>{const l=()=>{d(new X(j.WS_ABORT))};this.ws.once(ze.RECONNECTING,l),this.ws.once(ze.CLOSED,l),this.once("req_".concat(r),a),yi(3e3).then(()=>{this.removeAllListeners("req_".concat(r)),this.ws.off(ze.RECONNECTING,l),this.ws.off(ze.CLOSED,l),d(new X(j.TIMEOUT,"cross channel ws request timeout"))})}),o=await s;if(!o||o.code!==200)throw new X(j.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(o)));return o}async connect(t){this.ws.removeAllListeners(ze.REQUEST_NEW_URLS),this.ws.on(ze.REQUEST_NEW_URLS,n=>{n(t)}),await this.ws.init(t)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(t){const n=this.requestId++;return t.requestId=n,this.ws.sendMessage(t),n}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class mx extends Vt{set state(t){t!==this._state&&(t!==dn.RELAY_STATE_FAILURE&&(this.errorCode=Na.RELAY_OK),this.emit("state",t,this.errorCode),this._state=t)}get state(){return this._state}constructor(t,n,r,s,o){super(),F(this,"joinInfo",void 0),F(this,"sid",void 0),F(this,"clientId",void 0),F(this,"cancelToken",sn.CancelToken.source()),F(this,"workerToken",void 0),F(this,"requestId",0),F(this,"signal",void 0),F(this,"prevChannelMediaConfig",void 0),F(this,"httpRetryConfig",void 0),F(this,"_resolution",void 0),F(this,"_state",dn.RELAY_STATE_IDLE),F(this,"errorCode",Na.RELAY_OK),F(this,"onStatus",a=>{M.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(a))),a&&a.command&&(a.command==="onAudioPacketReceived"&&this.emit("event",gs.PACKET_RECEIVED_AUDIO_FROM_SRC),a.command==="onVideoPacketReceived"&&this.emit("event",gs.PACKET_RECEIVED_VIDEO_FROM_SRC),a.command==="onSrcTokenPrivilegeDidExpire"&&(this.errorCode=Na.SRC_TOKEN_EXPIRED,this.state=dn.RELAY_STATE_FAILURE),a.command==="onDestTokenPrivilegeDidExpire"&&(this.errorCode=Na.DEST_TOKEN_EXPIRED,this.state=dn.RELAY_STATE_FAILURE))}),F(this,"onReconnect",async()=>{M.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",gs.NETWORK_DISCONNECTED),this.state=dn.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(a=>{this.state!==dn.RELAY_STATE_IDLE&&(M.error("auto restart channel media relay failed",a.toString()),this.errorCode=Na.SERVER_CONNECTION_LOST,this.state=dn.RELAY_STATE_FAILURE)})}),this.joinInfo=t,this.clientId=n,this.sid=Ca(),this.signal=new fx(this.joinInfo,this.clientId,r),this.httpRetryConfig=s,this._resolution=o}async startChannelMediaRelay(t){if(this.state!==dn.RELAY_STATE_IDLE)throw new X(j.INVALID_OPERATION);this.state=dn.RELAY_STATE_CONNECTING,await this.connect(),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(t)}catch(n){throw n.data&&n.data.serverResponse&&n.data.serverResponse.command==="SetSourceChannel"?new X(j.CROSS_CHANNEL_FAILED_JOIN_SRC):n.data&&n.data.serverResponse&&n.serverResponse.command==="SetDestChannelStatus"?new X(j.CROSS_CHANNEL_FAILED_JOIN_DEST):n.data&&n.data.serverResponse&&n.serverResponse.command==="StartPacketTransfer"?new X(j.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):n}this.prevChannelMediaConfig=t}async updateChannelMediaRelay(t){if(this.state!==dn.RELAY_STATE_RUNNING)throw new X(j.INVALID_OPERATION);await this.sendUpdateMessage(t),this.prevChannelMediaConfig=t}async setVideoProfile(t){if(this._resolution=t,this.state!==dn.RELAY_STATE_RUNNING)throw new X(j.INVALID_OPERATION);const n=this.genMessage($i.SetVideoProfile);await this.signal.request(n),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),M.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=dn.RELAY_STATE_IDLE,this.dispose()}dispose(){M.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=sn.CancelToken.source(),this.state=dn.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const t=await fG(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=t.workerToken,await this.signal.connect(t.addressList),this.emit("event",gs.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(t){const n=this.genMessage($i.StopPacketTransfer);await this.signal.request(n),await this.signal.waitStatus("Normal Quit"),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const r=this.genMessage($i.SetSdkProfile,t);await this.signal.request(r),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const s=this.genMessage($i.SetSourceChannel,t);await this.signal.request(s),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",gs.PACKET_JOINED_SRC_CHANNEL),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const o=this.genMessage($i.SetSourceUserId,t);await this.signal.request(o),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const a=this.genMessage($i.SetDestChannel,t);await this.signal.request(a),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",gs.PACKET_JOINED_DEST_CHANNEL),M.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const d=this.genMessage($i.StartPacketTransfer,t);await this.signal.request(d),this.emit("event",gs.PACKET_SENT_TO_DEST_CHANNEL),this.state=dn.RELAY_STATE_RUNNING,M.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(t){const n=this.genMessage($i.UpdateDestChannel,t);await this.signal.request(n),this.emit("event",gs.PACKET_UPDATE_DEST_CHANNEL),M.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const t=this.genMessage($i.StopPacketTransfer);await this.signal.request(t),M.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(t,n){const r=[],s=[],o=[];this.requestId+=1;const a={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:Zn,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};a.sdkVersion==="4.22.2"&&(a.sdkVersion="0.0.1");let d=null,l=null;switch(t){case $i.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case $i.SetSourceChannel:if(l=n&&n.getSrcChannelMediaInfo(),!l)throw new X(j.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceChannel",uid:"0",channelName:l.channelName,token:l.token||this.joinInfo.appId},a;case $i.SetSourceUserId:if(l=n&&n.getSrcChannelMediaInfo(),!l)throw new X(j.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceUserId",uid:l.uid+""},a;case $i.SetDestChannel:if(d=n&&n.getDestChannelMediaInfo(),!d)throw new X(j.UNEXPECTED_ERROR,"can not find dest config");return d.forEach(E=>{r.push(E.channelName),s.push(E.uid+""),o.push(E.token||this.joinInfo.appId)}),a.clientRequest={command:"SetDestChannel",channelName:r,uid:s,token:o},a;case $i.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case $i.Reconnect:return a.clientRequest={command:"Reconnect"},a;case $i.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case $i.UpdateDestChannel:if(d=n&&n.getDestChannelMediaInfo(),!d)throw new X(j.UNEXPECTED_ERROR,"can not find dest config");return d.forEach(E=>{r.push(E.channelName),s.push(E.uid+""),o.push(E.token||this.joinInfo.appId)}),a.clientRequest={command:"UpdateDestChannel",channelName:r,uid:s,token:o},a;case $i.SetVideoProfile:a.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return a}}const Cx={name:"ChannelMediaRelay",create:function(e){return new mx(e.joinInfo,e.clientId,e.websocketRetryConfig||hi,e.httpRetryConfig||hi,e.resolution)}};function H0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class Rx extends Vt{constructor(t,n,r,s){super(),F(this,"spec",void 0),F(this,"token",void 0),F(this,"websocket",void 0),F(this,"pingpongTimer",void 0),F(this,"reconnectMode","retry"),F(this,"serviceMode",void 0),F(this,"reqId",0),F(this,"commandReqId",0),F(this,"handleWebSocketOpen",()=>{this.reconnectMode="retry",this.startPingPong()}),F(this,"handleWebSocketMessage",o=>{if(!o.data)return;const a=JSON.parse(o.data);a.requestId?this.emit("@".concat(a.requestId,"-").concat(a.sid),a):(ve.workerEvent(this.spec.sid,{actionType:"status",serverCode:a.code,workerType:this.serviceMode===Es.TRANSCODE?1:2}),this.emit(Vs.PUBLISH_STREAM_STATUS,a))}),this.spec=n,this.token=t,this.serviceMode=s,this.websocket=new xA("live-streaming",r),this.websocket.on(ze.CONNECTED,this.handleWebSocketOpen),this.websocket.on(ze.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(ze.REQUEST_NEW_URLS,(o,a)=>{bi(this,Vs.REQUEST_NEW_ADDRESS).then(o).catch(a)}),this.websocket.on(ze.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(t){return this.websocket.init(t)}async request(t,n,r,s){this.reqId+=1,t==="request"&&(this.commandReqId+=1);const o=this.commandReqId,a=this.reqId;if(!a||!this.websocket)throw new X(j.UNEXPECTED_ERROR);const d=_c({command:t,sdkVersion:Zn==="4.22.2"?"0.0.1":Zn,seq:a,requestId:a,allocate:r,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},n);if(this.websocket.state==="closed")throw new X(j.WS_DISCONNECT);const l=()=>new Ie((C,T)=>{this.websocket.once(ze.CLOSED,()=>T(new X(j.WS_ABORT))),this.websocket.once(ze.CONNECTED,C)});this.websocket.state!=="connected"&&await l(),d.clientRequest&&(d.clientRequest.workerToken=this.token);const E=new Ie((C,T)=>{const Q=()=>{T(new X(j.WS_ABORT))};this.websocket.once(ze.RECONNECTING,Q),this.websocket.once(ze.CLOSED,Q),this.once("@".concat(a,"-").concat(this.spec.sid),U=>{C(U)})});s&&ve.workerEvent(this.spec.sid,_c(_c({},s),{},{requestId:o,actionType:"request",payload:JSON.stringify(n.clientRequest),serverCode:0,code:0}));const g=Date.now();this.websocket.sendMessage(d);let f=null;try{f=await E}catch(C){if(this.websocket.state==="closed")throw C;return await l(),await this.request(t,n,r)}return s&&ve.workerEvent(this.spec.sid,_c(_c({},s),{},{requestId:o,actionType:"response",payload:JSON.stringify(f.serverResponse),serverCode:f.code,success:f.code===200,responseTime:Date.now()-g})),f.code!==200&&this.handleResponseError(f),f}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const t=Zn==="4.22.2"?"0.0.1":Zn;this.reqId+=1,this.websocket.state==="connected"?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:t,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(t){switch(t.code){case pi.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void M.warning("live stream response already exists stream");case pi.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case pi.LIVE_STREAM_RESPONSE_BAD_STREAM:case pi.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new X(j.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:t.code}).throw();case pi.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(t.serverResponse.command==="UnpublishStream")return;throw new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case pi.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new X(j.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:t.code}).throw();case pi.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const n=new X(j.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Vs.WARNING,n,t.serverResponse.url)}case pi.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const n=new X(j.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Vs.WARNING,n,t.serverResponse.url)}case pi.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case pi.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new X(j.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:t.code}).throw();case pi.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const n=new X(j.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Vs.WARNING,n,t.serverResponse.url)}case pi.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:t.code}).throw();case pi.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case pi.LIVE_STREAM_RESPONSE_WORKER_LOST:case pi.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(t.serverResponse.command==="UnpublishStream")return;throw new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case pi.ERROR_FAIL_SEND_MESSAGE:if(t.serverResponse.command==="UnpublishStream")return;if(t.serverResponse.command==="UpdateTranscoding"||t.serverResponse.command==="ControlStream")return new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:t.code}).throw();throw new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case pi.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case pi.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case pi.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case pi.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new X(j.LIVE_STREAMING_CDN_ERROR,"",{code:t.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{this.websocket.state==="connected"&&this.request("ping",{}).catch($d)},6e3)}}function Z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class Tx extends Vt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hi,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hi;super(),F(this,"onLiveStreamWarning",void 0),F(this,"onLiveStreamError",void 0),F(this,"spec",void 0),F(this,"retryTimeout",1e4),F(this,"connection",void 0),F(this,"httpRetryConfig",void 0),F(this,"wsRetryConfig",void 0),F(this,"streamingTasks",new Map),F(this,"isStartingStreamingTask",!1),F(this,"taskMutex",new Oi("live-streaming")),F(this,"cancelToken",sn.CancelToken.source()),F(this,"transcodingConfig",void 0),F(this,"uapResponse",void 0),F(this,"lastTaskId",1),F(this,"statusError",new Map),this.spec=t,this.httpRetryConfig=r,this.wsRetryConfig=n}async setTranscodingConfig(t){const n=hn(hn({},SL),t);n.videoCodecProfile!==66&&n.videoCodecProfile!==77&&n.videoCodecProfile!==100&&(M.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(n.videoCodecProfile," -> 100")),n.videoCodecProfile=100),n.transcodingUsers||(n.transcodingUsers=n.userConfigs),n.transcodingUsers&&(n.transcodingUsers=n.transcodingUsers.map(a=>hn(hn(hn({},NL),a),{},{zOrder:a.zOrder?a.zOrder+1:1}))),function(a){Pt(a.width)||Tt(a.width,"config.width",0,1e4),Pt(a.height)||Tt(a.height,"config.height",0,1e4),Pt(a.videoBitrate)||Tt(a.videoBitrate,"config.videoBitrate",1,1e6),Pt(a.videoFrameRate)||Tt(a.videoFrameRate,"config.videoFrameRate"),Pt(a.lowLatency)||hs(a.lowLatency,"config.lowLatency"),Pt(a.audioSampleRate)||fi(a.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),Pt(a.audioBitrate)||Tt(a.audioBitrate,"config.audioBitrate",1,128),Pt(a.audioChannels)||fi(a.audioChannels,"config.audioChannels",[1,2,3,4,5]),Pt(a.videoGop)||Tt(a.videoGop,"config.videoGop"),Pt(a.videoCodecProfile)||fi(a.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),Pt(a.userCount)||Tt(a.userCount,"config.userCount",0,17),Pt(a.backgroundColor)||Tt(a.backgroundColor,"config.backgroundColor",0,16777215),Pt(a.userConfigExtraInfo)||Mi(a.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),a.transcodingUsers&&!Pt(a.transcodingUsers)&&(us(a.transcodingUsers,"config.transcodingUsers"),a.transcodingUsers.forEach((d,l)=>{ol(d.uid),Pt(d.x)||Tt(d.x,"transcodingUser[".concat(l,"].x"),0,1e4),Pt(d.y)||Tt(d.y,"transcodingUser[".concat(l,"].y"),0,1e4),Pt(d.width)||Tt(d.width,"transcodingUser[".concat(l,"].width"),0,1e4),Pt(d.height)||Tt(d.height,"transcodingUser[".concat(l,"].height"),0,1e4),Pt(d.zOrder)||Tt(d.zOrder-1,"transcodingUser[".concat(l,"].zOrder"),0,100),Pt(d.alpha)||Tt(d.alpha,"transcodingUser[".concat(l,"].alpha"),0,1,!1)})),Pt(a.watermark)||Ig(a.watermark,"watermark"),Pt(a.backgroundImage)||Ig(a.backgroundImage,"backgroundImage"),a.images&&!Pt(a.images)&&(us(a.images,"config.images"),a.images.forEach((d,l)=>{Ig(d,"images[".concat(l,"]"))}))}(n);const r=[];n.images&&r.push(...n.images.map(a=>hn(hn(hn({},pg),a),{},{zOrder:255}))),n.backgroundImage&&(r.push(hn(hn(hn({},pg),n.backgroundImage),{},{zOrder:0})),delete n.backgroundImage),n.watermark&&(r.push(hn(hn(hn({},pg),n.watermark),{},{zOrder:255})),delete n.watermark),n.images=r,n.transcodingUsers&&(n.userConfigs=n.transcodingUsers.map(a=>hn({},a)),n.userCount=n.transcodingUsers.length,delete n.transcodingUsers);const s=(n.userConfigs||[]).map(a=>typeof a.uid=="number"?Ie.resolve(a.uid):Gw(a.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await Ie.all(s)).forEach((a,d)=>{n.userConfigs&&n.userConfigs[d]&&(n.userConfigs[d].uid=a)}),this.transcodingConfig=n,this.connection)try{var o;const a=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(Is(o=this.streamingTasks).call(o)).map(d=>d.taskId).join("#")});M.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(a.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(a){if(!a.data||!a.data.retry)throw a;a.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(d=>{M.warning("[".concat(this.spec.clientId,"] live streaming receive error"),a.toString(),"try to republish",d.url),this.startLiveStreamingTask(d.url,d.mode,a).then(()=>{M.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(d.url," success"))}).catch(l=>{M.error("[".concat(this.spec.clientId,"] live streaming republish failed"),d.url,l.toString()),this.onLiveStreamError&&this.onLiveStreamError(d.url,l)})})}}async startLiveStreamingTask(t,n,r){if(!this.transcodingConfig&&n===Es.TRANSCODE)throw new X(j.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const s={command:"PublishStream",ts:Date.now(),url:t,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};M.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(t,", mode: ").concat(n));const o=await this.taskMutex.lock();if(!this.connection&&r)return void o();if(this.streamingTasks.get(t)&&!r)return o(),new X(j.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(n))}catch(d){throw o(),d}switch(n){case Es.TRANSCODE:s.transcodingConfig=hn({},this.transcodingConfig)}this.uapResponse&&this.uapResponse.vid&&(s.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const a=this.lastTaskId++;try{const d=new Ie((E,g)=>{yi(this.retryTimeout).then(()=>{if(r)return g(r);const f=this.statusError.get(t);return f?(this.statusError.delete(t),g(f)):void 0})}),l=await Ie.race([this.connection.request("request",{clientRequest:s},!0,{url:t,command:"PublishStream",workerType:n===Es.TRANSCODE?1:2,requestByUser:!r,tid:a.toString()}),d]);this.isStartingStreamingTask=!1,M.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(l.code)),this.streamingTasks.set(t,{clientRequest:s,mode:n,url:t,taskId:a}),o()}catch(d){if(o(),this.isStartingStreamingTask=!1,!d.data||!d.data.retry||r)throw d;return d.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(t,n,d)):await this.startLiveStreamingTask(t,n,d)}}stopLiveStreamingTask(t){return new Ie((n,r)=>{const s=this.streamingTasks.get(t);if(!s||!this.connection)return new X(j.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const o=s.mode;s.abortTask=()=>{M.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(t),n()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:s.url}},!1,{url:t,command:"UnPublishStream",workerType:o===Es.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(a=>{M.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(a.code)),this.streamingTasks.delete(t),this.streamingTasks.size===0&&(this.connection&&this.connection.close(),this.connection=void 0),n()}).catch(r)})}resetAllTask(){var t;const n=Array.from(Is(t=this.streamingTasks).call(t));this.terminate();for(const r of n)this.startLiveStreamingTask(r.url,r.mode).catch(s=>{this.onLiveStreamError&&this.onLiveStreamError(r.url,s)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=sn.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(t){if(this.connection)throw new X(j.UNEXPECTED_ERROR,"live streaming connection has already connected");const n=await bi(this,fg.REQUEST_WORKER_MANAGER_LIST,t);return this.uapResponse=n,this.connection=new Rx(n.workerToken,this.spec,this.wsRetryConfig,t),this.connection.on(Vs.WARNING,(r,s)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(s,r)),this.connection.on(Vs.PUBLISH_STREAM_STATUS,r=>this.handlePublishStreamServer(r)),this.connection.on(Vs.REQUEST_NEW_ADDRESS,(r,s)=>{if(!this.connection)return s(new X(j.UNEXPECTED_ERROR,"can not get new live streaming address list"));bi(this,fg.REQUEST_WORKER_MANAGER_LIST,t).then(o=>{this.uapResponse=o,r(o.addressList)}).catch(s)}),await this.connection.init(n.addressList),this.connection}handlePublishStreamServer(t){const n=t.serverStatus&&t.serverStatus.url||"empty_url",r=this.streamingTasks.get(n),s=t.reason;switch(t.code){case pi.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case pi.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case pi.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case pi.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const a=new X(j.LIVE_STREAMING_CDN_ERROR,"",{code:t.code});if(r)return M.error(a.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,a);if(!this.isStartingStreamingTask)return;this.statusError.set(n,a)}case pi.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const a=new X(j.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,s);return this.onLiveStreamWarning&&this.onLiveStreamWarning(n,a)}case pi.LIVE_STREAM_RESPONSE_WORKER_LOST:case pi.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var o;if(!this.connection)return;this.connection.tryNextAddress();const a=Array.from(Is(o=this.streamingTasks).call(o));for(const d of a)d.abortTask?d.abortTask():(M.warning("[".concat(this.spec.clientId,"] publish stream status code"),t.code,"try to republish",d.url),this.startLiveStreamingTask(d.url,d.mode,new X(j.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:t.code})).then(()=>{M.debug("[".concat(this.spec.clientId,"] republish live stream success"),d.url)}).catch(l=>{M.error(l.toString()),this.onLiveStreamError&&this.onLiveStreamError(d.url,l)}));return}}}hasUrl(t){return this.streamingTasks.has(t)}}const Nx={name:"LiveStreaming",create:function(e){return new Tx(e.joinInfo,e.websocketRetryConfig||hi,e.httpRetryConfig||hi)}};function Sx(e){let t=q0();return function(n,r){let s=n.appId;s!==void 0&&(pt(r,10),as(r,s));let o=n.cid;o!==void 0&&(pt(r,16),pt(r,o));let a=n.cname;a!==void 0&&(pt(r,26),as(r,a));let d=n.deviceId;d!==void 0&&(pt(r,34),as(r,d));let l=n.elapse;l!==void 0&&(pt(r,40),ro(r,l));let E=n.fileSize;E!==void 0&&(pt(r,48),ro(r,sA(E)));let g=n.height;g!==void 0&&(pt(r,56),ro(r,sA(g)));let f=n.jpg;f!==void 0&&(pt(r,66),pt(r,f.length),function(Sr,ie){let ce=oA(Sr,ie.length);Sr.bytes.set(ie,ce)}(r,f));let C=n.networkType;C!==void 0&&(pt(r,72),ro(r,sA(C)));let T=n.osType;T!==void 0&&(pt(r,80),ro(r,sA(T)));let Q=n.requestId;Q!==void 0&&(pt(r,90),as(r,Q));let U=n.sdkVersion;U!==void 0&&(pt(r,98),as(r,U));let _=n.sequence;_!==void 0&&(pt(r,104),ro(r,sA(_)));let b=n.sid;b!==void 0&&(pt(r,114),as(r,b));let Y=n.timestamp;Y!==void 0&&(pt(r,120),ro(r,Y));let G=n.uid;G!==void 0&&(pt(r,128),pt(r,G));let W=n.vid;W!==void 0&&(pt(r,136),pt(r,W));let J=n.width;J!==void 0&&(pt(r,144),ro(r,sA(J)));let K=n.service;K!==void 0&&(pt(r,152),pt(r,K));let ne=n.callbackData;ne!==void 0&&(pt(r,162),as(r,ne));let le=n.jpgEncryption;le!==void 0&&(pt(r,168),pt(r,le));let oe=n.requestType;oe!==void 0&&(pt(r,176),pt(r,oe));let ye=n.scorePorn;ye!==void 0&&(pt(r,185),cI(r,ye));let Xe=n.scoreSexy;Xe!==void 0&&(pt(r,193),cI(r,Xe));let lt=n.scoreNeutral;lt!==void 0&&(pt(r,201),cI(r,lt));let vt=n.scene;vt!==void 0&&(pt(r,208),pt(r,vt));let di=n.ossFilePrefix;di!==void 0&&(pt(r,218),as(r,di));let Ot=n.serviceVendor;if(Ot!==void 0)for(let Sr of Ot){pt(r,226);let ie=q0();wx(Sr,ie),pt(r,ie.limit),_x(r,ie),vx(ie)}}(e,t),function(n){let r=n.bytes,s=n.limit;return r.length===s?r:r.subarray(0,s)}(t)}function Mx(e){return function(n){let r={};e:for(;!$0(n);){let s=As(n);switch(s>>>3){case 0:break e;case 1:r.code=As(n);break;case 2:r.msg=ev(n,As(n));break;case 3:{let o=Bx(n);r.data=yx(n),n.limit=o;break}default:X0(n,7&s)}}return r}({bytes:t=e,offset:0,limit:t.length});var t}function yx(e){let t={};e:for(;!$0(e);){let n=As(e);switch(n>>>3){case 0:break e;case 1:t.requestId=ev(e,As(e));break;case 2:t.requestType=As(e)>>>0;break;case 3:t.scorePorn=AI(e);break;case 4:t.scoreSexy=AI(e);break;case 5:t.scoreNeutral=AI(e);break;case 6:t.requestScene=As(e)>>>0;break;case 7:t.scene=As(e)>>>0;break;default:X0(e,7&n)}}return t}function wx(e,t){let n=e.service;n!==void 0&&(pt(t,8),pt(t,n));let r=e.vendor;r!==void 0&&(pt(t,16),pt(t,r));let s=e.token;s!==void 0&&(pt(t,26),as(t,s));let o=e.callbackUrl;o!==void 0&&(pt(t,34),as(t,o))}function Bx(e){let t=As(e),n=e.limit;return e.limit=e.offset+t,n}function X0(e,t){switch(t){case 0:for(;128&tv(e););break;case 2:oI(e,As(e));break;case 5:oI(e,4);break;case 1:oI(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let Ux=new Float32Array(1);new Uint8Array(Ux.buffer);let sI=new Float64Array(1),un=new Uint8Array(sI.buffer);function sA(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let K0=[];function q0(){const e=K0.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function vx(e){K0.push(e)}function oI(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function $0(e){return e.offset>=e.limit}function oA(e,t){let n=e.bytes,r=e.offset,s=e.limit,o=r+t;if(o>n.length){let a=new Uint8Array(2*o);a.set(n),e.bytes=a}return e.offset=o,o>s&&(e.limit=o),r}function aI(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function ev(e,t){let n=aI(e,t),r=String.fromCharCode,s=e.bytes,o="�",a="";for(let d=0;d<t;d++){let l,E,g,f,C=s[d+n];(128&C)==0?a+=r(C):(224&C)==192?d+1>=t?a+=o:(l=s[d+n+1],(192&l)!=128?a+=o:(f=(31&C)<<6|63&l,f<128?a+=o:(a+=r(f),d++))):(240&C)==224?d+2>=t?a+=o:(l=s[d+n+1],E=s[d+n+2],(49344&(l|E<<8))!=32896?a+=o:(f=(15&C)<<12|(63&l)<<6|63&E,f<2048||f>=55296&&f<=57343?a+=o:(a+=r(f),d+=2))):(248&C)==240?d+3>=t?a+=o:(l=s[d+n+1],E=s[d+n+2],g=s[d+n+3],(12632256&(l|E<<8|g<<16))!=8421504?a+=o:(f=(7&C)<<18|(63&l)<<12|(63&E)<<6|63&g,f<65536||f>1114111?a+=o:(f-=65536,a+=r(55296+(f>>10),56320+(1023&f)),d+=3))):a+=o}return a}function as(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let d=t.charCodeAt(a);d>=55296&&d<=56319&&a+1<n&&(d=(d<<10)+t.charCodeAt(++a)-56613888),r+=d<128?1:d<2048?2:d<65536?3:4}pt(e,r);let s=oA(e,r),o=e.bytes;for(let a=0;a<n;a++){let d=t.charCodeAt(a);d>=55296&&d<=56319&&a+1<n&&(d=(d<<10)+t.charCodeAt(++a)-56613888),d<128?o[s++]=d:(d<2048?o[s++]=d>>6&31|192:(d<65536?o[s++]=d>>12&15|224:(o[s++]=d>>18&7|240,o[s++]=d>>12&63|128),o[s++]=d>>6&63|128),o[s++]=63&d|128)}}function _x(e,t){let n=oA(e,t.limit),r=e.bytes,s=t.bytes;for(let o=0,a=t.limit;o<a;o++)r[o+n]=s[o]}function tv(e){return e.bytes[aI(e,1)]}function iv(e,t){let n=oA(e,1);e.bytes[n]=t}function AI(e){let t=aI(e,8),n=e.bytes;return un[0]=n[t++],un[1]=n[t++],un[2]=n[t++],un[3]=n[t++],un[4]=n[t++],un[5]=n[t++],un[6]=n[t++],un[7]=n[t++],sI[0]}function cI(e,t){let n=oA(e,8),r=e.bytes;sI[0]=t,r[n++]=un[0],r[n++]=un[1],r[n++]=un[2],r[n++]=un[3],r[n++]=un[4],r[n++]=un[5],r[n++]=un[6],r[n++]=un[7]}function As(e){let t,n=0,r=0;do t=tv(e),n<32&&(r|=(127&t)<<n),n+=7;while(128&t);return r}function pt(e,t){for(t>>>=0;t>=128;)iv(e,127&t|128),t>>>=7;iv(e,t)}function ro(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,s=t.high>>>24,o=s===0?r===0?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:s<128?9:10,a=oA(e,o),d=e.bytes;switch(o){case 10:d[a+9]=s>>>7&1;case 9:d[a+8]=o!==9?128|s:127&s;case 8:d[a+7]=o!==8?r>>>21|128:r>>>21&127;case 7:d[a+6]=o!==7?r>>>14|128:r>>>14&127;case 6:d[a+5]=o!==6?r>>>7|128:r>>>7&127;case 5:d[a+4]=o!==5?128|r:127&r;case 4:d[a+3]=o!==4?n>>>21|128:n>>>21&127;case 3:d[a+2]=o!==3?n>>>14|128:n>>>14&127;case 2:d[a+1]=o!==2?n>>>7|128:n>>>7&127;case 1:d[a]=o!==1?128|n:127&n}}function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}const Fx=new Map([["moderation",1],["supervise",2]]);function rv(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}class Qx extends Vt{get connectionState(){return this._connectionState}set connectionState(t){if(this._connectionState===t)return;const n=this._connectionState;this._connectionState=t,this.emit(Ni.CONNECTION_STATE_CHANGE,n,t)}get inspectType(){return this._inspectType}set inspectType(t){var n;this._inspectMode=Mr(n=t.map(r=>Fx.get(r)||0)).call(n,(r,s)=>r+s),this._inspectType=t}get quality(){return this._quality}set quality(t){this._quality=t>1?1:t<.1?.1:t,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(t){super(),F(this,"name","AgoraRTCVideoContentInspect"),F(this,"_connectionState",Ar.CONNECTING),F(this,"_innerConnectionState",void 0),F(this,"sequence",0),F(this,"inspectStartTime",void 0),F(this,"workerManagerConnection",void 0),F(this,"workerConnection",void 0),F(this,"workerMessageLengthLimit",void 0),F(this,"inspectIntervalMinimum",void 0),F(this,"qualityRatio",void 0),F(this,"_connectInfo",void 0),F(this,"_cancelTokenSource",sn.CancelToken.source()),F(this,"_retryConfig",void 0),F(this,"wmSequence",0),F(this,"inspectInterval",void 0),F(this,"inspectTimer",null),F(this,"ossFilePrefix",void 0),F(this,"extraInfo",void 0),F(this,"_inspectType",void 0),F(this,"_inspectMode",void 0),F(this,"_quality",1),F(this,"qualityTimer",null),F(this,"_inspectId",void 0),F(this,"_needWorkUrlOnly",!1),F(this,"inspectImage",()=>{if(this.connectionState!==Ar.CONNECTED)throw new X(j.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===Ar.CONNECTED?this.requestToInspectImage():M.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=wt(5,"inspect-"),this.workerMessageLengthLimit=L("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=L("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=L("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=t.interval,this.ossFilePrefix=t.ossFilePrefix,this.extraInfo=t.extraInfo,this.inspectType=t.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new xA("worker-manager-"+this._inspectId,hi),this.on(Ni.STATE_CHANGE,(n,r)=>{this._innerConnectionState=n,M.debug("[".concat(this._inspectId,"] Inspect operation :").concat(cr[n]," ").concat(r||""))}),this.handleWorkerManagerEvents(),this.workerConnection=new xA("worker-"+this._inspectId,hi),this.handleWorkerEvents()}async init(t,n){this.emit(Ni.STATE_CHANGE,cr.CONNECT_AP),this._connectInfo=t;const r=this._cancelTokenSource.token;return this._retryConfig=n,new Ie((s,o)=>{this.on(Ni.CONNECTION_STATE_CHANGE,(a,d)=>{d===Ar.CONNECTED&&s()}),this.requestAP(t,r,n).then(a=>{this.connectWorkerManager(a)}).catch(a=>{o(a)})})}async requestAP(t,n,r){const s=L("WEBCS_DOMAIN").map(d=>"https://".concat(d,"/api/v1")),o=await function(d,l,E,g){let{appId:f,areaCode:C,cname:T,sid:Q,token:U,uid:_}=l;Za++;const b="image_moderation_api",Y={service_name:b,json_body:JSON.stringify({appId:f,areaCode:C,cname:T,command:"allocateEdge",requestId:Za,seq:Za,sid:Q,token:U,ts:Date.now(),uid:_+""})};let G,W,J=d[0];return vr(async()=>{G=Date.now();const K=await br(J,{data:Y,cancelToken:E,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(W=Date.now()-G,K.code!==0){const ye=new X(j.UNEXPECTED_RESPONSE,"image inspect ap error, code"+K.code,{retry:!0,responseTime:W});throw M.error(ye.toString()),ye}const ne=JSON.parse(K.json_body);if(ne.code!==200){const ye=new X(j.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(ne.code,", reason: ").concat(ne.reason),{code:ne.code,responseTime:W});throw M.error(ye.toString()),ye}if(!ne.servers||!Array.isArray(ne.servers)||ne.servers.length===0){const ye=new X(j.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:ne.code,responseTime:W});throw M.error(ye.toString()),ye}const le=L("VIDEO_INSPECT_WORKER_MANAGER_HOST"),oe=L("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:ne.servers.map(ye=>{let{address:Xe,wss:lt}=ye;if(Xe&&lt)return"wss://".concat(Xe.replace(/\./g,"-"),".").concat(le,":").concat(oe||lt)}).filter(ye=>!!ye),workerToken:ne.workerToken,vid:ne.vid,responseTime:W}},(K,ne)=>(ve.apworkerEvent(Q,{success:!0,sc:200,serviceName:b,responseDetail:JSON.stringify(K.addressList),firstSuccess:ne===0,responseTime:W,serverIp:d[ne%d.length]}),!1),(K,ne)=>(ve.apworkerEvent(Q,{success:!1,sc:K.data&&K.data.code||200,serviceName:b,responseTime:W,serverIp:d[ne%d.length]}),!!(K.code!==j.OPERATION_ABORTED&&K.code!==j.UNEXPECTED_RESPONSE||K.data&&K.data.retry)&&(J=d[(ne+1)%d.length],!0)),g)}(s,t,n,r);this.emit(Ni.STATE_CHANGE,cr.AP_CONNECTED);const{addressList:a}=o;return this.wmSequence++,a}async connectWorkerManager(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._needWorkUrlOnly=n,this.emit(Ni.STATE_CHANGE,cr.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(t,1e4)}async connectWorker(t){await this.workerConnection.init([t])}handleWorkerManagerEvents(){this.workerManagerConnection.on(ze.CONNECTED,async()=>{this.emit(Ni.STATE_CHANGE,cr.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.22.2",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)}),this.workerManagerConnection.on(ze.CLOSED,()=>{this._innerConnectionState<cr.GET_WORKER_MANAGER_RESPONSE&&M.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))}),this.workerManagerConnection.on(ze.FAILED,()=>{this._innerConnectionState<cr.GET_WORKER_MANAGER_RESPONSE&&M.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))}),this.workerManagerConnection.on(ze.RECONNECTING,()=>{this._innerConnectionState<cr.GET_WORKER_MANAGER_RESPONSE&&M.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))}),this.workerManagerConnection.on(ze.ON_MESSAGE,async t=>{this.emit(Ni.STATE_CHANGE,cr.GET_WORKER_MANAGER_RESPONSE);const n=this.workerManagerConnection.url;this.workerManagerConnection.close();const r=JSON.parse(t.data);if(r.code!==200)throw M.error("[".concat(this._inspectId,"] Unexpected code ").concat(r.code," from worker manager")),new X(j.UNEXPECTED_RESPONSE,"response code of worker is unexpected",r);if(!(r.serverResponse&&r.serverResponse.portWss&&n))throw M.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(r))),new X(j.UNEXPECTED_RESPONSE,"response content of worker is unexpected",r);{const s=L("VIDEO_INSPECT_WORKER_PORT")||r.serverResponse.portWss,o=n.replace(/:\d+\/?$/,":".concat(s));this.emit(Ni.STATE_CHANGE,cr.CONNECT_WORKER,o),this._needWorkUrlOnly?this.emit(Ni.REQUEST_NEW_WORKER_URL,o):await this.connectWorker(o)}}),this.workerManagerConnection.on(ze.WILL_RECONNECT,(t,n,r)=>{r(t)}),this.workerManagerConnection.on(ze.REQUEST_NEW_URLS,(t,n)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(t).catch(n)})}handleWorkerEvents(){this.workerConnection.on(ze.CONNECTED,async()=>{this.emit(Ni.STATE_CHANGE,cr.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Ar.CONNECTED}),this.workerConnection.on(ze.ON_MESSAGE,async t=>{if(t.data instanceof ArrayBuffer){const r=Mx(new Uint8Array(t.data));if(L("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&M.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(r)),r.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]==="supervise")return void this.emit(Ni.INSPECT_RESULT,void 0,void 0);if(r.data&&r.data.scorePorn&&r.data.scoreSexy&&r.data.scoreNeutral){var n;const s={porn:r.data.scorePorn,sexy:r.data.scoreSexy,neutral:r.data.scoreNeutral},o=Mr(n=Object.keys(s)).call(n,(d,l)=>s[d]>s[l]?d:l,"porn"),a=Object.keys(s).find(d=>d===o);this.emit(Ni.INSPECT_RESULT,a)}else this.emit(Ni.INSPECT_RESULT,void 0,new X(j.UNEXPECTED_RESPONSE,r.code+"","There is an unexpected data on message"))}else this.emit(Ni.INSPECT_RESULT,void 0,new X(j.UNEXPECTED_RESPONSE,r.code+"",r.msg))}else M.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(Ni.INSPECT_RESULT,void 0,new X(j.UNEXPECTED_RESPONSE,"invalid worker message type"))}),this.workerConnection.on(ze.CLOSED,()=>{this.connectionState=Ar.CLOSED}),this.workerConnection.on(ze.FAILED,()=>{this.connectionState=Ar.CLOSED}),this.workerConnection.on(ze.RECONNECTING,()=>{this.connectionState=this.connectionState===Ar.CONNECTED?Ar.RECONNECTING:Ar.CONNECTING}),this.workerConnection.on(ze.WILL_RECONNECT,(t,n,r)=>{t==="recover"&&r(t),r("tryNext")}),this.workerConnection.on(ze.REQUEST_NEW_URLS,(t,n)=>{this.workerManagerConnection.close(),this.once(Ni.REQUEST_NEW_WORKER_URL,r=>{t([r])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(r=>{this.connectWorkerManager(r,!0)}).catch(r=>{n(r)})})}async requestToInspectImage(){this.sequence++;const t=Hn(this,Ni.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(t){if(!t.isPlaying)return void this.emit(Ni.INSPECT_RESULT,void 0,new X(j.INVALID_OPERATION,"Only the track being played can be inspected"));const r=await this.generateRequestData(t,n);this.workerConnection.sendMessage(r,!0,!0)}else this.emit(Ni.INSPECT_RESULT,void 0,new X(j.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(t,n){let{appId:r,cname:s,cid:o,vid:a,sid:d,uid:l}=n;const E=Date.now(),g=await t.getCurrentFrameImage("image/jpeg",this.quality),f=await OM(g,r,s),C=this.sequence+"-"+o+"-"+l+"-"+E+"-"+wt(12,""),T={appId:r,cid:o,cname:s,deviceId:"",elapse:rv(Number(E-this.inspectStartTime)),fileSize:f.byteLength,jpgEncryption:2,height:g.height,width:g.width,jpg:f,networkType:6,osType:7,requestId:C,sdkVersion:"4.22.2",sequence:this.sequence,sid:d,timestamp:rv(E),uid:l,vid:a,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};this.extraInfo===void 0&&delete T.callbackData,this.ossFilePrefix===void 0&&delete T.ossFilePrefix;const Q=Sx(T);if(Q.byteLength<this.workerMessageLengthLimit){if(L("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const U=function(_){for(var b=1;b<arguments.length;b++){var Y=arguments[b]!=null?arguments[b]:{};b%2?nv(Object(Y),!0).forEach(function(G){F(_,G,Y[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(Y)):nv(Object(Y)).forEach(function(G){Object.defineProperty(_,G,Object.getOwnPropertyDescriptor(Y,G))})}return _}({},T);delete U.jpg,M.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(U))}return Q}{const U=this.quality*this.qualityRatio;return this.quality=U,await this.generateRequestData(t,{appId:r,cname:s,cid:o,vid:a,sid:d,uid:l})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=sn.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Ar.CLOSED,this.emit(Ni.STATE_CHANGE,cr.CLOSED)}}const bx={name:"ContentInspect",create:function(e){let{config:t}=e;return function(n){if(!n)throw new X(j.INVALID_PARAMS,"inspectConfig is necessary.");if(!n.inspectType||!Array.isArray(n.inspectType))throw new X(j.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const r=[...new Set(n.inspectType)];r.forEach(s=>{var o;if(!ge(o=["supervise","moderation"]).call(o,s))throw new X(j.INVALID_PARAMS,"".concat(s," is not a valid inspect type."))}),n.inspectType=r}if(n&&n.extraInfo&&n.extraInfo.length>1024)throw new X(j.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(t),new Qx(t)}};Nt("PROCESS_ID","process-".concat(wt(8,""),"-").concat(wt(4,""),"-").concat(wt(4,""),"-").concat(wt(4,""),"-").concat(wt(12,""))),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(t){return void M.error("Error loading sdk config",t.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();M.debug("Loading global parameters from cache",t),Object.keys(t).forEach(r=>{if(Object.prototype.hasOwnProperty.call(Kt,r)){const{value:s,expires:o}=t[r];if(o&&o<=n)return;Ps[r]=s,Kt[r]=s}})}catch(t){M.error("Error loading mutableParamsCache: ".concat(e),t.message)}}(),Array.isArray(Ps.AREAS)&&Ps.AREAS.length>0&&gp(Ps.AREAS,!0);const sv=(e,t,n)=>{M.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),Nt(e,t,n)};dc(Cx,!1),dc(Nx,!1),dc(iz,!1),dc(bx,!1),dc(Ix,!1);const ui=function(e){const t=new Vt,n=e,r={getListeners:t.getListeners.bind(t),on:(s,o)=>(function(a,d){a===Hr.SECURITY_POLICY_VIOLATION&&s0(d,!0)}(s,o),t.on.bind(t)(s,o)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return r0(r0({},n),r)}({__TRACK_LIST__:ka,VERSION:Zn,BUILD:Ag,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:sv,getParameter:L,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;const n=await async function(r){let s;return ot().supportUnifiedPlan?(r.addTransceiver("video",{direction:"recvonly"}),r.addTransceiver("audio",{direction:"recvonly"}),s=(await r.createOffer()).sdp):s=(await r.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,s}(t);if(!n)return e;t.close(),t=null,e=function(r){const s={video:[],audio:[]};return r.match(/ VP8/i)&&s.video.push("VP8"),r.match(/ VP9/i)&&s.video.push("VP9"),r.match(/ AV1/i)&&s.video.push("AV1"),r.match(/ H264/i)&&s.video.push("H264"),r.match(/ H265/i)&&s.video.push("H265"),r.match(/ opus/i)&&s.audio.push("OPUS"),r.match(/ PCMU/i)&&s.audio.push("PCMU"),r.match(/ PCMA/i)&&s.audio.push("PCMA"),r.match(/ G722/i)&&s.audio.push("G722"),s}(n)}catch(t){throw new X(j.CREATE_OFFER_FAILED,t.toString&&t.toString()).print()}return e},checkSystemRequirements:function(){const e=ve.reportApiInvoke(null,{name:gi.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:zt.TRACER});let t=!1;try{const o=window.RTCPeerConnection,a=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,d=window.WebSocket;t=!!(o&&a&&d),t&&XE()&&FN(75)&&new o().close()}catch(o){return M.error("check system requirement failed: ",o),!1}let n=!1;const r=st();r.name===ht.CHROME&&Number(r.version)>=58&&(Ur.engine.name!=="WebKit"||function(){const o=st();if(Hd()){if(o.os===Ri.MAC_OS)return!0;if(o.os===Ri.IOS){const a=Ur.os.version&&Ur.os.version.split(".");if(a&&Number(a[0])===14&&a[1]&&Number(a[1])>=3||a&&Number(a[0])>14)return!0}}return!1}())&&(n=!0),(r.name===ht.FIREFOX&&Number(r.version)>=56||r.name===ht.OPERA&&Number(r.version)>=45||r.name===ht.SAFARI&&Number(r.version)>=11||r.name==="WebKit"&&(Xi()||or())&&r.osVersion&&Number(r.osVersion.split(".")[0])>=11||PN()||st().name===ht.QQ)&&(n=!0),M.debug("checkSystemRequirements, api:",t,"browser",n);const s=t&&n;return e.onSuccess(s),s},getDevices:function(e){return Dn.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return Dn.getRecordingDevices(e)},getCameras:function(e){return Dn.getCamerasDevices(e)},getElectronScreenSources:wM,getPlaybackDevices:function(e){return Dn.getSpeakers(e)},createClient:function(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const n=wt(5,"client-"),r=ve.reportApiInvoke(null,{id:n,name:gi.CREATE_CLIENT,options:[t],tag:zt.TRACER});try{(function(s){fi(s.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),fi(s.mode,"config.mode",["rtc","live","p2p"]),s.audioCodec!==void 0&&fi(s.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),s.proxyServer!==void 0&&Mi(s.proxyServer,"config.proxyServer",1,1e4),s.turnServer!==void 0&&HN(s.turnServer),s.httpRetryConfig!==void 0&&JN(s.httpRetryConfig),s.websocketRetryConfig!==void 0&&JN(s.websocketRetryConfig)})(t)}catch(s){throw r.onError(s),s}return(DN(16,0)||kN(16,0,!0))&&(t.codec==="vp9"&&(t.codec="vp8",M.debug("browser not support vp9, force use vp8")),Nt("UNSUPPORTED_VIDEO_CODEC",["vp9"])),t.audioCodec===void 0&&(t.audioCodec="opus"),r.onSuccess(),new nz(Rr(Rr({forceWaitGatewayResponse:!0},t),{},{role:ge(e=["rtc","p2p"]).call(e,t.mode)?"host":t.role||"audience"}),n)},createCameraVideoTrack:async function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=L("CAMERA_CAPTURE_CONFIG"),n=wt(8,"track-cam-"),r=ve.reportApiInvoke(null,{id:n,tag:zt.TRACER,name:gi.CREATE_CAM_VIDEO_TRACK,options:[Dt({},e),t]});t&&(e.encoderConfig=t);const s=Tl(e);let o=null;M.info("start create camera video track with config",JSON.stringify(e),"trackId",n);try{o=(await bn({video:s},n)).getVideoTracks()[0]||null}catch(d){throw r.onError(d),d}if(!o){const d=new $(j.UNEXPECTED_ERROR,"can not find track in media stream");return r.onError(d),d.throw(M)}e.optimizationMode&&ap(n,o,e,Xr(e.encoderConfig));const a=new sp(o,e,s,e.scalabiltyMode?fl(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return r.onSuccess(a.getTrackId()),M.info("create camera video success, trackId:",n),a},createCustomVideoTrack:function(e){const t=wt(8,"track-cus-"),n=ve.reportApiInvoke(null,{id:t,tag:zt.TRACER,name:gi.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),r=new Qt(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?fl(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,t,[Bt.CUSTOM_TRACK]);return n.onSuccess(r.getTrackId()),M.info("create custom video track success with config",e,"trackId",r.getTrackId()),r},createScreenVideoTrack:async function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"disable";const n=typeof t=="object"?function(C){return YM(C)}(t):void 0;n&&(t="auto");const r=wt(8,"track-scr-v-"),s=ve.reportApiInvoke(null,{id:r,tag:zt.TRACER,name:gi.CREATE_SCREEN_VIDEO_TRACK,options:[Dt({},e),t]});e.encoderConfig?typeof e.encoderConfig=="string"||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const o=function(C){const T={};C.screenSourceType&&(T.mediaSource=C.screenSourceType),C.extensionId&&ks()&&(T.extensionId=C.extensionId);const{displaySurface:Q,selfBrowserSurface:U,surfaceSwitching:_,systemAudio:b}=C;(HE(107)||QN(107)||YN(93))&&(Q&&(fi(Q,"displaySurface",["browser","window","monitor"]),T.displaySurface=Q),U?(fi(U,"selfBrowserSurface",["exclude","include"]),T.selfBrowserSurface=U):T.selfBrowserSurface="include",_&&(fi(_,"surfaceSwitching",["exclude","include"]),T.surfaceSwitching=_)),(HE(105)||QN(105)||YN(91))&&b&&(fi(b,"systemAudio",["exclude","include"]),T.systemAudio=b),C.electronScreenSourceId&&(T.sourceId=C.electronScreenSourceId);const Y=C.encoderConfig?Jg(C.encoderConfig):null;return T.mandatory={chromeMediaSource:"desktop",maxWidth:Y?Y.width:void 0,maxHeight:Y?Y.height:void 0},Y&&(Y.frameRate&&(typeof Y.frameRate=="number"?(T.mandatory.maxFrameRate=Y.frameRate,T.mandatory.minFrameRate=Y.frameRate):(T.mandatory.maxFrameRate=Y.frameRate.max||Y.frameRate.ideal||Y.frameRate.exact||void 0,T.mandatory.minFrameRate=Y.frameRate.min||Y.frameRate.ideal||Y.frameRate.exact||void 0),T.frameRate=Y.frameRate),Y.width&&(T.width=Y.width),Y.height&&(T.height=Y.height)),T}(e);let a=null,d=null;const l=ot();if(!l.supportShareAudio&&t==="enable"){const C=new $(j.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return s.onError(C),C.throw(M)}M.info("start create screen video track with config",e,"withAudio",t,"trackId",r);const E=l.supportShareAudio&&t!=="disable";try{const C=await bn({screen:o,screenAudio:E?n||!0:void 0},r);a=C.getVideoTracks()[0]||null,d=C.getAudioTracks()[0]||null}catch(C){throw s.onError(C),C}if(!a){const C=new $(j.UNEXPECTED_ERROR,"can not find track in media stream");return s.onError(C),C.throw(M)}if(!d&&t==="enable"){a&&a.stop();const C=new $(j.SHARE_AUDIO_NOT_ALLOWED);return s.onError(C),C.throw(M)}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(ap(r,a,e,e.encoderConfig&&Jg(e.encoderConfig)||void 0),e.encoderConfig&&typeof e.encoderConfig!="string"&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const g=new Qt(a,e.encoderConfig?Jg(e.encoderConfig):{},e.scalabiltyMode?fl(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r,[Bt.SCREEN_TRACK]);if(!d)return s.onSuccess(g.getTrackId()),M.info("create screen video track success","video:",g.getTrackId()),g;const f=new Wt(d,void 0,wt(8,"track-scr-a-"),!1);return s.onSuccess([g.getTrackId(),f.getTrackId()]),M.info("create screen video track success","video:",g.getTrackId(),"audio:",f.getTrackId()),[g,f]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=L("CAMERA_CAPTURE_CONFIG"),r=wt(8,"track-mic-"),s=wt(8,"track-cam-"),o=ve.reportApiInvoke(null,{id:"".concat(r,"-").concat(s),tag:zt.TRACER,name:gi.CREATE_MIC_AND_CAM_TRACKS,options:[e,t,n]});n&&(t.encoderConfig=n);const a=Tl(t),d=jM(e);let l=null,E=null;M.info("start create camera video track(".concat(s,") and microphone audio track(").concat(r,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t)));try{const C=await bn({audio:d,video:a},"".concat(r,"-").concat(s));l=C.getAudioTracks()[0],E=C.getVideoTracks()[0]}catch(C){throw o.onError(C),C}if(!l||!E){const C=new $(j.UNEXPECTED_ERROR,"can not find tracks in media stream");return o.onError(C),C.throw(M)}t.optimizationMode&&ap(s,E,t,Xr(t.encoderConfig));const g=new Nl(l,e,d,r),f=new sp(E,t,a,t.scalabiltyMode?fl(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,s);return o.onSuccess([g.getTrackId(),f.getTrackId()]),M.info("create camera video track(".concat(s,") and microphone audio track(").concat(r,") success")),[g,f]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=wt(8,"track-mic-"),n=ve.reportApiInvoke(null,{id:t,tag:zt.TRACER,name:gi.CREATE_MIC_AUDIO_TRACK,options:[e]}),r=jM(e);let s=null;M.info("start create microphone audio track with config",JSON.stringify(e),"trackId",t);try{s=(await bn({audio:r},t)).getAudioTracks()[0]||null}catch(a){throw n.onError(a),a}if(!s){const a=new $(j.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(a),a.throw(M)}const o=new Nl(s,e,r,t);return n.onSuccess(o.getTrackId()),M.info("create microphone audio track success, trackId:",t),o},createCustomAudioTrack:function(e){const t=wt(8,"track-cus-"),n=ve.reportApiInvoke(null,{id:t,tag:zt.TRACER,name:gi.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),r=new Wt(e.mediaStreamTrack,e.encoderConfig?ml(e.encoderConfig):{},t,!1);return M.info("create custom audio track success with config",e,"trackId",r.getTrackId()),n.onSuccess(r.getTrackId()),r},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:n,encoderConfig:r}=e;let{source:s}=e;const o={source:s instanceof AudioBuffer?"AudioBuffer":s instanceof File?(t=File.name)!==null&&t!==void 0?t:"File":s,cacheOnlineFile:n,encoderConfig:r},a=wt(8,"track-buf-"),d=ve.reportApiInvoke(null,{id:a,tag:zt.TRACER,name:gi.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(L("DISABLE_WEBAUDIO"))throw new $(j.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");M.info("start create buffer source audio track with config",JSON.stringify(o),"trackId",a);const l=s;if(!(s instanceof AudioBuffer))try{s=await async function(f,C){let T=null;if(typeof f=="string"){const U=Sy.get(f);if(U)return M.debug("use cached audio resource: ",f),U;try{T=(await vr(()=>sn.get(f,{responseType:"arraybuffer"}),void 0,void 0,{maxRetryCount:3})).data}catch(_){throw new $(j.FETCH_AUDIO_FILE_FAILED,_.toString())}}else T=await new Ie((_,b)=>{const Y=new FileReader;Y.onload=G=>{G.target?_(G.target.result):b(new $(j.READ_LOCAL_AUDIO_FILE_ERROR))},Y.onerror=()=>{b(new $(j.READ_LOCAL_AUDIO_FILE_ERROR))},Y.readAsArrayBuffer(f)});const Q=await function(U){const _=La();return new Ie((b,Y)=>{_.decodeAudioData(U,G=>{b(G)},G=>{Y(new $(j.DECODE_AUDIO_FILE_FAILED,G.toString()))})})}(T);return typeof f=="string"&&C&&Sy.set(f,Q),Q}(s,n)}catch(f){return d.onError(f),f.throw(M)}const E=new sG(s),g=new rG(l,E,r?ml(r):{},a);return M.info("create buffer source audio track success, trackId:",a),d.onSuccess(g.getTrackId()),g},setAppType:function(e){if(M.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw M.debug("Invalid appType"),new X(j.INVALID_PARAMS,"invalid app type",e);Nt("APP_TYPE",Math.floor(e))},setLogLevel:function(e){M.setLogLevel(e)},enableLogUpload:function(){L("USE_NEW_LOG")?Nt("UPLOAD_LOG",!0):M.enableLogUpload()},disableLogUpload:function(){L("USE_NEW_LOG")?Nt("UPLOAD_LOG",!1):M.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new UB},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const n=ve.reportApiInvoke(null,{tag:zt.TRACER,name:gi.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Wt||e instanceof xa)){const l=new X(j.INVALID_TRACK,"the parameter is not a audio track");return n.onError(l),l.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof Wt?e.getTrackLabel():"remote_track",s=e.getVolumeLevel();let o=s,a=s;const d=Date.now();return new Ie(l=>{const E=setInterval(()=>{const g=e.getVolumeLevel();o=g>o?g:o,a=g<a?g:a;const f=o-a>1e-4,C=Date.now()-d;if(f||C>t){clearInterval(E);const T=f,Q={duration:C,deviceLabel:r,maxVolumeLevel:o,result:T};M.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(Q))),n.onSuccess(Q),l(T)}},200)})},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const n=ve.reportApiInvoke(null,{tag:zt.TRACER,name:gi.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Qt||e instanceof za)){const f=new X(j.INVALID_TRACK,"the parameter is not a video track");return n.onError(f),f.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof Qt?e.getTrackLabel():"remote_track",s=e.getMediaStreamTrack(!0),o=document.createElement("video");o.style.width="1px",o.style.height="1px",o.setAttribute("muted",""),o.muted=!0,o.setAttribute("playsinline",""),o.controls=!1,(Fi()||Hd())&&(o.style.opacity="0.01",o.style.position="fixed",o.style.left="0",o.style.top="0",document.body.appendChild(o)),o.srcObject=new MediaStream([s]),o.play();const a=document.createElement("canvas");a.width=160,a.height=120;let d=0,l=0;try{const f=Date.now();d=await function(C,T,Q,U){let _,b=0,Y=null;return new Ie((G,W)=>{function J(){b>U&&_&&(_(),G(b));const K=Q.getContext("2d");if(!K){const oe=new X(j.UNEXPECTED_ERROR,"can not get canvas 2d context.");return M.error(oe.toString()),void W(oe)}K.drawImage(C,0,0,160,120);const ne=K.getImageData(0,0,Q.width,Q.height),le=Math.floor(ne.data.length/3);if(Y){for(let oe=0;oe<le;oe+=3)if(ne.data[oe]!==Y[oe])return b+=1,void(Y=ne.data);Y=ne.data}else Y=ne.data}setTimeout(()=>{_&&(_(),G(b))},T),_=qg(()=>{J()},30)})}(o,t,a,4),l=Date.now()-f}catch(f){throw n.onError(f),f}VG===ht.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const E=d>4,g={duration:l,changedPicNum:d,deviceLabel:r,result:E};return M.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(g))),n.onSuccess(g),E},setArea:gp,audioElementPlayCenter:on,resumeAudioContext:function(){on.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){sz.processExternalMediaAEC(e)},registerExtensions:function(e){const t=L("PLUGIN_INFO")||[];e.forEach(n=>{"name"in n&&!ge(t).call(t,n.name)&&t.push(n.name);const r=n;r.__registered__=!0,r.logger.hookLog=M.extLog,r.reporter.hookApiInvoke=ve.extApiInvoke,r.parameters&&Object.keys(r.parameters).forEach(s=>{r.parameters[s]=L(s)})}),sv("PLUGIN_INFO",t)},ChannelMediaRelayError:Na,ChannelMediaRelayEvent:gs,ChannelMediaRelayState:dn,RemoteStreamFallbackType:K2,RemoteStreamType:X2,ConnectionDisconnectedReason:gt,AudienceLatencyLevelType:vV,AREAS:At,preload:async function(e,t,n,r){return qB(e,t,n,r)}});return Object.defineProperties(ui,{onAudioAutoplayFailed:{get:()=>kn.onAudioAutoplayFailed,set:e=>{kn.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>kn.onAutoplayFailed,set:e=>{kn.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>ui._onSecurityPolicyViolation,set(e){ui._onSecurityPolicyViolation=e,s0(e)}},__CLIENT_LIST__:{get:()=>L("SHOW_GLOBAL_CLIENT_LIST")?No:[]}}),Dn.on(Uo.CAMERA_DEVICE_CHANGED,e=>{M.info("camera device changed",JSON.stringify(e)),ui.onCameraChanged&&ui.onCameraChanged(e),ui.safeEmit(Hr.CAMERA_CHANGED,e)}),Dn.on(Uo.RECORDING_DEVICE_CHANGED,e=>{M.info("microphone device changed",JSON.stringify(e)),ui.onMicrophoneChanged&&ui.onMicrophoneChanged(e),ui.safeEmit(Hr.MICROPHONE_CHANGED,e)}),Dn.on(Uo.PLAYOUT_DEVICE_CHANGED,e=>{M.debug("playout device changed",JSON.stringify(e)),ui.onPlaybackDeviceChanged&&ui.onPlaybackDeviceChanged(e),ui.safeEmit(Hr.PLAYBACK_DEVICE_CHANGED,e)}),on.onAutoplayFailed=()=>{M.info("detect audio element autoplay failed"),kn.onAudioAutoplayFailed&&kn.onAudioAutoplayFailed()},ft.on("autoplay-failed",()=>{M.info("detect webaudio autoplay failed"),kn.onAudioAutoplayFailed&&kn.onAudioAutoplayFailed(),ui.safeEmit(Hr.AUTOPLAY_FAILED)}),ft.on(Ui.STATE_CHANGE,(e,t)=>{M.info("audio context state changed: ".concat(t," => ").concat(e)),ui.onAudioContextStateChanged&&ui.onAudioContextStateChanged(e,t),ui.safeEmit(Hr.AUDIO_CONTEXT_STATE_CHANGED,e,t)}),si.on(fa.NETWORK_STATE_CHANGE,(e,t)=>{M.info("[network-indicator] network state changed, ".concat(t," => ").concat(e))}),window&&(window.__ARTC__=ui),ui})}(AgoraRTC_NProduction$1)),AgoraRTC_NProduction$1.exports}var AgoraRTC_NProductionExports=requireAgoraRTC_NProduction();const AgoraRTC=getDefaultExportFromCjs(AgoraRTC_NProductionExports);var WsMessage;(function(A){A.CREDENTIALS_REQUEST="CREDENTIALS_REQUEST",A.CREDENTIALS_RESPONSE="CREDENTIALS_RESPONSE",A.WAITING_CONFIRMATION="WAITING_CONFIRMATION",A.IDENTIFICATION_STARTED="IDENTIFICATION_STARTED",A.STOP="STOP",A.IDENTIFICATION_STOPPED="IDENTIFICATION_STOPPED"})(WsMessage||(WsMessage={}));const useRecordingWs=({apiUrl:A,apiKey:c,handleRecording:u,handleCredentials:p,handleError:I})=>{let m,R=!1,S=!1,N,B,D;const k=({operation:Ce,tenant:he})=>{D=he,B!==Ce&&(B=Ce,O())},O=()=>{if(m&&m.readyState===m.OPEN&&pe(!1),m=null,S&&B){const Ce=new WebSocket(A);Ce.onerror=()=>P(!0),Ce.onmessage=he=>H(he.data),Ce.onopen=()=>Ae(),m=Ce}},P=Ce=>{R=Ce,R&&pe(),I(Ce)},x=Ce=>{m&&m.readyState===m.OPEN&&m.send(JSON.stringify(Ce))},H=Ce=>{if(Ce){const he=JSON.parse(Ce);switch(he.type){case WsMessage.CREDENTIALS_RESPONSE:p(he.credentials);break;case WsMessage.IDENTIFICATION_STARTED:q(!1),u==null||u(!0);break}}},Ae=()=>{x({type:WsMessage.CREDENTIALS_REQUEST,apiKey:c,sessionId:B})},q=Ce=>{N&&clearTimeout(N),N=null,Ce&&(N=setTimeout(()=>{P(!0)},15e3))},Z=Ce=>{S!==Ce&&(S=Ce,O())},te=()=>{Z(!0),q(!0)},re=()=>{x({type:WsMessage.WAITING_CONFIRMATION,sessionId:B,tenantId:D})},Be=()=>{x({type:WsMessage.STOP,apiKey:c,sessionId:B,tenantId:D})},de=()=>{P(!1),u==null||u(!1),q(!1),p(void 0)},pe=(Ce=!0)=>{m&&(Be(),m.close()),de(),Ce&&Z(!1)};return{setParams:k,getCredentials:te,startRecord:re,stopRecord:pe}};AgoraRTC.setLogLevel(4);const useVideo=({baseUrl:A,apiKey:c,audio:u,video:p=!0,setChannel:I,handleRecording:m,handleError:R})=>{let S=[],N=!1,B=!1;const D=AgoraRTC.createClient({mode:"rtc",codec:"vp8"});let k=u,O=p;const P=He=>{k=He},x=He=>{O=He},H=()=>{R==null||R(N||B)},Ae=He=>{N=He,H()},q=He=>{He&&fe(He)},Z=He=>{B=He,He&&Re(),H()},{setParams:te,getCredentials:re,startRecord:Be,stopRecord:de}=useRecordingWs({apiUrl:`wss://${A}/identification`,apiKey:c,handleRecording:m,handleCredentials:q,handleError:Z}),pe=({autoStart:He,tenantId:yt,operationId:at})=>{De(),at&&(te({operation:at,tenant:yt}),He&&Fe())},Ce=()=>{var He,yt;k||(He=S[0])===null||He===void 0||He.setMuted(!0),O||(yt=S[1])===null||yt===void 0||yt.setMuted(!0)},he=()=>{const He={audio:S[0]||null,video:S[1]||null},yt=Object.values(He).some(at=>at);I==null||I(yt?He:void 0)},Fe=async()=>{Ae(!1);try{const[He,yt]=await AgoraRTC.createMicrophoneAndCameraTracks(void 0,{encoderConfig:"720p_2",facingMode:"environment"});S=[He,yt],Ce(),he(),re()}catch{Ae(!0)}},fe=async He=>{try{await D.join(He.appId,He.channel,He.cameraToken,He.cameraUid),S==null||S.forEach(async yt=>{yt&&await D.publish(yt)}),Be()}catch{Ae(!0)}},Re=()=>{S==null||S.forEach(async He=>{He==null||He.stop(),He==null||He.close()}),S=[],he(),D.connectionState==="CONNECTED"&&(D.unpublish(),D.leave())},De=()=>{de(),Re()},Qe=async()=>(await AgoraRTC.getCameras()).map(({deviceId:yt,label:at})=>({deviceId:yt,label:at})),Ci=async(He,yt)=>{const at=await Qe(),Ht=await at.reduce(async(Yt,Gi)=>{const nn=await Yt;if(yt!==Gi.deviceId)try{await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:He},deviceId:{exact:Gi.deviceId},width:{ideal:720},height:{ideal:1280}}})&&nn.push(Gi.deviceId)}catch{}return nn},Promise.resolve([]));if(Ht.length)return Ht;{const Yt=at==null?void 0:at.find(({label:Gi})=>Gi.includes(He==="user"?"front":"back"));return Yt?[Yt.deviceId]:null}},ii=async He=>{var yt,at,Ht;const Yt=(at=(yt=S[1])===null||yt===void 0?void 0:yt.getMediaStreamTrack())===null||at===void 0?void 0:at.getSettings();if((Yt==null?void 0:Yt.facingMode)!==He){const Gi=Yt==null?void 0:Yt.deviceId,nn=await Ci(He,Gi);nn!=null&&nn.length&&(await((Ht=S[1])===null||Ht===void 0?void 0:Ht.setDevice(nn[0])),Ce(),he())}};return{setAudio:P,setVideo:x,setParams:pe,handleStop:De,getCameras:Qe,getTypeCameras:Ci,handleStart:Fe,setCameraRear:()=>ii("environment"),setCameraFront:()=>ii("user")}};class QrService{constructor(){this.onOpen=c=>{console.log("WebSocket connection opened:",c)},this.onMessage=c=>{const u=JSON.parse(c.data);u.message===ConnectionTypeMessageDto.generateCode&&this.onGenerateCodeCallback&&this.onGenerateCodeCallback(u.data.id),u.message===ConnectionTypeMessageDto.getStatus&&this.onStatusCallback&&this.onStatusCallback(u.data.status,u.data.data)},this.onError=c=>{console.error("WebSocket error:",c)},this.onClose=c=>{console.log("WebSocket connection closed:",c)},this.socket=new WebSocket("wss://sdk-web-services.facephi.pro"),this.socket.onopen=this.onOpen,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError,this.socket.onclose=this.onClose}connect(){return new Promise((c,u)=>{this.socket.onopen=()=>{c()},this.socket.onerror=p=>{u(p)}})}onGenerateCode(c){this.onGenerateCodeCallback=c}onStatus(c){this.onStatusCallback=c}sendId(c){if(this.socket.readyState===WebSocket.OPEN){const u=JSON.stringify({id:c,message:ConnectionTypeMessageDto.getStatus});this.socket.send(u)}else console.error("WebSocket is not open. Ready state:",this.socket.readyState)}generate(){if(this.socket.readyState===WebSocket.OPEN){const c=JSON.stringify({message:ConnectionTypeMessageDto.generateCode});this.socket.send(c)}else console.error("WebSocket is not open. Ready state:",this.socket.readyState)}start(c){if(this.socket.readyState===WebSocket.OPEN){const u=JSON.stringify({message:ConnectionTypeMessageDto.startConnect,id:c.id});this.socket.send(u)}else console.error("WebSocket is not open. Ready state:",this.socket.readyState)}close(){(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING)&&(this.socket.close(),console.log("WebSocket connection closed manually."))}async sendStatus(c){if(this.socket.readyState===WebSocket.OPEN){const u=JSON.stringify({message:ConnectionTypeMessageDto.updateStatus,id:c.id,status:c.status,data:c.data});this.socket.send(u)}else console.error("WebSocket is not open. Ready state:",this.socket.readyState)}}const authWidgetCss=`.sc-facephi-auth-widget-h {
  height: 100%;
  width: 100%;
}

.message.sc-facephi-auth-widget {
  margin: 8px 0 24px;

  @media (max-width: 767px) {
    margin: 8px 0 8px;
  }
}

.row.sc-facephi-auth-widget {
  display: flex;
  align-items: flex-end;
  column-gap: 8px;
  margin-bottom: 36px;
}

.row--center.sc-facephi-auth-widget {
  align-items: center;
}

.row.sc-facephi-auth-widget > button.sc-facephi-auth-widget {
  width: auto;
}

.row.sc-facephi-auth-widget > *.sc-facephi-auth-widget:first-child {
  flex: 1;
}

.button-verify.sc-facephi-auth-widget {
  margin-top: 20px;
  @media (max-width: 767px) {
    margin: 0;
  }
}

@media only screen and (max-width: 480px) {
  .row.sc-facephi-auth-widget {
    flex-direction: column;
  }

  .row.sc-facephi-auth-widget > *.sc-facephi-auth-widget:first-child {
    flex: auto;
  }

  .row.sc-facephi-auth-widget > button.sc-facephi-auth-widget {
    width: 100%;
    margin-top: 10px;
  }

  input[type="color"].sc-facephi-auth-widget, input[type="date"].sc-facephi-auth-widget, input[type="datetime"].sc-facephi-auth-widget, input[type="datetime-local"].sc-facephi-auth-widget, input[type="email"].sc-facephi-auth-widget, input[type="month"].sc-facephi-auth-widget, input[type="number"].sc-facephi-auth-widget, input[type="password"].sc-facephi-auth-widget, input[type="search"].sc-facephi-auth-widget, input[type="tel"].sc-facephi-auth-widget, input[type="text"].sc-facephi-auth-widget, input[type="time"].sc-facephi-auth-widget, input[type="url"].sc-facephi-auth-widget, input[type="week"].sc-facephi-auth-widget, select.sc-facephi-auth-widget:focus, textarea.sc-facephi-auth-widget {
    font-size: 16px;
  }
}`,FacephiAuthWidgetStyle0=authWidgetCss,AuthWidget=class{constructor(A){registerInstance$1(this,A),this.emailRegex="[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.emailName="email",this.otpName="otp",this.onChangeInput=c=>{this.value=Object.assign(Object.assign({},this.value),{[c.detail.name]:c.detail.value})},this.onSendCode=async()=>{new RegExp(this.emailRegex).test(this.value[this.emailName])?(this.emailErrorMessage="",this.successMessage=i18n.t("Please check the code in your inbox"),this.disabledResendCode=!0,await this.sdkElement.flowEvent(workflowState.currentWidget.id,[{type:EventType.otpTokenSend,method:MethodSendDto.email,contact:this.value[this.emailName]}]).catch(()=>{this.emailErrorMessage=i18n.t("There was an error try again later")}),setInterval(()=>{this.disabledResendCode=!1},1e4),this.codeSent=!0):(this.emailErrorMessage=i18n.t("Please enter a valid email address"),this.successMessage="")},this.onVerifyEmail=async()=>{this.value[this.otpName]?this.sdkElement.flowEvent(workflowState.currentWidget.id,[{type:EventType.otpTokenValidation,token:this.value[this.otpName]}]).then(()=>{this.otpErrorMessage=void 0,nextStep()}).catch(()=>{this.otpErrorMessage=i18n.t("Code is invalid try again")}):(this.otpErrorMessage=i18n.t("Please enter the security code"),this.codeSent=!0)},this.onSubmit=c=>{c.preventDefault()},this.label=i18n.t("Enter and verify your email"),this.message=i18n.t("Please enter your email address to receive a security code and verify your email"),this.successMessage=void 0,this.isRequired=void 0,this.emailErrorMessage=void 0,this.otpErrorMessage=void 0,this.value={},this.codeSent=void 0,this.disabledResendCode=!1}async componentDidLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider")}render(){return h$5("form",{key:"967287e0b4e3f4bfe89b85728c105fd3f21a5c30",class:"form",onSubmit:this.onSubmit},h$5("section",{key:"c73a05cf08fe0376aabf784ef6b2777c2fa0238f",class:"form-content"},h$5("h1",{key:"e3ebb7b0234d41df0e8ace1c30fc7318a3ccbd58",class:"fs-xl text-center fw-600"},this.label),h$5("p",{key:"be06b80cbb0ee753487f717fe0996868109fc367",class:"fs-l text-center message"},this.message),h$5("div",{key:"d26858272c50aaaf2138dbca1c42f69d0fb64c31",class:"form-inputs"},h$5("div",{key:"68d23b4521982c0b0a663d97fb0c8b249f91c4e2",class:`row ${this.emailErrorMessage||this.successMessage?"row--center":""}`},h$5("field-widget",{key:"c9d38874e33c2377d2ba2ad8c0647ecbc2716e4f",name:this.emailName,onChangeField:this.onChangeInput,successMessage:this.successMessage,label:"Email",errorMessage:this.emailErrorMessage,idField:"email",type:"email"}),h$5("button",{key:"e52a0e4d6b3530a02463210f3dbb0eece5bc21e3",class:"button button--small",type:"button",onClick:this.onSendCode,disabled:this.disabledResendCode},this.disabledResendCode?i18n.t("Wait a few seconds to resend"):this.codeSent?i18n.t("Resend code"):i18n.t("Send code"))),h$5("field-widget",{key:"cbd8757c45cd6011727b507e1750433b88a9f156",name:this.otpName,onChangeField:this.onChangeInput,label:"Security code",errorMessage:this.otpErrorMessage,idField:"otp",disabled:!this.codeSent,type:"number"}))),h$5("section",{key:"f3d131506ba934ff63d0e2b004a6922e587a9fbe",class:"form-submit"},h$5("button",{key:"3e3ae13647f956f8e6d58e7428cefa89b35e68e9",class:"button button-verify",disabled:!this.codeSent,type:"button",onClick:this.onVerifyEmail},i18n.t("Verify email"))))}};AuthWidget.style=FacephiAuthWidgetStyle0;const finishWidgetCss=".sc-facephi-finish-widget-h{display:flex;width:100%;height:100%;flex:1;margin:0;padding:0}section.sc-facephi-finish-widget{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:48px;padding:0 8px;width:100%}section.sc-facephi-finish-widget>p.sc-facephi-finish-widget{font-family:inherit;margin:0;font-size:18px;line-height:22px;text-align:center}",FacephiFinishWidgetStyle0=finishWidgetCss,FinishWidget=class{constructor(A){registerInstance$1(this,A),this.mobileQr=!1,this.stepId=void 0}async componentDidLoad(){if(await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider"),this.sdkElement){const A=await this.sdkElement.generateStepId();this.stepId=A,this.sdkElement.trackingEvent(this.stepId,TrackingSteps.finish)}}render(){return this.mobileQr?h$5("section",null,h$5("icon-widget",{icon:"ImageOK",size:"80"}),h$5("p",null,h$5("strong",null,i18n.t("Process completed"),".",h$5("br",null)),i18n.t("Continued on your computer"))):null}};FinishWidget.style=FacephiFinishWidgetStyle0;var FieldType;(function(A){A.input="input",A.upload="upload"})(FieldType||(FieldType={}));const formWidgetCss=".sc-facephi-form-widget-h{height:100%;width:100%}.row-gap-24.sc-facephi-form-widget{row-gap:24px}.mb-8.sc-facephi-form-widget{margin-bottom:8px}",FacephiFormWidgetStyle0=formWidgetCss,FormWidget$1=class{constructor(A){registerInstance$1(this,A),this.changeField=c=>{this.value=Object.assign(Object.assign({},this.value),{[c.detail.name]:c.detail.value})},this.onValidate=()=>{Object.keys(this.fieldErrors).forEach(c=>{delete this.fieldErrors[c]}),this.formData.row.map(c=>{c.field.forEach(u=>{u.isRequired&&!this.value[u.key]&&(this.fieldErrors=Object.assign(Object.assign({},this.fieldErrors),{[u.key]:{message:"This field is required"}})),u.hasPattern&&this.value[u.key]&&u.pattern&&(new RegExp(u.pattern).test(this.value[u.key])||(this.fieldErrors=Object.assign(Object.assign({},this.fieldErrors),{[u.key]:{message:"The field format is incorrect"}})))})})},this.haveErrors=()=>Object.keys(this.fieldErrors).length>0,this.onSubmit=c=>{this.onValidate(),this.submitted=!0,this.haveErrors()||this.onFinish(),c.preventDefault()},this.onFinish=()=>{this.sdkElement&&this.sdkElement.flowEvent(workflowState.currentWidget.id,[{formData:this.value,type:EventType.formData}]),updateOutputs(workflowState.currentWidget.data.widgetId,this.value,this.output),nextStep()},this.getInput=c=>{var u,p,I;switch(c.type){case FieldType.input:return h$5("field-widget",{name:c.key,key:c.key,label:c.title,onChangeField:this.changeField,errorMessage:(u=this.fieldErrors[c.key])===null||u===void 0?void 0:u.message});case FieldType.upload:return h$5("upload-widget",{name:c.key,key:c.key,label:c.title,subTitle:c.subTitle,onChangeField:this.changeField,errorMessage:(p=this.fieldErrors[c.key])===null||p===void 0?void 0:p.message,mimeTypes:c.mimeTypes});default:return h$5("field-widget",{name:c.key,key:c.key,label:c.title,onChangeField:this.changeField,errorMessage:(I=this.fieldErrors[c.key])===null||I===void 0?void 0:I.message})}},this.submitted=!1,this.formData=void 0,this.value={},this.fieldErrors={},this.output=void 0}async componentDidLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider")}watchValueHandler(){this.submitted&&this.onValidate()}render(){var A;return this.formData?h$5("form",{class:"form",onSubmit:this.onSubmit,novalidate:!0},h$5("section",{class:"form-content row-gap-24"},h$5("h2",{class:"fs-xl text-center fw-600"},this.formData.title),h$5("p",{class:"fs-l text-center"},this.formData.subtitle),(A=this.formData.row)===null||A===void 0?void 0:A.map((c,u)=>h$5("div",{key:u},h$5("h3",{class:"fs-l fw-600 text-center mb-8"},c.title),c.field.map(p=>this.getInput(p))))),h$5("section",{class:"form-submit"},h$5("button",{class:"button",type:"submit"},this.formData.button))):h$5("error-view",{text:"The form must be correctly configured to be displayed"})}static get watchers(){return{value:["watchValueHandler"]}}};FormWidget$1.style=FacephiFormWidgetStyle0;const ReniecWidget$1=class{constructor(A){registerInstance$1(this,A),this.inputs=void 0,this.token=void 0,this.user=void 0,this.stepId=void 0}async componentWillLoad(){var A;await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider");const c=getOutputs(this.inputs),u=Object.values(c).length?Object.values(c)[0]:void 0;this.sdkElement&&u&&(this.sdkElement.flowEvent((A=workflowState.currentWidget)===null||A===void 0?void 0:A.id,[{asset:u,assetType:AssetsType.iaDocument,type:EventType.asset}]),nextStep())}render(){return h$5("loading-ellipsis",{key:"954efc9afa76a6bb805d6ba60594856414a2c2d1"})}},NextStep=class{constructor(A){registerInstance$1(this,A)}async componentDidLoad(){nextStep()}render(){return null}},qrWidgetCss="canvas.sc-facephi-qr-widget{margin:10px 0}.container.sc-facephi-qr-widget{display:flex;justify-content:center;align-items:center;flex:1;width:100%;height:100%}.content.sc-facephi-qr-widget{display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:510px}.content-qr.sc-facephi-qr-widget{width:280px;height:280px;background-image:linear-gradient(134.55deg, #1059c0 24.81%, #87b1f1 74.05%);margin:2.4rem 0 3.6rem;border-radius:50%;padding:15px}.content-qr.sc-facephi-qr-widget div.sc-facephi-qr-widget{background:white;width:100%;height:100%;border-radius:50%;display:flex;justify-content:center;align-items:center}",FacephiQrWidgetStyle0=qrWidgetCss,{mobile:mobile$1}=useDeviceInfo(),QrWidget=class{constructor(A){registerInstance$1(this,A),this.continue=createEvent$1(this,"continue"),this.finish=createEvent$1(this,"finish"),this.continueMobile=createEvent$1(this,"continueMobile"),this.generateCodeInit=()=>{this.qrService.generate(),this.qrService.onGenerateCode(c=>{this.innerUrl=new URL(this.url),this.innerUrl.searchParams.set("qrId",c),qrcode.toCanvas(this.qrCanvas,this.innerUrl.toString(),{width:175,height:175},u=>{u&&console.error(u)}),this.checkStatus()})},this.checkStatus=async()=>{this.qrService.onStatus((c,u)=>{c===QrConnectionStatus.connected&&(this.showDesktopView=!0),c===QrConnectionStatus.widgetFinish&&nextStep(),c===QrConnectionStatus.operationId&&(state.operationId=u.operationId),c===QrConnectionStatus.finish&&(this.showDesktopView=!1,goToFinish(),this.finish.emit())})},this.onErrorButtonClick=async()=>{this.error=void 0,this.generateCodeInit()},this.handleContinue=()=>{this.continue.emit()},this.url=window.location.href,this.operationId=void 0,this.qrParameters=void 0,this.innerUrl=void 0,this.error=void 0,this.showDesktopView=!1,this.currentWidget=void 0,this.qrIdValue=void 0}async componentWillLoad(){if(this.innerUrl=new URL(this.url+this.qrParameters),this.innerUrl.searchParams.set("qrId",v4$2()),mobile$1){const A=new URL(window.location.href),c=A.searchParams.has("qrId");this.qrIdValue=A.searchParams.get("qrId"),c&&mobile$1?(this.qrService=new QrService,await this.qrService.connect(),await this.qrService.start({id:this.qrIdValue}),this.continueMobile.emit(this.qrIdValue)):this.continue.emit()}else this.qrService=new QrService,await this.qrService.connect()}async componentDidLoad(){onChange("currentWidget",A=>{var c;A&&(this.currentWidget=(c=A==null?void 0:A.data)===null||c===void 0?void 0:c.widgetId)}),mobile$1||this.generateCodeInit()}render(){return mobile$1?null:this.showDesktopView?h$5("desktop-view",{widget:this.currentWidget,key:this.currentWidget}):h$5("div",{class:"container"},this.error?h$5("error-view",{text:this.error}):h$5("div",{class:"content card"},h$5("p",{class:"fs-l fw-600"},i18n.t("We want to confirm your identity")),h$5("p",{class:"fs-s"},i18n.t("We recommend using your mobile device for this process"),":"),h$5("div",{class:"content-qr"},h$5("div",null,h$5("canvas",{ref:A=>this.qrCanvas=A}))),h$5("button",{class:"button button--link",onClick:this.handleContinue.bind(this)},i18n.t("Continue on this device"))))}};QrWidget.style=FacephiQrWidgetStyle0;const ReniecWidget=class{constructor(A){registerInstance$1(this,A),this.inputs=void 0,this.token=void 0,this.user=void 0}async componentWillLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider");const A=getOutputs(this.inputs);this.sdkElement&&(this.sdkElement.callReniec(A),nextStep())}render(){return null}},resultsWidgetCss=".sc-facephi-results-widget-h{height:100%;width:100%}",FacephiResultsWidgetStyle0=resultsWidgetCss,{mobile}=useDeviceInfo(),ResultsWidget=class{constructor(A){registerInstance$1(this,A),this.showDesktopView=mobile&&state.desktopView,this.getResults=async()=>{if(this.sdkElement){const c=await this.sdkElement.callResults().catch(u=>{this.sdkElement.sendError({message:u.message,statusCode:u.statusCode}),this.stopInterval(this.intervalResults),this.results=ERROR_DATA$1,this.loading=!1});c&&(this.results=c,this.loading=!1)}},this.getData=async()=>{this.getResults();const c=setInterval(this.getResults,2500);this.intervalResults=c},this.stopInterval=c=>{clearInterval(c),this.intervalResults=null},this.handleFinish=()=>{nextStep()},this.loading=!0,this.results={},this.intervalResults=null,this.buttonText=void 0}watchHandlerResuls(){this.waitResults()}wathIntervalResults(){this.waitResults()}waitResults(){var A;this.intervalResults&&(!((A=this.results)===null||A===void 0)&&A.status)&&this.results.status!==ResultStatus.PENDING&&this.stopInterval(this.intervalResults)}async componentWillLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider"),this.getData()}render(){return this.loading?h$5("results-loading",{buttonText:this.buttonText,finish:this.handleFinish}):h$5("results-info",{data:this.results,finish:this.handleFinish,buttonText:this.buttonText})}static get watchers(){return{results:["watchHandlerResuls"],intervalResults:["wathIntervalResults"]}}};ResultsWidget.style=FacephiResultsWidgetStyle0;function stringIsArray(A){const c=[/\s+/g,/'(\\.|[^'])*'/g,/"(\\.|[^"])*"/g,/\d+/g],u=/\[,*\]/g;for(const p of c)A=A.replace(p,"");if(A[0]!=="[")return!1;for(;A.match(u);)A=A.replace(u,"");return A.length===0}function exists(A){return A!=null}function parseBoolean(A){return typeof A=="string"?A==="true":A}const styleCss$1=".sc-facephi-selphi-widget-h{flex:1;height:100%;width:100%;display:flex}",FacephiSelphiWidgetStyle0=styleCss$1;defineCustomElements$1();const SelphiWidget=class{constructor(A){registerInstance$1(this,A),this.moduleLoaded=createEvent$1(this,"moduleLoaded"),this.exceptionCaptured=createEvent$1(this,"exceptionCaptured"),this.userCancel=createEvent$1(this,"userCancel"),this.trackStatus=createEvent$1(this,"trackStatus"),this.extractionTimeout=createEvent$1(this,"extractionTimeout"),this.extractionFinish=createEvent$1(this,"extractionFinish"),this.timeoutErrorButtonClick=createEvent$1(this,"timeoutErrorButtonClick"),this.errorTimeout=createEvent$1(this,"errorTimeout"),this.stabilizing=createEvent$1(this,"stabilizing"),this.device=useDeviceInfo().device,this.settings={},this.handleCloseTip=()=>{this.showAnimation=!1},this.parseSettings=()=>{const c={};return this.engineLocation&&(c.engineLocation=this.engineLocation),(this.language||state.language)&&(c.language=this.language||state.language),exists(this.advancedTracking)&&(c.advancedTracking=parseBoolean(this.advancedTracking)),this.logImages&&(c.logImages=5),exists(this.interactible)&&(c.interactible=parseBoolean(this.interactible)),exists(this.previewCapture)&&(c.previewImage=parseBoolean(this.previewCapture)),this.audible&&(c.audible=this.audible),this.tutorial||(c.disableTutorial=!this.tutorial),exists(this.disableExit)&&(c.disableExit=parseBoolean(this.disableExit)),exists(this.faceTracking)&&(c.faceTracking=parseBoolean(this.faceTracking)),exists(this.stabilizationStage)&&(c.stabilization=parseBoolean(this.stabilizationStage)),this.cameraWidth&&(c.cameraWidth=this.cameraWidth),this.cameraHeight&&(c.cameraHeight=this.cameraHeight),this.cameraRotation&&(c.cameraRotation=this.cameraRotation),exists(this.cameraSwitchButton)&&(c.cameraSwitch=parseBoolean(this.cameraSwitchButton)),exists(this.cameraType)&&(c.cameraType=this.cameraType),this.cameraId&&(c.cameraId=this.cameraId),this.cropFactor&&(c.cropFactor=this.cropFactor),this.externalCamera&&typeof this.externalCamera!="string"&&typeof this.externalCamera!="boolean"&&(c.externalCamera=this.externalCamera),exists(this.timeout)&&(c.timeout=this.timeout===0?0:this.timeout/1e3),this.errorTimer&&(c.errorTimer=this.errorTimer),this.imageFormat&&(c.imageFormat=this.imageFormat.includes("jpeg")||this.imageFormat.includes("jpg")?ImageFormat$2.JPEG:ImageFormat$2.PNG),this.imageQuality&&(c.imageQuality=this.imageQuality),exists(this.templateFormat)&&(c.templateFormat=this.templateFormat),exists(this.antispoofEnabled)&&(c.antispoof=parseBoolean(this.antispoofEnabled)),this.loadingAnimation&&(c.graphicResources.loadingAnimation=this.loadingAnimation),this.tutorialAnimations&&(c.graphicResources.tutorialAnimations=this.tutorialAnimations),this.logo&&(c.graphicResources.logo=this.logo),exists(this.videoRecord)&&(c.videoRecord=parseBoolean(this.videoRecord)),exists(this.videoQuality)&&(c.videoRecordQuality=this.videoQuality),exists(this.showLog)&&(c.showLog=parseBoolean(this.showLog)),exists(this.debugMode)&&(c.debug=parseBoolean(this.debugMode)),this.debugException&&(c.debugException=this.debugException),this.livenessMoveSteps&&(c.livenessMoveSteps=this.livenessMoveSteps),this.livenessMoveFailedAttempts&&(c.livenessMoveFailedAttempts=this.livenessMoveFailedAttempts),this.livenessMoveTimeout&&(c.livenessMoveTimeout=this.livenessMoveTimeout),exists(this.settingsStrictness)&&(c.settingsStrictness=parseBoolean(this.settingsStrictness)),exists(this.videoRecordAudio)&&(c.videoRecordAudio=parseBoolean(this.videoRecordAudio)),c},this.stepId=void 0,this.component=void 0,this.showAnimation=void 0,this.checkedVideo=void 0,this.wait=void 0,this.isWidgetSet=!1,this.dpiList=void 0,this.resourcesPath=void 0,this.accessibility=void 0,this.accessibleElements=void 0,this.ephemeralKey=void 0,this.livenessMode=void 0,this.livenessPrecision=void 0,this.livenessMoveInitialError=void 0,this.livenessMoveInfoTime=void 0,this.authenticateTime=void 0,this.graphPath=void 0,this.minLogImages=void 0,this.cropImage=void 0,this.videoRecordRate=void 0,this.videoRecordScale=void 0,this.videoRecordType=void 0,this.bundlePath=void 0,this.initialTip=void 0,this.initialTipHeight=void 0,this.initialTipWidth=void 0,this.showLog=void 0,this.debugMode=void 0,this.language=void 0,this.tutorial=!0,this.antispoofEnabled=!1,this.externalCamera=void 0,this.cameraWidth=void 0,this.cameraHeight=void 0,this.cameraType=CameraType.User,this.cameraRotation=CameraRotation.DEG0,this.stabilizationStage=!1,this.faceTracking=!1,this.interactible=void 0,this.timeout=void 0,this.imageQuality=void 0,this.imageFormat=void 0,this.cropFactor=void 0,this.logImages=void 0,this.bundlePathExternal=void 0,this.previewCapture=void 0,this.audible=void 0,this.disableExit=void 0,this.cameraSwitchButton=void 0,this.cameraId=void 0,this.loadingAnimation=void 0,this.tutorialAnimations=void 0,this.logo=void 0,this.videoRecord=void 0,this.videoQuality=void 0,this.debugException=void 0,this.errorTimer=void 0,this.templateFormat=TemplateFormat$1.Base64,this.advancedTracking=void 0,this.engineLocation=void 0,this.livenessMoveSteps=void 0,this.livenessMoveFailedAttempts=void 0,this.livenessMoveTimeout=void 0,this.settingsStrictness=void 0,this.videoRecordAudio=void 0}shouldRenderWidget(){return!this.showAnimation&&this.checkedVideo}toggleWidget(){this.shouldRenderWidget()&&this.loadWidget()}updateComponent(A){A?(this.shouldRenderWidget()&&this.loadWidget(),state.loading=!1):(this.error=ERRORS.SELPHI_NOT_LICENSED,state.loading=!1)}connectedCallback(){var A;this.showAnimation=this.initialTip,state.components&&(this.component=(A=state.components[LicenseComponents.selphiWidget])!==null&&A!==void 0?A:null),this.disconnectComponent=onChange$1("components",c=>{var u;this.component=(u=c[LicenseComponents.selphiWidget])!==null&&u!==void 0?u:null})}loadWidget(){const A=this.parseSettings();this.settings=Object.assign(Object.assign({},this.settings),A),this.isWidgetSet=!0}onTrackStatus(A){A.stopPropagation(),this.trackStatus.emit(A)}onStabilizing(A){A.stopPropagation(),this.stabilizing.emit(A)}onModuleLoaded(A){A.stopPropagation(),this.moduleLoaded.emit(A)}async onExtractionFinish(A){var c,u,p;if(A.stopPropagation(),this.extractionFinish.emit(A),this.sdkElement){A.detail.advancedTracking&&this.trackingAdvancedTracking(A.detail.advancedTracking);const I=()=>this.sdkElement.trackingAsset(A.detail.extractionData.bestImage.data,AssetsType.selfie,this.stepId,TrackingSteps.selphiWidget);this.sdkElement.flowEvent((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id,[{asset:A.detail.extractionData.bestImage.data,assetType:AssetsType.selfie,type:EventType.asset}]),this.sdkElement.trackingStepSuccess(this.stepId,TrackingSteps.selphiWidget);const m=()=>this.sdkElement.sendSelphi(A.detail.extractionData.bestImage.data);if(this.sdkElement.workflowHandleEvent(WorkflowEventType.selphidCapture,this.stepId||((u=workflowState.currentWidget)===null||u===void 0?void 0:u.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget})),this.wait){state.loadingText=MESSAGES.SEND_REQUEST_DATA,state.loading=!0;const R=[I(),m()];await Promise.all(R).catch(()=>{var S;this.sdkElement.workflowHandleEvent(WorkflowEventType.error,this.stepId||((S=workflowState.currentWidget)===null||S===void 0?void 0:S.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}),state.loading=!1,nextStep()}else I(),m(),nextStep()}this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.selphiCapture,this.stepId||((p=workflowState.currentWidget)===null||p===void 0?void 0:p.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onTimeoutButtonClick(A){var c;A.stopPropagation(),this.timeoutErrorButtonClick.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.expired,TrackingReason.selphiTimeout,this.stepId,TrackingSteps.selphiWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.timeout,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget})))}onUserCancel(A){var c,u;A.stopPropagation(),this.userCancel.emit(A),this.sdkElement&&(A.detail.advancedTracking&&this.trackingAdvancedTracking(A.detail.advancedTracking),this.sdkElement.trackingStatus(TrackingStatus.cancelled,TrackingReason.selphiCancelUser,this.stepId,TrackingSteps.selphiWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.cancel,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))),this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.cancel,this.stepId||((u=workflowState.currentWidget)===null||u===void 0?void 0:u.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onExceptionCaptured(A){var c,u;A.stopPropagation(),this.exceptionCaptured.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.denied,TrackingReason.selphiInternalError,this.stepId,TrackingSteps.selphiWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.error,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))),this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.error,this.stepId||((u=workflowState.currentWidget)===null||u===void 0?void 0:u.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onExtractionTimeout(A){var c;A.stopPropagation(),this.extractionTimeout.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.expired,TrackingReason.selphiTimeout,this.stepId,TrackingSteps.selphiWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.timeout,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget})))}trackingAdvancedTracking(A){this.sdkElement.trackingAsset(A,AssetsType.advancedTracking,this.stepId,TrackingSteps.selphiWidget)}onErrorTimeout(A){var c;A.stopPropagation(),this.errorTimeout.emit(A),this.sdkElement&&A.detail.advancedTracking&&this.trackingAdvancedTracking(A.detail.advancedTracking),this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.timeout,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}handleVideo(){if(this.channel){const A=[this.channel.video.getMediaStreamTrack(),this.channel.audio.getMediaStreamTrack()];A&&(this.settings.externalCamera=new MediaStream(A))}}async checkVideo(){this.videoElement=this.sdkElement.shadowRoot.querySelector("facephi-video-provider"),this.videoElement&&(this.videoElement.getChannel().then(A=>{this.channel=A,this.handleVideo()}),this.videoElement.addEventListener("changeChannel",A=>{this.channel=A.detail,this.handleVideo()}),this.device.type===MOBILE&&await this.videoElement.setCameraFront()),this.checkedVideo=!0}async componentDidLoad(){if(this.wait=state.wait,await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider"),await customElements.whenDefined("facephi-workflow-widget"),this.workflowWidgetElement=document.querySelector("facephi-workflow-widget"),this.sdkElement){await this.sdkElement.loadTracking();const A=await this.sdkElement.generateStepId();this.stepId=A,this.sdkElement.trackingEvent(this.stepId,TrackingSteps.selphiWidget),await this.checkVideo()}}disconnectedCallback(){this.isWidgetSet=!1,this.disconnectComponent()}render(){return h$5(Host$1,{key:"cc063f12d5e58e81e9ef77312d85d939b3323ed3"},this.error&&h$5("p",{key:"94eb47d98a92399d9d3417b650e5502bec47f347"},this.error),this.showAnimation?h$5("tip-widget",{type:WidgetType.selphi,onClickButton:this.handleCloseTip.bind(this),width:this.initialTipWidth,height:this.initialTipHeight}):null,this.isWidgetSet&&h$5("facephi-selphi",{key:"ab4000e8cc0b66e802adf84ed0e22fbc700d6d46",settings:this.settings,onWidgetLoaded:this.onModuleLoaded.bind(this),onExtractionFinish:this.onExtractionFinish.bind(this),onUserCancel:this.onUserCancel.bind(this),onExceptionCaptured:this.onExceptionCaptured.bind(this),onExtractionTimeout:this.onExtractionTimeout.bind(this),onTimeoutButtonClick:this.onTimeoutButtonClick.bind(this),onErrorTimeout:this.onErrorTimeout.bind(this),onTrackStatus:this.onTrackStatus.bind(this),onStabilizing:this.onStabilizing.bind(this)}))}get widgetContainer(){return getElement$1(this)}static get watchers(){return{showAnimation:["toggleWidget"],checkedVideo:["toggleWidget"],component:["updateComponent"]}}};SelphiWidget.style=FacephiSelphiWidgetStyle0;const styleCss=".sc-facephi-selphid-widget-h{flex:1;height:100%;width:100%;display:flex}",FacephiSelphidWidgetStyle0=styleCss;defineCustomElements();const SelphidWidget=class{constructor(A){registerInstance$1(this,A),this.moduleLoaded=createEvent$1(this,"moduleLoaded"),this.extractionFinish=createEvent$1(this,"extractionFinish"),this.extractionTimeout=createEvent$1(this,"extractionTimeout"),this.exceptionCaptured=createEvent$1(this,"exceptionCaptured"),this.userCancel=createEvent$1(this,"userCancel"),this.trackStatus=createEvent$1(this,"trackStatus"),this.timeoutErrorButtonClick=createEvent$1(this,"timeoutErrorButtonClick"),this.errorTimeout=createEvent$1(this,"errorTimeout"),this.device=useDeviceInfo().device,this.settings={licenseKey:""},this.handleCloseTip=()=>{this.showAnimation=!1},this.parseSettings=()=>{const c={licenseKey:this.licenseKey};if(this.engineLocation&&(c.engineLocation=this.engineLocation),this.engineFallback&&(c.engineFallback=this.engineFallback),this.tokenizerLocation&&(c.tokenizerLocation=this.tokenizerLocation),(this.language||state.language)&&(c.language=this.language||state.language),exists(this.advancedTracking)&&(c.advancedTracking=parseBoolean(this.advancedTracking)),exists(this.previewCapture)&&(c.previewImage=parseBoolean(this.previewCapture)),this.audible&&(c.audible=this.audible),this.tutorial||(c.disableTutorial=!this.tutorial),exists(this.disableExit)&&(c.disableExit=parseBoolean(this.disableExit)),this.cameraWidth&&(c.cameraWidth=this.cameraWidth),this.cameraHeight&&(c.cameraHeight=this.cameraHeight),exists(this.cameraType)&&(c.cameraType=this.cameraType),this.cameraId&&(c.cameraId=this.cameraId),typeof this.documentMode=="number"&&(c.expectedSides=this.documentMode===ExpectedSides.SingleSide?ExpectedSides.SingleSide:ExpectedSides.Auto),exists(this.blurredThreshold)&&(c.blurredThreshold=this.blurredThreshold),exists(this.cameraOverflow)&&(c.cameraOverflow=parseBoolean(this.cameraOverflow)),this.cropFactor&&(c.cropFactor=this.cropFactor),exists(this.captureTimeout)&&(c.captureTimeout=this.captureTimeout),exists(this.captureRetries)&&(c.captureRetries=this.captureRetries),this.externalCamera&&typeof this.externalCamera!="string"&&typeof this.externalCamera!="boolean"&&(c.externalCamera=this.externalCamera),this.errorTimer&&(c.errorTimer=this.errorTimer),this.imageFormat&&(c.imageFormat=this.imageFormat.includes("jpeg")||this.imageFormat.includes("jpg")?ImageFormat$3.JPEG:ImageFormat$3.PNG),this.imageQuality&&(c.imageQuality=this.imageQuality),this.chooseDocument||(c.documentType=this.parseDocuments()),this.rules&&(c.rules=this.rules),!this.chooseDocument){const u=this.getCountries(!1);u&&(c.countryFilter=u)}return exists(this.keepEngineAlive)&&(c.keepEngineAlive=parseBoolean(this.keepEngineAlive)),this.maxAllowedMismatches&&(c.maxAllowedMismatches=this.maxAllowedMismatches),this.progressiveMismatches&&(c.progressiveMismatches=this.progressiveMismatches),exists(this.allowUncertain)&&(c.allowUncertain=parseBoolean(this.allowUncertain)),exists(this.allowUnknownDocuments)&&(c.allowUnknown=parseBoolean(this.allowUnknownDocuments)),exists(this.retryOnlyCurrentSide)&&(c.retryCurrentSide=parseBoolean(this.retryOnlyCurrentSide)),exists(this.barcode)&&(c.barcode=parseBoolean(this.barcode)),exists(this.barcodeSide)&&(c.barcodeSide=this.barcodeSide),exists(this.cameraSelection)&&(c.cameraSwitch=parseBoolean(this.cameraSelection)),this.anonymizationMode&&(c.anonymizationMode=this.anonymizationMode),this.loadingAnimation&&(c.graphicResources.loadingAnimation=this.loadingAnimation),this.tutorialAnimations&&(c.graphicResources.tutorialAnimations=this.tutorialAnimations),this.logo&&(c.graphicResources.logo=this.logo),exists(this.videoRecord)&&(c.videoRecord=parseBoolean(this.videoRecord)),exists(this.videoQuality)&&(c.videoRecordQuality=this.videoQuality),exists(this.showLog)&&(c.showLog=parseBoolean(this.showLog)),exists(this.debugMode)&&(c.debug=parseBoolean(this.debugMode)),this.debugException&&(c.debugException=this.debugException),exists(this.capturePadding)&&(c.capturePadding=this.capturePadding),exists(this.settingsStrictness)&&(c.settingsStrictness=parseBoolean(this.settingsStrictness)),exists(this.videoRecordAudio)&&(c.videoRecordAudio=parseBoolean(this.videoRecordAudio)),c},this.stepId=void 0,this.component=void 0,this.showDocument=void 0,this.showAnimation=void 0,this.checkedVideo=void 0,this.wait=void 0,this.isWidgetSet=!1,this.dpiList=void 0,this.bundlePath=void 0,this.resourcesPath=void 0,this.accessibility=void 0,this.accessibleElements=void 0,this.graphPath=void 0,this.ephemeralKey=void 0,this.videoRecordRate=void 0,this.videoRecordScale=void 0,this.videoRecordType=void 0,this.mode=void 0,this.askSimpleMode=void 0,this.forceLandscape=void 0,this.canvasHD=void 0,this.startSimpleMode=void 0,this.cameraMirror=void 0,this.scanMode=void 0,this.chooseDocument=void 0,this.initialTip=void 0,this.initialTipHeight=void 0,this.initialTipWidth=void 0,this.license=void 0,this.engineFallback=void 0,this.showLog=void 0,this.debugMode=!1,this.debugException=void 0,this.language=void 0,this.cameraOverflow=void 0,this.cameraId=void 0,this.externalCamera=void 0,this.cameraWidth=void 0,this.cameraHeight=void 0,this.documentAspectRatio=void 0,this.documentMode=ExpectedSides.Auto,this.documentType=[DocumentType.Autodetect],this.previewCapture=void 0,this.audible=void 0,this.disableExit=void 0,this.tutorial=!0,this.blurredThreshold=void 0,this.captureTimeout=void 0,this.captureRetries=void 0,this.imageFormat=void 0,this.imageQuality=void 0,this.cropFactor=void 0,this.country=void 0,this.specificdata=void 0,this.allowUnknownDocuments=void 0,this.allowUncertain=void 0,this.barcode=null,this.barcodeSide=BarcodeSide.Both,this.maxAllowedMismatches=void 0,this.progressiveMismatches=void 0,this.cameraSelection=void 0,this.videoRecord=void 0,this.videoQuality=void 0,this.rules=void 0,this.keepEngineAlive=void 0,this.retryOnlyCurrentSide=void 0,this.anonymizationMode=AnonymizationMode.None,this.cameraType=CameraType$1.Environment,this.loadingAnimation=void 0,this.tutorialAnimations=void 0,this.logo=void 0,this.engineLocation=void 0,this.tokenizerLocation=void 0,this.advancedTracking=void 0,this.errorTimer=void 0,this.capturePadding=void 0,this.settingsStrictness=void 0,this.videoRecordAudio=void 0}toggleWidget(){this.shouldRenderWidget()&&this.loadWidget()}updateComponent(A){A?(this.licenseKey=this.license||A.parameters.license,this.shouldRenderWidget()&&this.loadWidget()):(this.error=ERRORS.SELPHID_NOT_LICENSED,state.loading=!1)}connectedCallback(){var A;this.showDocument=this.chooseDocument,this.showAnimation=this.initialTip,state.components&&(this.component=(A=state.components[LicenseComponents.selphidWidget])!==null&&A!==void 0?A:void 0),this.disconnectComponent=onChange$1("components",c=>{var u;this.component=(u=c[LicenseComponents.selphidWidget])!==null&&u!==void 0?u:void 0})}loadWidget(){if(this.licenseKey){state.loading=!1;const A=this.parseSettings();this.settings=Object.assign(Object.assign({},this.settings),A),this.isWidgetSet=!0}}onModuleLoaded(A){A.stopPropagation(),this.moduleLoaded.emit(A)}onTrackStatus(A){A.stopPropagation(),this.trackStatus.emit(A)}trackingAdvancedTracking(A){this.sdkElement.trackingAsset(A,AssetsType.advancedTracking,this.stepId,TrackingSteps.selphiWidget)}async onExtractionFinish(A){var c,u,p;if(A.stopPropagation(),this.extractionFinish.emit(A),this.sdkElement){const I=()=>this.sdkElement.trackingAsset(A.detail.result.images.frontDocument,AssetsType.documentFront,this.stepId,TrackingSteps.selphidWidget);A.detail.result.images.backDocument&&this.sdkElement.trackingAsset(A.detail.result.images.backDocument,AssetsType.documentBack,this.stepId,TrackingSteps.selphidWidget);const m=()=>A.detail.result.imagesFullsize.backDocument&&this.sdkElement.trackingAsset(A.detail.result.imagesFullsize.backDocument,AssetsType.documentBackRaw,this.stepId,TrackingSteps.selphidWidget),R=()=>this.sdkElement.sendSelphid({front:A.detail.result.images.frontDocument,back:A.detail.result.images.backDocument,country:A.detail.result.extractionData.documentCountryIssuer});if(this.wait){state.loadingText=MESSAGES.SEND_REQUEST_DATA,state.loading=!0;const S=[I(),m(),R()];await Promise.all(S).catch(()=>{var N;this.sdkElement.workflowHandleEvent(WorkflowEventType.error,this.stepId||((N=workflowState.currentWidget)===null||N===void 0?void 0:N.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}),state.loading=!1,nextStep()}else I(),m(),R(),nextStep();A.detail.result.imagesFullsize.frontDocument&&this.sdkElement.trackingAsset(A.detail.result.imagesFullsize.frontDocument,AssetsType.documentFrontRaw,this.stepId,TrackingSteps.selphidWidget),A.detail.advancedTracking&&this.trackingAdvancedTracking(A.detail.advancedTracking),this.sdkElement.flowEvent((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id,[{asset:A.detail.result.images.frontDocument,assetType:AssetsType.documentFront,type:EventType.asset},A.detail.result.images.backDocument&&{asset:A.detail.result.images.backDocument,assetType:AssetsType.documentBack,type:EventType.asset}]),this.sdkElement.trackingStepSuccess(this.stepId,TrackingSteps.selphidWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.selphidCapture,this.stepId||((u=workflowState.currentWidget)===null||u===void 0?void 0:u.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.selphidCapture,this.stepId||((p=workflowState.currentWidget)===null||p===void 0?void 0:p.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onTimeoutButtonClick(A){var c;A.stopPropagation(),this.timeoutErrorButtonClick.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.expired,TrackingReason.selphiTimeout,this.stepId,TrackingSteps.selphiWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.timeout,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget})))}onUserCancel(A){var c,u;A.stopPropagation(),this.userCancel.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.cancelled,TrackingReason.selphidCancelUser,this.stepId,TrackingSteps.selphidWidget),A.detail.advancedTracking&&this.trackingAdvancedTracking(A.detail.advancedTracking),this.sdkElement.workflowHandleEvent(WorkflowEventType.cancel,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))),this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.cancel,this.stepId||((u=workflowState.currentWidget)===null||u===void 0?void 0:u.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onExceptionCaptured(A){var c,u;A.stopPropagation(),this.exceptionCaptured.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.denied,TrackingReason.selphidInternalError,this.stepId,TrackingSteps.selphidWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.error,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))),this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.error,this.stepId||((u=workflowState.currentWidget)===null||u===void 0?void 0:u.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onExtractionTimeout(A){var c;A.stopPropagation(),this.extractionTimeout.emit(A),this.sdkElement&&(this.sdkElement.trackingStatus(TrackingStatus.expired,TrackingReason.selphidTimeout,this.stepId,TrackingSteps.selphidWidget),this.sdkElement.workflowHandleEvent(WorkflowEventType.timeout,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget})))}onErrorTimeout(A){var c;A.stopPropagation(),this.errorTimeout.emit(A),this.sdkElement&&A.detail.advancedTracking&&this.trackingAdvancedTracking(A.detail.advancedTracking),this.workflowWidgetElement&&this.workflowWidgetElement.workflowHandleEvent(WorkflowEventType.timeout,this.stepId||((c=workflowState.currentWidget)===null||c===void 0?void 0:c.id),Object.assign(Object.assign({},A.detail),{widget:workflowState.currentWidget}))}onSubmitData(A){this.settings.countryFilter=[A.detail.country],this.settings.documentType=[Number(A.detail.document)],this.showDocument=!1}handleVideo(){if(this.channel){const A=[this.channel.video.getMediaStreamTrack(),this.channel.audio.getMediaStreamTrack()];A&&(this.settings.externalCamera=new MediaStream(A))}}async checkVideo(){this.videoElement=this.sdkElement.shadowRoot.querySelector("facephi-video-provider"),this.videoElement&&(this.videoElement.getChannel().then(A=>{this.channel=A,this.handleVideo()}),this.videoElement.addEventListener("changeChannel",A=>{this.channel=A.detail,this.handleVideo()}),this.device.type===MOBILE&&await this.videoElement.setCameraRear()),this.checkedVideo=!0}shouldRenderWidget(){return!this.showDocument&&!this.showAnimation&&this.checkedVideo}async componentDidLoad(){if(this.wait=state.wait,await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider"),await customElements.whenDefined("facephi-workflow-widget"),this.workflowWidgetElement=document.querySelector("facephi-workflow-widget"),this.sdkElement){await this.sdkElement.loadTracking();const A=await this.sdkElement.generateStepId();this.stepId=A,this.sdkElement.trackingEvent(this.stepId,TrackingSteps.selphidWidget),await this.checkVideo()}}disconnectedCallback(){this.isWidgetSet=!1,this.disconnectComponent()}parseDocuments(){let A=this.documentType;if(typeof A=="number")return[A];if(typeof A=="string")if(stringIsArray(A))A=JSON.parse(A.replace(/'/g,'"'));else return isNaN(Number(A))?A!==""?[DocumentType[A]?DocumentType[A]:DocumentType.Autodetect]:[DocumentType.Autodetect]:[Number(A)];return Array.isArray(A)&&A.length>0?typeof A[0]=="string"?isNaN(Number(A[0]))?A.map(c=>DocumentType[c]?DocumentType[c]:DocumentType.Autodetect):A.map(c=>Number(c)):A:[DocumentType.Autodetect]}verifyCountryValues(A){if(Array.isArray(A)&&A.length>0)return A;if(typeof A=="string"){if(stringIsArray(A)){const u=JSON.parse(A.replace(/'/g,'"'));if(u.length>0&&u.every(p=>isNaN(Number(p))))return u}else if(isNaN(Number(A)))return[A]}return null}getCountries(A){if(this.country){const c=this.verifyCountryValues(this.country);if(A){if(c)return c[0]}else return c}if(this.specificdata){const c=this.verifyCountryValues(this.specificdata);if(A){if(c)return c[0]}else return c}return""}async loadChooseDocument(){customElements.get("choose-document")||await __vitePreload(()=>import("./choose-document-5d44cc5e-CoUQv-o8.js"),__vite__mapDeps([12,1,7,3,2]))}async loadTipWidget(){customElements.get("tip-widget")||await __vitePreload(()=>import("./tip-widget-41d24bce-Cwot2VO3.js"),__vite__mapDeps([13,1,2,5,6,3]))}render(){return this.showDocument&&this.loadChooseDocument(),this.showAnimation&&this.loadTipWidget(),h$5(Host$1,{key:"136893f564deecc2bcb2c797ef69c01b37850071"},this.error&&h$5("error-view",{key:"798c81f834fa8e26abd87229f5aa13159fb6260e",text:this.error})," ",this.showDocument?h$5("choose-document",{country:this.getCountries(!0),onSubmitData:this.onSubmitData.bind(this)}):this.showAnimation?h$5("tip-widget",{type:WidgetType.selphid,onClickButton:this.handleCloseTip.bind(this),width:this.initialTipWidth,height:this.initialTipHeight}):null,this.isWidgetSet&&h$5("facephi-selphid",{key:"796f6baf9778bb39eb5e791eb20d42ad5e5a5e98",settings:this.settings,onWidgetLoaded:this.onModuleLoaded.bind(this),onExtractionFinish:this.onExtractionFinish.bind(this),onUserCancel:this.onUserCancel.bind(this),onExceptionCaptured:this.onExceptionCaptured.bind(this),onExtractionTimeout:this.onExtractionTimeout.bind(this),onTimeoutButtonClick:this.onTimeoutButtonClick.bind(this),onErrorTimeout:this.onErrorTimeout.bind(this),onTrackStatus:this.onTrackStatus.bind(this)}))}get widgetContainer(){return getElement$1(this)}static get watchers(){return{showDocument:["toggleWidget"],showAnimation:["toggleWidget"],checkedVideo:["toggleWidget"],component:["updateComponent"]}}};SelphidWidget.style=FacephiSelphidWidgetStyle0;const StartWidget=class{constructor(A){registerInstance$1(this,A)}async componentDidLoad(){nextStep()}render(){return null}},termsWidgetCss=".terms-content{row-gap:var(--rowGap);align-items:flex-start}.terms-content ul{padding-left:40px}",FacephiTermsWidgetStyle0=termsWidgetCss,FormWidget=class{constructor(A){registerInstance$1(this,A),this.handleScroll=c=>{Math.round(c.currentTarget.scrollHeight-c.currentTarget.scrollTop)-100<=c.currentTarget.clientHeight&&(this.bottom=!0)},this.handleAcceptTerms=()=>{nextStep()},this.normalizeHTML=()=>{const c=document.createElement("div");return c.innerHTML=this.TermsConditions,c.querySelectorAll("h1").forEach(u=>u.classList.add("fs-xl")),c.querySelectorAll("h2").forEach(u=>u.classList.add("fs-l")),c.querySelectorAll("h3").forEach(u=>u.classList.add("fs-l")),c.querySelectorAll("h3").forEach(u=>u.classList.add("fs-l")),c.querySelectorAll("h4").forEach(u=>u.classList.add("fs-l")),c.querySelectorAll("h5").forEach(u=>u.classList.add("fs-l")),c.querySelectorAll("h6").forEach(u=>u.classList.add("fs-l")),c.querySelectorAll("li").forEach(u=>u.classList.add("fs-m")),c.querySelectorAll("p").forEach(u=>u.classList.add("fs-m")),c.querySelectorAll("span").forEach(u=>u.classList.add("fs-s")),c.innerHTML},this.buttonText="Continue",this.class=void 0,this.TermsConditions=void 0,this.bottom=!1}async componentDidLoad(){this.divTerms&&this.divTerms.scrollHeight<=this.divTerms.clientHeight&&(this.bottom=!0),await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider")}render(){return h$5(Host$1,{key:"9a856260e45f65f953fab0a02017b528e827d59e",class:"form"},h$5("section",{key:"27566e57793166cb298a7a1f6a7b19ac5efc159f",class:"form-content terms-content",onScroll:this.handleScroll,ref:A=>this.divTerms=A,innerHTML:this.normalizeHTML()}),h$5("section",{key:"9a3f9f984810387be6b71d670637eaaa1569727e",class:"form-submit"},h$5("button",{key:"f1b767ed43878b3bcc41e9d78faf217bec3a5d2e",class:"button",type:"submit",onClick:this.handleAcceptTerms,disabled:!this.bottom},this.buttonText)))}};FormWidget.style=FacephiTermsWidgetStyle0;const videoAssistanceWidgetCss=".sc-facephi-video-assistance-widget-h{flex:1;height:100%;width:100%;display:flex;margin:0;padding:0}",FacephiVideoAssistanceWidgetStyle0=videoAssistanceWidgetCss,VideoAssistanceWidget=class{constructor(A){registerInstance$1(this,A),this.shareScreen=void 0,this.language=void 0,this.loading=!0,this.error=void 0,this.operationId=void 0,this.videoAssistanceOptions=void 0,this.stepId=void 0,this.component=void 0,this.finish=!1}updateComponent(A){A?(this.videoAssistanceOptions={apiKey:A.parameters.apiKey,apiUrl:A.parameters.apiUrl},this.loading=!1,this.error=void 0):(this.loading=!1,this.error=ERRORS.VIDEO_ASSISTANCE_NOT_LICENSED)}connectedCallback(){var A;state.operationId&&(this.operationId=state.operationId),state.components&&(this.component=(A=state.components[LicenseComponents.videoAssistance])!==null&&A!==void 0?A:null),this.disconnectComponent=onChange$1("components",c=>{var u;this.component=(u=c[LicenseComponents.videoAssistance])!==null&&u!==void 0?u:null})}handleUserCancel(){this.sdkProvider&&(this.sdkProvider.trackingStatus(TrackingStatus.cancelled,TrackingReason.videoAssistanceCancelUser,this.stepId,TrackingSteps.videoAssistanceWidget),this.sdkProvider.workflowHandleEvent(WorkflowEventType.cancel,this.stepId))}handleFinishCall(){if(this.finish)return!1;this.sdkProvider.trackingStepSuccess(this.stepId,TrackingSteps.videoAssistanceWidget),this.finish=!0,nextStep()}handleErrorException(){this.sdkProvider.trackingStatus(TrackingStatus.denied,TrackingReason.videoAssistanceError,this.stepId,TrackingSteps.videoAssistanceWidget),this.sdkProvider.workflowHandleEvent(WorkflowEventType.error,this.stepId)}watchOperationId(){this.operationId&&(this.sdkProvider&&this.sdkProvider.trackingEvent(this.stepId,TrackingSteps.videoAssistanceWidget),this.loading=!1)}async componentWillLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkProvider=document.querySelector("facephi-sdk-provider"),this.sdkProvider&&(await this.sdkProvider.loadTracking(),this.operationId=await this.sdkProvider.getOperationId(),this.stepId=await this.sdkProvider.generateStepId())}disconnectedCallback(){this.disconnectComponent()}render(){var A,c;return h$5(Host$1,{key:"1c50e3a651b9b310892154805865c3a2ea130e1c"},this.loading?null:this.error?h$5("error-view",{text:this.error}):h$5("video-assistance",{language:this.language||state.language,operationId:this.operationId,apiKey:(A=this.videoAssistanceOptions)===null||A===void 0?void 0:A.apiKey,apiUrl:(c=this.videoAssistanceOptions)===null||c===void 0?void 0:c.apiUrl,caller:this.operationId,shareScreen:this.shareScreen,onFinishCall:this.handleFinishCall.bind(this),onUserCancel:this.handleUserCancel.bind(this),onErrorException:this.handleErrorException.bind(this)}))}static get watchers(){return{component:["updateComponent"],operationId:["watchOperationId"]}}};VideoAssistanceWidget.style=FacephiVideoAssistanceWidgetStyle0;const videoProviderCss=".sc-facephi-video-provider-h{display:flex;width:100%;height:100%;flex:1;margin:0;padding:0}",FacephiVideoProviderStyle0=videoProviderCss,VideoProvider=class{constructor(A){registerInstance$1(this,A),this.changeChannel=createEvent$1(this,"changeChannel"),this.changeLoading=createEvent$1(this,"changeLoading"),this.handleChannel=c=>{this.channel=c,this.changeChannel.emit(this.channel)},this.handleRecording=c=>{c&&(this.loading=!1)},this.handleError=async c=>{if(c){this.loading=!1,await customElements.whenDefined("facephi-sdk-provider");const u=document.querySelector("facephi-sdk-provider");u&&u.trackingStatus(TrackingStatus.denied,TrackingReason.agoraInternalError,"-",TrackingSteps.videoRecording)}},this.required=void 0,this.loading=!0,this.tenantId=void 0,this.operationId=void 0,this.videoOptions=void 0,this.error=void 0,this.component=void 0}watchError(A){A&&console.warn(ERRORS.LICENSE_ERROR,this.error)}updateComponent(A){A?(this.videoOptions=Object.assign(Object.assign({},this.videoOptions),{apiKey:A.parameters.apiKey,baseUrl:A.parameters.baseUrl}),this.error=void 0):(this.error=ERRORS.VIDEO_RECORDING_NOT_LICENSED,this.loading=!1)}updateTenantId(A){A&&(this.videoOptions=Object.assign(Object.assign({},this.videoOptions),{tenantId:A}))}updateOperationId(A){A&&(this.videoOptions=Object.assign(Object.assign({},this.videoOptions),{operationId:A}))}async checkVideoOptions(A){A.apiKey&&A.baseUrl&&A.tenantId&&A.operationId&&(this.handleVideo(A.operationId,A.tenantId),await this.startVideo(),this.required||(this.loading=!1))}componentDidLoad(){onChange$1("components",A=>{var c,u;this.component=A[LicenseComponents.videoRecording],this.tenantId=(u=(c=A[LicenseComponents.tracking])===null||c===void 0?void 0:c.parameters)===null||u===void 0?void 0:u.tenantId}),onChange$1("tenantId",A=>{this.tenantId=A}),onChange$1("operationId",A=>{this.operationId=A})}connectedCallback(){var A;state.components&&(this.component=(A=state.components[LicenseComponents.videoRecording])!==null&&A!==void 0?A:null),state.operationId&&(this.operationId=state.operationId),state.tenantId&&(this.tenantId=state.tenantId)}handleVideo(A,c){if(this.videoOptions.baseUrl&&this.videoOptions.apiKey){const{setParams:u,handleStart:p,handleStop:I,setCameraFront:m,setCameraRear:R}=useVideo({baseUrl:this.videoOptions.baseUrl,apiKey:this.videoOptions.apiKey,audio:!0,setChannel:this.handleChannel,handleRecording:this.handleRecording,handleError:this.handleError});this.startVideo=p,this.handleStopVideo=I,this.handleCameraRear=R,this.handleCameraFront=m,u({operationId:A,tenantId:c})}}handleLoading(){this.changeLoading.emit(this.loading)}disconnectedCallback(){this.handleStopVideo&&this.handleStopVideo()}async stopVideo(){var A;(A=this.handleStopVideo)===null||A===void 0||A.call(this)}async setCameraRear(){var A;return(A=this.handleCameraRear)===null||A===void 0?void 0:A.call(this)}async setCameraFront(){var A;return(A=this.handleCameraFront)===null||A===void 0?void 0:A.call(this)}async getChannel(){return this.channel}async getLoading(){return this.loading}render(){return h$5(Host$1,{key:"5cba2a44a33f4c820750802d29071bf12a7a4e5b"},this.loading?null:h$5("slot",null))}get host(){return getElement$1(this)}static get watchers(){return{error:["watchError"],component:["updateComponent"],tenantId:["updateTenantId"],operationId:["updateOperationId"],videoOptions:["checkVideoOptions"],loading:["handleLoading"]}}};VideoProvider.style=FacephiVideoProviderStyle0;const videoRecruitmentWidgetCss=".sc-facephi-video-recruitment-widget-h{flex:1;height:100%;width:100%;display:flex;margin:0;padding:0}",FacephiVideoRecruitmentWidgetStyle0=videoRecruitmentWidgetCss,VideoRecruitmentWidget=class{constructor(A){registerInstance$1(this,A),this.finishVideo=createEvent$1(this,"finishVideo"),this.fullScreen=void 0,this.language=void 0,this.loading=!0,this.error=void 0,this.operationId=void 0,this.tenantId=void 0,this.videoOptions=void 0,this.stepId=void 0,this.component=void 0,this.finish=!1}updateComponent(A){A?(this.videoOptions={apiKey:A.parameters.apiKey,baseUrl:A.parameters.baseUrl},this.loading=!1,this.error=void 0):(this.loading=!1,this.error=ERRORS.VIDEO_RECRUITMENT_NOT_LICENSED)}connectedCallback(){var A,c,u;state.operationId&&(this.operationId=state.operationId),state.components&&(this.component=(A=state.components[LicenseComponents.videoRecruitment])!==null&&A!==void 0?A:null,this.tenantId=(u=(c=state.components[LicenseComponents.tracking])===null||c===void 0?void 0:c.parameters)===null||u===void 0?void 0:u.tenantId),this.disconnectComponent=onChange$1("components",p=>{var I,m,R;this.component=(I=p[LicenseComponents.videoRecruitment])!==null&&I!==void 0?I:null,this.tenantId=(R=(m=p[LicenseComponents.tracking])===null||m===void 0?void 0:m.parameters)===null||R===void 0?void 0:R.tenantId})}handleUserCancel(){this.sdkProvider&&this.sdkProvider.trackingStatus(TrackingStatus.cancelled,TrackingReason.videoRecruitmentCancelUser,this.stepId,TrackingSteps.videoRecruitmentWidget)}handleFinishVideo(A){if(this.finish)return!1;this.sdkProvider.trackingStepSuccess(this.stepId,TrackingSteps.videoRecruitmentWidget),this.sdkProvider.sendVideoContracting(),this.finishVideo.emit(A.detail),this.finish=!0,nextStep()}handleErrorException(){this.sdkProvider.trackingStatus(TrackingStatus.denied,TrackingReason.videoRecruitmentError,this.stepId,TrackingSteps.videoRecruitmentWidget)}handleOperationId(A){this.operationId=A.detail}watchOperationId(){this.operationId&&(this.sdkProvider&&this.sdkProvider.trackingEvent(this.stepId,TrackingSteps.videoRecruitmentWidget),this.loading=!1)}async componentWillLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkProvider=document.querySelector("facephi-sdk-provider"),this.sdkProvider.addEventListener("emitOperationId",this.handleOperationId.bind(this)),this.sdkProvider&&(await this.sdkProvider.loadTracking(),this.stepId=await this.sdkProvider.generateStepId()),this.host.addEventListener("userCancel",this.handleUserCancel.bind(this)),this.host.addEventListener("errorException",this.handleErrorException.bind(this))}disconnectedCallback(){this.sdkProvider.removeEventListener("emitOperationId",this.handleOperationId),this.host.removeEventListener("userCancel",this.handleUserCancel),this.host.removeEventListener("errorException",this.handleErrorException),this.disconnectComponent()}render(){var A,c;return h$5(Host$1,{key:"83c0f2c483cd8e7c85ec600d1fb1c2d830ab55b5"},this.loading?null:this.error?h$5("error-view",{text:this.error}):h$5("video-recruitment",{fullScreen:this.fullScreen,language:this.language||state.language,operationId:this.operationId,tenantId:this.tenantId,apiKey:(A=this.videoOptions)===null||A===void 0?void 0:A.apiKey,apiUrl:`wss://${(c=this.videoOptions)===null||c===void 0?void 0:c.baseUrl}/identification`,onFinishVideo:this.handleFinishVideo.bind(this)}))}get host(){return getElement$1(this)}static get watchers(){return{component:["updateComponent"],operationId:["watchOperationId"]}}};VideoRecruitmentWidget.style=FacephiVideoRecruitmentWidgetStyle0;const voiceWidgetCss=".sc-facephi-voice-widget-h{flex:1;height:100%;width:100%;display:flex}.container.sc-facephi-voice-widget{display:flex;justify-content:center;align-items:center;width:100%;height:100%}",FacephiVoiceWidgetStyle0=voiceWidgetCss,VoiceWidget=class{constructor(A){registerInstance$1(this,A),this.userCancel=createEvent$1(this,"userCancel"),this.recordingFinish=createEvent$1(this,"recordingFinish"),this.exceptionError=createEvent$1(this,"exceptionError"),this.component=void 0,this.license=void 0,this.error=void 0,this.stepId=void 0,this.loading=!0,this.sentences=void 0,this.bundlePath=void 0,this.language=void 0,this.showUserCancel=void 0}updateComponent(A){A?(this.license=A.parameters.license,this.error=void 0,this.loading=!1):(this.error=ERRORS.VOICE_RECORDING_NOT_LICENSE,this.loading=!1)}componentWillLoad(){this.bundlePath=state.bundlePath+"/voice"}async componentDidLoad(){await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider"),this.sdkElement&&(await this.sdkElement.loadTracking(),this.stepId=await this.sdkElement.generateStepId(),this.sdkElement.trackingEvent(this.stepId,TrackingSteps.voiceRecording))}connectedCallback(){var A;state.components&&(this.component=(A=state.components[LicenseComponents.voiceRecording])!==null&&A!==void 0?A:null),this.disconnectComponent=onChange$1("components",c=>{var u;this.component=(u=c[LicenseComponents.voiceRecording])!==null&&u!==void 0?u:null})}handleUserCancel(){this.sdkElement&&this.sdkElement.trackingStatus(TrackingStatus.cancelled,TrackingReason.voiceRecordingCancelUser,this.stepId,TrackingSteps.voiceRecording)}handleExceptionError(){this.sdkElement&&this.sdkElement.trackingStatus(TrackingStatus.denied,TrackingReason.voiceRecordingError,this.stepId,TrackingSteps.voiceRecording)}handleFinishRecording(){nextStep(),this.sdkElement&&this.sdkElement.trackingStepSuccess(this.stepId,TrackingSteps.voiceRecording)}render(){return h$5(Host$1,{key:"16558aea15369911b546ac706fce078429c61088"},this.loading?null:this.error?h$5("p",null,this.error):h$5("div",{class:"container"},h$5("facephi-voice-recognition",{language:this.language||state.language,bundlePath:this.bundlePath,license:this.license,sentences:this.sentences,showUserCancel:this.showUserCancel})))}static get watchers(){return{component:["updateComponent"]}}};VoiceWidget.style=FacephiVoiceWidgetStyle0;const workflowProviderCss=".sc-facephi-workflow-provider-h{display:flex;flex:1;width:100%;height:100%;justify-content:center}",FacephiWorkflowProviderStyle0=workflowProviderCss,WorkflowProvider=class{constructor(A){registerInstance$1(this,A),this.workflowFinished=createEvent$1(this,"workflowFinished"),this.workflowStarted=createEvent$1(this,"workflowStarted"),this.workflowChangeStep=createEvent$1(this,"workflowChangeStep"),this.handleContinueMobileQr=async c=>{this.sdkElement&&(await this.sdkElement.haveTrackingService()&&await this.sdkElement.initTracking(),this.qrService=new QrService,await this.qrService.connect(),this.showQr=!1,this.showFinishMobile=!0,workflowState.operationIdMobile&&this.qrService.sendStatus({id:c.detail,status:QrConnectionStatus.operationId,data:{operationId:workflowState.operationIdMobile}}),onChange("currentWidget",u=>{var p;this.currentWidget=u,((p=this.currentWidget)===null||p===void 0?void 0:p.data.widgetId)===Widgets.finish&&this.qrService.sendStatus({id:c.detail,status:QrConnectionStatus.finish})}),onChange("currentState",u=>{switch(u.type){case WorkflowEventType.changeStep:this.qrService.sendStatus({id:c.detail,status:QrConnectionStatus.widgetFinish});break}}))},this.handleFinish=async()=>{this.showQr=!1},this.handleContinue=async()=>{this.sdkElement&&(await this.sdkElement.haveTrackingService()&&await this.sdkElement.initExternalTracking(),this.showQr=!1)},this.getWidget=async c=>{if(!c)return null;let u=null;switch(c.data.widgetId){case Widgets.start:await this.loadWidget("facephi-start-widget","../start-widget/start-widget"),u=h$5("facephi-start-widget",null);break;case Widgets.authentication:await this.loadWidget("facephi-auth-widget","../auth-widget/auth-widget"),u=h$5("facephi-auth-widget",Object.assign({},c.data.configuration.general));break;case Widgets.reniec:await this.loadWidget("facephi-reniec-widget","../reniec-widget/reniec-widget"),u=h$5("facephi-reniec-widget",Object.assign({},c.data.configuration.general,{token:c.data.configuration.general.k1_token}));break;case Widgets.ia:await this.loadWidget("facephi-ia-widget","../ia-widget/ia-widget"),u=h$5("facephi-ia-widget",Object.assign({},c.data.configuration.general));break;case Widgets.terms:await this.loadWidget("facephi-terms-widget","../terms-widget/terms-widget"),u=h$5("facephi-terms-widget",Object.assign({},c.data.configuration.general));break;case Widgets.selphid:await this.loadWidget("facephi-selphid-widget","../selphid-widget/selphid-widget"),u=h$5("facephi-selphid-widget",Object.assign({},c.data.configuration.general,{bundlePath:`${this.bundlePath}/selphid`}));break;case Widgets.selphi:await this.loadWidget("facephi-selphi-widget","../selphi-widget/selphi-widget"),u=h$5("facephi-selphi-widget",Object.assign({},c.data.configuration.general,{bundlePath:`${this.bundlePath}/selphi`}));break;case Widgets.finish:await this.loadWidget("facephi-finish-widget","../finish-widget/finish-widget"),u=h$5("facephi-finish-widget",{mobileQr:this.showFinishMobile});break;case Widgets.form:await this.loadWidget("facephi-form-widget","../form-widget/form-widget"),u=h$5("facephi-form-widget",Object.assign({},c.data.configuration.general));break;case Widgets.voiceRecording:await this.loadWidget("facephi-voice-widget","../voice-widget/voice-widget"),u=h$5("facephi-voice-widget",Object.assign({},c.data.configuration.general));break;case Widgets.videoContracting:await this.loadWidget("facephi-video-recruitment-widget","../video-recruitment-widget/video-recruitment-widget"),u=h$5("facephi-video-recruitment-widget",Object.assign({},c.data.configuration.general));break;case Widgets.videoAssistance:await this.loadWidget("facephi-video-assistance-widget","../video-assistance-widget/video-assistance-widget"),u=h$5("facephi-video-assistance-widget",Object.assign({},c.data.configuration.general));break;case Widgets.results:{this.showFinishMobile?(await this.loadWidget("facephi-finish-widget","../finish-widget/finish-widget"),u=h$5("facephi-finish-widget",{mobileQr:this.showFinishMobile})):(await this.loadWidget("facephi-results-widget","../results-widget/results-widget"),u=h$5("facephi-results-widget",Object.assign({},c.data.configuration.general)));break}default:await this.loadWidget("facephi-next-step-widget","../next-step-widget/next-step-widget"),u=h$5("facephi-next-step-widget",{key:c.data.widgetId})}return u},this.getQr=c=>{switch(c.data.widgetId){case Widgets.results:return this.getWidget(c);default:return h$5("facephi-qr-widget",{operationId:this.operationId,onContinueMobile:this.handleContinueMobileQr.bind(this),onContinue:this.handleContinue.bind(this),onFinish:this.handleFinish.bind(this),qrParameters:this.qrParameters})}},this.workflow=void 0,this.operationId=void 0,this.bundlePath=void 0,this.qr=void 0,this.qrParameters=void 0,this.currentWidget=void 0,this.showQr=void 0,this.showDesktopView=void 0,this.dynamicWidget=null,this.showFinishMobile=!1,this.videoProvider=void 0}watchOperationId(A){workflowState.operationIdMobile=A}disconnectedCallback(){reset()}async onCurrentWidgetChange(A){A?this.dynamicWidget=await this.getWidget(A):this.dynamicWidget=null}async componentWillLoad(){this.showQr=this.qr,workflowState.workflow=this.workflow,await customElements.whenDefined("facephi-sdk-provider"),this.sdkElement=document.querySelector("facephi-sdk-provider"),workflowState.currentWidget&&(this.dynamicWidget=await this.getWidget(workflowState.currentWidget)),onChange("currentWidget",A=>{var c,u,p,I;if(!A||!workflowState.currentWidget)return null;this.currentWidget=A,workflowState.prevWidget&&workflowState.prevWidget.data.widgetId===Widgets.start&&this.workflowStarted.emit({stepId:this.currentWidget.id}),((c=this.currentWidget)===null||c===void 0?void 0:c.data.widgetId)===Widgets.finish&&!this.showFinishMobile?this.workflowFinished.emit({stepId:this.currentWidget.id}):((u=this.currentWidget)===null||u===void 0?void 0:u.data.widgetId)===Widgets.start||this.workflowChangeStep.emit({stepId:this.currentWidget.id,data:{widget:this.currentWidget}}),this.sdkElement&&this.sdkElement.flowEvent(workflowState.currentWidget.id,[{screen:(p=workflowState.currentWidget)===null||p===void 0?void 0:p.data.widgetName,event:EventDto.stepChange,value:(I=workflowState.currentWidget)===null||I===void 0?void 0:I.data.widgetName}])})}async loadWidget(A,c){customElements.get(A)||await import(c)}async componentDidLoad(){workflowState.videoRecording&&this.videoProvider?(state.loading=await this.videoProvider.getLoading(),this.videoProvider.addEventListener("changeLoading",A=>{state.loading=A.detail})):state.loading=!1}render(){var A,c;return workflowState.currentWidget?this.showQr?this.getQr(workflowState.currentWidget):workflowState.videoRecording?h$5("facephi-video-provider",Object.assign({},(c=(A=workflowState.videoRecording.data)===null||A===void 0?void 0:A.configuration)===null||c===void 0?void 0:c.general,{ref:u=>this.videoProvider=u}),this.dynamicWidget):this.dynamicWidget:null}static get watchers(){return{operationId:["watchOperationId"],currentWidget:["onCurrentWidgetChange"]}}};WorkflowProvider.style=FacephiWorkflowProviderStyle0;const facephiAuthWidget_17_entry=Object.freeze(Object.defineProperty({__proto__:null,facephi_auth_widget:AuthWidget,facephi_finish_widget:FinishWidget,facephi_form_widget:FormWidget$1,facephi_ia_widget:ReniecWidget$1,facephi_next_step_widget:NextStep,facephi_qr_widget:QrWidget,facephi_reniec_widget:ReniecWidget,facephi_results_widget:ResultsWidget,facephi_selphi_widget:SelphiWidget,facephi_selphid_widget:SelphidWidget,facephi_start_widget:StartWidget,facephi_terms_widget:FormWidget,facephi_video_assistance_widget:VideoAssistanceWidget,facephi_video_provider:VideoProvider,facephi_video_recruitment_widget:VideoRecruitmentWidget,facephi_voice_widget:VoiceWidget,facephi_workflow_provider:WorkflowProvider},Symbol.toStringTag,{value:"Module"}));/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const facephiSelphi_entry=Object.freeze(Object.defineProperty({__proto__:null,facephi_selphi:SelphiWidget$1},Symbol.toStringTag,{value:"Module"}));/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const widgetPaginationLayout_entry=Object.freeze(Object.defineProperty({__proto__:null,widget_pagination_layout:WidgetPaginationLayout},Symbol.toStringTag,{value:"Module"}));/*!
 * Built with Stencil
 * Copyright (c) 2024 Facephi Biometria, S.A.
 */const widgetButton_2_entry=Object.freeze(Object.defineProperty({__proto__:null,widget_button:WidgetButton,widget_header:WidgetHeader},Symbol.toStringTag,{value:"Module"}));export{facephiAuthWidget_17_entry as A,BROWSERLIST as B,ClickableEventElements as C,DataEventType as D,ERROR_DATA as E,Fragment as F,Key as K,Logger as L,OperatingSystem as O,SpeechSynthesisModule as S,TUTORIAL_SLIDE_TEXTS as T,WIDGETVIEWS as W,checkUserDeviceTypeAndOS as a,readFile as b,createEvent as c,ExceptionType as d,addAdvancedTrackingClickEvent as e,DIAGNOSTIC_TEXTS as f,getVideoRecordAudio as g,h$4 as h,internal_store as i,config_store as j,activeLiveness_store as k,handleKeyDown as l,getElement as m,error_store as n,TUTORIAL_SLIDE_ALTS as o,TUTORIAL_ACTIVE_LIVENESS as p,LivenessMoveDiagnostic$1 as q,registerInstance as r,CameraType as s,translate as t,FileTypes as u,viewAsset_store as v,SupportedImages as w,SupportedVideos as x,WidgetIcon as y,WidgetLogo as z};
