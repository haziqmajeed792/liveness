import{c as er,a as V,N as ir}from"./store-88a4e8c3-BR2RF-gK.js";var I,or=new Uint8Array(16);function ur(){if(!I&&(I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!I))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(or)}const ar=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hr(t){return typeof t=="string"&&ar.test(t)}var x=[];for(var D=0;D<256;++D)x.push((D+256).toString(16).substr(1));function cr(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(x[t[r+0]]+x[t[r+1]]+x[t[r+2]]+x[t[r+3]]+"-"+x[t[r+4]]+x[t[r+5]]+"-"+x[t[r+6]]+x[t[r+7]]+"-"+x[t[r+8]]+x[t[r+9]]+"-"+x[t[r+10]]+x[t[r+11]]+x[t[r+12]]+x[t[r+13]]+x[t[r+14]]+x[t[r+15]]).toLowerCase();if(!hr(n))throw TypeError("Stringified UUID is invalid");return n}function Qr(t,r,n){t=t||{};var e=t.random||(t.rng||ur)();return e[6]=e[6]&15|64,e[8]=e[8]&63|128,cr(e)}var A=[],y=[],fr=typeof Uint8Array<"u"?Uint8Array:Array,P=!1;function K(){P=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,n=t.length;r<n;++r)A[r]=t[r],y[t.charCodeAt(r)]=r;y[45]=62,y[95]=63}function sr(t){P||K();var r,n,e,i,o,u,h=t.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=t[h-2]==="="?2:t[h-1]==="="?1:0,u=new fr(h*3/4-o),e=o>0?h-4:h;var c=0;for(r=0,n=0;r<e;r+=4,n+=3)i=y[t.charCodeAt(r)]<<18|y[t.charCodeAt(r+1)]<<12|y[t.charCodeAt(r+2)]<<6|y[t.charCodeAt(r+3)],u[c++]=i>>16&255,u[c++]=i>>8&255,u[c++]=i&255;return o===2?(i=y[t.charCodeAt(r)]<<2|y[t.charCodeAt(r+1)]>>4,u[c++]=i&255):o===1&&(i=y[t.charCodeAt(r)]<<10|y[t.charCodeAt(r+1)]<<4|y[t.charCodeAt(r+2)]>>2,u[c++]=i>>8&255,u[c++]=i&255),u}function pr(t){return A[t>>18&63]+A[t>>12&63]+A[t>>6&63]+A[t&63]}function lr(t,r,n){for(var e,i=[],o=r;o<n;o+=3)e=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(pr(e));return i.join("")}function L(t){P||K();for(var r,n=t.length,e=n%3,i="",o=[],u=16383,h=0,c=n-e;h<c;h+=u)o.push(lr(t,h,h+u>c?c:h+u));return e===1?(r=t[n-1],i+=A[r>>2],i+=A[r<<4&63],i+="=="):e===2&&(r=(t[n-2]<<8)+t[n-1],i+=A[r>>10],i+=A[r>>4&63],i+=A[r<<2&63],i+="="),o.push(i),o.join("")}function S(t,r,n,e,i){var o,u,h=i*8-e-1,c=(1<<h)-1,s=c>>1,p=-7,f=n?i-1:0,d=n?-1:1,g=t[r+f];for(f+=d,o=g&(1<<-p)-1,g>>=-p,p+=h;p>0;o=o*256+t[r+f],f+=d,p-=8);for(u=o&(1<<-p)-1,o>>=-p,p+=e;p>0;u=u*256+t[r+f],f+=d,p-=8);if(o===0)o=1-s;else{if(o===c)return u?NaN:(g?-1:1)*(1/0);u=u+Math.pow(2,e),o=o-s}return(g?-1:1)*u*Math.pow(2,o-e)}function H(t,r,n,e,i,o){var u,h,c,s=o*8-i-1,p=(1<<s)-1,f=p>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=e?0:o-1,_=e?1:-1,tr=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,u=p):(u=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-u))<1&&(u--,c*=2),u+f>=1?r+=d/c:r+=d*Math.pow(2,1-f),r*c>=2&&(u++,c/=2),u+f>=p?(h=0,u=p):u+f>=1?(h=(r*c-1)*Math.pow(2,i),u=u+f):(h=r*Math.pow(2,f-1)*Math.pow(2,i),u=0));i>=8;t[n+g]=h&255,g+=_,h/=256,i-=8);for(u=u<<i|h,s+=i;s>0;t[n+g]=u&255,g+=_,u/=256,s-=8);t[n+g-_]|=tr*128}var wr={}.toString,$=Array.isArray||function(t){return wr.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var xr=50;a.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==void 0?global.TYPED_ARRAY_SUPPORT:!0;function Y(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function R(t,r){if(Y()<r)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=a.prototype):(t===null&&(t=new a(r)),t.length=r),t}function a(t,r,n){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(t,r,n);if(typeof t=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return N(this,t)}return G(this,t,r,n)}a.poolSize=8192;a._augment=function(t){return t.__proto__=a.prototype,t};function G(t,r,n,e){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?yr(t,r,n,e):typeof r=="string"?gr(t,r,n):dr(t,r)}a.from=function(t,r,n){return G(null,t,r,n)};a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array);function b(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Er(t,r,n,e){return b(r),r<=0?R(t,r):n!==void 0?typeof e=="string"?R(t,r).fill(n,e):R(t,r).fill(n):R(t,r)}a.alloc=function(t,r,n){return Er(null,t,r,n)};function N(t,r){if(b(r),t=R(t,r<0?0:M(r)|0),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}a.allocUnsafe=function(t){return N(null,t)};a.allocUnsafeSlow=function(t){return N(null,t)};function gr(t,r,n){if((typeof n!="string"||n==="")&&(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var e=z(r,n)|0;t=R(t,e);var i=t.write(r,n);return i!==e&&(t=t.slice(0,i)),t}function k(t,r){var n=r.length<0?0:M(r.length)|0;t=R(t,n);for(var e=0;e<n;e+=1)t[e]=r[e]&255;return t}function yr(t,r,n,e){if(n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");return n===void 0&&e===void 0?r=new Uint8Array(r):e===void 0?r=new Uint8Array(r,n):r=new Uint8Array(r,n,e),a.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=a.prototype):t=k(t,r),t}function dr(t,r){if(F(r)){var n=M(r.length)|0;return t=R(t,n),t.length===0||r.copy(t,0,0,n),t}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||Lr(r.length)?R(t,0):k(t,r);if(r.type==="Buffer"&&$(r.data))return k(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function M(t){if(t>=Y())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y().toString(16)+" bytes");return t|0}a.isBuffer=Or;function F(t){return!!(t!=null&&t._isBuffer)}a.compare=function(r,n){if(!F(r)||!F(n))throw new TypeError("Arguments must be Buffers");if(r===n)return 0;for(var e=r.length,i=n.length,o=0,u=Math.min(e,i);o<u;++o)if(r[o]!==n[o]){e=r[o],i=n[o];break}return e<i?-1:i<e?1:0};a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};a.concat=function(r,n){if(!$(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var e;if(n===void 0)for(n=0,e=0;e<r.length;++e)n+=r[e].length;var i=a.allocUnsafe(n),o=0;for(e=0;e<r.length;++e){var u=r[e];if(!F(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i};function z(t,r){if(F(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var e=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return T(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return rr(t).length;default:if(e)return T(t).length;r=(""+r).toLowerCase(),e=!0}}a.byteLength=z;function Ar(t,r,n){var e=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,r>>>=0,n<=r))return"";for(t||(t="utf8");;)switch(t){case"hex":return vr(this,r,n);case"utf8":case"utf-8":return q(this,r,n);case"ascii":return Sr(this,r,n);case"latin1":case"binary":return Br(this,r,n);case"base64":return Tr(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Cr(this,r,n);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}a.prototype._isBuffer=!0;function m(t,r,n){var e=t[r];t[r]=t[n],t[n]=e}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<r;n+=2)m(this,n,n+1);return this};a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<r;n+=4)m(this,n,n+3),m(this,n+1,n+2);return this};a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<r;n+=8)m(this,n,n+7),m(this,n+1,n+6),m(this,n+2,n+5),m(this,n+3,n+4);return this};a.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?q(this,0,r):Ar.apply(this,arguments)};a.prototype.equals=function(r){if(!F(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0};a.prototype.inspect=function(){var r="",n=xr;return this.length>0&&(r=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(r+=" ... ")),"<Buffer "+r+">"};a.prototype.compare=function(r,n,e,i,o){if(!F(r))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),e===void 0&&(e=r?r.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),n<0||e>r.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=e)return 0;if(i>=o)return-1;if(n>=e)return 1;if(n>>>=0,e>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var u=o-i,h=e-n,c=Math.min(u,h),s=this.slice(i,o),p=r.slice(n,e),f=0;f<c;++f)if(s[f]!==p[f]){u=s[f],h=p[f];break}return u<h?-1:h<u?1:0};function X(t,r,n,e,i){if(t.length===0)return-1;if(typeof n=="string"?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof r=="string"&&(r=a.from(r,e)),F(r))return r.length===0?-1:O(t,r,n,e,i);if(typeof r=="number")return r=r&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):O(t,[r],n,e,i);throw new TypeError("val must be string, number or Buffer")}function O(t,r,n,e,i){var o=1,u=t.length,h=r.length;if(e!==void 0&&(e=String(e).toLowerCase(),e==="ucs2"||e==="ucs-2"||e==="utf16le"||e==="utf-16le")){if(t.length<2||r.length<2)return-1;o=2,u/=2,h/=2,n/=2}function c(g,_){return o===1?g[_]:g.readUInt16BE(_*o)}var s;if(i){var p=-1;for(s=n;s<u;s++)if(c(t,s)===c(r,p===-1?0:s-p)){if(p===-1&&(p=s),s-p+1===h)return p*o}else p!==-1&&(s-=s-p),p=-1}else for(n+h>u&&(n=u-h),s=n;s>=0;s--){for(var f=!0,d=0;d<h;d++)if(c(t,s+d)!==c(r,d)){f=!1;break}if(f)return s}return-1}a.prototype.includes=function(r,n,e){return this.indexOf(r,n,e)!==-1};a.prototype.indexOf=function(r,n,e){return X(this,r,n,e,!0)};a.prototype.lastIndexOf=function(r,n,e){return X(this,r,n,e,!1)};function Fr(t,r,n,e){n=Number(n)||0;var i=t.length-n;e?(e=Number(e),e>i&&(e=i)):e=i;var o=r.length;if(o%2!==0)throw new TypeError("Invalid hex string");e>o/2&&(e=o/2);for(var u=0;u<e;++u){var h=parseInt(r.substr(u*2,2),16);if(isNaN(h))return u;t[n+u]=h}return u}function Rr(t,r,n,e){return C(T(r,t.length-n),t,n,e)}function J(t,r,n,e){return C(Nr(r),t,n,e)}function mr(t,r,n,e){return J(t,r,n,e)}function _r(t,r,n,e){return C(rr(r),t,n,e)}function Ir(t,r,n,e){return C(Mr(r,t.length-n),t,n,e)}a.prototype.write=function(r,n,e,i){if(n===void 0)i="utf8",e=this.length,n=0;else if(e===void 0&&typeof n=="string")i=n,e=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(e)?(e=e|0,i===void 0&&(i="utf8")):(i=e,e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-n;if((e===void 0||e>o)&&(e=o),r.length>0&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var u=!1;;)switch(i){case"hex":return Fr(this,r,n,e);case"utf8":case"utf-8":return Rr(this,r,n,e);case"ascii":return J(this,r,n,e);case"latin1":case"binary":return mr(this,r,n,e);case"base64":return _r(this,r,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ir(this,r,n,e);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tr(t,r,n){return r===0&&n===t.length?L(t):L(t.slice(r,n))}function q(t,r,n){n=Math.min(t.length,n);for(var e=[],i=r;i<n;){var o=t[i],u=null,h=o>239?4:o>223?3:o>191?2:1;if(i+h<=n){var c,s,p,f;switch(h){case 1:o<128&&(u=o);break;case 2:c=t[i+1],(c&192)===128&&(f=(o&31)<<6|c&63,f>127&&(u=f));break;case 3:c=t[i+1],s=t[i+2],(c&192)===128&&(s&192)===128&&(f=(o&15)<<12|(c&63)<<6|s&63,f>2047&&(f<55296||f>57343)&&(u=f));break;case 4:c=t[i+1],s=t[i+2],p=t[i+3],(c&192)===128&&(s&192)===128&&(p&192)===128&&(f=(o&15)<<18|(c&63)<<12|(s&63)<<6|p&63,f>65535&&f<1114112&&(u=f))}}u===null?(u=65533,h=1):u>65535&&(u-=65536,e.push(u>>>10&1023|55296),u=56320|u&1023),e.push(u),i+=h}return Ur(e)}var W=4096;function Ur(t){var r=t.length;if(r<=W)return String.fromCharCode.apply(String,t);for(var n="",e=0;e<r;)n+=String.fromCharCode.apply(String,t.slice(e,e+=W));return n}function Sr(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;i<n;++i)e+=String.fromCharCode(t[i]&127);return e}function Br(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;i<n;++i)e+=String.fromCharCode(t[i]);return e}function vr(t,r,n){var e=t.length;(!r||r<0)&&(r=0),(!n||n<0||n>e)&&(n=e);for(var i="",o=r;o<n;++o)i+=Pr(t[o]);return i}function Cr(t,r,n){for(var e=t.slice(r,n),i="",o=0;o<e.length;o+=2)i+=String.fromCharCode(e[o]+e[o+1]*256);return i}a.prototype.slice=function(r,n){var e=this.length;r=~~r,n=n===void 0?e:~~n,r<0?(r+=e,r<0&&(r=0)):r>e&&(r=e),n<0?(n+=e,n<0&&(n=0)):n>e&&(n=e),n<r&&(n=r);var i;if(a.TYPED_ARRAY_SUPPORT)i=this.subarray(r,n),i.__proto__=a.prototype;else{var o=n-r;i=new a(o,void 0);for(var u=0;u<o;++u)i[u]=this[u+r]}return i};function w(t,r,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+r>n)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(r,n,e){r=r|0,n=n|0,e||w(r,n,this.length);for(var i=this[r],o=1,u=0;++u<n&&(o*=256);)i+=this[r+u]*o;return i};a.prototype.readUIntBE=function(r,n,e){r=r|0,n=n|0,e||w(r,n,this.length);for(var i=this[r+--n],o=1;n>0&&(o*=256);)i+=this[r+--n]*o;return i};a.prototype.readUInt8=function(r,n){return n||w(r,1,this.length),this[r]};a.prototype.readUInt16LE=function(r,n){return n||w(r,2,this.length),this[r]|this[r+1]<<8};a.prototype.readUInt16BE=function(r,n){return n||w(r,2,this.length),this[r]<<8|this[r+1]};a.prototype.readUInt32LE=function(r,n){return n||w(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};a.prototype.readUInt32BE=function(r,n){return n||w(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};a.prototype.readIntLE=function(r,n,e){r=r|0,n=n|0,e||w(r,n,this.length);for(var i=this[r],o=1,u=0;++u<n&&(o*=256);)i+=this[r+u]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*n)),i};a.prototype.readIntBE=function(r,n,e){r=r|0,n=n|0,e||w(r,n,this.length);for(var i=n,o=1,u=this[r+--i];i>0&&(o*=256);)u+=this[r+--i]*o;return o*=128,u>=o&&(u-=Math.pow(2,8*n)),u};a.prototype.readInt8=function(r,n){return n||w(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};a.prototype.readInt16LE=function(r,n){n||w(r,2,this.length);var e=this[r]|this[r+1]<<8;return e&32768?e|4294901760:e};a.prototype.readInt16BE=function(r,n){n||w(r,2,this.length);var e=this[r+1]|this[r]<<8;return e&32768?e|4294901760:e};a.prototype.readInt32LE=function(r,n){return n||w(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};a.prototype.readInt32BE=function(r,n){return n||w(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};a.prototype.readFloatLE=function(r,n){return n||w(r,4,this.length),S(this,r,!0,23,4)};a.prototype.readFloatBE=function(r,n){return n||w(r,4,this.length),S(this,r,!1,23,4)};a.prototype.readDoubleLE=function(r,n){return n||w(r,8,this.length),S(this,r,!0,52,8)};a.prototype.readDoubleBE=function(r,n){return n||w(r,8,this.length),S(this,r,!1,52,8)};function E(t,r,n,e,i,o){if(!F(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(n+e>t.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(r,n,e,i){if(r=+r,n=n|0,e=e|0,!i){var o=Math.pow(2,8*e)-1;E(this,r,n,e,o,0)}var u=1,h=0;for(this[n]=r&255;++h<e&&(u*=256);)this[n+h]=r/u&255;return n+e};a.prototype.writeUIntBE=function(r,n,e,i){if(r=+r,n=n|0,e=e|0,!i){var o=Math.pow(2,8*e)-1;E(this,r,n,e,o,0)}var u=e-1,h=1;for(this[n+u]=r&255;--u>=0&&(h*=256);)this[n+u]=r/h&255;return n+e};a.prototype.writeUInt8=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,1,255,0),a.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[n]=r&255,n+1};function B(t,r,n,e){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(r&255<<8*(e?i:1-i))>>>(e?i:1-i)*8}a.prototype.writeUInt16LE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[n]=r&255,this[n+1]=r>>>8):B(this,r,n,!0),n+2};a.prototype.writeUInt16BE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[n]=r>>>8,this[n+1]=r&255):B(this,r,n,!1),n+2};function v(t,r,n,e){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=r>>>(e?i:3-i)*8&255}a.prototype.writeUInt32LE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[n+3]=r>>>24,this[n+2]=r>>>16,this[n+1]=r>>>8,this[n]=r&255):v(this,r,n,!0),n+4};a.prototype.writeUInt32BE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=r&255):v(this,r,n,!1),n+4};a.prototype.writeIntLE=function(r,n,e,i){if(r=+r,n=n|0,!i){var o=Math.pow(2,8*e-1);E(this,r,n,e,o-1,-o)}var u=0,h=1,c=0;for(this[n]=r&255;++u<e&&(h*=256);)r<0&&c===0&&this[n+u-1]!==0&&(c=1),this[n+u]=(r/h>>0)-c&255;return n+e};a.prototype.writeIntBE=function(r,n,e,i){if(r=+r,n=n|0,!i){var o=Math.pow(2,8*e-1);E(this,r,n,e,o-1,-o)}var u=e-1,h=1,c=0;for(this[n+u]=r&255;--u>=0&&(h*=256);)r<0&&c===0&&this[n+u+1]!==0&&(c=1),this[n+u]=(r/h>>0)-c&255;return n+e};a.prototype.writeInt8=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,1,127,-128),a.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[n]=r&255,n+1};a.prototype.writeInt16LE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[n]=r&255,this[n+1]=r>>>8):B(this,r,n,!0),n+2};a.prototype.writeInt16BE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[n]=r>>>8,this[n+1]=r&255):B(this,r,n,!1),n+2};a.prototype.writeInt32LE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[n]=r&255,this[n+1]=r>>>8,this[n+2]=r>>>16,this[n+3]=r>>>24):v(this,r,n,!0),n+4};a.prototype.writeInt32BE=function(r,n,e){return r=+r,n=n|0,e||E(this,r,n,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),a.TYPED_ARRAY_SUPPORT?(this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=r&255):v(this,r,n,!1),n+4};function Q(t,r,n,e,i,o){if(n+e>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Z(t,r,n,e,i){return i||Q(t,r,n,4),H(t,r,n,e,23,4),n+4}a.prototype.writeFloatLE=function(r,n,e){return Z(this,r,n,!0,e)};a.prototype.writeFloatBE=function(r,n,e){return Z(this,r,n,!1,e)};function j(t,r,n,e,i){return i||Q(t,r,n,8),H(t,r,n,e,52,8),n+8}a.prototype.writeDoubleLE=function(r,n,e){return j(this,r,n,!0,e)};a.prototype.writeDoubleBE=function(r,n,e){return j(this,r,n,!1,e)};a.prototype.copy=function(r,n,e,i){if(e||(e=0),!i&&i!==0&&(i=this.length),n>=r.length&&(n=r.length),n||(n=0),i>0&&i<e&&(i=e),i===e||r.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-n<i-e&&(i=r.length-n+e);var o=i-e,u;if(this===r&&e<n&&n<i)for(u=o-1;u>=0;--u)r[u+n]=this[u+e];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(u=0;u<o;++u)r[u+n]=this[u+e];else Uint8Array.prototype.set.call(r,this.subarray(e,e+o),n);return o};a.prototype.fill=function(r,n,e,i){if(typeof r=="string"){if(typeof n=="string"?(i=n,n=0,e=this.length):typeof e=="string"&&(i=e,e=this.length),r.length===1){var o=r.charCodeAt(0);o<256&&(r=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof r=="number"&&(r=r&255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;n=n>>>0,e=e===void 0?this.length:e>>>0,r||(r=0);var u;if(typeof r=="number")for(u=n;u<e;++u)this[u]=r;else{var h=F(r)?r:T(new a(r,i).toString()),c=h.length;for(u=0;u<e-n;++u)this[u+n]=h[u%c]}return this};var Dr=/[^+\/0-9A-Za-z-_]/g;function Yr(t){if(t=kr(t).replace(Dr,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function kr(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Pr(t){return t<16?"0"+t.toString(16):t.toString(16)}function T(t,r){r=r||1/0;for(var n,e=t.length,i=null,o=[],u=0;u<e;++u){if(n=t.charCodeAt(u),n>55295&&n<57344){if(!i){if(n>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(u+1===e){(r-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(r-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((r-=1)<0)break;o.push(n)}else if(n<2048){if((r-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((r-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((r-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return o}function Nr(t){for(var r=[],n=0;n<t.length;++n)r.push(t.charCodeAt(n)&255);return r}function Mr(t,r){for(var n,e,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=t.charCodeAt(u),e=n>>8,i=n%256,o.push(i),o.push(e);return o}function rr(t){return sr(Yr(t))}function C(t,r,n,e){for(var i=0;i<e&&!(i+n>=r.length||i>=t.length);++i)r[i+n]=t[i];return i}function Lr(t){return t!==t}function Or(t){return t!=null&&(!!t._isBuffer||nr(t)||Wr(t))}function nr(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Wr(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&nr(t.slice(0,0))}function Vr(t,r,n){return fetch(t).then(function(e){return e.arrayBuffer()}).then(function(e){return new File([e],r,{type:n})})}function Kr(t){var r;return(r=t.match(/[^:]\w+\/[\w-+\d.]+(?=;|,)/))===null||r===void 0?void 0:r[0]}function Hr(t){return t.split("/")[1]}const $r=a;var U;(function(t){t.post="post",t.get="get"})(U||(U={}));class Zr{constructor(r){this.getAuthHeader=()=>this.apiKey?{"x-api-key":this.apiKey}:this.token?{Authorization:`Bearer ${this.token}`}:{},this.request=(n,e)=>new Promise((i,o)=>{fetch(n,{method:e.method,mode:"cors",body:JSON.stringify(e.data),headers:this.apiKey?{"x-api-key":this.apiKey,"Content-Type":"application/json"}:{Authorization:`Bearer ${this.token}`}}).then(async u=>{const h=await u.json();h.statusCode===401&&o(h),i(h)}).catch(u=>{o(u)})}),this.requestUpload=async(n,e,i)=>{let o,u;if(!e)return!1;if(e instanceof Uint8Array)o="application/x-protobuf",u=e;else{o=Kr(e)||"image/jpeg";const h=Hr(o);u=await Vr(e,`asset.${h}'`,o)}return fetch(n,{method:U.post,body:u,mode:"cors",headers:Object.assign(Object.assign({},this.getAuthHeader()),{"x-inphinite-asset-type":i.type,"x-inphinite-event-family":i.family,"x-inphinite-asset-content-type":o,"x-inphinite-tenant-id":i.tenantId,"x-inphinite-event-operation-id":i.operationId,"Content-Type":"application/octet-stream"})}).then(h=>h.json()).catch(h=>{throw new Error(h)})},this.requestToken=(n,e)=>new Promise((i,o)=>{const u=new URLSearchParams;u.append("grant_type","client_credentials"),fetch(this.authUrl,{method:U.post,body:u,mode:"cors",headers:{Authorization:"Basic "+$r.from(`${n}:${e}`).toString("base64"),Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"}}).then(async h=>{const c=await h.json();c.statusCode===404&&o(c),this.token=c.access_token,i(c.access_token)}).catch(h=>{o(h)})}),this.authUrl=r.authUrl,this.apiKey=r.apiKey}setToken(r){this.token=r}}const jr="mobile",rn={SELPHI_NOT_LICENSED:"You cannot use the Selphi widget because it has not been licensed, please contact Facephi to be provided with a new license",SELPHID_NOT_LICENSED:"You cannot use the Selphid widget because it has not been licensed, please contact Facephi to be provided with a new license",VOICE_RECORDING_NOT_LICENSE:"You cannot use the Voice recording widget because it has not been licensed, please contact Facephi to be provided with a new license",VIDEO_RECRUITMENT_NOT_LICENSED:"You cannot use the Video Recruitment widget because it has not been licensed, please contact Facephi to be provided with a new license",VIDEO_RECORDING_NOT_LICENSED:"You cannot use the Video Recording widget because it has not been licensed, please contact Facephi to be provided with a new license",VIDEO_ASSISTANCE_NOT_LICENSED:"You cannot use the Video Assistance widget because it has not been licensed, please contact Facephi to be provided with a new license",LICENSE_INVALID:"The license is invalid, please contact Facephi for more information",LICENSE_SERVICE_ERROR:"We have not been able to check the license of your SDK, please review the configuration and check that everything is working correctly according to the manual",LICENSE_EXPIRED:"The license is expired, please contact Facephi to be provided with a new license.",LICENSE_ERROR:"LICENSE ERROR:"},nn={SEND_REQUEST_DATA:"Sending the necessary data to continue the operation"},{state:l,onChange:Gr,reset:tn}=er({workflow:[],currentWidget:null,prevWidget:null,videoRecording:null,outputs:{},currentState:null}),br=()=>{const t=l.workflow.find(r=>r.data&&r.data.widgetId===V.videoRecording);l.videoRecording=t,l.prevWidget=null,l.currentWidget=l.workflow.find(r=>r.type===ir.actionNode)},zr=t=>{l.prevWidget=l.currentWidget,l.currentWidget=l.workflow.find(r=>r.id===t)},Xr=()=>{const t=l.workflow.find(r=>r.source?r.source===l.currentWidget.id:null);t&&zr(t.target)},Jr=()=>{l.currentWidget=l.workflow.find(t=>t.data&&t.data.widgetId===V.finish)},en=()=>{Xr()},on=()=>{Jr()},un=(t,r,n)=>{const e=Object.entries(r).reduce((i,[o,u])=>(n.some(h=>h.key===o)&&(i[o]=u),i),{});l.outputs=Object.assign(Object.assign({},l.outputs),{[t]:e})},an=t=>{const r={};return t.forEach(n=>{const e=n.widget,i=n.key,o=n.customKey;l.outputs[e]&&l.outputs[e][i]&&(r[o]=l.outputs[e][i])}),r};Gr("workflow",t=>{t.length>0&&!l.currentWidget&&br()});export{Zr as A,rn as E,nn as M,U as R,on as a,jr as b,an as g,en as n,Gr as o,tn as r,un as u,Qr as v,l as w};
